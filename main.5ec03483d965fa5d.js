"use strict";(self.webpackChunkToDoApp=self.webpackChunkToDoApp||[]).push([[179],{2011:(ut,Se,k)=>{k.d(Se,{hO:()=>ze,xv:()=>ce,Dh:()=>he,GT:()=>ge,cc:()=>Ae,on:()=>$,pX:()=>X});var f=k(5e3),Y=k(127),O=k(5813);ut=k.hmd(ut);const le=["ngOnDestroy"],X=(be,nt,Qe,Ie={})=>new Proxy(be,{get:(ve,Ee)=>Qe.runOutsideAngular(()=>{var Ge;if(be[Ee])return(null===(Ge=null==Ie?void 0:Ie.spy)||void 0===Ge?void 0:Ge.get)&&Ie.spy.get(Ee,be[Ee]),be[Ee];if(le.indexOf(Ee)>-1)return()=>{};const $e=nt.toPromise().then(te=>{const K=te&&te[Ee];return"function"==typeof K?K.bind(te):K&&K.then?K.then(ie=>Qe.run(()=>ie)):Qe.run(()=>K)});return new Proxy(()=>{},{get:(te,K)=>$e[K],apply:(te,K,ie)=>$e.then(me=>{var se;const Ne=me&&me(...ie);return(null===(se=null==Ie?void 0:Ie.spy)||void 0===se?void 0:se.apply)&&Ie.spy.apply(Ee,ie,Ne),Ne})})})}),ge=(be,nt)=>{nt.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(Ie=>{Object.defineProperty(be.prototype,Ie,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,Ie))})})};class re{constructor(nt){return nt}}const he=new f.OlP("angularfire2.app.options"),ce=new f.OlP("angularfire2.app.name");function $(be,nt,Qe){const ve="object"==typeof Qe&&Qe||{};ve.name=ve.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const Ge=Y.Z.apps.filter($e=>$e&&$e.name===ve.name)[0]||nt.runOutsideAngular(()=>Y.Z.initializeApp(be,ve));try{JSON.stringify(be)!==JSON.stringify(Ge.options)&&H("error",`${Ge.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch($e){}return new re(Ge)}const H=(be,...nt)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[be](...nt)},J={provide:re,useFactory:$,deps:[he,f.R0b,[new f.FiY,ce]]};let ze=(()=>{class be{constructor(Qe){Y.Z.registerVersion("angularfire",O.q4.full,"core"),Y.Z.registerVersion("angularfire",O.q4.full,"app-compat"),Y.Z.registerVersion("angular",f.q4F.full,Qe.toString())}static initializeApp(Qe,Ie){return{ngModule:be,providers:[{provide:he,useValue:Qe},{provide:ce,useValue:Ie}]}}}return be.\u0275fac=function(Qe){return new(Qe||be)(f.LFG(f.Lbi))},be.\u0275mod=f.oAB({type:be}),be.\u0275inj=f.cJS({providers:[J]}),be})();function Ae(be,nt,Qe,Ie,ve){const[,Ee,Ge]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===be)||[];if(Ee)return function Oe(be,nt){try{return be.toString()===nt.toString()}catch(Qe){return be===nt}}(ve,Ge)||(fe("error",`${nt} was already initialized on the ${Qe} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:ve,was:Ge})),Ee;{const $e=Ie();return globalThis.\u0275AngularfireInstanceCache.push([be,$e,ve]),$e}}const Ve=!!ut.hot,fe=(be,...nt)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[be](...nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ut,Se,k)=>{k.d(Se,{q4:()=>Vl,iC:()=>Hl,HU:()=>ku,vb:()=>fd,JM:()=>Xs});var f=k(5e3),Y=k(5867),O=k(5861),le=k(9681),X=k(2090),ge=k(4859),re=k(1877);const he="@firebase/installations",H="w:0.5.7",J="FIS_v2",be=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(C){return C instanceof X.ZR&&C.code.includes("request-failed")}function Qe({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Ie(C){return{token:C.token,requestStatus:2,expiresIn:ie(C.expiresIn),creationTime:Date.now()}}function ve(C,I){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,O.Z)(function*(C,I){const L=(yield I.json()).error;return be.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ge({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function $e(C,{refreshToken:I}){const R=Ge(C);return R.append("Authorization",function me(C){return`${J} ${C}`}(I)),R}function te(C){return K.apply(this,arguments)}function K(){return(K=(0,O.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function ie(C){return Number(C.replace("s","000"))}function se(C,I){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:I},{fid:R}){const L=Qe(C),Z=Ge(C),ee=I.getImmediate({optional:!0});if(ee){const Ct=yield ee.getHeartbeatsHeader();Ct&&Z.append("x-firebase-client",Ct)}const xe={method:"POST",headers:Z,body:JSON.stringify({fid:R,authVersion:J,appId:C.appId,sdkVersion:H})},Xe=yield te(()=>fetch(L,xe));if(Xe.ok){const Ct=yield Xe.json();return{fid:Ct.fid||R,registrationStatus:2,refreshToken:Ct.refreshToken,authToken:Ie(Ct.authToken)}}throw yield ve("Create Installation",Xe)})).apply(this,arguments)}function ae(C){return new Promise(I=>{setTimeout(I,C)})}const Xt=/^[cdef][\w-]{21}$/;function lt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const R=function Et(C){return function It(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Xt.test(R)?R:""}catch(C){return""}}function dn(C){return`${C.appName}!${C.appId}`}const hn=new Map;function Ni(C,I){const R=dn(C);en(R,I),function zt(C,I){const R=function oi(){return!pr&&"BroadcastChannel"in self&&(pr=new BroadcastChannel("[Firebase] FID Change"),pr.onmessage=C=>{en(C.data.key,C.data.fid)}),pr}();R&&R.postMessage({key:C,fid:I}),function xs(){0===hn.size&&pr&&(pr.close(),pr=null)}()}(R,I)}function en(C,I){const R=hn.get(C);if(R)for(const L of R)L(I)}let pr=null;const Vr="firebase-installations-store";let as=null;function us(){return as||(as=(0,X.X3)("firebase-installations-database",1,(C,I)=>{0===I&&C.createObjectStore(Vr)})),as}function dt(C,I){return zr.apply(this,arguments)}function zr(){return(zr=(0,O.Z)(function*(C,I){const R=dn(C),Z=(yield us()).transaction(Vr,"readwrite"),ee=Z.objectStore(Vr),Me=yield ee.get(R);return yield ee.put(I,R),yield Z.complete,(!Me||Me.fid!==I.fid)&&Ni(C,I.fid),I})).apply(this,arguments)}function or(C){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,O.Z)(function*(C){const I=dn(C),L=(yield us()).transaction(Vr,"readwrite");yield L.objectStore(Vr).delete(I),yield L.complete})).apply(this,arguments)}function ai(C,I){return ao.apply(this,arguments)}function ao(){return(ao=(0,O.Z)(function*(C,I){const R=dn(C),Z=(yield us()).transaction(Vr,"readwrite"),ee=Z.objectStore(Vr),Me=yield ee.get(R),xe=I(Me);return void 0===xe?yield ee.delete(R):yield ee.put(xe,R),yield Z.complete,xe&&(!Me||Me.fid!==xe.fid)&&Ni(C,xe.fid),xe})).apply(this,arguments)}function wn(C){return ar.apply(this,arguments)}function ar(){return(ar=(0,O.Z)(function*(C){let I;const R=yield ai(C.appConfig,L=>{const Z=Rs(L),ee=Ta(C,Z);return I=ee.registrationPromise,ee.installationEntry});return""===R.fid?{installationEntry:yield I}:{installationEntry:R,registrationPromise:I}})).apply(this,arguments)}function Rs(C){return Ht(C||{fid:lt(),registrationStatus:0})}function Ta(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(be.create("app-offline"))};const R={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function Wt(C,I){return ot.apply(this,arguments)}(C,R);return{installationEntry:R,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Dt(C)}:{installationEntry:I}}function ot(){return(ot=(0,O.Z)(function*(C,I){try{const R=yield se(C,I);return dt(C.appConfig,R)}catch(R){throw nt(R)&&409===R.customData.serverCode?yield or(C.appConfig):yield dt(C.appConfig,{fid:I.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Dt(C){return gr.apply(this,arguments)}function gr(){return(gr=(0,O.Z)(function*(C){let I=yield Wi(C.appConfig);for(;1===I.registrationStatus;)yield ae(100),I=yield Wi(C.appConfig);if(0===I.registrationStatus){const{installationEntry:R,registrationPromise:L}=yield wn(C);return L||R}return I})).apply(this,arguments)}function Wi(C){return ai(C,I=>{if(!I)throw be.create("installation-not-found");return Ht(I)})}function Ht(C){return function uo(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Cr(C,I){return mr.apply(this,arguments)}function mr(){return(mr=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:I},R){const L=ht(C,R),Z=$e(C,R),ee=I.getImmediate({optional:!0});if(ee){const Ct=yield ee.getHeartbeatsHeader();Ct&&Z.append("x-firebase-client",Ct)}const xe={method:"POST",headers:Z,body:JSON.stringify({installation:{sdkVersion:H,appId:C.appId}})},Xe=yield te(()=>fetch(L,xe));if(Xe.ok)return Ie(yield Xe.json());throw yield ve("Generate Auth Token",Xe)})).apply(this,arguments)}function ht(C,{fid:I}){return`${Qe(C)}/${I}/authTokens:generate`}function Ir(C){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,O.Z)(function*(C,I=!1){let R;const L=yield ai(C.appConfig,ee=>{if(!Vt(ee))throw be.create("not-registered");const Me=ee.authToken;if(!I&&j(Me))return ee;if(1===Me.requestStatus)return R=Je(C,I),ee;{if(!navigator.onLine)throw be.create("app-offline");const xe=q(ee);return R=ft(C,xe),xe}});return R?yield R:L.authToken})).apply(this,arguments)}function Je(C,I){return Te.apply(this,arguments)}function Te(){return(Te=(0,O.Z)(function*(C,I){let R=yield et(C.appConfig);for(;1===R.authToken.requestStatus;)yield ae(100),R=yield et(C.appConfig);const L=R.authToken;return 0===L.requestStatus?Ir(C,I):L})).apply(this,arguments)}function et(C){return ai(C,I=>{if(!Vt(I))throw be.create("not-registered");return function de(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function ft(C,I){return $t.apply(this,arguments)}function $t(){return($t=(0,O.Z)(function*(C,I){try{const R=yield Cr(C,I),L=Object.assign(Object.assign({},I),{authToken:R});return yield dt(C.appConfig,L),R}catch(R){if(!nt(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield dt(C.appConfig,L)}else yield or(C.appConfig);throw R}})).apply(this,arguments)}function Vt(C){return void 0!==C&&2===C.registrationStatus}function j(C){return 2===C.requestStatus&&!function V(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+36e5}(C)}function q(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}function Ue(){return(Ue=(0,O.Z)(function*(C){const I=C,{installationEntry:R,registrationPromise:L}=yield wn(I);return L?L.catch(console.error):Ir(I).catch(console.error),R.fid})).apply(this,arguments)}function Yt(){return(Yt=(0,O.Z)(function*(C,I=!1){const R=C;return yield Tr(R),(yield Ir(R,I)).token})).apply(this,arguments)}function Tr(C){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,O.Z)(function*(C){const{registrationPromise:I}=yield wn(C);I&&(yield I)})).apply(this,arguments)}function er(C){return be.create("missing-app-config-values",{valueName:C})}const Aa="installations",ke=C=>{const I=C.getProvider("app").getImmediate(),R=function ls(C){if(!C||!C.options)throw er("App Configuration");if(!C.name)throw er("App Name");const I=["projectId","apiKey","appId"];for(const R of I)if(!C.options[R])throw er(R);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:R,heartbeatServiceProvider:(0,le._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Pt=C=>{const I=C.getProvider("app").getImmediate(),R=(0,le._getProvider)(I,Aa).getImmediate();return{getId:()=>function Q(C){return Ue.apply(this,arguments)}(R),getToken:Z=>function wt(C){return Yt.apply(this,arguments)}(R,Z)}};(function mn(){(0,le._registerComponent)(new ge.wA(Aa,ke,"PUBLIC")),(0,le._registerComponent)(new ge.wA("installations-internal",Pt,"PRIVATE"))})(),(0,le.registerVersion)(he,"0.5.7"),(0,le.registerVersion)(he,"0.5.7","esm2017");const yr="@firebase/remote-config",Pn=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Mh{constructor(I,R,L,Z){this.client=I,this.storage=R,this.storageCache=L,this.logger=Z}isCachedDataFresh(I,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-R,Z=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Z}.`),Z}fetch(I){var R=this;return(0,O.Z)(function*(){const[L,Z]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(Z&&R.isCachedDataFresh(I.cacheMaxAgeMillis,L))return Z;I.eTag=Z&&Z.eTag;const ee=yield R.client.fetch(I),Me=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&Me.push(R.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(Me),ee})()}}function Wc(C=navigator){return C.languages&&C.languages[0]||C.language}class pu{constructor(I,R,L,Z,ee,Me){this.firebaseInstallations=I,this.sdkVersion=R,this.namespace=L,this.projectId=Z,this.apiKey=ee,this.appId=Me}fetch(I){var R=this;return(0,O.Z)(function*(){const[L,Z]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Xe={sdk_version:R.sdkVersion,app_instance_id:L,app_instance_id_token:Z,app_id:R.appId,language_code:Wc()},Ct={method:"POST",headers:xe,body:JSON.stringify(Xe)},kt=fetch(Me,Ct),At=new Promise((_i,ji)=>{I.signal.addEventListener(()=>{const Io=new Error("The operation was aborted.");Io.name="AbortError",ji(Io)})});let Wn;try{yield Promise.race([kt,At]),Wn=yield kt}catch(_i){let ji="fetch-client-network";throw"AbortError"===_i.name&&(ji="fetch-timeout"),Pn.create(ji,{originalErrorMessage:_i.message})}let Nn=Wn.status;const ra=Wn.headers.get("ETag")||void 0;let Co,jr;if(200===Wn.status){let _i;try{_i=yield Wn.json()}catch(ji){throw Pn.create("fetch-client-parse",{originalErrorMessage:ji.message})}Co=_i.entries,jr=_i.state}if("INSTANCE_STATE_UNSPECIFIED"===jr?Nn=500:"NO_CHANGE"===jr?Nn=304:("NO_TEMPLATE"===jr||"EMPTY_CONFIG"===jr)&&(Co={}),304!==Nn&&200!==Nn)throw Pn.create("fetch-status",{httpStatus:Nn});return{status:Nn,eTag:ra,config:Co}})()}}class Up{constructor(I,R){this.client=I,this.storage=R}fetch(I){var R=this;return(0,O.Z)(function*(){const L=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:R,backoffCount:L}){var Z=this;return(0,O.Z)(function*(){yield function Gn(C,I){return new Promise((R,L)=>{const Z=Math.max(I-Date.now(),0),ee=setTimeout(R,Z);C.addEventListener(()=>{clearTimeout(ee),L(Pn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,R);try{const ee=yield Z.client.fetch(I);return yield Z.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function Kc(C){if(!(C instanceof X.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ee))throw ee;const Me={throttleEndTimeMillis:Date.now()+(0,X.$s)(L),backoffCount:L+1};return yield Z.storage.setThrottleMetadata(Me),Z.attemptFetch(I,Me)}})()}}class xa{constructor(I,R,L,Z,ee){this.app=I,this._client=R,this._storageCache=L,this._storage=Z,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pl(C,I){const R=C.target.error||void 0;return Pn.create(I,{originalErrorMessage:R&&R.message})}const Ls="app_namespace_store";class xh{constructor(I,R,L,Z=function Hp(){return new Promise((C,I)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=L=>{I(pl(L,"storage-open"))},R.onsuccess=L=>{C(L.target.result)},R.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Ls,{keyPath:"compositeKey"})}}catch(R){I(Pn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=I,this.appName=R,this.namespace=L,this.openDbPromise=Z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var R=this;return(0,O.Z)(function*(){const L=yield R.openDbPromise;return new Promise((Z,ee)=>{const xe=L.transaction([Ls],"readonly").objectStore(Ls),Xe=R.createCompositeKey(I);try{const Ct=xe.get(Xe);Ct.onerror=kt=>{ee(pl(kt,"storage-get"))},Ct.onsuccess=kt=>{const At=kt.target.result;Z(At?At.value:void 0)}}catch(Ct){ee(Pn.create("storage-get",{originalErrorMessage:Ct&&Ct.message}))}})})()}set(I,R){var L=this;return(0,O.Z)(function*(){const Z=yield L.openDbPromise;return new Promise((ee,Me)=>{const Xe=Z.transaction([Ls],"readwrite").objectStore(Ls),Ct=L.createCompositeKey(I);try{const kt=Xe.put({compositeKey:Ct,value:R});kt.onerror=At=>{Me(pl(At,"storage-set"))},kt.onsuccess=()=>{ee()}}catch(kt){Me(Pn.create("storage-set",{originalErrorMessage:kt&&kt.message}))}})})()}delete(I){var R=this;return(0,O.Z)(function*(){const L=yield R.openDbPromise;return new Promise((Z,ee)=>{const xe=L.transaction([Ls],"readwrite").objectStore(Ls),Xe=R.createCompositeKey(I);try{const Ct=xe.delete(Xe);Ct.onerror=kt=>{ee(pl(kt,"storage-delete"))},Ct.onsuccess=()=>{Z()}}catch(Ct){ee(Pn.create("storage-delete",{originalErrorMessage:Ct&&Ct.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Yc{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,O.Z)(function*(){const R=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),Z=I.storage.getActiveConfig(),ee=yield R;ee&&(I.lastFetchStatus=ee);const Me=yield L;Me&&(I.lastSuccessfulFetchTimestampMillis=Me);const xe=yield Z;xe&&(I.activeConfig=xe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function co(){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,O.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}!function Ho(){(0,le._registerComponent)(new ge.wA("remote-config",function C(I,{instanceIdentifier:R}){const L=I.getProvider("app").getImmediate(),Z=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Pn.create("registration-window");if(!(0,X.hl)())throw Pn.create("indexed-db-unavailable");const{projectId:ee,apiKey:Me,appId:xe}=L.options;if(!ee)throw Pn.create("registration-project-id");if(!Me)throw Pn.create("registration-api-key");if(!xe)throw Pn.create("registration-app-id");const Xe=new xh(xe,L.name,R=R||"firebase"),Ct=new Yc(Xe),kt=new re.Yd(yr);kt.logLevel=re.in.ERROR;const At=new pu(Z,le.SDK_VERSION,R,ee,Me,xe),Wn=new Up(At,Xe),Nn=new Mh(Wn,Xe,Ct,kt),ra=new xa(L,Nn,Ct,Xe,kt);return function li(C){const I=(0,X.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ra),ra},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(yr,"0.3.6"),(0,le.registerVersion)(yr,"0.3.6","esm2017")}();const gl="/firebase-messaging-sw.js",Vs="/firebase-cloud-messaging-push-scope",Kr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ho="google.c.a.c_id",Ra="google.c.a.c_l",Qc="google.c.a.ts",Gp="google.c.a.e";var Bs=(()=>{return(C=Bs||(Bs={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Bs;var C})();function di(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mu(C){const R=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(R),Z=new Uint8Array(L.length);for(let ee=0;ee<L.length;++ee)Z[ee]=L.charCodeAt(ee);return Z}const yu="fcm_token_details_db",vr="fcm_token_object_Store";function Nh(C){return _u.apply(this,arguments)}function _u(){return _u=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(yu))return null;let I=null;return(yield(0,X.X3)(yu,5,function(){var L=(0,O.Z)(function*(Z,ee,Me,xe){var Xe;if(ee<2||!Z.objectStoreNames.contains(vr))return;const Ct=xe.objectStore(vr),kt=yield Ct.index("fcmSenderId").get(C);if(yield Ct.clear(),kt)if(2===ee){const At=kt;if(!At.auth||!At.p256dh||!At.endpoint)return;I={token:At.fcmToken,createTime:null!==(Xe=At.createTime)&&void 0!==Xe?Xe:Date.now(),subscriptionOptions:{auth:At.auth,p256dh:At.p256dh,endpoint:At.endpoint,swScope:At.swScope,vapidKey:"string"==typeof At.vapidKey?At.vapidKey:di(At.vapidKey)}}}else if(3===ee){const At=kt;I={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:di(At.auth),p256dh:di(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:di(At.vapidKey)}}}else if(4===ee){const At=kt;I={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:di(At.auth),p256dh:di(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:di(At.vapidKey)}}}});return function(Z,ee,Me,xe){return L.apply(this,arguments)}}())).close(),yield(0,X.Lj)(yu),yield(0,X.Lj)("fcm_vapid_details_db"),yield(0,X.Lj)("undefined"),Jc(I)?I:null}),_u.apply(this,arguments)}function Jc(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const fs="firebase-messaging-store";let Na=null;function ml(){return Na||(Na=(0,X.X3)("firebase-messaging-database",1,(C,I)=>{0===I&&C.createObjectStore(fs)})),Na}function vn(C){return qo.apply(this,arguments)}function qo(){return(qo=(0,O.Z)(function*(C){const I=po(C),L=yield(yield ml()).transaction(fs).objectStore(fs).get(I);if(L)return L;{const Z=yield Nh(C.appConfig.senderId);if(Z)return yield Us(C,Z),Z}})).apply(this,arguments)}function Us(C,I){return cn.apply(this,arguments)}function cn(){return(cn=(0,O.Z)(function*(C,I){const R=po(C),Z=(yield ml()).transaction(fs,"readwrite");return yield Z.objectStore(fs).put(I,R),yield Z.complete,I})).apply(this,arguments)}function Xc(C){return fo.apply(this,arguments)}function fo(){return(fo=(0,O.Z)(function*(C){const I=po(C),L=(yield ml()).transaction(fs,"readwrite");yield L.objectStore(fs).delete(I),yield L.complete})).apply(this,arguments)}function po({appConfig:C}){return C.appId}const Fn=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Oa(C,I){return ki.apply(this,arguments)}function ki(){return(ki=(0,O.Z)(function*(C,I){const R=yield $s(C),L=pt(I),Z={method:"POST",headers:R,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(Zr(C.appConfig),Z)).json()}catch(Me){throw Fn.create("token-subscribe-failed",{errorInfo:Me})}if(ee.error)throw Fn.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw Fn.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function Mr(C,I){return js.apply(this,arguments)}function js(){return(js=(0,O.Z)(function*(C,I){const R=yield $s(C),L=pt(I.subscriptionOptions),Z={method:"PATCH",headers:R,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(`${Zr(C.appConfig)}/${I.token}`,Z)).json()}catch(Me){throw Fn.create("token-update-failed",{errorInfo:Me})}if(ee.error)throw Fn.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw Fn.create("token-update-no-token");return ee.token})).apply(this,arguments)}function ps(C,I){return wu.apply(this,arguments)}function wu(){return(wu=(0,O.Z)(function*(C,I){const L={method:"DELETE",headers:yield $s(C)};try{const ee=yield(yield fetch(`${Zr(C.appConfig)}/${I}`,L)).json();if(ee.error)throw Fn.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(Z){throw Fn.create("token-unsubscribe-failed",{errorInfo:Z})}})).apply(this,arguments)}function Zr({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function $s(C){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,O.Z)(function*({appConfig:C,installations:I}){const R=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function pt({p256dh:C,auth:I,endpoint:R,vapidKey:L}){const Z={web:{endpoint:R,auth:I,p256dh:C}};return L!==Kr&&(Z.web.applicationPubKey=L),Z}const bu=6048e5;function ka(C){return Du.apply(this,arguments)}function Du(){return(Du=(0,O.Z)(function*(C){const I=yield vl(C.swRegistration,C.vapidKey),R={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:di(I.getKey("auth")),p256dh:di(I.getKey("p256dh"))},L=yield vn(C.firebaseDependencies);if(L){if(zo(L.subscriptionOptions,R))return Date.now()>=L.createTime+bu?yl(C,{token:L.token,createTime:Date.now(),subscriptionOptions:R}):L.token;try{yield ps(C.firebaseDependencies,L.token)}catch(Z){console.warn(Z)}return De(C.firebaseDependencies,R)}return De(C.firebaseDependencies,R)})).apply(this,arguments)}function Cu(C){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,O.Z)(function*(C){const I=yield vn(C.firebaseDependencies);I&&(yield ps(C.firebaseDependencies,I.token),yield Xc(C.firebaseDependencies));const R=yield C.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function yl(C,I){return _l.apply(this,arguments)}function _l(){return(_l=(0,O.Z)(function*(C,I){try{const R=yield Mr(C.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:R,createTime:Date.now()});return yield Us(C.firebaseDependencies,L),R}catch(R){throw yield Cu(C),R}})).apply(this,arguments)}function De(C,I){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,O.Z)(function*(C,I){const L={token:yield Oa(C,I),createTime:Date.now(),subscriptionOptions:I};return yield Us(C,L),L.token})).apply(this,arguments)}function vl(C,I){return bn.apply(this,arguments)}function bn(){return(bn=(0,O.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mu(I)})})).apply(this,arguments)}function zo(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}function Wo(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Yr(C,I){if(!I.notification)return;C.notification={};const R=I.notification.title;R&&(C.notification.title=R);const L=I.notification.body;L&&(C.notification.body=L);const Z=I.notification.image;Z&&(C.notification.image=Z)}(I,C),function El(C,I){!I.data||(C.data=I.data)}(I,C),function wl(C,I){if(!I.fcmOptions)return;C.fcmOptions={};const R=I.fcmOptions.link;R&&(C.fcmOptions.link=R);const L=I.fcmOptions.analytics_label;L&&(C.fcmOptions.analyticsLabel=L)}(I,C),I}function ed(C){return"object"==typeof C&&!!C&&ho in C}function bl(C,I){const R=[];for(let L=0;L<C.length;L++)R.push(C.charAt(L)),L<I.length&&R.push(I.charAt(L));return R.join("")}function Gs(C){return Fn.create("missing-app-config-values",{valueName:C})}bl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),bl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Er{constructor(I,R,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Z=function Tu(C){if(!C||!C.options)throw Gs("App Configuration Object");if(!C.name)throw Gs("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:R}=C;for(const L of I)if(!R[L])throw Gs(L);return{appName:C.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Z,installations:R,analyticsProvider:L}}_delete(){return Promise.resolve()}}function hi(C){return Su.apply(this,arguments)}function Su(){return(Su=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(gl,{scope:Vs}),C.swRegistration.update().catch(()=>{})}catch(I){throw Fn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function qs(C,I){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,O.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield hi(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Fn.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function Dl(C,I){return Au.apply(this,arguments)}function Au(){return(Au=(0,O.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=Kr)})).apply(this,arguments)}function Cl(){return(Cl=(0,O.Z)(function*(C,I){if(!navigator)throw Fn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Fn.create("permission-blocked");return yield Dl(C,null==I?void 0:I.vapidKey),yield qs(C,null==I?void 0:I.serviceWorkerRegistration),ka(C)})).apply(this,arguments)}function Pa(C,I,R){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,O.Z)(function*(C,I,R){const L=Il(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:R[ho],message_name:R[Ra],message_time:R[Qc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Il(C){switch(C){case Bs.NOTIFICATION_CLICKED:return"notification_open";case Bs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function td(){return(td=(0,O.Z)(function*(C,I){const R=I.data;if(!R.isFirebaseMessaging)return;C.onMessageHandler&&R.messageType===Bs.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Wo(R)):C.onMessageHandler.next(Wo(R)));const L=R.data;ed(L)&&"1"===L[Gp]&&(yield Pa(C,R.messageType,L))})).apply(this,arguments)}const Sl="@firebase/messaging",nd=C=>{const I=new Er(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Tl(C,I){return td.apply(this,arguments)}(I,R)),I},mo=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:L=>function Mu(C,I){return Cl.apply(this,arguments)}(I,L)}};function id(){return yo.apply(this,arguments)}function yo(){return(yo=(0,O.Z)(function*(){try{yield(0,X.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function rd(){(0,le._registerComponent)(new ge.wA("messaging",nd,"PUBLIC")),(0,le._registerComponent)(new ge.wA("messaging-internal",mo,"PRIVATE")),(0,le.registerVersion)(Sl,"0.9.11"),(0,le.registerVersion)(Sl,"0.9.11","esm2017")}();const Ml="analytics",Ay="firebase_id",Fa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xu="https://www.googletagmanager.com/gtag/js",qn=new re.Yd("@firebase/analytics");function sd(C){return Promise.all(C.map(I=>I.catch(R=>R)))}function qp(C,I){const R=document.createElement("script");R.src=`${xu}?l=${C}&id=${I}`,R.async=!0,document.head.appendChild(R)}function Zo(C,I,R,L,Z,ee){return od.apply(this,arguments)}function od(){return(od=(0,O.Z)(function*(C,I,R,L,Z,ee){const Me=L[Z];try{if(Me)yield I[Me];else{const Xe=(yield sd(R)).find(Ct=>Ct.measurementId===Z);Xe&&(yield I[Xe.appId])}}catch(xe){qn.error(xe)}C("config",Z,ee)})).apply(this,arguments)}function Rl(C,I,R,L,Z){return _o.apply(this,arguments)}function _o(){return(_o=(0,O.Z)(function*(C,I,R,L,Z){try{let ee=[];if(Z&&Z.send_to){let Me=Z.send_to;Array.isArray(Me)||(Me=[Me]);const xe=yield sd(R);for(const Xe of Me){const Ct=xe.find(At=>At.measurementId===Xe),kt=Ct&&I[Ct.appId];if(!kt){ee=[];break}ee.push(kt)}}0===ee.length&&(ee=Object.values(I)),yield Promise.all(ee),C("event",L,Z||{})}catch(ee){qn.error(ee)}})).apply(this,arguments)}function zp(){const C=window.document.getElementsByTagName("script");for(const I of Object.values(C))if(I.src&&I.src.includes(xu))return I;return null}const Vn=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Br=new class Qr{constructor(I={},R=1e3){this.throttleMetadata=I,this.intervalMillis=R}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,R){this.throttleMetadata[I]=R}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Yo(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function ud(C){return yn.apply(this,arguments)}function yn(){return(yn=(0,O.Z)(function*(C){var I;const{appId:R,apiKey:L}=C,Z={method:"GET",headers:Yo(L)},ee=Fa.replace("{app-id}",R),Me=yield fetch(ee,Z);if(200!==Me.status&&304!==Me.status){let xe="";try{const Xe=yield Me.json();(null===(I=Xe.error)||void 0===I?void 0:I.message)&&(xe=Xe.error.message)}catch(Xe){}throw Vn.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:xe})}return Me.json()})).apply(this,arguments)}function Ph(C){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,O.Z)(function*(C,I=Br,R){const{appId:L,apiKey:Z,measurementId:ee}=C.options;if(!L)throw Vn.create("no-app-id");if(!Z){if(ee)return{measurementId:ee,appId:L};throw Vn.create("no-api-key")}const Me=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},xe=new Nl;return setTimeout((0,O.Z)(function*(){xe.abort()}),void 0!==R?R:6e4),Ru({appId:L,apiKey:Z,measurementId:ee},Me,xe,I)})).apply(this,arguments)}function Ru(C,I,R){return fi.apply(this,arguments)}function fi(){return(fi=(0,O.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:R},L,Z=Br){const{appId:ee,measurementId:Me}=C;try{yield Ot(L,I)}catch(xe){if(Me)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${xe.message}]`),{appId:ee,measurementId:Me};throw xe}try{const xe=yield ud(C);return Z.deleteThrottleMetadata(ee),xe}catch(xe){if(!ld(xe)){if(Z.deleteThrottleMetadata(ee),Me)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${xe.message}]`),{appId:ee,measurementId:Me};throw xe}const Xe=503===Number(xe.customData.httpStatus)?(0,X.$s)(R,Z.intervalMillis,30):(0,X.$s)(R,Z.intervalMillis),Ct={throttleEndTimeMillis:Date.now()+Xe,backoffCount:R+1};return Z.setThrottleMetadata(ee,Ct),qn.debug(`Calling attemptFetch again in ${Xe} millis`),Ru(C,Ct,L,Z)}})).apply(this,arguments)}function Ot(C,I){return new Promise((R,L)=>{const Z=Math.max(I-Date.now(),0),ee=setTimeout(R,Z);C.addEventListener(()=>{clearTimeout(ee),L(Vn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function ld(C){if(!(C instanceof X.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Nl{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Ol(){return vo.apply(this,arguments)}function vo(){return(vo=(0,O.Z)(function*(){if(!(0,X.hl)())return qn.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(C){return qn.warn(Vn.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function ys(){return(ys=(0,O.Z)(function*(C,I,R,L,Z,ee,Me){var xe;const Xe=Ph(C);Xe.then(Nn=>{R[Nn.measurementId]=Nn.appId,C.options.measurementId&&Nn.measurementId!==C.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Nn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Nn=>qn.error(Nn)),I.push(Xe);const Ct=Ol().then(Nn=>{if(Nn)return L.getId()}),[kt,At]=yield Promise.all([Xe,Ct]);zp()||qp(ee,kt.measurementId),Z("js",new Date);const Wn=null!==(xe=null==Me?void 0:Me.config)&&void 0!==xe?xe:{};return Wn.origin="firebase",Wn.update=!0,null!=At&&(Wn[Ay]=At),Z("config",kt.measurementId,Wn),kt.measurementId})).apply(this,arguments)}class Qo{constructor(I){this.app=I}_delete(){return delete pi[this.app.options.appId],Promise.resolve()}}let pi={},Ks=[];const gi={};let Zs,Yi,Zi="dataLayer",Pl=!1;function Li(C,I,R){!function Eo(){const C=[];if((0,X.ru)()&&C.push("This is a browser extension environment."),(0,X.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((L,Z)=>`(${Z+1}) ${L}`).join(" "),R=Vn.create("invalid-analytics-context",{errorInfo:I});qn.warn(R.message)}}();const L=C.options.appId;if(!L)throw Vn.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Vn.create("no-api-key");qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=pi[L])throw Vn.create("already-exists",{id:L});if(!Pl){!function ms(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(Zi);const{wrappedGtag:ee,gtagCore:Me}=function kh(C,I,R,L,Z){let ee=function(...Me){window[L].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(ee=window[Z]),window[Z]=function ad(C,I,R,L){function ee(){return(ee=(0,O.Z)(function*(Me,xe,Xe){try{"event"===Me?yield Rl(C,I,R,xe,Xe):"config"===Me?yield Zo(C,I,R,L,xe,Xe):C("set",xe)}catch(Ct){qn.error(Ct)}})).apply(this,arguments)}return function Z(Me,xe,Xe){return ee.apply(this,arguments)}}(ee,C,I,R),{gtagCore:ee,wrappedGtag:window[Z]}}(pi,Ks,gi,Zi,"gtag");Yi=ee,Zs=Me,Pl=!0}return pi[L]=function zn(C,I,R,L,Z,ee,Me){return ys.apply(this,arguments)}(C,Ks,gi,I,Zs,Zi,R),new Qo(C)}function Xo(){return(Xo=(0,O.Z)(function*(C,I,R,L,Z){if(Z&&Z.global)C("event",R,L);else{const ee=yield I;C("event",R,Object.assign(Object.assign({},L),{send_to:ee}))}})).apply(this,arguments)}function Tn(){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,O.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}const Qs="@firebase/analytics";!function Yp(){(0,le._registerComponent)(new ge.wA(Ml,(I,{options:R})=>Li(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,le._registerComponent)(new ge.wA("analytics-internal",function C(I){try{const R=I.getProvider(Ml).getImmediate();return{logEvent:(L,Z,ee)=>function Zp(C,I,R,L){C=(0,X.m9)(C),function Jo(C,I,R,L,Z){return Xo.apply(this,arguments)}(Yi,pi[C.app.options.appId],I,R,L).catch(Z=>qn.error(Z))}(R,L,Z,ee)}}catch(R){throw Vn.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,le.registerVersion)(Qs,"0.7.7"),(0,le.registerVersion)(Qs,"0.7.7","esm2017")}();var Js=k(4408),Nu=k(7565);const Fl=new class Sn extends Nu.v{}(class _s extends Js.o{constructor(I,R){super(I,R),this.scheduler=I,this.work=R}schedule(I,R=0){return R>0?super.schedule(I,R):(this.delay=R,this.state=I,this.scheduler.flush(this),this)}execute(I,R){return R>0||this.closed?super.execute(I,R):this._execute(I,R)}requestAsyncId(I,R,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,R,L):I.flush(this)}});var Qp=k(4986),Ll=k(8505),Nr=k(9468),mi=k(5363);const Vl=new f.GfV("7.3.0"),vs="__angularfire_symbol__analyticsIsSupportedValue",Ui="__angularfire_symbol__analyticsIsSupported",Xi="__angularfire_symbol__remoteConfigIsSupportedValue",La="__angularfire_symbol__remoteConfigIsSupported",Bl="__angularfire_symbol__messagingIsSupportedValue",Ul="__angularfire_symbol__messagingIsSupported";function Xs(C,I,R){if(I){if(1===I.length)return I[0];const ee=I.filter(Me=>Me.app===R);if(1===ee.length)return ee[0]}return R.container.getProvider(C).getImmediate({optional:!0})}globalThis[Ui]||(globalThis[Ui]=Tn().then(C=>globalThis[vs]=C).catch(()=>globalThis[vs]=!1)),globalThis[Ul]||(globalThis[Ul]=id().then(C=>globalThis[Bl]=C).catch(()=>globalThis[Bl]=!1)),globalThis[La]||(globalThis[La]=co().then(C=>globalThis[Xi]=C).catch(()=>globalThis[Xi]=!1));const fd=(C,I)=>{const R=I?[I]:(0,Y.C6)(),L=[];return R.forEach(Z=>{Z.container.getProvider(C).instances.forEach(Me=>{L.includes(Me)||L.push(Me)})}),L};function bo(){}class Ou{constructor(I,R=Fl){this.zone=I,this.delegate=R}now(){return this.delegate.now()}schedule(I,R,L){const Z=this.zone;return this.delegate.schedule(function(Me){Z.runGuarded(()=>{I.apply(this,[Me])})},R,L)}}class es{constructor(I){this.zone=I,this.task=null}call(I,R){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bo,{},bo,bo)),R.pipe((0,Ll.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ku=(()=>{class C{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Ou(Zone.current)),this.insideAngular=R.run(()=>new Ou(Zone.current,Qp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(R){return new(R||C)(f.LFG(f.R0b))},C.\u0275prov=f.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function ts(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Hl(C){return ts(),function Do(C){return function(R){return(R=R.lift(new es(C.ngZone))).pipe((0,Nr.R)(C.outsideAngular),(0,mi.Q)(C.insideAngular))}}(ts())(C)}},2090:(ut,Se,k)=>{k.d(Se,{BH:()=>Ae,LL:()=>It,ZR:()=>ae,zI:()=>me,US:()=>re,tV:()=>$,L:()=>ce,$s:()=>uo,r3:()=>en,Sg:()=>Oe,ne:()=>dt,vZ:()=>xs,ZB:()=>J,Lj:()=>$t,pd:()=>as,m9:()=>ht,z$:()=>Ve,jU:()=>nt,ru:()=>Qe,d:()=>ve,xb:()=>pr,w1:()=>Ee,hl:()=>K,uI:()=>fe,UG:()=>be,b$:()=>Ie,G6:()=>te,Mn:()=>Ge,X3:()=>ft,xO:()=>zi,zd:()=>Vr,eu:()=>ie});var f=k(5861);const X=function(j){const V=[];let q=0;for(let de=0;de<j.length;de++){let Q=j.charCodeAt(de);Q<128?V[q++]=Q:Q<2048?(V[q++]=Q>>6|192,V[q++]=63&Q|128):55296==(64512&Q)&&de+1<j.length&&56320==(64512&j.charCodeAt(de+1))?(Q=65536+((1023&Q)<<10)+(1023&j.charCodeAt(++de)),V[q++]=Q>>18|240,V[q++]=Q>>12&63|128,V[q++]=Q>>6&63|128,V[q++]=63&Q|128):(V[q++]=Q>>12|224,V[q++]=Q>>6&63|128,V[q++]=63&Q|128)}return V},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,V){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let Q=0;Q<j.length;Q+=3){const Ue=j[Q],wt=Q+1<j.length,Yt=wt?j[Q+1]:0,Tr=Q+2<j.length,Kt=Tr?j[Q+2]:0;let gn=(15&Yt)<<2|Kt>>6,ur=63&Kt;Tr||(ur=64,wt||(gn=64)),de.push(q[Ue>>2],q[(3&Ue)<<4|Yt>>4],q[gn],q[ur])}return de.join("")},encodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(j):this.encodeByteArray(X(j),V)},decodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(j):function(j){const V=[];let q=0,de=0;for(;q<j.length;){const Q=j[q++];if(Q<128)V[de++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const Ue=j[q++];V[de++]=String.fromCharCode((31&Q)<<6|63&Ue)}else if(Q>239&&Q<365){const Tr=((7&Q)<<18|(63&j[q++])<<12|(63&j[q++])<<6|63&j[q++])-65536;V[de++]=String.fromCharCode(55296+(Tr>>10)),V[de++]=String.fromCharCode(56320+(1023&Tr))}else{const Ue=j[q++],wt=j[q++];V[de++]=String.fromCharCode((15&Q)<<12|(63&Ue)<<6|63&wt)}}return V.join("")}(this.decodeStringToByteArray(j,V))},decodeStringToByteArray(j,V){this.init_();const q=V?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let Q=0;Q<j.length;){const Ue=q[j.charAt(Q++)],Yt=Q<j.length?q[j.charAt(Q)]:0;++Q;const Kt=Q<j.length?q[j.charAt(Q)]:64;++Q;const Nt=Q<j.length?q[j.charAt(Q)]:64;if(++Q,null==Ue||null==Yt||null==Kt||null==Nt)throw Error();de.push(Ue<<2|Yt>>4),64!==Kt&&(de.push(Yt<<4&240|Kt>>2),64!==Nt&&de.push(Kt<<6&192|Nt))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},ce=function(j){return function(j){const V=X(j);return re.encodeByteArray(V,!0)}(j).replace(/\./g,"")},$=function(j){try{return re.decodeString(j,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function J(j,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return V}for(const q in V)!V.hasOwnProperty(q)||!ze(q)||(j[q]=J(j[q],V[q]));return j}function ze(j){return"__proto__"!==j}class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,q)=>{this.resolve=V,this.reject=q})}wrapCallback(V){return(q,de)=>{q?this.reject(q):this.resolve(de),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(q):V(q,de))}}}function Oe(j,V){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=V||"demo-project",Q=j.iat||0,Ue=j.sub||j.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const wt=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:Q,exp:Q+3600,auth_time:Q,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(wt)),""].join(".")}function Ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function nt(){return"object"==typeof self&&self.self===self}function Qe(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){return Ve().indexOf("Electron/")>=0}function Ee(){const j=Ve();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Ge(){return Ve().indexOf("MSAppHost/")>=0}function te(){return!be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K(){return"object"==typeof indexedDB}function ie(){return new Promise((j,V)=>{try{let q=!0;const de="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(de);Q.onsuccess=()=>{Q.result.close(),q||self.indexedDB.deleteDatabase(de),j(!0)},Q.onupgradeneeded=()=>{q=!1},Q.onerror=()=>{var Ue;V((null===(Ue=Q.error)||void 0===Ue?void 0:Ue.message)||"")}}catch(q){V(q)}})}function me(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ae extends Error{constructor(V,q,de){super(q),this.code=V,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(V,q,de){this.service=V,this.serviceName=q,this.errors=de}create(V,...q){const de=q[0]||{},Q=`${this.service}/${V}`,Ue=this.errors[V],wt=Ue?function Xt(j,V){return j.replace(kn,(q,de)=>{const Q=V[de];return null!=Q?String(Q):`<${de}?>`})}(Ue,de):"Error";return new ae(Q,`${this.serviceName}: ${wt} (${Q}).`,de)}}const kn=/\{\$([^}]+)}/g;function en(j,V){return Object.prototype.hasOwnProperty.call(j,V)}function pr(j){for(const V in j)if(Object.prototype.hasOwnProperty.call(j,V))return!1;return!0}function xs(j,V){if(j===V)return!0;const q=Object.keys(j),de=Object.keys(V);for(const Q of q){if(!de.includes(Q))return!1;const Ue=j[Q],wt=V[Q];if(Lr(Ue)&&Lr(wt)){if(!xs(Ue,wt))return!1}else if(Ue!==wt)return!1}for(const Q of de)if(!q.includes(Q))return!1;return!0}function Lr(j){return null!==j&&"object"==typeof j}function zi(j){const V=[];for(const[q,de]of Object.entries(j))Array.isArray(de)?de.forEach(Q=>{V.push(encodeURIComponent(q)+"="+encodeURIComponent(Q))}):V.push(encodeURIComponent(q)+"="+encodeURIComponent(de));return V.length?"&"+V.join("&"):""}function Vr(j){const V={};return j.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[Q,Ue]=de.split("=");V[decodeURIComponent(Q)]=decodeURIComponent(Ue)}}),V}function as(j){const V=j.indexOf("?");if(!V)return"";const q=j.indexOf("#",V);return j.substring(V,q>0?q:void 0)}function dt(j,V){const q=new zr(j,V);return q.subscribe.bind(q)}class zr{constructor(V,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{V(this)}).catch(de=>{this.error(de)})}next(V){this.forEachObserver(q=>{q.next(V)})}error(V){this.forEachObserver(q=>{q.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,q,de){let Q;if(void 0===V&&void 0===q&&void 0===de)throw new Error("Missing Observer.");Q=function Xn(j,V){if("object"!=typeof j||null===j)return!1;for(const q of V)if(q in j&&"function"==typeof j[q])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:q,complete:de},void 0===Q.next&&(Q.next=ai),void 0===Q.error&&(Q.error=ai),void 0===Q.complete&&(Q.complete=ai);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(wt){}}),this.observers.push(Q),Ue}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,V)}sendOne(V,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{q(this.observers[V])}catch(de){"undefined"!=typeof console&&console.error&&console.error(de)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ai(){}function uo(j,V=1e3,q=2){const de=V*Math.pow(q,j),Q=Math.round(.5*de*(Math.random()-.5)*2);return Math.min(144e5,de+Q)}function ht(j){return j&&j._delegate?j._delegate:j}function Ir(j,V){return new Promise((q,de)=>{j.onsuccess=Q=>{q(Q.target.result)},j.onerror=Q=>{var Ue;de(`${V}: ${null===(Ue=Q.target.error)||void 0===Ue?void 0:Ue.message}`)}})}class Ut{constructor(V){this._db=V,this.objectStoreNames=this._db.objectStoreNames}transaction(V,q){return new Je(this._db.transaction.call(this._db,V,q))}createObjectStore(V,q){return new Te(this._db.createObjectStore(V,q))}close(){this._db.close()}}class Je{constructor(V){this._transaction=V,this.complete=new Promise((q,de)=>{this._transaction.oncomplete=function(){q()},this._transaction.onerror=()=>{de(this._transaction.error)},this._transaction.onabort=()=>{de(this._transaction.error)}})}objectStore(V){return new Te(this._transaction.objectStore(V))}}class Te{constructor(V){this._store=V}index(V){return new et(this._store.index(V))}createIndex(V,q,de){return new et(this._store.createIndex(V,q,de))}get(V){return Ir(this._store.get(V),"Error reading from IndexedDB")}put(V,q){return Ir(this._store.put(V,q),"Error writing to IndexedDB")}delete(V){return Ir(this._store.delete(V),"Error deleting from IndexedDB")}clear(){return Ir(this._store.clear(),"Error clearing IndexedDB object store")}}class et{constructor(V){this._index=V}get(V){return Ir(this._index.get(V),"Error reading from IndexedDB")}}function ft(j,V,q){return new Promise((de,Q)=>{try{const Ue=indexedDB.open(j,V);Ue.onsuccess=wt=>{de(new Ut(wt.target.result))},Ue.onerror=wt=>{var Yt;Q(`Error opening indexedDB: ${null===(Yt=wt.target.error)||void 0===Yt?void 0:Yt.message}`)},Ue.onupgradeneeded=wt=>{q(new Ut(Ue.result),wt.oldVersion,wt.newVersion,new Je(Ue.transaction))}}catch(Ue){Q(`Error opening indexedDB: ${Ue.message}`)}})}function $t(j){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,f.Z)(function*(j){return new Promise((V,q)=>{try{const de=indexedDB.deleteDatabase(j);de.onsuccess=()=>{V()},de.onerror=Q=>{var Ue;q(`Error deleting indexedDB database "${j}": ${null===(Ue=Q.target.error)||void 0===Ue?void 0:Ue.message}`)}}catch(de){q(`Error deleting indexedDB database "${j}": ${de.message}`)}})})).apply(this,arguments)}},9957:(ut,Se,k)=>{var f=k(5e3);let Y=null;function O(){return Y}const re=new f.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function ce(){return(0,f.LFG)(H)}()},providedIn:"platform"}),n})();const $=new f.OlP("Location Initialized");let H=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){J()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){J()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function ze(){return new H((0,f.LFG)(re))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Oe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function be(n){const e=(0,f.LFG)(re).location;return new Qe((0,f.LFG)(he),e&&e.origin||"")}()},providedIn:"root"}),n})();const nt=new f.OlP("appBaseHref");let Qe=(()=>{class n extends fe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ve(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+Ve(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+Ve(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(he),f.LFG(nt,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends fe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ae(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+Ve(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+Ve(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(he),f.LFG(nt,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n{constructor(t,r){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Oe($e(i)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ve(r))}normalize(t){return n.stripTrailingSlash(function Ge(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,$e(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=Ae,n.stripTrailingSlash=Oe,n.\u0275fac=function(t){return new(t||n)(f.LFG(fe),f.LFG(he))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Ee(){return new ve((0,f.LFG)(fe),(0,f.LFG)(he))}()},providedIn:"root"}),n})();function $e(n){return n.replace(/\/index.html$/,"")}var me=(()=>((me=me||{})[me.Format=0]="Format",me[me.Standalone=1]="Standalone",me))(),se=(()=>((se=se||{})[se.Narrow=0]="Narrow",se[se.Abbreviated=1]="Abbreviated",se[se.Wide=2]="Wide",se[se.Short=3]="Short",se))(),Ne=(()=>((Ne=Ne||{})[Ne.Short=0]="Short",Ne[Ne.Medium=1]="Medium",Ne[Ne.Long=2]="Long",Ne[Ne.Full=3]="Full",Ne))(),ae=(()=>((ae=ae||{})[ae.Decimal=0]="Decimal",ae[ae.Group=1]="Group",ae[ae.List=2]="List",ae[ae.PercentSign=3]="PercentSign",ae[ae.PlusSign=4]="PlusSign",ae[ae.MinusSign=5]="MinusSign",ae[ae.Exponential=6]="Exponential",ae[ae.SuperscriptingExponent=7]="SuperscriptingExponent",ae[ae.PerMille=8]="PerMille",ae[ae.Infinity=9]="Infinity",ae[ae.NaN=10]="NaN",ae[ae.TimeSeparator=11]="TimeSeparator",ae[ae.CurrencyDecimal=12]="CurrencyDecimal",ae[ae.CurrencyGroup=13]="CurrencyGroup",ae))();function an(n,e){return or((0,f.cg1)(n)[f.wAp.DateFormat],e)}function os(n,e){return or((0,f.cg1)(n)[f.wAp.TimeFormat],e)}function en(n,e){return or((0,f.cg1)(n)[f.wAp.DateTimeFormat],e)}function zt(n,e){const t=(0,f.cg1)(n),r=t[f.wAp.NumberSymbols][e];if(void 0===r){if(e===ae.CurrencyDecimal)return t[f.wAp.NumberSymbols][ae.Decimal];if(e===ae.CurrencyGroup)return t[f.wAp.NumberSymbols][ae.Group]}return r}function as(n){if(!n[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function or(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Xn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const ar=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Rs={},Ta=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Wt=(()=>((Wt=Wt||{})[Wt.Short=0]="Short",Wt[Wt.ShortGMT=1]="ShortGMT",Wt[Wt.Long=2]="Long",Wt[Wt.Extended=3]="Extended",Wt))(),ot=(()=>((ot=ot||{})[ot.FullYear=0]="FullYear",ot[ot.Month=1]="Month",ot[ot.Date=2]="Date",ot[ot.Hours=3]="Hours",ot[ot.Minutes=4]="Minutes",ot[ot.Seconds=5]="Seconds",ot[ot.FractionalSeconds=6]="FractionalSeconds",ot[ot.Day=7]="Day",ot))(),Dt=(()=>((Dt=Dt||{})[Dt.DayPeriods=0]="DayPeriods",Dt[Dt.Days=1]="Days",Dt[Dt.Months=2]="Months",Dt[Dt.Eras=3]="Eras",Dt))();function gr(n,e,t,r){let i=function Yt(n){if(Kt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,u=1,c=1]=n.split("-").map(p=>+p);return Wi(i,u-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(ar))return function Tr(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,p=Number(n[5]||0)-r,y=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,c,p,y,b),e}(r)}const e=new Date(n);if(!Kt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Ht(t,e)||e;let p,c=[];for(;e;){if(p=Ta.exec(e),!p){c.push(e);break}{c=c.concat(p.slice(1));const A=c.pop();if(!A)break;e=A}}let y=i.getTimezoneOffset();r&&(y=Q(r,y),i=function wt(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Ue(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Q(e,i)-i))}(i,r,!0));let b="";return c.forEach(A=>{const M=function de(n){if(q[n])return q[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ut(Dt.Eras,se.Abbreviated);break;case"GGGG":e=Ut(Dt.Eras,se.Wide);break;case"GGGGG":e=Ut(Dt.Eras,se.Narrow);break;case"y":e=ht(ot.FullYear,1,0,!1,!0);break;case"yy":e=ht(ot.FullYear,2,0,!0,!0);break;case"yyy":e=ht(ot.FullYear,3,0,!1,!0);break;case"yyyy":e=ht(ot.FullYear,4,0,!1,!0);break;case"Y":e=V(1);break;case"YY":e=V(2,!0);break;case"YYY":e=V(3);break;case"YYYY":e=V(4);break;case"M":case"L":e=ht(ot.Month,1,1);break;case"MM":case"LL":e=ht(ot.Month,2,1);break;case"MMM":e=Ut(Dt.Months,se.Abbreviated);break;case"MMMM":e=Ut(Dt.Months,se.Wide);break;case"MMMMM":e=Ut(Dt.Months,se.Narrow);break;case"LLL":e=Ut(Dt.Months,se.Abbreviated,me.Standalone);break;case"LLLL":e=Ut(Dt.Months,se.Wide,me.Standalone);break;case"LLLLL":e=Ut(Dt.Months,se.Narrow,me.Standalone);break;case"w":e=j(1);break;case"ww":e=j(2);break;case"W":e=j(1,!0);break;case"d":e=ht(ot.Date,1);break;case"dd":e=ht(ot.Date,2);break;case"c":case"cc":e=ht(ot.Day,1);break;case"ccc":e=Ut(Dt.Days,se.Abbreviated,me.Standalone);break;case"cccc":e=Ut(Dt.Days,se.Wide,me.Standalone);break;case"ccccc":e=Ut(Dt.Days,se.Narrow,me.Standalone);break;case"cccccc":e=Ut(Dt.Days,se.Short,me.Standalone);break;case"E":case"EE":case"EEE":e=Ut(Dt.Days,se.Abbreviated);break;case"EEEE":e=Ut(Dt.Days,se.Wide);break;case"EEEEE":e=Ut(Dt.Days,se.Narrow);break;case"EEEEEE":e=Ut(Dt.Days,se.Short);break;case"a":case"aa":case"aaa":e=Ut(Dt.DayPeriods,se.Abbreviated);break;case"aaaa":e=Ut(Dt.DayPeriods,se.Wide);break;case"aaaaa":e=Ut(Dt.DayPeriods,se.Narrow);break;case"b":case"bb":case"bbb":e=Ut(Dt.DayPeriods,se.Abbreviated,me.Standalone,!0);break;case"bbbb":e=Ut(Dt.DayPeriods,se.Wide,me.Standalone,!0);break;case"bbbbb":e=Ut(Dt.DayPeriods,se.Narrow,me.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ut(Dt.DayPeriods,se.Abbreviated,me.Format,!0);break;case"BBBB":e=Ut(Dt.DayPeriods,se.Wide,me.Format,!0);break;case"BBBBB":e=Ut(Dt.DayPeriods,se.Narrow,me.Format,!0);break;case"h":e=ht(ot.Hours,1,-12);break;case"hh":e=ht(ot.Hours,2,-12);break;case"H":e=ht(ot.Hours,1);break;case"HH":e=ht(ot.Hours,2);break;case"m":e=ht(ot.Minutes,1);break;case"mm":e=ht(ot.Minutes,2);break;case"s":e=ht(ot.Seconds,1);break;case"ss":e=ht(ot.Seconds,2);break;case"S":e=ht(ot.FractionalSeconds,1);break;case"SS":e=ht(ot.FractionalSeconds,2);break;case"SSS":e=ht(ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Te(Wt.Short);break;case"ZZZZZ":e=Te(Wt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Te(Wt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Te(Wt.Long);break;default:return null}return q[n]=e,e}(A);b+=M?M(i,t,y):"''"===A?"'":A.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function Wi(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ht(n,e){const t=function Xt(n){return(0,f.cg1)(n)[f.wAp.LocaleId]}(n);if(Rs[t]=Rs[t]||{},Rs[t][e])return Rs[t][e];let r="";switch(e){case"shortDate":r=an(n,Ne.Short);break;case"mediumDate":r=an(n,Ne.Medium);break;case"longDate":r=an(n,Ne.Long);break;case"fullDate":r=an(n,Ne.Full);break;case"shortTime":r=os(n,Ne.Short);break;case"mediumTime":r=os(n,Ne.Medium);break;case"longTime":r=os(n,Ne.Long);break;case"fullTime":r=os(n,Ne.Full);break;case"short":const i=Ht(n,"shortTime"),u=Ht(n,"shortDate");r=uo(en(n,Ne.Short),[i,u]);break;case"medium":const c=Ht(n,"mediumTime"),p=Ht(n,"mediumDate");r=uo(en(n,Ne.Medium),[c,p]);break;case"long":const y=Ht(n,"longTime"),b=Ht(n,"longDate");r=uo(en(n,Ne.Long),[y,b]);break;case"full":const A=Ht(n,"fullTime"),M=Ht(n,"fullDate");r=uo(en(n,Ne.Full),[A,M])}return r&&(Rs[t][e]=r),r}function uo(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Cr(n,e,t="-",r,i){let u="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,u=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.substr(c.length-e)),u+c}function ht(n,e,t=0,r=!1,i=!1){return function(u,c){let p=function Ir(n,e){switch(n){case ot.FullYear:return e.getFullYear();case ot.Month:return e.getMonth();case ot.Date:return e.getDate();case ot.Hours:return e.getHours();case ot.Minutes:return e.getMinutes();case ot.Seconds:return e.getSeconds();case ot.FractionalSeconds:return e.getMilliseconds();case ot.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||p>-t)&&(p+=t),n===ot.Hours)0===p&&-12===t&&(p=12);else if(n===ot.FractionalSeconds)return function mr(n,e){return Cr(n,3).substr(0,e)}(p,e);const y=zt(c,ae.MinusSign);return Cr(p,e,y,r,i)}}function Ut(n,e,t=me.Format,r=!1){return function(i,u){return function Je(n,e,t,r,i,u){switch(t){case Dt.Months:return function Et(n,e,t){const r=(0,f.cg1)(n),u=or([r[f.wAp.MonthsFormat],r[f.wAp.MonthsStandalone]],e);return or(u,t)}(e,i,r)[n.getMonth()];case Dt.Days:return function lt(n,e,t){const r=(0,f.cg1)(n),u=or([r[f.wAp.DaysFormat],r[f.wAp.DaysStandalone]],e);return or(u,t)}(e,i,r)[n.getDay()];case Dt.DayPeriods:const c=n.getHours(),p=n.getMinutes();if(u){const b=function us(n){const e=(0,f.cg1)(n);return as(e),(e[f.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Xn(r):[Xn(r[0]),Xn(r[1])])}(e),A=function dt(n,e,t){const r=(0,f.cg1)(n);as(r);const u=or([r[f.wAp.ExtraData][0],r[f.wAp.ExtraData][1]],e)||[];return or(u,t)||[]}(e,i,r),M=b.findIndex(F=>{if(Array.isArray(F)){const[B,G]=F,ne=c>=B.hours&&p>=B.minutes,we=c<G.hours||c===G.hours&&p<G.minutes;if(B.hours<G.hours){if(ne&&we)return!0}else if(ne||we)return!0}else if(F.hours===c&&F.minutes===p)return!0;return!1});if(-1!==M)return A[M]}return function kn(n,e,t){const r=(0,f.cg1)(n),u=or([r[f.wAp.DayPeriodsFormat],r[f.wAp.DayPeriodsStandalone]],e);return or(u,t)}(e,i,r)[c<12?0:1];case Dt.Eras:return function dn(n,e){return or((0,f.cg1)(n)[f.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,u,n,e,t,r)}}function Te(n){return function(e,t,r){const i=-1*r,u=zt(t,ae.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Wt.Short:return(i>=0?"+":"")+Cr(c,2,u)+Cr(Math.abs(i%60),2,u);case Wt.ShortGMT:return"GMT"+(i>=0?"+":"")+Cr(c,1,u);case Wt.Long:return"GMT"+(i>=0?"+":"")+Cr(c,2,u)+":"+Cr(Math.abs(i%60),2,u);case Wt.Extended:return 0===r?"Z":(i>=0?"+":"")+Cr(c,2,u)+":"+Cr(Math.abs(i%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function Vt(n){return Wi(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function j(n,e=!1){return function(t,r){let i;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+u)/7)}else{const u=Vt(t),c=function $t(n){const e=Wi(n,0,1).getDay();return Wi(n,0,1+(e<=4?4:11)-e)}(u.getFullYear()),p=u.getTime()-c.getTime();i=1+Math.round(p/6048e5)}return Cr(i,n,zt(r,ae.MinusSign))}}function V(n,e=!1){return function(t,r){return Cr(Vt(t).getFullYear(),n,zt(r,ae.MinusSign),e)}}const q={};function Q(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Kt(n){return n instanceof Date&&!isNaN(n.valueOf())}let ks=(()=>{class n{constructor(t,r,i,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ps{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lr=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ps(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const p=r.get(u);r.move(p,c),cs(p,i)}});for(let i=0,u=r.length;i<u;i++){const p=r.get(i).context;p.index=i,p.count=u,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{cs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function cs(n,e){n.context.$implicit=e.item}let li=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ln,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){du("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){du("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ln{constructor(){this.$implicit=null,this.ngIf=null}}function du(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}function Gn(n,e){return new f.vHH(2100,"")}class Kc{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Up{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const hs=new Up,jp=new Kc;let xa=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,f.QGY)(t))return hs;if((0,f.F4k)(t))return jp;throw Gn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.sBO,16))},n.\u0275pipe=f.Yjl({name:"async",type:n,pure:!1}),n})();const Hp=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let xh=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,u){var c;if(null==t||""===t||t!=t)return null;try{return gr(t,r,u||this.locale,null!==(c=null!=i?i:this.defaultTimezone)&&void 0!==c?c:void 0)}catch(p){throw Gn()}}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.soG,16),f.Y36(Hp,24))},n.\u0275pipe=f.Yjl({name:"date",type:n,pure:!0}),n})(),_r=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const Bs="browser";function Sr(n){return n===Bs}function vr(n){return"server"===n}let vu=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new Eu((0,f.LFG)(re),window)}),n})();class Eu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Na(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fs(this.window.history)||fs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function fs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Us extends class qo extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(n){Y||(Y=n)}(new Us)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Xc(){return cn=cn||document.querySelector("base"),cn?cn.getAttribute("href"):null}();return null==t?null:function po(n){fo=fo||document.createElement("a"),fo.setAttribute("href",n);const e=fo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){cn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function $o(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let fo,cn=null;const Ar=new f.OlP("TRANSITION_ID"),Oa=[{provide:f.ip1,useFactory:function Fn(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[Ar,re,f.zs3],multi:!0}];class ki{static init(){(0,f.VLi)(new ki)}addToWindow(e){f.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const i=f.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const p=function(y){c=c||y,u--,0==u&&r(c)};i.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Mr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const js=new f.OlP("EventManagerPlugins");let ps=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(js),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class wu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Zr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),$s=(()=>{class n extends Zr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const c=this._doc.createElement("style");c.textContent=u,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Hs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Hs))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Hs(n){O().remove(n)}const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bu=/%COMP%/g;function De(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?De(n,i,t):(i=i.replace(bu,n),t.push(i))}return t}function Bt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let bn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new zo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case f.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new El(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case f.ifc.ShadowDom:return new wl(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=De(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ps),f.LFG($s),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class zo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(pt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=pt[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=pt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,i&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Bt(r)):this.eventManager.addEventListener(e,t,Bt(r))}}class El extends zo{constructor(e,t,r,i){super(e),this.component=r;const u=De(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function yl(n){return"_ngcontent-%COMP%".replace(bu,n)}(i+"-"+r.id),this.hostAttr=function _l(n){return"_nghost-%COMP%".replace(bu,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class wl extends zo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=De(i.id,i.styles,[]);for(let c=0;c<u.length;c++){const p=document.createElement("style");p.textContent=u[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ed=(()=>{class n extends wu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const bl=["alt","control","meta","shift"],Gs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Er={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Su=(()=>{class n extends wu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="";if(bl.forEach(y=>{const b=r.indexOf(y);b>-1&&(r.splice(b,1),c+=y+".")}),c+=u,0!=r.length||0===u.length)return null;const p={};return p.domEventName=i,p.fullKey=c,p}static getEventFullKey(t){let r="",i=function qs(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Er.hasOwnProperty(e)&&(e=Er[e]))}return Gs[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),bl.forEach(u=>{u!=i&&hi[u](t)&&(r+=u+".")}),r+=i,r}static eventCallback(t,r,i){return u=>{n.getEventFullKey(u)===t&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Cl=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:Bs},{provide:f.g9A,useValue:function Pi(){Us.makeCurrent(),ki.init()},multi:!0},{provide:re,useFactory:function Au(){return(0,f.RDi)(document),document},deps:[]}]),Pa=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Dl(){return new f.qLn},deps:[]},{provide:js,useClass:ed,multi:!0,deps:[re,f.R0b,f.Lbi]},{provide:js,useClass:Su,multi:!0,deps:[re]},{provide:bn,useClass:bn,deps:[ps,$s,f.AFp]},{provide:f.FYo,useExisting:bn},{provide:Zr,useExisting:$s},{provide:$s,useClass:$s,deps:[re]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:ps,useClass:ps,deps:[js,f.R0b]},{provide:class vn{},useClass:Mr,deps:[]}];let Ko=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:Ar,useExisting:f.AFp},Oa]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(n,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:Pa,imports:[_r,f.hGG]}),n})();"undefined"!=typeof window&&window;var Ln=k(8996),Vn=k(7669);function yt(...n){const e=(0,Vn.yG)(n);return(0,Ln.D)(n,e)}var cr=k(7579);class Qr extends cr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Br=k(8306);const{isArray:Yo}=Array,{getPrototypeOf:ud,prototype:yn,keys:Ph}=Object;function Fi(n){if(1===n.length){const e=n[0];if(Yo(e))return{args:e,keys:null};if(function Ru(n){return n&&"object"==typeof n&&ud(n)===yn}(e)){const t=Ph(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var fi=k(4671),Ot=k(4004);const{isArray:ld}=Array;function Ol(n){return(0,Ot.U)(e=>function Nl(n,e){return ld(e)?n(...e):n(e)}(n,e))}function vo(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var zn=k(5403),ys=k(9672);function Ks(n,e,t){n?(0,ys.f)(t,n,e):e()}var gi=k(576);function Zi(n,e){const t=(0,gi.m)(n)?n:()=>n,r=i=>i.error(t());return new Br.y(e?i=>e.schedule(r,0,i):r)}const Zs=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Yi=k(8189);function cd(...n){return function Pl(){return(0,Yi.J)(1)}()((0,Ln.D)(n,(0,Vn.yG)(n)))}var Eo=k(8421);function Li(n){return new Br.y(e=>{(0,Eo.Xf)(n()).subscribe(e)})}var Jo=k(515),Xo=k(727),Ur=k(4482);function Vi(){return(0,Ur.e)((n,e)=>{let t=null;n._refCount++;const r=(0,zn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class dd extends Br.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ur.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Xo.w0;const t=this.getSubject();e.add(this.source.subscribe((0,zn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Xo.w0.EMPTY)}return e}refCount(){return Vi()(this)}}function Bn(n,e){return(0,Ur.e)((t,r)=>{let i=null,u=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe((0,zn.x)(r,y=>{null==i||i.unsubscribe();let b=0;const A=u++;(0,Eo.Xf)(n(y,A)).subscribe(i=(0,zn.x)(r,M=>r.next(e?e(y,M,A,b++):M),()=>{i=null,p()}))},()=>{c=!0,p()}))})}var wo=k(5698);function Bi(...n){const e=(0,Vn.yG)(n);return(0,Ur.e)((t,r)=>{(e?cd(n,t,e):cd(n,t)).subscribe(r)})}function ea(n,e,t,r,i){return(u,c)=>{let p=t,y=e,b=0;u.subscribe((0,zn.x)(c,A=>{const M=b++;y=p?n(y,A,M):(p=!0,A),r&&c.next(y)},i&&(()=>{p&&c.next(y),c.complete()})))}}function Rr(n,e){return(0,Ur.e)(ea(n,e,arguments.length>=2,!0))}function Qi(n,e){return(0,Ur.e)((t,r)=>{let i=0;t.subscribe((0,zn.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}function Ji(n){return(0,Ur.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,zn.x)(t,void 0,void 0,c=>{u=(0,Eo.Xf)(n(c,Ji(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Tn=k(5577);function Ys(n,e){return(0,gi.m)(e)?(0,Tn.z)(n,e,1):(0,Tn.z)(n,1)}function hd(n){return n<=0?()=>Jo.E:(0,Ur.e)((e,t)=>{let r=[];e.subscribe((0,zn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Rn(n=Wp){return(0,Ur.e)((e,t)=>{let r=!1;e.subscribe((0,zn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Wp(){return new Zs}function Kp(n){return(0,Ur.e)((e,t)=>{let r=!1;e.subscribe((0,zn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Qs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Qi((i,u)=>n(i,u,r)):fi.y,(0,wo.q)(1),t?Kp(e):Rn(()=>new Zs))}var Jr=k(8505);class Js{constructor(e,t){this.id=e,this.url=t}}class _s extends Js{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Nu extends Js{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sn extends Js{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fl extends Js{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ta extends Js{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qp extends Js{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ll extends Js{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Nr extends Js{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mi extends Js{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vl{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vs{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ui{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xi{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class La{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bl{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ul{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ft="primary";class jl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function tr(n){return new jl(n)}const $l="ngNavigationCancelingError";function Xs(n){const e=Error("NavigationCancelingError: "+n);return e[$l]=!0,e}function bo(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],p=n[u];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function es(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!ku(n[i],e[i]))return!1;return!0}function ku(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function ts(n){return Array.prototype.concat.apply([],n)}function pd(n){return n.length>0?n[n.length-1]:null}function nr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function yi(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,Ln.D)(Promise.resolve(n)):yt(n)}const Do={exact:function I(n,e,t){if(!kt(n.segments,e.segments)||!ee(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!I(n.children[r],e.children[r],t))return!1;return!0},subset:L},na={exact:function C(n,e){return es(n,e)},subset:function R(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ku(n[t],e[t]))},ignored:()=>!0};function Pu(n,e,t){return Do[t.paths](n.root,e.root,t.matrixParams)&&na[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function L(n,e,t){return Z(n,e,e.segments,t)}function Z(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!kt(i,t)||e.hasChildren()||!ee(i,t,r))}if(n.segments.length===t.length){if(!kt(n.segments,t)||!ee(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!L(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(kt(n.segments,i)&&ee(n.segments,i,r)&&n.children[Ft])&&Z(n.children[Ft],e,u,r)}}function ee(n,e,t){return e.every((r,i)=>na[t](n[i].parameters,r.parameters))}class Me{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tr(this.queryParams)),this._queryParamMap}toString(){return ra.serialize(this)}}class xe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,nr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Co(this)}}class Xe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=tr(this.parameters)),this._parameterMap}toString(){return Va(this)}}function kt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Wn{}class Nn{parse(e){const t=new md(e);return new Me(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${jr(e.root,!0)}`,r=function My(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ji(t)}=${ji(i)}`).join("&"):`${ji(t)}=${ji(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Io(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ra=new Nn;function Co(n){return n.segments.map(e=>Va(e)).join("/")}function jr(n,e){if(!n.hasChildren())return Co(n);if(e){const t=n.children[Ft]?jr(n.children[Ft],!1):"",r=[];return nr(n.children,(i,u)=>{u!==Ft&&r.push(`${u}:${jr(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function At(n,e){let t=[];return nr(n.children,(r,i)=>{i===Ft&&(t=t.concat(e(r,i)))}),nr(n.children,(r,i)=>{i!==Ft&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ft?[jr(n.children[Ft],!1)]:[`${i}:${jr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${Co(n)}/${t[0]}`:`${Co(n)}/(${t.join("//")})`}}function _i(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ji(n){return _i(n).replace(/%3B/gi,";")}function gd(n){return _i(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gl(n){return decodeURIComponent(n)}function ql(n){return Gl(n.replace(/\+/g,"%20"))}function Va(n){return`${gd(n.path)}${function Jp(n){return Object.keys(n).map(e=>`;${gd(e)}=${gd(n[e])}`).join("")}(n.parameters)}`}const xy=/^[^\/()?;=#]+/;function Es(n){const e=n.match(xy);return e?e[0]:""}const zl=/^[^=?&#]+/,Ny=/^[^&#]+/;class md{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ft]=new xe(e,t)),r}parseSegment(){const e=Es(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Xe(Gl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Es(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Es(this.remaining);i&&(r=i,this.capture(r))}e[Gl(t)]=Gl(r)}parseQueryParam(e){const t=function Ry(n){const e=n.match(zl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Xp(n){const e=n.match(Ny);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=ql(t),u=ql(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Es(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ft);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[Ft]:new xe([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Oy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Fh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Fh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Lh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Lh(e,this._root).map(t=>t.value)}}function Fh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Fh(n,t);if(r)return r}return null}function Lh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Lh(n,t);if(r.length)return r.unshift(e),r}return[]}class To{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function So(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class yd extends Oy{constructor(e,t){super(e),this.snapshot=t,vd(this,e)}toString(){return this.snapshot.toString()}}function Ba(n,e){const t=function ky(n,e){const c=new Fu([],{},{},"",{},Ft,e,null,n.root,-1,{});return new Vh("",new To(c,[]))}(n,e),r=new Qr([new Xe("",{})]),i=new Qr({}),u=new Qr({}),c=new Qr({}),p=new Qr(""),y=new ia(r,i,c,p,u,Ft,e,t.root);return y.snapshot=t.root,new yd(new To(y,[]),t)}class ia{constructor(e,t,r,i,u,c,p,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ot.U)(e=>tr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ot.U)(e=>tr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Py(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function _d(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Fu{constructor(e,t,r,i,u,c,p,y,b,A,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this.routeConfig=y,this._urlSegment=b,this._lastPathIndex=A,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vh extends Oy{constructor(e,t){super(t),this.url=e,vd(this,t)}toString(){return Ed(this._root)}}function vd(n,e){e.value._routerState=n,e.children.forEach(t=>vd(n,t))}function Ed(n){const e=n.children.length>0?` { ${n.children.map(Ed).join(", ")} } `:"";return`${n.value}${e}`}function wd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,es(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),es(e.params,t.params)||n.params.next(t.params),function Ou(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!es(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),es(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Bh(n,e){const t=es(n.params,e.params)&&function Ct(n,e){return kt(n,e)&&n.every((t,r)=>es(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Bh(n.parent,e.parent))}function Wl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Uh(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Wl(n,r,i);return Wl(n,r)})}(n,e,t);return new To(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>Wl(n,p)),c}}const r=function Ly(n){return new ia(new Qr(n.url),new Qr(n.params),new Qr(n.queryParams),new Qr(n.fragment),new Qr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Wl(n,u));return new To(r,i)}}function sa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Lu(n){return"object"==typeof n&&null!=n&&n.outlets}function eg(n,e,t,r,i){let u={};if(r&&nr(r,(p,y)=>{u[y]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),n===e)return new Me(t,u,i);const c=jh(n,e,t);return new Me(c,u,i)}function jh(n,e,t){const r={};return nr(n.children,(i,u)=>{r[u]=i===e?t:jh(i,e,t)}),new xe(n.segments,r)}class Vy{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&sa(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Lu);if(i&&i!==pd(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $h{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function $y(n,e,t){if(n||(n=new xe([],{})),0===n.segments.length&&n.hasChildren())return to(n,e,t);const r=function yE(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],p=t[r];if(Lu(p))break;const y=`${p}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&b&&"object"==typeof b&&void 0===b.outlets){if(!$i(y,b,c))return u;r+=2}else{if(!$i(y,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new xe(n.segments.slice(0,r.pathIndex),{});return u.children[Ft]=new xe(n.segments.slice(r.pathIndex),n.children),to(u,0,i)}return r.match&&0===i.length?new xe(n.segments,{}):r.match&&!n.hasChildren()?Hh(n,e,t):r.match?to(n,0,i):Hh(n,e,t)}function to(n,e,t){if(0===t.length)return new xe(n.segments,{});{const r=function jy(n){return Lu(n[0])?n[0].outlets:{[Ft]:n}}(t),i={};return nr(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=$y(n.children[c],e,u))}),nr(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new xe(n.segments,i)}}function Hh(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(Lu(u)){const y=Vu(u.outlets);return new xe(r,y)}if(0===i&&sa(t[0])){r.push(new Xe(n.segments[e].path,Gh(t[0]))),i++;continue}const c=Lu(u)?u.outlets[Ft]:`${u}`,p=i<t.length-1?t[i+1]:null;c&&p&&sa(p)?(r.push(new Xe(c,Gh(p))),i+=2):(r.push(new Xe(c,{})),i++)}return new xe(r,{})}function Vu(n){const e={};return nr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Hh(new xe([],{}),0,t))}),e}function Gh(n){const e={};return nr(n,(t,r)=>e[r]=`${t}`),e}function $i(n,e,t){return n==t.path&&es(e,t.parameters)}class ng{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=So(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),nr(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=So(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=So(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=So(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new Bl(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Xi(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(wd(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),wd(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=function bd(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),y=p?p.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=y,c.outlet&&c.outlet.activateWith(i,y),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class Dd{constructor(e,t){this.routes=e,this.module=t}}function Ua(n){return"function"==typeof n}function Bu(n){return n instanceof Me}const Zl=Symbol("INITIAL_VALUE");function oa(){return Bn(n=>function Qo(...n){const e=(0,Vn.yG)(n),t=(0,Vn.jO)(n),{args:r,keys:i}=Fi(n);if(0===r.length)return(0,Ln.D)([],e);const u=new Br.y(function pi(n,e,t=fi.y){return r=>{Ks(e,()=>{const{length:i}=n,u=new Array(i);let c=i,p=i;for(let y=0;y<i;y++)Ks(e,()=>{const b=(0,Ln.D)(n[y],e);let A=!1;b.subscribe((0,zn.x)(r,M=>{u[y]=M,A||(A=!0,p--),p||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>vo(i,c):fi.y));return t?u.pipe(Ol(t)):u}(n.map(e=>e.pipe((0,wo.q)(1),Bi(Zl)))).pipe(Rr((e,t)=>{let r=!1;return t.reduce((i,u,c)=>i!==Zl?i:(u===Zl&&(r=!0),r||!1!==u&&c!==t.length-1&&!Bu(u)?i:u),e)},Zl),Qi(e=>e!==Zl),(0,Ot.U)(e=>Bu(e)?e:!0===e),(0,wo.q)(1)))}class Hy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Yl,this.attachRef=null}}class Yl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Hy,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Ql=(()=>{class n{constructor(t,r,i,u,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=u||Ft,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,y=new Kh(t,p,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Yl),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Kh{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ia?this.route:e===Yl?this.childContexts:this.parent.get(e,t)}}let Zh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},directives:[Ql],encapsulation:2}),n})();function Jl(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Cd(r,Yh(e,r))}}function Cd(n,e){n.children&&Jl(n.children,e)}function Yh(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Qh(n){const e=n.children&&n.children.map(Qh),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ft&&(t.component=Zh),t}function sn(n){return n.outlet||Ft}function Jh(n,e){const t=n.filter(r=>sn(r)===e);return t.push(...n.filter(r=>sn(r)!==e)),t}const ig={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uu(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},ig):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||bo)(t,n,e);if(!u)return Object.assign({},ig);const c={};nr(u.posParams,(y,b)=>{c[b]=y.path});const p=u.consumed.length>0?Object.assign(Object.assign({},c),u.consumed[u.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:p,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function Xl(n,e,t,r,i="corrected"){if(t.length>0&&function qy(n,e,t){return t.some(r=>Td(n,e,r)&&sn(r)!==Ft)}(n,t,r)){const c=new xe(e,function Id(n,e,t,r){const i={};i[Ft]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&sn(u)!==Ft){const c=new xe([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[sn(u)]=c}return i}(n,e,r,new xe(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function sg(n,e,t){return t.some(r=>Td(n,e,r))}(n,t,r)){const c=new xe(n.segments,function Gy(n,e,t,r,i,u){const c={};for(const p of r)if(Td(n,t,p)&&!i[sn(p)]){const y=new xe([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===u?n.segments.length:e.length,c[sn(p)]=y}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const u=new xe(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Td(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function zy(n,e,t,r){return!!(sn(n)===r||r!==Ft&&Td(e,t,n))&&("**"===n.path||Uu(e,n,t).matched)}function Wy(n,e,t){return 0===e.length&&!n.children[t]}class aa{constructor(e){this.segmentGroup=e||null}}class Or{constructor(e){this.urlTree=e}}function Ao(n){return Zi(new aa(n))}function ec(n){return Zi(new Or(n))}class ef{constructor(e,t,r,i,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(f.h0i)}apply(){const e=Xl(this.urlTree.root,[],[],this.config).segmentGroup,t=new xe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ft).pipe((0,Ot.U)(u=>this.createUrlTree($a(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ji(u=>{if(u instanceof Or)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof aa?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ft).pipe((0,Ot.U)(i=>this.createUrlTree($a(i),e.queryParams,e.fragment))).pipe(Ji(i=>{throw i instanceof aa?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new xe([],{[Ft]:e}):e;return new Me(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ot.U)(u=>new xe([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,Ln.D)(i).pipe(Ys(u=>{const c=r.children[u],p=Jh(t,u);return this.expandSegmentGroup(e,p,c,u).pipe((0,Ot.U)(y=>({segment:y,outlet:u})))}),Rr((u,c)=>(u[c.outlet]=c.segment,u),{}),function Zp(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Qi((i,u)=>n(i,u,r)):fi.y,hd(1),t?Kp(e):Rn(()=>new Zs))}())}expandSegment(e,t,r,i,u,c){return(0,Ln.D)(r).pipe(Ys(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,u,c).pipe(Ji(b=>{if(b instanceof aa)return yt(null);throw b}))),Qs(p=>!!p),Ji((p,y)=>{if(p instanceof Zs||"EmptyError"===p.name)return Wy(t,i,u)?yt(new xe([],{})):Ao(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,u,c,p){return zy(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):Ao(t):Ao(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ec(u):this.lineralizeSegments(r,u).pipe((0,Tn.z)(c=>{const p=new xe(c,{});return this.expandSegment(e,p,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:p,consumedSegments:y,remainingSegments:b,positionalParamSegments:A}=Uu(t,i,u);if(!p)return Ao(t);const M=this.applyRedirectCommands(y,i.redirectTo,A);return i.redirectTo.startsWith("/")?ec(M):this.lineralizeSegments(i,M).pipe((0,Tn.z)(F=>this.expandSegment(e,t,r,F.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?yt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Ot.U)(M=>(r._loadedConfig=M,new xe(i,{})))):yt(new xe(i,{}));const{matched:c,consumedSegments:p,remainingSegments:y}=Uu(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,Tn.z)(A=>{const M=A.module,F=A.routes,{segmentGroup:B,slicedSegments:G}=Xl(t,p,y,F),ne=new xe(B.segments,B.children);if(0===G.length&&ne.hasChildren())return this.expandChildren(M,F,ne).pipe((0,Ot.U)(Ze=>new xe(p,Ze)));if(0===F.length&&0===G.length)return yt(new xe(p,{}));const we=sn(r)===u;return this.expandSegment(M,ne,F,G,we?Ft:u,!0).pipe((0,Ot.U)(Le=>new xe(p.concat(Le.segments),Le.children)))})):Ao(t)}getChildConfig(e,t,r){return t.children?yt(new Dd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?yt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Tn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Ot.U)(u=>(t._loadedConfig=u,u))):function $r(n){return Zi(Xs(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):yt(new Dd([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?yt(i.map(c=>{const p=e.get(c);let y;if(function qh(n){return n&&Ua(n.canLoad)}(p))y=p.canLoad(t,r);else{if(!Ua(p))throw new Error("Invalid CanLoad guard");y=p(t,r)}return yi(y)})).pipe(oa(),(0,Jr.b)(c=>{if(!Bu(c))return;const p=Xs(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw p.url=c,p}),(0,Ot.U)(c=>!0===c)):yt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return yt(r);if(i.numberOfChildren>1||!i.children[Ft])return Zi(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Ft]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new Me(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return nr(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[u]=t[p]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return nr(t.children,(p,y)=>{c[y]=this.createSegmentGroup(e,p,r,i)}),new xe(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function $a(n){const e={};for(const r of Object.keys(n.children)){const u=$a(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Hi(n){if(1===n.numberOfChildren&&n.children[Ft]){const e=n.children[Ft];return new xe(n.segments.concat(e.segments),e.children)}return n}(new xe(n.segments,e))}class og{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ha{constructor(e,t){this.component=e,this.route=t}}function nf(n,e,t){const r=n._root;return vi(r,e?e._root:null,t,[r.value])}function tc(n,e,t){const r=function Ky(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function vi(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=So(e);return n.children.forEach(c=>{(function ug(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const y=function Zy(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!kt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!kt(n.url,e.url)||!es(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bh(n,e)||!es(n.queryParams,e.queryParams);default:return!Bh(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new og(r)):(u.data=c.data,u._resolvedData=c._resolvedData),vi(n,e,u.component?p?p.children:null:t,r,i),y&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new Ha(p.outlet.component,c))}else c&&Ga(e,p,i),i.canActivateChecks.push(new og(r)),vi(n,null,u.component?p?p.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),nr(u,(c,p)=>Ga(c,t.getContext(p),i)),i}function Ga(n,e,t){const r=So(n),i=n.value;nr(r,(u,c)=>{Ga(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Ha(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class of{}function af(n){return new Br.y(e=>e.error(n))}class uf{constructor(e,t,r,i,u,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=c}recognize(){const e=Xl(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ft);if(null===t)return null;const r=new Fu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new To(r,t),u=new Vh(this.url,i);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=Py(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const c=t.children[u],p=Jh(e,u),y=this.processSegmentGroup(p,c,u);if(null===y)return null;r.push(...y)}const i=dg(r);return function Xy(n){n.sort((e,t)=>e.value.outlet===Ft?-1:t.value.outlet===Ft?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const u of e){const c=this.processSegmentAgainstRoute(u,t,r,i);if(null!==c)return c}return Wy(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!zy(e,t,r,i))return null;let u,c=[],p=[];if("**"===e.path){const B=r.length>0?pd(r).parameters:{};u=new Fu(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,E(e),sn(e),e.component,e,h(t),m(t)+r.length,T(e))}else{const B=Uu(t,e,r);if(!B.matched)return null;c=B.consumedSegments,p=B.remainingSegments,u=new Fu(c,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,E(e),sn(e),e.component,e,h(t),m(t)+c.length,T(e))}const y=function e_(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:A}=Xl(t,c,p,y.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===A.length&&b.hasChildren()){const B=this.processChildren(y,b);return null===B?null:[new To(u,B)]}if(0===y.length&&0===A.length)return[new To(u,[])];const M=sn(e)===i,F=this.processSegment(y,b,A,M?Ft:i);return null===F?null:[new To(u,F)]}}function cg(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function dg(n){const e=[],t=new Set;for(const r of n){if(!cg(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=dg(r.children);e.push(new To(r.value,i))}return e.filter(r=>!t.has(r))}function h(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function m(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function E(n){return n.data||{}}function T(n){return n.resolve||{}}function tt(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function at(n){return Bn(e=>{const t=n(e);return t?(0,Ln.D)(t).pipe((0,Ot.U)(()=>e)):yt(e)})}class rc extends class rs{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ju=new f.OlP("ROUTES");class $u{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Ot.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=u.create(e);return new Dd(ts(c.injector.get(ju,void 0,f.XFs.Self|f.XFs.Optional)).map(Qh),c)}),Ji(u=>{throw t._loader$=void 0,u}));return t._loader$=new dd(i,()=>new cr.x).pipe(Vi()),t._loader$}loadModuleFactory(e){return yi(e()).pipe((0,Tn.z)(t=>t instanceof f.YKP?yt(t):(0,Ln.D)(this.compiler.compileModuleAsync(t))))}}class t_{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ua(n){throw n}function Sd(n,e,t){return e.parse("/")}function Ad(n,e){return yt(null)}const cf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Md={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ei=(()=>{class n{constructor(t,r,i,u,c,p,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new cr.x,this.errorHandler=ua,this.malformedUriErrorHandler=Sd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ad,afterPreactivation:Ad},this.urlHandlingStrategy=new t_,this.routeReuseStrategy=new rc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(f.h0i),this.console=c.get(f.c2e);const M=c.get(f.R0b);this.isNgZoneEnabled=M instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function Hl(){return new Me(new xe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $u(c,p,F=>this.triggerEvent(new Vl(F)),F=>this.triggerEvent(new vs(F))),this.routerState=Ba(this.currentUrlTree,this.rootComponentType),this.transitions=new Qr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Qi(i=>0!==i.id),(0,Ot.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Bn(i=>{let u=!1,c=!1;return yt(i).pipe((0,Jr.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Bn(p=>{const y=this.browserUrlTree.toString(),b=!this.navigated||p.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return hg(p.source)&&(this.browserUrlTree=p.extractedUrl),yt(p).pipe(Bn(M=>{const F=this.transitions.getValue();return r.next(new _s(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),F!==this.transitions.getValue()?Jo.E:Promise.resolve(M)}),function tf(n,e,t,r){return Bn(i=>function ja(n,e,t,r,i){return new ef(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Ot.U)(u=>Object.assign(Object.assign({},i),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Jr.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function N(n,e,t,r,i){return(0,Tn.z)(u=>function Jy(n,e,t,r,i="emptyOnly",u="legacy"){try{const c=new uf(n,e,t,r,i,u).recognize();return null===c?af(new of):yt(c)}catch(c){return af(c)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,i).pipe((0,Ot.U)(c=>Object.assign(Object.assign({},u),{targetSnapshot:c}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Jr.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(B,M)}this.browserUrlTree=M.urlAfterRedirects}const F=new ta(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(F)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:B,source:G,restoredState:ne,extras:we}=p,Ye=new _s(F,this.serializeUrl(B),G,ne);r.next(Ye);const Le=Ba(B,this.rootComponentType).snapshot;return yt(Object.assign(Object.assign({},p),{targetSnapshot:Le,urlAfterRedirects:B,extras:Object.assign(Object.assign({},we),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),Jo.E}),at(p=>{const{targetSnapshot:y,id:b,extractedUrl:A,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:B}}=p;return this.hooks.beforePreactivation(y,{navigationId:b,appliedUrlTree:A,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!B})}),(0,Jr.b)(p=>{const y=new Qp(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),(0,Ot.U)(p=>Object.assign(Object.assign({},p),{guards:nf(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function Yy(n,e){return(0,Tn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?yt(Object.assign(Object.assign({},t),{guardsResult:!0})):function lg(n,e,t,r){return(0,Ln.D)(n).pipe((0,Tn.z)(i=>function nc(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?yt(u.map(p=>{const y=tc(p,e,i);let b;if(function _E(n){return n&&Ua(n.canDeactivate)}(y))b=yi(y.canDeactivate(n,e,t,r));else{if(!Ua(y))throw new Error("Invalid CanDeactivate guard");b=yi(y(n,e,t,r))}return b.pipe(Qs())})).pipe(oa()):yt(!0)}(i.component,i.route,t,e,r)),Qs(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Tn.z)(p=>p&&function rg(n){return"boolean"==typeof n}(p)?function kr(n,e,t,r){return(0,Ln.D)(e).pipe(Ys(i=>cd(function sf(n,e){return null!==n&&e&&e(new Ui(n)),yt(!0)}(i.route.parent,r),function rf(n,e){return null!==n&&e&&e(new La(n)),yt(!0)}(i.route,r),function Mo(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function ag(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Li(()=>yt(c.guards.map(y=>{const b=tc(y,c.node,t);let A;if(function Wh(n){return n&&Ua(n.canActivateChild)}(b))A=yi(b.canActivateChild(r,n));else{if(!Ua(b))throw new Error("Invalid CanActivateChild guard");A=yi(b(r,n))}return A.pipe(Qs())})).pipe(oa())));return yt(u).pipe(oa())}(n,i.path,t),function Qy(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return yt(!0);const i=r.map(u=>Li(()=>{const c=tc(u,e,t);let p;if(function zh(n){return n&&Ua(n.canActivate)}(c))p=yi(c.canActivate(e,n));else{if(!Ua(c))throw new Error("Invalid CanActivate guard");p=yi(c(e,n))}return p.pipe(Qs())}));return yt(i).pipe(oa())}(n,i.route,t))),Qs(i=>!0!==i,!0))}(r,u,n,e):yt(p)),(0,Ot.U)(p=>Object.assign(Object.assign({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,Jr.b)(p=>{if(Bu(p.guardsResult)){const b=Xs(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw b.url=p.guardsResult,b}const y=new Ll(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(y)}),Qi(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),at(p=>{if(p.guards.canActivateChecks.length)return yt(p).pipe((0,Jr.b)(y=>{const b=new Nr(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}),Bn(y=>{let b=!1;return yt(y).pipe(function z(n,e){return(0,Tn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return yt(t);let u=0;return(0,Ln.D)(i).pipe(Ys(c=>function oe(n,e,t,r){return function je(n,e,t,r){const i=tt(n);if(0===i.length)return yt({});const u={};return(0,Ln.D)(i).pipe((0,Tn.z)(c=>function bt(n,e,t,r){const i=tc(n,e,r);return yi(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,Jr.b)(p=>{u[c]=p}))),hd(1),(0,Tn.z)(()=>tt(u).length===i.length?yt(u):Jo.E))}(n._resolve,n,e,r).pipe((0,Ot.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),Py(n,t).resolve),null)))}(c.route,r,n,e)),(0,Jr.b)(()=>u++),hd(1),(0,Tn.z)(c=>u===i.length?yt(t):Jo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Jr.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),(0,Jr.b)(y=>{const b=new mi(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}))}),at(p=>{const{targetSnapshot:y,id:b,extractedUrl:A,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:B}}=p;return this.hooks.afterPreactivation(y,{navigationId:b,appliedUrlTree:A,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!B})}),(0,Ot.U)(p=>{const y=function Fy(n,e,t){const r=Wl(n,e._root,t?t._root:void 0);return new yd(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:y})}),(0,Jr.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,Ot.U)(r=>(new ng(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,Jr.b)({next(){u=!0},complete(){u=!0}}),function Yp(n){return(0,Ur.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var p;u||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===i.id&&(this.currentNavigation=null)}),Ji(p=>{if(c=!0,function fd(n){return n&&n[$l]}(p)){const y=Bu(p.url);y||(this.navigated=!0,this.restoreHistory(i,!0));const b=new Sn(i.id,this.serializeUrl(i.extractedUrl),p.message);r.next(b),y?setTimeout(()=>{const A=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),M={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hg(i.source)};this.scheduleNavigation(A,"imperative",null,M,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new Fl(i.id,this.serializeUrl(i.extractedUrl),p);r.next(y);try{i.resolve(this.errorHandler(p))}catch(b){i.reject(b)}}return Jo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const u={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const y=Object.assign({},c);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(u.state=y)}const p=this.parseUrl(t.url);this.scheduleNavigation(p,r,c,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Jl(t),this.config=t.map(Qh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:p,preserveFragment:y}=r,b=i||this.routerState.root,A=y?this.currentUrlTree.fragment:c;let M=null;switch(p){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}return null!==M&&(M=this.removeEmptyProps(M)),function eo(n,e,t,r,i){if(0===t.length)return eg(e.root,e.root,e.root,r,i);const u=function By(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Vy(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const p={};return nr(u.outlets,(y,b)=>{p[b]="string"==typeof y?y.split("/"):y}),[...i,{outlets:p}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,u]},[]);return new Vy(t,e,r)}(t);if(u.toRoot())return eg(e.root,e.root,new xe([],{}),r,i);const c=function tg(n,e,t){if(n.isAbsolute)return new $h(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new $h(u,u===e.root,0)}const r=sa(n.commands[0])?0:1;return function Uy(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new $h(r,!1,i-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),p=c.processChildren?to(c.segmentGroup,c.index,u.commands):$y(c.segmentGroup,c.index,u.commands);return eg(e.root,c.segmentGroup,p,r,i)}(b,this.currentUrlTree,t,M,null!=A?A:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Bu(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function df(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},cf):!1===r?Object.assign({},Md):r,Bu(t))return Pu(this.currentUrlTree,t,i);const u=this.parseUrl(t);return Pu(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Nu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,c){var p,y;if(this.disposed)return Promise.resolve(!1);let b,A,M;c?(b=c.resolve,A=c.reject,M=c.promise):M=new Promise((G,ne)=>{b=G,A=ne});const F=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):B=0,this.setTransition({id:F,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:b,reject:A,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(G=>Promise.reject(G))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){var i,u;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Sn(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function hg(n){return"imperative"!==n}let ic=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new cr.x,this.subscription=t.events.subscribe(u=>{u instanceof Nu&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,u,c){if(0!==t||r||i||u||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const p={skipLocationChange:xd(this.skipLocationChange),replaceUrl:xd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,p),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xd(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ei),f.Y36(ia),f.Y36(fe))},n.\u0275dir=f.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&f.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&f.uIk("target",r.target)("href",r.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),n})();function xd(n){return""===n||!!n}class i_{}class EE{preload(e,t){return yt(null)}}let wE=(()=>{class n{constructor(t,r,i,u){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=new $u(i,r,y=>t.triggerEvent(new Vl(y)),y=>t.triggerEvent(new vs(y)))}setUpPreloading(){this.subscription=this.router.events.pipe(Qi(t=>t instanceof Nu),Ys(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(f.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const c=u._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else u.loadChildren&&!u.canLoad?i.push(this.preloadConfig(t,u)):u.children&&i.push(this.processRoutes(t,u.children));return(0,Ln.D)(i).pipe((0,Yi.J)(),(0,Ot.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?yt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Tn.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ei),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(i_))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),fg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _s?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Nu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ul&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Ul(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const ws=new f.OlP("ROUTER_CONFIGURATION"),o_=new f.OlP("ROUTER_FORROOT_GUARD"),bE=[ve,{provide:Wn,useClass:Nn},{provide:Ei,useFactory:function u_(n,e,t,r,i,u,c={},p,y){const b=new Ei(null,n,e,t,r,i,ts(u));return p&&(b.urlHandlingStrategy=p),y&&(b.routeReuseStrategy=y),function IE(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,b),c.enableTracing&&b.events.subscribe(A=>{var M,F;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(F=console.groupEnd)||void 0===F||F.call(console)}),b},deps:[Wn,Yl,ve,f.zs3,f.Sil,ju,ws,[class lf{},new f.FiY],[class On{},new f.FiY]]},Yl,{provide:ia,useFactory:function pg(n){return n.routerState.root},deps:[Ei]},wE,EE,class s_{preload(e,t){return t().pipe(Ji(()=>yt(null)))}},{provide:ws,useValue:{enableTracing:!1}}];function EC(){return new f.PXZ("Router",Ei)}let la=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[bE,a_(t),{provide:o_,useFactory:CE,deps:[[Ei,new f.FiY,new f.tp0]]},{provide:ws,useValue:r||{}},{provide:fe,useFactory:DE,deps:[he,[new f.tBr(nt),new f.FiY],ws]},{provide:fg,useFactory:wC,deps:[Ei,vu,ws]},{provide:i_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:EE},{provide:f.PXZ,multi:!0,useFactory:EC},[Rd,{provide:f.ip1,multi:!0,useFactory:TE,deps:[Rd]},{provide:c_,useFactory:l_,deps:[Rd]},{provide:f.tb,multi:!0,useExisting:c_}]]}}static forChild(t){return{ngModule:n,providers:[a_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(o_,8),f.LFG(Ei,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function wC(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new fg(n,e,t)}function DE(n,e,t={}){return t.useHash?new Ie(n,e):new Qe(n,e)}function CE(n){return"guarded"}function a_(n){return[{provide:f.deG,multi:!0,useValue:n},{provide:ju,multi:!0,useValue:n}]}let Rd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new cr.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(p=>r=p),u=this.injector.get(Ei),c=this.injector.get(ws);return"disabled"===c.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?yt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ws),i=this.injector.get(wE),u=this.injector.get(fg),c=this.injector.get(Ei),p=this.injector.get(f.z2F);t===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),u.init(),c.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function TE(n){return n.appInitializer.bind(n)}function l_(n){return n.bootstrapListener.bind(n)}const c_=new f.OlP("Router Initializer"),SE=new f.OlP("GETS_ALL_DATE_DTO");let hf=(()=>{class n{constructor(t){this._getsAllDateDto=t,this.currentDate$=this._getsAllDateDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(SE))},n.\u0275cmp=f.Xpm({type:n,selectors:[["lib-date"]],decls:7,vars:6,consts:[[1,"border-bottom","py-4"],[1,"d-inline","fs-3","fw-bold"],[1,"d-inline","fs-5"]],template:function(t,r){if(1&t&&(f.TgZ(0,"div",0)(1,"p",1),f._uU(2,"TODAY "),f.qZA(),f.TgZ(3,"p",2),f._uU(4),f.ALo(5,"date"),f.ALo(6,"async"),f.qZA()()),2&t){let i;f.xp6(4),f.Oqu(f.xi3(5,1,null==(i=f.lcZ(6,4,r.currentDate$))?null:i.currentDate,"E d MMM"))}},pipes:[xh,xa],encapsulation:2,changeDetection:0}),n})();class bC{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const DC={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const Un="undefined"!=typeof window&&window||{};var mg=(()=>{return(n=mg||(mg={})).isBs3="bs3",n.isBs4="bs4",n.isBs5="bs5",mg;var n})();let bs;function f_(){if(void 0===Un.document)return"bs4";const n=Un.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),Un.document.head.appendChild(n);const e=n.getBoundingClientRect(),t=Un.getComputedStyle(n).paddingLeft;return!e||e&&0!==e.top?(Un.document.head.removeChild(n),"bs3"):t&&parseFloat(t)?(Un.document.head.removeChild(n),"bs4"):(Un.document.head.removeChild(n),"bs5")}function da(){return void 0===Un||(void 0===Un.__theme?(bs||(bs=f_()),"bs3"===bs):"bs3"===Un.__theme)}function p_(){return!da()&&(bs||(bs=f_()),"bs4"===bs)}function Hu(){return{isBs3:da(),isBs4:p_(),isBs5:!da()&&!p_()&&(bs||(bs=f_()),"bs5"===bs)}}"undefined"==typeof console||console;class Nd{}const fa="*";function _g(n,e=null){return{type:2,steps:n,options:e}}function Od(n){return{type:6,styles:n,offset:null}}function OE(n){Promise.resolve(null).then(n)}class vg{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){OE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class __{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?OE(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==u&&this._onFinish()}),c.onDestroy(()=>{++r==u&&this._onDestroy()}),c.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((c,p)=>Math.max(c,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}var kE=k(6451),v_=k(1144);const PM=["addListener","removeListener"],FM=["addEventListener","removeEventListener"],LM=["on","off"];function E_(n,e,t,r){if((0,gi.m)(t)&&(r=t,t=void 0),r)return E_(n,e,t).pipe(Ol(r));const[i,u]=function UM(n){return(0,gi.m)(n.addEventListener)&&(0,gi.m)(n.removeEventListener)}(n)?FM.map(c=>p=>n[c](e,p,t)):function VM(n){return(0,gi.m)(n.addListener)&&(0,gi.m)(n.removeListener)}(n)?PM.map(xC(n,e)):function BM(n){return(0,gi.m)(n.on)&&(0,gi.m)(n.off)}(n)?LM.map(xC(n,e)):[];if(!i&&(0,v_.z)(n))return(0,Tn.z)(c=>E_(c,e,t))((0,Eo.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Br.y(c=>{const p=(...y)=>c.next(1<y.length?y:y[0]);return i(p),()=>u(p)})}function xC(n,e){return t=>r=>n[t](e,r)}var jM=k(4408);const wg={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=wg;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(u=>{t=void 0,n(u)});return new Xo.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=wg;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=wg;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var w_=k(7565);const PE=new class RC extends w_.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Gu extends jM.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=wg.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(wg.cancelAnimationFrame(t),e._scheduled=void 0)}});var ff=(()=>{return(n=ff||(ff={})).top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",ff;var n})(),sc=(()=>{return(n=sc||(sc={})).top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",sc;var n})();function oc(n,e){if(1!==n.nodeType)return[];const t=n.ownerDocument.defaultView,r=null==t?void 0:t.getComputedStyle(n,null);return e?r&&r[e]:r}function pa(n){if(!n)return document.documentElement;let r,t=null==n?void 0:n.offsetParent;for(;null===t&&n.nextElementSibling&&r!==n.nextElementSibling;)r=n.nextElementSibling,t=r.offsetParent;const i=t&&t.nodeName;return i&&"BODY"!==i&&"HTML"!==i?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===oc(t,"position")?pa(t):t:r?r.ownerDocument.documentElement:document.documentElement}function b_(n){return null!==n.parentNode?b_(n.parentNode):n}function kd(n,e){if(!(n&&n.nodeType&&e&&e.nodeType))return document.documentElement;const t=n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=t?n:e,i=t?e:n,u=document.createRange();u.setStart(r,0),u.setEnd(i,0);const c=u.commonAncestorContainer;if(n!==c&&e!==c||r.contains(i))return function LE(n){const{nodeName:e}=n;return"BODY"!==e&&("HTML"===e||pa(n.firstElementChild)===n)}(c)?c:pa(c);const p=b_(n);return p.host?kd(p.host,e):kd(n,b_(e).host)}function VE(n){if(!n||!n.parentElement)return document.documentElement;let e=n.parentElement;for(;(null==e?void 0:e.parentElement)&&"none"===oc(e,"transform");)e=e.parentElement;return e||document.documentElement}function D_(n,e){const t="x"===e?"Left":"Top",r="Left"===t?"Right":"Bottom";return parseFloat(n[`border${t}Width`])+parseFloat(n[`border${r}Width`])}function BE(n,e,t,r){return Math.max(e[`offset${n}`],e[`scroll${n}`],t[`client${n}`],t[`offset${n}`],t[`scroll${n}`],0)}function UE(n){const e=n.body,t=n.documentElement;return{height:BE("Height",e,t),width:BE("Width",e,t)}}function qa(n){return Object.assign(Object.assign({},n),{right:(n.left||0)+n.width,bottom:(n.top||0)+n.height})}function An(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function ac(n){const e=n.getBoundingClientRect();if(!(e&&An(e.top)&&An(e.left)&&An(e.bottom)&&An(e.right)))return e;const t={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===n.nodeName?UE(n.ownerDocument):void 0,i=(null==r?void 0:r.width)||n.clientWidth||An(e.right)&&An(t.left)&&e.right-t.left||0,u=(null==r?void 0:r.height)||n.clientHeight||An(e.bottom)&&An(t.top)&&e.bottom-t.top||0;let c=n.offsetWidth-i,p=n.offsetHeight-u;if(c||p){const y=oc(n);c-=D_(y,"x"),p-=D_(y,"y"),t.width-=c,t.height-=p}return qa(t)}function uc(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function qu(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:e,overflowX:t,overflowY:r}=oc(n);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(t))?n:qu(uc(n))}function C_(n,e,t=!1){var r,i,u,c,p,y;const b="HTML"===e.nodeName,A=ac(n),M=ac(e),B=(qu(n),oc(e)),G=parseFloat(B.borderTopWidth),ne=parseFloat(B.borderLeftWidth);t&&b&&(M.top=Math.max(null!==(r=M.top)&&void 0!==r?r:0,0),M.left=Math.max(null!==(i=M.left)&&void 0!==i?i:0,0));const we=qa({top:(null!==(u=A.top)&&void 0!==u?u:0)-(null!==(c=M.top)&&void 0!==c?c:0)-G,left:(null!==(p=A.left)&&void 0!==p?p:0)-(null!==(y=M.left)&&void 0!==y?y:0)-ne,width:A.width,height:A.height});if(we.marginTop=0,we.marginLeft=0,b){const Ye=parseFloat(B.marginTop),Le=parseFloat(B.marginLeft);An(we.top)&&(we.top-=G-Ye),An(we.bottom)&&(we.bottom-=G-Ye),An(we.left)&&(we.left-=ne-Le),An(we.right)&&(we.right-=ne-Le),we.marginTop=Ye,we.marginLeft=Le}return we}function I_(n,e="top"){const t="top"===e?"scrollTop":"scrollLeft",r=n.nodeName;if("BODY"===r||"HTML"===r){const i=n.ownerDocument.documentElement;return(n.ownerDocument.scrollingElement||i)[t]}return n[t]}function bg(n){const e=n.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===oc(n,"position")||bg(uc(n)))}function pf(n,e,t=0,r,i=!1){let u={top:0,left:0};const c=i?VE(n):kd(n,e);if("viewport"===r)u=function jE(n,e=!1){const t=n.ownerDocument.documentElement,r=C_(n,t),i=Math.max(t.clientWidth,window.innerWidth||0),u=Math.max(t.clientHeight,window.innerHeight||0),c=e?0:I_(t),p=e?0:I_(t,"left");return qa({top:c-Number(null==r?void 0:r.top)+Number(null==r?void 0:r.marginTop),left:p-Number(null==r?void 0:r.left)+Number(null==r?void 0:r.marginLeft),width:i,height:u})}(c,i);else{let p;"scrollParent"===r?(p=qu(uc(e)),"BODY"===p.nodeName&&(p=n.ownerDocument.documentElement)):p="window"===r?n.ownerDocument.documentElement:r;const y=C_(p,c,i);if(y&&"HTML"===p.nodeName&&!bg(c)){const{height:b,width:A}=UE(n.ownerDocument);An(u.top)&&An(y.top)&&An(y.marginTop)&&(u.top+=y.top-y.marginTop),An(u.top)&&(u.bottom=Number(b)+Number(y.top)),An(u.left)&&An(y.left)&&An(y.marginLeft)&&(u.left+=y.left-y.marginLeft),An(u.top)&&(u.right=Number(A)+Number(y.left))}else y&&(u=y)}return An(u.left)&&(u.left+=t),An(u.top)&&(u.top+=t),An(u.right)&&(u.right-=t),An(u.bottom)&&(u.bottom-=t),u}function $E({width:n,height:e}){return n*e}function gf(n,e,t,r,i=["top","bottom","right","left"],u="viewport",c=0){var p,y,b,A,M,F,B,G,ne,we,Ye,Le;if(-1===n.indexOf("auto"))return n;const Ze=pf(t,r,c,u),qe={top:{width:null!==(p=null==Ze?void 0:Ze.width)&&void 0!==p?p:0,height:(null!==(y=null==e?void 0:e.top)&&void 0!==y?y:0)-(null!==(b=null==Ze?void 0:Ze.top)&&void 0!==b?b:0)},right:{width:(null!==(A=null==Ze?void 0:Ze.right)&&void 0!==A?A:0)-(null!==(M=null==e?void 0:e.right)&&void 0!==M?M:0),height:null!==(F=null==Ze?void 0:Ze.height)&&void 0!==F?F:0},bottom:{width:null!==(B=null==Ze?void 0:Ze.width)&&void 0!==B?B:0,height:(null!==(G=null==Ze?void 0:Ze.bottom)&&void 0!==G?G:0)-(null!==(ne=null==e?void 0:e.bottom)&&void 0!==ne?ne:0)},left:{width:(null!==(we=e.left)&&void 0!==we?we:0)-(null!==(Ye=null==Ze?void 0:Ze.left)&&void 0!==Ye?Ye:0),height:null!==(Le=null==Ze?void 0:Ze.height)&&void 0!==Le?Le:0}},vt=Object.keys(qe).map(En=>Object.assign(Object.assign({position:En},qe[En]),{area:$E(qe[En])})).sort((En,Zt)=>Zt.area-En.area);let ct=vt.filter(({width:En,height:Zt})=>En>=t.clientWidth&&Zt>=t.clientHeight);ct=ct.filter(({position:En})=>i.some(Zt=>Zt===En));const Jt=ct.length>0?ct[0].position:vt[0].position,Cn=n.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Hu().isBs5?sc[Jt]:Jt}`),Jt+(Cn?`-${Cn}`:"")}const mf=(n,e=0)=>n?parseFloat(n):e;function T_(n){const e=n.ownerDocument.defaultView,t=null==e?void 0:e.getComputedStyle(n),r=mf(null==t?void 0:t.marginTop)+mf(null==t?void 0:t.marginBottom),i=mf(null==t?void 0:t.marginLeft)+mf(null==t?void 0:t.marginRight);return{width:Number(n.offsetWidth)+i,height:Number(n.offsetHeight)+r}}function GE(n,e,t){return C_(e,t?VE(n):kd(n,e),t)}function Dg(n,e,t){var r,i,u;const c=t.split(" ")[0],p=T_(n),y={width:p.width,height:p.height},b=-1!==["right","left"].indexOf(c),A=b?"top":"left",M=b?"left":"top",F=b?"height":"width",B=b?"width":"height";return y[A]=(null!==(r=e[A])&&void 0!==r?r:0)+e[F]/2-p[F]/2,y[M]=c===M?(null!==(i=e[M])&&void 0!==i?i:0)-p[B]:null!==(u=e[function HE(n){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,t=>e[t])}(M)])&&void 0!==u?u:0,y}function qE(n,e){var t;return!!(null===(t=n.modifiers[e])||void 0===t?void 0:t.enabled)}const OC={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function wi(n,e){return!!Hu().isBs5&&OC[e].includes(n)}function FC(n,e,t){!n||!e||Object.keys(e).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function Pd(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(e[r])&&(i="px"),t?t.setStyle(n,r,`${String(e[r])}${i}`):n.style[r]=String(e[r])+i})}function HM(n){var e,t,r,i,u,c;let p=n.offsets.target;const y=n.instance.target.querySelector(".arrow");if(!y)return n;const b=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),A=b?"height":"width",M=b?"Top":"Left",F=M.toLowerCase(),B=b?"left":"top",G=b?"bottom":"right",ne=T_(y)[A],we=n.placement.split(" ")[1];(null!==(e=n.offsets.host[G])&&void 0!==e?e:0)-ne<(null!==(t=p[F])&&void 0!==t?t:0)&&(p[F]-=(null!==(r=p[F])&&void 0!==r?r:0)-((null!==(i=n.offsets.host[G])&&void 0!==i?i:0)-ne)),Number(n.offsets.host[F])+Number(ne)>(null!==(u=p[G])&&void 0!==u?u:0)&&(p[F]+=Number(n.offsets.host[F])+Number(ne)-Number(p[G])),p=qa(p);const Ye=oc(n.instance.target),Le=parseFloat(Ye[`margin${M}`])||0,Ze=parseFloat(Ye[`border${M}Width`])||0;let qe;if(we){const ct=parseFloat(Ye.borderRadius)||0,Jt=Number(Le+Ze+ct);qe=F===we?Number(n.offsets.host[F])+Jt:Number(n.offsets.host[F])+Number(n.offsets.host[A]-Jt)}else qe=Number(n.offsets.host[F])+Number(n.offsets.host[A]/2-ne/2);let vt=qe-(null!==(c=p[F])&&void 0!==c?c:0)-Le-Ze;return vt=Math.max(Math.min(p[A]-(ne+5),vt),0),n.offsets.arrow={[F]:Math.round(vt),[B]:""},n.instance.arrow=y,n}function zE(n){if(n.offsets.target=qa(n.offsets.target),!qE(n.options,"flip"))return n.offsets.target=Object.assign(Object.assign({},n.offsets.target),Dg(n.instance.target,n.offsets.host,n.placement)),n;const e=pf(n.instance.target,n.instance.host,0,"viewport",!1);let t=n.placement.split(" ")[0],r=n.placement.split(" ")[1]||"";const p=gf("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),y=[t,p];return y.forEach((b,A)=>{var M,F,B,G,ne,we,Ye,Le,Ze,qe,vt,ct,Jt,Cn,En,Zt;if(t!==b||y.length===A+1)return;t=n.placement.split(" ")[0];const In="left"===t&&Math.floor(null!==(M=n.offsets.target.right)&&void 0!==M?M:0)>Math.floor(null!==(F=n.offsets.host.left)&&void 0!==F?F:0)||"right"===t&&Math.floor(null!==(B=n.offsets.target.left)&&void 0!==B?B:0)<Math.floor(null!==(G=n.offsets.host.right)&&void 0!==G?G:0)||"top"===t&&Math.floor(null!==(ne=n.offsets.target.bottom)&&void 0!==ne?ne:0)>Math.floor(null!==(we=n.offsets.host.top)&&void 0!==we?we:0)||"bottom"===t&&Math.floor(null!==(Ye=n.offsets.target.top)&&void 0!==Ye?Ye:0)<Math.floor(null!==(Le=n.offsets.host.bottom)&&void 0!==Le?Le:0),As=Math.floor(null!==(Ze=n.offsets.target.left)&&void 0!==Ze?Ze:0)<Math.floor(null!==(qe=e.left)&&void 0!==qe?qe:0),hl=Math.floor(null!==(vt=n.offsets.target.right)&&void 0!==vt?vt:0)>Math.floor(null!==(ct=e.right)&&void 0!==ct?ct:0),fE=Math.floor(null!==(Jt=n.offsets.target.top)&&void 0!==Jt?Jt:0)<Math.floor(null!==(Cn=e.top)&&void 0!==Cn?Cn:0),pE=Math.floor(null!==(En=n.offsets.target.bottom)&&void 0!==En?En:0)>Math.floor(null!==(Zt=e.bottom)&&void 0!==Zt?Zt:0),st="left"===t&&As||"right"===t&&hl||"top"===t&&fE||"bottom"===t&&pE,mt=-1!==["top","bottom"].indexOf(t),St=mt&&"left"===r&&As||mt&&"right"===r&&hl||!mt&&"left"===r&&fE||!mt&&"right"===r&&pE;(In||st||St)&&((In||st)&&(t=y[A+1]),St&&(r=function $M(n){return"right"===n?"left":"left"===n?"right":n}(r)),n.placement=t+(r?` ${r}`:""),n.offsets.target=Object.assign(Object.assign({},n.offsets.target),Dg(n.instance.target,n.offsets.host,n.placement)))}),n}function LC(n){var e;if(!qE(n.options,"preventOverflow"))return n;const t="transform",r=n.instance.target.style,{top:i,left:u,[t]:c}=r;r.top="",r.left="",r[t]="";const p=pf(n.instance.target,n.instance.host,0,(null===(e=n.options.modifiers.preventOverflow)||void 0===e?void 0:e.boundariesElement)||"scrollParent",!1);r.top=i,r.left=u,r[t]=c;const b={primary(A){var M,F,B,G;let ne=n.offsets.target[A];return(null!==(M=n.offsets.target[A])&&void 0!==M?M:0)<(null!==(F=p[A])&&void 0!==F?F:0)&&(ne=Math.max(null!==(B=n.offsets.target[A])&&void 0!==B?B:0,null!==(G=p[A])&&void 0!==G?G:0)),{[A]:ne}},secondary(A){var M,F,B,G;const ne="right"===A,we=ne?"left":"top";let Le=n.offsets.target[we];return(null!==(M=n.offsets.target[A])&&void 0!==M?M:0)>(null!==(F=p[A])&&void 0!==F?F:0)&&(Le=Math.min(null!==(B=n.offsets.target[we])&&void 0!==B?B:0,(null!==(G=p[A])&&void 0!==G?G:0)-n.offsets.target[ne?"width":"height"])),{[we]:Le}}};return["left","right","top","bottom"].forEach(A=>{const M=-1!==["left","top","start"].indexOf(A)?b.primary:b.secondary;n.offsets.target=Object.assign(Object.assign({},n.offsets.target),M(A))}),n}function S_(n){var e;const t=n.placement,r=t.split(" ")[0],i=t.split(" ")[1];if(i){const{host:u,target:c}=n.offsets,p=-1!==["bottom","top"].indexOf(r),y=p?"left":"top",b=p?"width":"height",A={start:{[y]:u[y]},end:{[y]:(null!==(e=u[y])&&void 0!==e?e:0)+u[b]-c[b]}};n.offsets.target=Object.assign(Object.assign({},c),{[y]:y===i?A.start[y]:A.end[y]})}return n}const VC=new class WE{position(e,t){return this.offset(e,t)}offset(e,t){return GE(t,e)}positionElements(e,t,r,i,u){const c=[zE,S_,LC,HM],y=function GM(n,e,t,r){if(!n||!e)return;const i=GE(n,e);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const u=!!t.match(/auto/g);let c=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const p=c.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return p&&(c=p[1]+(p[2]?` ${p[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(c)&&(c="auto"),c=gf(c,i,n,e,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:n,host:e,arrow:void 0},offsets:{target:Dg(n,i,c),host:i,arrow:void 0},positionFixed:!1,placement:c,placementAuto:u}}(t,e,ff[r],u);if(y)return c.reduce((b,A)=>A(b),y)}};function BC(n,e,t,r,i,u){const c=VC.positionElements(n,e,t,r,i);if(!c)return;const p=function NC(n){var e,t,r,i;return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(null!==(e=n.offsets.target.left)&&void 0!==e?e:0),top:Math.round(null!==(t=n.offsets.target.top)&&void 0!==t?t:0),bottom:Math.round(null!==(r=n.offsets.target.bottom)&&void 0!==r?r:0),right:Math.floor(null!==(i=n.offsets.target.right)&&void 0!==i?i:0)}}(c);FC(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${p.left}px, ${p.top}px, 0px)`},u),c.instance.arrow&&FC(c.instance.arrow,c.offsets.arrow,u),function PC(n,e){const t=n.instance.target;let r=t.className;const i=Hu().isBs5?sc[n.placement]:n.placement;n.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+function kC(n){return Hu().isBs5?wi(n,"end")?"ms-2":wi(n,"start")?"me-2":wi(n,"top")?"mb-2":wi(n,"bottom")?"mt-2":"":""}(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),e?e.setAttribute(t,"class",r):t.className=r}(c,u)}let Cg=(()=>{class n{constructor(t,r,i){this.update$$=new cr.x,this.positionElements=new Map,this.isDisabled=!1,Sr(i)&&t.runOutsideAngular(()=>{this.triggerEvent$=(0,kE.T)(E_(window,"scroll",{passive:!0}),E_(window,"resize",{passive:!0}),yt(0,PE),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(u=>{BC(yf(u.target),yf(u.element),u.attachment,u.appendToBody,this.options,r.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(yf(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(yf(t))}setOptions(t){this.options=t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.R0b),f.LFG(f.FYo),f.LFG(f.Lbi))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yf(n){return"string"==typeof n?document.querySelector(n):n instanceof f.SBq?n.nativeElement:null!=n?n:null}class Fd{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}class UC{constructor(e,t,r,i,u,c,p,y){this._viewContainerRef=e,this._renderer=t,this._elementRef=r,this._injector=i,this._componentFactoryResolver=u,this._ngZone=c,this._applicationRef=p,this._posService=y,this.onBeforeShow=new f.vpe,this.onShown=new f.vpe,this.onBeforeHide=new f.vpe,this.onHidden=new f.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=f.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof f.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const r=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){var t,r,i,u,c,p;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const y=this._componentRef.location.nativeElement;return null===(t=y.parentNode)||void 0===t||t.removeChild(y),null===(i=null===(r=this._contentRef)||void 0===r?void 0:r.componentRef)||void 0===i||i.destroy(),this._viewContainerRef&&(null===(u=this._contentRef)||void 0===u?void 0:u.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(p=null===(c=this._contentRef)||void 0===c?void 0:c.viewRef)||void 0===p||p.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){var t;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||(null===(t=this._elementRef)||void 0===t?void 0:t.nativeElement);const r=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),i=this._listenOpts.show=c=>{e.show?e.show(c):this.show(c),c()};return this._renderer&&(this._unregisterListenersFn=function ME(n,e){const t=function h_(n,e=DC){const t=(n||"").trim();if(0===t.length)return[];const r=t.split(/\s+/).map(u=>u.split(":")).map(u=>{const c=e[u[0]]||u;return new bC(c[0],c[1])}),i=r.filter(u=>u.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(e.triggers),r=e.target;if(1===t.length&&t[0].isManual())return Function.prototype;const i=[],u=[],c=()=>{u.forEach(p=>i.push(p())),u.length=0};return t.forEach(p=>{const y=p.open===p.close,b=y?e.toggle:e.show;if(!y&&p.close&&e.hide){const A=n.listen(r,p.close,e.hide);u.push(()=>A)}b&&i.push(n.listen(r,p.open,()=>b(c)))}),()=>{i.forEach(p=>p())}}(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:r,toggle:c=>{this.isShown?r():i(c)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function wM(n,e){return e.outsideClick?n.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function xE(n,e){return e.outsideEsc?n.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var e;this._posService.position({element:null===(e=this._componentRef)||void 0===e?void 0:e.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,t,r){if(!e)return new Fd([]);if(e instanceof f.Rgc){if(this._viewContainerRef){const c=this._viewContainerRef.createEmbeddedView(e,t);return c.markForCheck(),new Fd([c.rootNodes],c)}const u=e.createEmbeddedView({});return this._applicationRef.attachView(u),new Fd([u.rootNodes],u)}if("function"==typeof e){const u=this._componentFactoryResolver.resolveComponentFactory(e),c=f.zs3.create({providers:this._providers,parent:this._injector}),p=u.create(c);return Object.assign(p.instance,r),this._applicationRef.attachView(p.hostView),new Fd([[p.location.nativeElement]],p.hostView,p)}const i=this._renderer?[this._renderer.createText(`${e}`)]:[];return new Fd([i])}}let _f=(()=>{class n{constructor(t,r,i,u,c){this._componentFactoryResolver=t,this._ngZone=r,this._injector=i,this._posService=u,this._applicationRef=c}createLoader(t,r,i){return new UC(r,i,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f._Vd),f.LFG(f.R0b),f.LFG(f.zs3),f.LFG(Cg),f.LFG(f.z2F))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KE=function(n){return{dropdown:n}},ZE=["*"],Ro=[Od({height:0,overflow:"hidden"}),function yg(n,e=null){return{type:4,styles:e,timings:n}}("220ms cubic-bezier(0, 0, 0.2, 1)",Od({height:"*",overflow:"hidden"}))];let za=(()=>{class n{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new f.vpe,this.isDisabledChange=new f.vpe,this.toggleClick=new f.vpe,this.counts=0,this.dropdownMenu=new Promise(t=>{this.resolveDropdownMenu=t})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),$C=(()=>{class n{constructor(t,r,i,u,c){this._state=t,this.cd=r,this._renderer=i,this._element=u,this.isOpen=!1,this._factoryDropDownAnimation=c.build(Ro),this._subscription=t.isOpenChange.subscribe(p=>{this.isOpen=p;const y=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),y&&!da()&&(this._renderer.addClass(y,"show"),(y.classList.contains("dropdown-menu-right")||y.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(y,"left","auto"),this._renderer.setStyle(y,"right","0")),"up"===this.direction&&(this._renderer.setStyle(y,"top","auto"),this._renderer.setStyle(y,"transform","translateY(-101%)"))),y&&this._state.isAnimated&&this._factoryDropDownAnimation.create(y).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(t){return this._element.nativeElement.contains(t)}ngOnDestroy(){this._subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(za),f.Y36(f.sBO),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Nd))},n.\u0275cmp=f.Xpm({type:n,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:ZE,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(t,r){1&t&&(f.F$t(),f.TgZ(0,"div",0),f.Hsn(1),f.qZA()),2&t&&(f.ekj("dropup","up"===r.direction)("show",r.isOpen)("open",r.isOpen),f.Q6J("ngClass",f.VKq(7,KE,"down"===r.direction)))},directives:[ks],encapsulation:2,changeDetection:0}),n})(),YE=(()=>{class n{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HC=(()=>{class n{constructor(t,r,i,u,c,p,y){this._elementRef=t,this._renderer=r,this._viewContainerRef=i,this._cis=u,this._state=c,this._config=p,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=y.build(Ro),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:za,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(t){this._state.autoClose=t}get autoClose(){return this._state.autoClose}set isAnimated(t){this._state.isAnimated=t}get isAnimated(){return this._state.isAnimated}set insideClick(t){this._state.insideClick=t}get insideClick(){return this._state.insideClick}set isDisabled(t){this._isDisabled=t,this._state.isDisabledChange.emit(t),t&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(t){t?this.show():this.hide()}get isBs4(){return!da()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(t=>this.toggle(t))),this._subscriptions.push(this._state.isDisabledChange.pipe(Qi(t=>t)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(t=>{this._dropdown.attachInline(t.viewContainer,t.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(t=>{const r=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=r?"up":"down";const i=this.placement||(r?"top start":"bottom start");this._dropdown.attach($C).to(this.container).position({attachment:i}).show({content:t.templateRef,placement:i}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){!this.isOpen||(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(t){return this.isOpen||!t?this.hide():this.show()}_contains(t){return this._elementRef.nativeElement.contains(t.target)||this._dropdown.instance&&this._dropdown.instance._contains(t.target)}navigationClick(t){const r=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!r)return;const i=this._elementRef.nativeElement.ownerDocument.activeElement,u=r.querySelectorAll(".dropdown-item");switch(t.keyCode){case 38:this._state.counts>0&&u[--this._state.counts].focus();break;case 40:this._state.counts+1<u.length&&(i.classList!==u[this._state.counts].classList?u[this._state.counts].focus():u[++this._state.counts].focus())}t.preventDefault()}ngOnDestroy(){for(const t of this._subscriptions)t.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){da()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const t=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",t?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",t?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.s_b),f.Y36(_f),f.Y36(za),f.Y36(YE),f.Y36(Nd))},n.\u0275dir=f.lG2({type:n,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(t,r){1&t&&f.NdJ("keydown.arrowDown",function(u){return r.navigationClick(u)})("keydown.arrowUp",function(u){return r.navigationClick(u)}),2&t&&f.ekj("dropup",r.dropup)("open",r.isOpen)("show",r.isOpen&&r.isBs4)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[f._Bn([za])]}),n})(),QE=(()=>{class n{constructor(t,r,i){t.resolveDropdownMenu({templateRef:i,viewContainer:r})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(za),f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),n})(),GC=(()=>{class n{constructor(t,r,i,u,c){this._changeDetectorRef=t,this._dropdown=r,this._element=i,this._renderer=u,this._state=c,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(p=>{this.isOpen=p,p?(this._documentClickListener=this._renderer.listen("document","click",y=>{this._state.autoClose&&2!==y.button&&!this._element.nativeElement.contains(y.target)&&(!this._state.insideClick||!this._dropdown._contains(y))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(p=>this.isDisabled=p||void 0))}onClick(t){this._state.stopOnClickPropagation&&t.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const t of this._subscriptions)t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.sBO),f.Y36(HC),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(za))},n.\u0275dir=f.lG2({type:n,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(t,r){1&t&&f.NdJ("click",function(u){return r.onClick(u)}),2&t&&f.uIk("aria-haspopup",!0)("disabled",r.isDisabled)("aria-expanded",r.isOpen)},exportAs:["bs-dropdown-toggle"]}),n})(),qC=(()=>{class n{static forRoot(){return{ngModule:n,providers:[_f,Cg,za]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[_r]]}),n})();const JE=new f.OlP("GETS_ALL_TASK_DTO"),Ig=new f.OlP("REMOVES_TASK_DTO"),XE=new f.OlP("SETS_TASK_DTO");let Ld,zC=(()=>{class n{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==t);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(t),t._enable()}deregister(t){t._disable();const r=this._focusTrapStack,i=r.indexOf(t);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{Ld="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Ld=!1}let Tg=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Sr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ld)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.Lbi))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sg=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function ew(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function A_(n){try{return n.frameElement}catch(e){return null}}(function rw(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===R_(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),u=R_(t);return t.hasAttribute("contenteditable")?-1!==u:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function tw(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==u:"video"===i?-1!==u&&(null!==u||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function nw(n){return!function KC(n){return function WM(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function WC(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function M_(n){return function ZC(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||x_(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Tg))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function x_(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function R_(n){if(!x_(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function ga(n){return null!=n&&"false"!=`${n}`}class Ag{constructor(e,t,r,i,u=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,u||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const t=this._getFirstTabbableElement(e);return null==t||t.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,wo.q)(1)).subscribe(e)}}let YC=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new Ag(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Sg),f.LFG(f.R0b),f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QC=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=ga(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=ga(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const r=t.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(YC),f.Y36(re))},n.\u0275dir=f.lG2({type:n,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[f.TTD]}),n})(),JC=(()=>{class n{static forRoot(){return{ngModule:n,providers:[zC,Tg,Sg]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[_r]]}),n})();const N_=["*"];let O_=(()=>{class n{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Vd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Mg={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},k_=new f.OlP("override-default-config");let F_=(()=>{class n{constructor(t,r,i){this._element=r,this._renderer=i,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,da()?"in":"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){var r;this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(null===(r=this.bsModalService)||void 0===r||r.setDismissReason("backdrop-click"),this.hide())}onPopState(){var t;null===(t=this.bsModalService)||void 0===t||t.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){var r,i;!this.isShown||((27===t.keyCode||"Escape"===t.key)&&t.preventDefault(),this.config.keyboard&&this.level===(null===(r=this.bsModalService)||void 0===r?void 0:r.getModalsCount())&&(null===(i=this.bsModalService)||void 0===i||i.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding&&this.isShown){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,da()?"in":"show"),setTimeout(()=>{var t,r;this.isShown=!1,document&&document.body&&1===(null===(t=this.bsModalService)||void 0===t?void 0:t.getModalsCount())&&(this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","")),null===(r=this.bsModalService)||void 0===r||r.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Vd),f.Y36(f.SBq),f.Y36(f.Qsj))},n.\u0275cmp=f.Xpm({type:n,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,r){1&t&&f.NdJ("mousedown",function(u){return r.onClickStarted(u)})("click",function(u){return r.onClickStop(u)})("popstate",function(){return r.onPopState()},!1,f.Jf7)("keydown.esc",function(u){return r.onEsc(u)},!1,f.Jf7),2&t&&f.uIk("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:N_,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(t,r){1&t&&(f.F$t(),f.TgZ(0,"div",0)(1,"div",1),f.Hsn(2),f.qZA()()),2&t&&f.Tol("modal-dialog"+(r.config.class?" "+r.config.class:""))},directives:[QC],encapsulation:2}),n})(),eI=(()=>{class n{constructor(t,r){this._isAnimated=!1,this._isShown=!1,this.element=t,this.renderer=r}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),da()||(t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),class g_{static reflow(e){}static getStyles(e){let t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=Un),t.getComputedStyle(e)}static stackOverflowConfig(){const e=function xo(){const n=Hu(),e=Object.keys(n).find(t=>n[t]);return mg[e]}();return{crossorigin:"bs3"!==e?"anonymous":void 0,integrity:"bs5"===e?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"bs4"===e?"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2":void 0,cdnLink:"bs5"===e?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"bs4"===e?"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css":"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"}}}.reflow(this.element.nativeElement)),this.isShown=!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.Qsj))},n.\u0275cmp=f.Xpm({type:n,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),sw=1,L_=(()=>{class n{constructor(t,r,i){this.clf=r,this.modalDefaultOption=i,this.onShow=new f.vpe,this.onShown=new f.vpe,this.onHide=new f.vpe,this.onHidden=new f.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=t.createRenderer(null,null),this.config=i?Object.assign({},Mg,i):Mg}show(t,r){this.modalsCount++,this._createLoaders();const i=(null==r?void 0:r.id)||sw++;return this.config=this.modalDefaultOption?Object.assign({},Mg,this.modalDefaultOption,r):Object.assign({},Mg,r),this.config.id=i,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(t)}hide(t){(1===this.modalsCount||null==t)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=!0===this.config.backdrop||"static"===this.config.backdrop,r=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&r&&(this._backdropLoader.attach(eI).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){var r;const i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const p of this.config.providers)i.provide(p);const u=new O_,c=i.provide({provide:Vd,useValue:this.config}).provide({provide:O_,useValue:u}).attach(F_).to("body");return u.hide=()=>{var p;return null===(p=c.instance)||void 0===p?void 0:p.hide()},u.setClass=p=>{c.instance&&(c.instance.config.class=p)},u.onHidden=new f.vpe,u.onHide=new f.vpe,this.copyEvent(i.onBeforeHide,u.onHide),this.copyEvent(i.onHidden,u.onHidden),c.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),c.instance&&(c.instance.level=this.getModalsCount(),u.content=i.getInnerComponent(),u.id=null===(r=c.instance.config)||void 0===r?void 0:r.id),u}_hideModal(t){if(null!=t){const r=this.loaders.findIndex(u=>{var c;return(null===(c=u.instance)||void 0===c?void 0:c.config.id)===t}),i=this.loaders[r];i&&i.hide(t)}else this.loaders.forEach(r=>{r.instance&&r.hide(r.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){!document||(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const r=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),r}_createLoaders(){const t=this.clf.createLoader();this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const r=this.loaders.findIndex(i=>{var u;return(null===(u=i.instance)||void 0===u?void 0:u.config.id)===t});r>=0&&(this.loaders.splice(r,1),this.loaders.forEach((i,u)=>{i.instance&&(i.instance.level=u+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,r){t.subscribe(i=>{r.emit(this.lastDismissReason||i)})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(_f),f.LFG(k_,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();JC.forRoot();let Bd=(()=>{class n{static forRoot(){return{ngModule:n,providers:[L_,_f,Cg]}}static forChild(){return{ngModule:n,providers:[L_,_f,Cg]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[JC]]}),n})();function nI(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div")(1,"input",8),f.NdJ("change",function(){f.CHM(t);const i=f.oxw().$implicit;return f.oxw().onTaskDoneChangeed(i)}),f.qZA(),f.TgZ(2,"label",9),f._uU(3),f.qZA()()}if(2&n){const t=f.oxw().$implicit;f.xp6(3),f.Oqu(t.name)}}function rI(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div")(1,"input",10),f.NdJ("change",function(){f.CHM(t);const i=f.oxw().$implicit;return f.oxw().onTaskDoneChangeed(i)}),f.qZA(),f.TgZ(2,"label"),f._uU(3),f.qZA()()}if(2&n){const t=f.oxw().$implicit;f.xp6(3),f.Oqu(t.name)}}function iI(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"ul",11)(1,"li",12)(2,"button",13),f.NdJ("click",function(){f.CHM(t),f.oxw();const i=f.MAs(8);return f.oxw().openModal(i)}),f._uU(3,"Delete task"),f.qZA()()()}}function sI(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",14)(1,"div"),f._uU(2,"DELETE TASK"),f.qZA(),f.TgZ(3,"button",15),f.NdJ("click",function(){f.CHM(t);const i=f.oxw(2);return null==i.modalRef?null:i.modalRef.hide()}),f.TgZ(4,"span",16),f._uU(5,"\xd7"),f.qZA()()(),f.TgZ(6,"div",17),f._uU(7," Are you sure you want to delete this task? "),f.qZA(),f.TgZ(8,"div",18)(9,"button",19),f.NdJ("click",function(){return f.CHM(t),f.oxw(2).decline()}),f._uU(10,"Cancel"),f.qZA(),f.TgZ(11,"button",20),f.NdJ("click",function(){f.CHM(t);const i=f.oxw().$implicit,u=f.oxw();return u.onDeleteTaskClicked(i),u.confirm()}),f._uU(12,"Delete task"),f.qZA()()}}function No(n,e){if(1&n&&(f.TgZ(0,"div",2),f.YNc(1,nI,4,1,"div",3),f.YNc(2,rI,4,1,"div",3),f.TgZ(3,"div",4)(4,"button",5),f._uU(5,"..."),f.qZA(),f.YNc(6,iI,4,0,"ul",6),f.qZA(),f.YNc(7,sI,13,0,"ng-template",null,7,f.W1O),f.qZA()),2&n){const t=e.$implicit;f.xp6(1),f.Q6J("ngIf",t.done),f.xp6(1),f.Q6J("ngIf",!t.done)}}let xg=(()=>{class n{constructor(t,r,i,u){this.modalService=t,this._getsAllTaskDto=r,this._removesTaskDto=i,this._setsTaskDto=u,this.tasksList$=this._getsAllTaskDto.getAll().pipe((0,Ot.U)(c=>c.sort((p,y)=>p.date-y.date).reverse()))}onDeleteTaskClicked(t){this._removesTaskDto.remove(""+t.id)}onTaskDoneChangeed(t){this._setsTaskDto.set(t.done?{id:t.id,name:t.name,done:!1}:{id:t.id,name:t.name,done:!0})}openModal(t){this.modalRef=this.modalService.show(t,{class:"modal-md"})}confirm(){var t;null===(t=this.modalRef)||void 0===t||t.hide()}decline(){var t;null===(t=this.modalRef)||void 0===t||t.hide()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(L_),f.Y36(JE),f.Y36(Ig),f.Y36(XE))},n.\u0275cmp=f.Xpm({type:n,selectors:[["lib-tasks-list-view"]],features:[f._Bn([{provide:YE,useValue:{isAnimated:!0,autoClose:!0}}])],decls:3,vars:3,consts:[[1,"py-5","border-bottom"],["class","form-check d-flex justify-content-between align-items-center py-3 pe-5",4,"ngFor","ngForOf"],[1,"form-check","d-flex","justify-content-between","align-items-center","py-3","pe-5"],[4,"ngIf"],["dropdown","",1,"btn-group"],["id","button-animated","dropdownToggle","","type","button","aria-controls","dropdown-animated",1,"btn","bg-white","fw-bold"],["id","dropdown-animated","class","dropdown-menu dropdown-menu-right","role","menu","aria-labelledby","button-animated",4,"dropdownMenu"],["template",""],["type","checkbox","value","","checked","",1,"form-check-input","rounded-circle","border-dark","border-2","bg-success",3,"change"],[1,"text-decoration-line-through"],["type","checkbox","value","",1,"form-check-input","rounded-circle","border-dark","border-2","hover",3,"change"],["id","dropdown-animated","role","menu","aria-labelledby","button-animated",1,"dropdown-menu","dropdown-menu-right"],["role","menuitem"],["type","submit",1,"dropdown-item",3,"click"],[1,"d-flex","fw-bold","border-bottom","fs-4","justify-content-between","p-3","bg-light"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"p-3","fs-6","border-bottom","bg-light"],[1,"d-flex","py-3","justify-content-end","bg-light"],["type","button",1,"btn","btn-light","border-dark","me-3",3,"click"],["type","button",1,"btn","bg-delete","text-white","me-3",3,"click"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0),f.YNc(1,No,9,2,"div",1),f.ALo(2,"async"),f.qZA()),2&t&&(f.xp6(1),f.Q6J("ngForOf",f.lcZ(2,1,r.tasksList$)))},directives:[lr,li,HC,GC,QE],pipes:[xa],encapsulation:2,changeDetection:0}),n})(),ow=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-my-list-page"]],decls:5,vars:0,consts:[["routerLink","/add-task","role","button",1,"btn","bg-special","text-white","mt-5"]],template:function(t,r){1&t&&(f._UZ(0,"lib-date")(1,"lib-tasks-list-view"),f.TgZ(2,"div")(3,"a",0),f._uU(4,"Add task"),f.qZA()())},directives:[hf,xg,ic],encapsulation:2,changeDetection:0}),n})(),wf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[_r]]}),n})(),V_=(()=>{class n{getAll(){return yt({currentDate:new Date})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),bf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[V_,{provide:SE,useExisting:V_}],imports:[[]]}),n})(),aw=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),lc=(()=>{class n extends aw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const ma=new f.OlP("NgValueAccessor"),lw={provide:ma,useExisting:(0,f.Gpc)(()=>B_),multi:!0},lI=new f.OlP("CompositionEventMode");let B_=(()=>{class n extends aw{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function uI(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(lI,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[f._Bn([lw]),f.qOj]}),n})();function cc(n){return null==n||0===n.length}function Rg(n){return null!=n&&"number"==typeof n.length}const bi=new f.OlP("NgValidators"),Wa=new f.OlP("NgAsyncValidators"),cw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class YM{static min(e){return function no(n){return e=>{if(cc(e.value)||cc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function cI(n){return e=>{if(cc(e.value)||cc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function dI(n){return cc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function U_(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function j_(n){return cc(n.value)||cw.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function $_(n){return e=>cc(e.value)||!Rg(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function dw(n){return e=>Rg(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function hI(n){if(!n)return Df;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(cc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return gw(e)}static composeAsync(e){return mw(e)}}function Df(n){return null}function Ng(n){return null!=n}function hw(n){const e=(0,f.QGY)(n)?(0,Ln.D)(n):n;return(0,f.CqO)(e),e}function Og(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function fw(n,e){return e.map(t=>t(n))}function pw(n){return n.map(e=>function fI(n){return!n.validate}(e)?e:t=>e.validate(t))}function gw(n){if(!n)return null;const e=n.filter(Ng);return 0==e.length?null:function(t){return Og(fw(t,e))}}function H_(n){return null!=n?gw(pw(n)):null}function mw(n){if(!n)return null;const e=n.filter(Ng);return 0==e.length?null:function(t){return function oI(...n){const e=(0,Vn.jO)(n),{args:t,keys:r}=Fi(n),i=new Br.y(u=>{const{length:c}=t;if(!c)return void u.complete();const p=new Array(c);let y=c,b=c;for(let A=0;A<c;A++){let M=!1;(0,Eo.Xf)(t[A]).subscribe((0,zn.x)(u,F=>{M||(M=!0,b--),p[A]=F},()=>y--,void 0,()=>{(!y||!M)&&(b||u.next(r?vo(r,p):p),u.complete())}))}});return e?i.pipe(Ol(e)):i}(fw(t,e).map(hw)).pipe((0,Ot.U)(Og))}}function Ud(n){return null!=n?mw(pw(n)):null}function dc(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function yw(n){return n._rawValidators}function jd(n){return n._rawAsyncValidators}function G_(n){return n?Array.isArray(n)?n:[n]:[]}function kg(n,e){return Array.isArray(n)?n.includes(e):n===e}function Pg(n,e){const t=G_(e);return G_(n).forEach(i=>{kg(t,i)||t.push(i)}),t}function Oo(n,e){return G_(e).filter(t=>!kg(n,t))}class $d{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=H_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ud(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Kn extends $d{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dr extends $d{get formDirective(){return null}get path(){return null}}class Cf{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let hc=(()=>{class n extends Cf{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Kn,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[f.qOj]}),n})(),fc=(()=>{class n extends Cf{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(dr,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[f.qOj]}),n})();function qd(n,e){z_(n,e),e.valueAccessor.writeValue(n.value),function Cw(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&W_(n,e)})}(n,e),function vI(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function _I(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&W_(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Dw(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Lg(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Vg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Sf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function z_(n,e){const t=yw(n);null!==e.validator?n.setValidators(dc(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=jd(n);null!==e.asyncValidator?n.setAsyncValidators(dc(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Sf(e._rawValidators,i),Sf(e._rawAsyncValidators,i)}function Vg(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=yw(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=jd(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Sf(e._rawValidators,r),Sf(e._rawAsyncValidators,r),t}function W_(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ug(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ya="VALID",jg="INVALID",pc="PENDING",Af="DISABLED";function zd(n){return(Hg(n)?n.validators:n)||null}function Aw(n){return Array.isArray(n)?H_(n):n||null}function $g(n,e){return(Hg(e)?e.asyncValidators:n)||null}function Mw(n){return Array.isArray(n)?Ud(n):n||null}function Hg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const xw=n=>n instanceof Mf,Q_=n=>n instanceof ev;function J_(n){return xw(n)?n.value:n.getRawValue()}function Rw(n,e){const t=Q_(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new f.vHH(1e3,"");if(!r[e])throw new f.vHH(1001,"")}function X_(n,e){Q_(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new f.vHH(1002,"")})}class Gg{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Aw(this._rawValidators),this._composedAsyncValidatorFn=Mw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ya}get invalid(){return this.status===jg}get pending(){return this.status==pc}get disabled(){return this.status===Af}get enabled(){return this.status!==Af}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Aw(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Mw(e)}addValidators(e){this.setValidators(Pg(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Pg(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Oo(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Oo(e,this._rawAsyncValidators))}hasValidator(e){return kg(this._rawValidators,e)}hasAsyncValidator(e){return kg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=pc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Af,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ya,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ya||this.status===pc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Af:ya}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=pc,this._hasOwnPendingAsyncValidator=!0;const t=hw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Sw(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Q_(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof tv)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Af:this.errors?jg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pc)?pc:this._anyControlsHaveStatus(jg)?jg:ya}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Hg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Mf extends Gg{constructor(e=null,t,r){super(zd(t),$g(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hg(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ug(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ug(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ev extends Gg{constructor(e,t,r){super(zd(t),$g(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){X_(this,e),Object.keys(e).forEach(r=>{Rw(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=J_(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class tv extends Gg{constructor(e,t,r){super(zd(t),$g(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){X_(this,e),e.forEach((r,i)=>{Rw(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>J_(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let Zg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ov=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const Yg=new f.OlP("NgModelWithFormControlWarning"),II={provide:dr,useExisting:(0,f.Gpc)(()=>xf)};let xf=(()=>{class n extends dr{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return qd(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Lg(t.control||null,t,!1),Ug(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function EI(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Lg(r||null,t),xw(i)&&(qd(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Iw(n,e){z_(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function QM(n,e){return Vg(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){z_(this.form,this),this._oldForm&&Vg(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(bi,10),f.Y36(Wa,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([II]),f.qOj,f.TTD]}),n})();const Lw={provide:Kn,useExisting:(0,f.Gpc)(()=>Xg)};let Xg=(()=>{class n extends Kn{constructor(t,r,i,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Z_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===B_?t=u:function ex(n){return Object.getPrototypeOf(n.constructor)===lc}(u)?r=u:i=u}),i||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Tw(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Fg(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(f.Y36(dr,13),f.Y36(bi,10),f.Y36(Wa,10),f.Y36(ma,10),f.Y36(Yg,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([Lw]),f.qOj,f.TTD]}),n})(),NI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[ov]]}),n})(),OI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Yg,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[NI]}),n})(),Kw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[_r,la,OI]]}),n})();var Zw=k(4986),Xr=k(5813);function nm(){return(0,Ur.e)((n,e)=>{let t,r=!1;n.subscribe((0,zn.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function rm(n,e){return n===e}var rt,Fo=k(2011),Qw=(k(4087),k(3942)),_e=k(5861),Za=k(9681),Rf=k(4859),Ya=k(1877),Gt=k(2090),Jw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ea={},im=im||{},Mt=Jw||self;function sm(){}function bv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Nf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Dv="closure_uid_"+(1e9*Math.random()>>>0),FI=0;function LI(n,e,t){return n.call.apply(n.bind,arguments)}function VI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ei(n,e,t){return(ei=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?LI:VI).apply(null,arguments)}function om(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ti(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,u){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[i].apply(r,c)}}function Ku(){this.s=this.s,this.o=this.o}var UI={};Ku.prototype.s=!1,Ku.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function PI(n){return Object.prototype.hasOwnProperty.call(n,Dv)&&n[Dv]||(n[Dv]=++FI)}(this);delete UI[n]}},Ku.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},eb=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in i&&e.call(t,i[u],u,n)};function tb(n){return Array.prototype.concat.apply([],arguments)}function am(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Of(n){return/^[\s\xa0]*$/.test(n)}var Ci,Cv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Di(n,e){return-1!=n.indexOf(e)}function um(n,e){return n<e?-1:n>e?1:0}e:{var Iv=Mt.navigator;if(Iv){var Tv=Iv.userAgent;if(Tv){Ci=Tv;break e}}Ci=""}function lm(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Sv(n){const e={};for(const t in n)e[t]=n[t];return e}var Av="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zu(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<Av.length;u++)t=Av[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Mv(n){return Mv[" "](n),n}Mv[" "]=sm;var _t,n,Kd=Di(Ci,"Opera"),kf=Di(Ci,"Trident")||Di(Ci,"MSIE"),cm=Di(Ci,"Edge"),nb=cm||kf,xv=Di(Ci,"Gecko")&&!(Di(Ci.toLowerCase(),"webkit")&&!Di(Ci,"Edge"))&&!(Di(Ci,"Trident")||Di(Ci,"MSIE"))&&!Di(Ci,"Edge"),rb=Di(Ci.toLowerCase(),"webkit")&&!Di(Ci,"Edge");function HI(){var n=Mt.document;return n?n.documentMode:void 0}e:{var Rv="",Nv=(n=Ci,xv?/rv:([^\);]+)(\)|;)/.exec(n):cm?/Edge\/([\d\.]+)/.exec(n):kf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):rb?/WebKit\/(\S+)/.exec(n):Kd?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Nv&&(Rv=Nv?Nv[1]:""),kf){var Ov=HI();if(null!=Ov&&Ov>parseFloat(Rv)){_t=String(Ov);break e}}_t=Rv}var dm={};var rr=Mt.document&&kf&&(HI()||parseInt(_t,10))||void 0,ux=function(){if(!Mt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Mt.addEventListener("test",sm,e),Mt.removeEventListener("test",sm,e)}catch(t){}return n}();function ni(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ff(n,e){if(ni.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(xv){e:{try{Mv(e.nodeName);var i=!0;break e}catch(u){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:qI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ff.Z.h.call(this)}}ni.prototype.h=function(){this.defaultPrevented=!0},ti(Ff,ni);var qI={2:"touch",3:"pen",4:"mouse"};Ff.prototype.h=function(){Ff.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Yd="closure_listenable_"+(1e6*Math.random()|0),ib=0;function sb(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++ib,this.ca=this.fa=!1}function Lf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function hm(n){this.src=n,this.g={},this.h=0}function kv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=Xw(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(Lf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Pv(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return i}return-1}hm.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=Pv(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new sb(e,this.src,u,!!r,i)).fa=t,n.push(e)),e};var yc="closure_lm_"+(1e6*Math.random()|0),Fv={};function ob(n,e,t,r,i){if(r&&r.once)return Lv(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)ob(n,e[u],t,r,i);return null}return t=Uv(t),n&&n[Yd]?n.N(e,t,Nf(r)?!!r.capture:!!r,i):ab(n,e,t,!1,r,i)}function ab(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=Nf(i)?!!i.capture:!!i,p=_c(n);if(p||(n[yc]=p=new hm(n)),(t=p.add(e,t,r,c,u)).proxy)return t;if(r=function fm(){var e=Vf;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)ux||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(ub(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Lv(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Lv(n,e[u],t,r,i);return null}return t=Uv(t),n&&n[Yd]?n.O(e,t,Nf(r)?!!r.capture:!!r,i):ab(n,e,t,!0,r,i)}function Vv(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)Vv(n,e[u],t,r,i);else r=Nf(r)?!!r.capture:!!r,t=Uv(t),n&&n[Yd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Pv(u=n.g[e],t,r,i))&&(Lf(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=_c(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Pv(e,t,r,i)),(t=-1<n?e[n]:null)&&pm(t))}function pm(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Yd])kv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ub(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=_c(e))?(kv(t,n),0==t.h&&(t.src=null,e[yc]=null)):Lf(n)}}}function ub(n){return n in Fv?Fv[n]:Fv[n]="on"+n}function Vf(n,e){if(n.ca)n=!0;else{e=new Ff(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&pm(n),n=t.call(r,e)}return n}function _c(n){return(n=n[yc])instanceof hm?n:null}var Bv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uv(n){return"function"==typeof n?n:(n[Bv]||(n[Bv]=function(e){return n.handleEvent(e)}),n[Bv])}function Hr(){Ku.call(this),this.i=new hm(this),this.P=this,this.I=null}function Gr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ni(e,n);else if(e instanceof ni)e.target=e.target||n;else{var i=e;Zu(e=new ni(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=Bf(c,r,!0,e)&&i}if(i=Bf(c=e.g=n,r,!0,e)&&i,i=Bf(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=Bf(c=e.g=t[u],r,!1,e)&&i}function Bf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.ca&&c.capture==t){var p=c.listener,y=c.ia||c.src;c.fa&&kv(n.i,c),i=!1!==p.call(y,r)&&i}}return i&&!r.defaultPrevented}ti(Hr,Ku),Hr.prototype[Yd]=!0,Hr.prototype.removeEventListener=function(n,e,t,r){Vv(this,n,e,t,r)},Hr.prototype.M=function(){if(Hr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Lf(t[r]);delete n.g[e],n.h--}}this.I=null},Hr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Hr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var gm=Mt.JSON.stringify;function zI(){var n=Uf;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var hb,cb=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new WI,n=>n.reset());class WI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function lx(n){Mt.setTimeout(()=>{throw n},0)}function db(n,e){hb||function cx(){var n=Mt.Promise.resolve(void 0);hb=function(){n.then(KI)}}(),mm||(hb(),mm=!0),Uf.add(n,e)}var mm=!1,Uf=new class lb{constructor(){this.h=this.g=null}add(e,t){const r=cb.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function KI(){for(var n;n=zI();){try{n.h.call(n.g)}catch(t){lx(t)}var e=cb;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}mm=!1}function ym(n,e){Hr.call(this),this.h=n||1,this.g=e||Mt,this.j=ei(this.kb,this),this.l=Date.now()}function _m(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function vc(n,e,t){if("function"==typeof n)t&&(n=ei(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ei(n.handleEvent,n)}return 2147483647<Number(e)?-1:Mt.setTimeout(n,e||0)}function fb(n){n.g=vc(()=>{n.g=null,n.i&&(n.i=!1,fb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ti(ym,Hr),(rt=ym.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Gr(this,"tick"),this.da&&(_m(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){ym.Z.M.call(this),_m(this),delete this.g};class ZI extends Ku{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fb(this)}M(){super.M(),this.g&&(Mt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jf(n){Ku.call(this),this.h=n,this.g={}}ti(jf,Ku);var pb=[];function gb(n,e,t,r){Array.isArray(t)||(t&&(pb[0]=t.toString()),t=pb);for(var i=0;i<t.length;i++){var u=ob(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function jv(n){lm(n.g,function(e,t){this.g.hasOwnProperty(t)&&pm(e)},n),n.g={}}function vm(){this.g=!0}function Jd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function QI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return gm(t)}catch(p){return e}}(n,t)+(r?" "+r:"")})}jf.prototype.M=function(){jf.Z.M.call(this),jv(this)},jf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vm.prototype.Aa=function(){this.g=!1},vm.prototype.info=function(){};var Yu={},yb=null;function $f(){return yb=yb||new Hr}function _b(n){ni.call(this,Yu.Ma,n)}function Ec(n){const e=$f();Gr(e,new _b(e,n))}function vb(n,e){ni.call(this,Yu.STAT_EVENT,n),this.stat=e}function Ii(n){const e=$f();Gr(e,new vb(e,n))}function $v(n,e){ni.call(this,Yu.Na,n),this.size=e}function Hf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Mt.setTimeout(function(){n()},e)}Yu.Ma="serverreachability",ti(_b,ni),Yu.STAT_EVENT="statevent",ti(vb,ni),Yu.Na="timingevent",ti($v,ni);var Em={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Eb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Gf(){}function Hv(){}Gf.prototype.h=null;var zv,qf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Gv(){ni.call(this,"d")}function qv(){ni.call(this,"c")}function wm(){}function zf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new jf(this),this.P=JI,this.W=new ym(n=nb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new bb}function bb(){this.i=null,this.g="",this.h=!1}ti(Gv,ni),ti(qv,ni),ti(wm,Gf),wm.prototype.g=function(){return new XMLHttpRequest},wm.prototype.i=function(){return{}},zv=new wm;var JI=45e3,bm={},Wf={};function Wv(n,e,t){n.K=1,n.v=Sm(Ju(e)),n.s=t,n.U=!0,Db(n,null)}function Db(n,e){n.F=Date.now(),Kf(n),n.A=Ju(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Mb(t.h,"t",r),n.C=0,t=n.l.H,n.h=new bb,n.g=jb(n.l,t?e:null,!n.s),0<n.O&&(n.L=new ZI(ei(n.Ia,n,n.g),n.O)),gb(n.V,n.g,"readystatechange",n.gb),e=n.H?Sv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Ec(1),function YI(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",p=u.split("&"),y=0;y<p.length;y++){var b=p[y].split("=");if(1<b.length){var A=b[0];b=b[1];var M=A.split("_");c=2<=M.length&&"type"==M[1]?c+(A+"=")+b+"&":c+(A+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Kv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Cb(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=XI(n,t),i==Wf){4==e&&(n.o=4,Ii(14),r=!1),Jd(n.j,n.m,null,"[Incomplete Response]");break}if(i==bm){n.o=4,Ii(15),Jd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Jd(n.j,n.m,i,null),Zv(n,i)}Kv(n)&&i!=Wf&&i!=bm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ii(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),sh(e),e.L=!0,Ii(11))):(Jd(n.j,n.m,t,"[Invalid Chunked Response]"),Qa(n),eh(n))}function XI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Wf:(t=Number(e.substring(t,r)),isNaN(t)?bm:(r+=1)+t>e.length?Wf:(e=e.substr(r,t),n.C=r+t,e))}function Kf(n){n.Y=Date.now()+n.P,Dm(n,n.P)}function Dm(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Hf(ei(n.eb,n),e)}function Xd(n){n.B&&(Mt.clearTimeout(n.B),n.B=null)}function eh(n){0==n.l.G||n.I||d0(n.l,n)}function Qa(n){Xd(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,_m(n.W),jv(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Zv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Mm(t.i,n)))if(t.I=n.N,!n.J&&Mm(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Hf(ei(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Pm(t),Nm(t)}ih(t),Ii(18)}if(1>=Cc(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else eu(t,11)}else if((n.J||t.g==n)&&Pm(t),!Of(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const A=b[3];null!=A&&(t.ma=A,t.h.info("VER="+t.ma));const M=b[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const F=b[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const G=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var u=r.i;!u.g&&(Di(G,"spdy")||Di(G,"quic")||Di(G,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(el(u,u.h),u.h=null))}if(r.D){const ne=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(r.sa=ne,Dn(r.F,r.D,ne))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=Ub(r,r.H?r.la:null,r.W),c.J){oT(r.i,c);var p=c,y=r.K;y&&p.setTimeout(y),p.B&&(Xd(p),Kf(p)),r.g=c}else Vb(r);0<t.l.length&&km(t)}else"stop"!=b[0]&&"close"!=b[0]||eu(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?eu(t,7):Tc(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}Ec(4)}catch(b){}}function Zf(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(bv(n)||"string"==typeof n)eb(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(bv(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function eT(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(bv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}}function th(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof th)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Cm(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];wc(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)wc(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function wc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(rt=zf.prototype).setTimeout=function(n){this.P=n},rt.gb=function(n){n=n.target;const e=this.L;e&&3==Xa(n)?e.l():this.Ia(n)},rt.Ia=function(n){try{if(n==this.g)e:{const A=Xa(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>A)&&(3!=A||nb||this.g&&(this.h.h||this.g.ga()||u0(this.g)))){this.I||4!=A||7==e||Ec(8==e||0>=M?3:2),Xd(this);var t=this.g.ba();this.N=t;t:if(Kv(this)){var r=u0(this.g);n="";var i=r.length,u=4==Xa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Qa(this),eh(this);var c="";break t}this.h.i=new Mt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function Qd(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.X,A,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Of(p)){var b=p;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Ii(12),Qa(this),eh(this);break e}Jd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zv(this,t)}this.U?(Cb(this,A,c),nb&&this.i&&3==A&&(gb(this.V,this.W,"tick",this.fb),this.W.start())):(Jd(this.j,this.m,c,null),Zv(this,c)),4==A&&Qa(this),this.i&&!this.I&&(4==A?d0(this.l,this):(this.i=!1,Kf(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Ii(12)):(this.o=0,Ii(13)),Qa(this),eh(this)}}}catch(A){}},rt.fb=function(){if(this.g){var n=Xa(this.g),e=this.g.ga();this.C<e.length&&(Xd(this),Cb(this,n,e),this.i&&4!=n&&Kf(this))}},rt.cancel=function(){this.I=!0,Qa(this)},rt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function mb(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ec(3),Ii(17)),Qa(this),this.o=2,eh(this)):Dm(this,this.Y-n)},(rt=th.prototype).R=function(){Cm(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},rt.T=function(){return Cm(this),this.g.concat()},rt.get=function(n,e){return wc(this.h,n)?this.h[n]:e},rt.set=function(n,e){wc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},rt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],u=this.get(i);n.call(e,u,i,this)}};var Yv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Qu){this.g=void 0!==e?e:n.g,Im(this,n.j),this.s=n.s,bc(this,n.i),Tm(this,n.m),this.l=n.l,e=n.h;var t=new Ja;t.i=e.i,e.g&&(t.g=new th(e.g),t.h=e.h),Dc(this,t),this.o=n.o}else n&&(t=String(n).match(Yv))?(this.g=!!e,Im(this,t[1]||"",!0),this.s=Yf(t[2]||""),bc(this,t[3]||"",!0),Tm(this,t[4]),this.l=Yf(t[5]||"",!0),Dc(this,t[6]||"",!0),this.o=Yf(t[7]||"")):(this.g=!!e,this.h=new Ja(null,this.g))}function Ju(n){return new Qu(n)}function Im(n,e,t){n.j=t?Yf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function bc(n,e,t){n.i=t?Yf(e,!0):e}function Tm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Dc(n,e,t){e instanceof Ja?(n.h=e,function e0(n,e){e&&!n.j&&(Xu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Jv(this,r),Mb(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Qf(e,Qv)),n.h=new Ja(e,n.g))}function Dn(n,e,t){n.h.set(e,t)}function Sm(n){return Dn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Yf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Qf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,nT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function nT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Qu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Qf(e,Tb,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Qf(e,Tb,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Qf(t,"/"==t.charAt(0)?Ab:Sb,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Qf(t,Am)),n.join("")};var Tb=/[#\/\?@]/g,Sb=/[#\?:]/g,Ab=/[#\?]/g,Qv=/[#\?@]/g,Am=/#/g;function Ja(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Xu(n){n.g||(n.g=new th,n.h=0,n.i&&function tT(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Jv(n,e){Xu(n),e=nh(n,e),wc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,wc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Cm(n)))}function Xv(n,e){return Xu(n),e=nh(n,e),wc(n.g.h,e)}function Mb(n,e,t){Jv(n,e),0<t.length&&(n.i=null,n.g.set(nh(n,e),am(t)),n.h+=t.length)}function nh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function iT(n){this.l=n||sT,n=Mt.PerformanceNavigationTiming?0<(n=Mt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Mt.g&&Mt.g.Ea&&Mt.g.Ea()&&Mt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=Ja.prototype).add=function(n,e){Xu(this),this.i=null,n=nh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rt.forEach=function(n,e){Xu(this),this.g.forEach(function(t,r){eb(t,function(i){n.call(e,i,r,this)},this)},this)},rt.T=function(){Xu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],u=0;u<i.length;u++)t.push(e[r]);return t},rt.R=function(n){Xu(this);var e=[];if("string"==typeof n)Xv(this,n)&&(e=tb(e,this.g.get(nh(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=tb(e,n[t])}return e},rt.set=function(n,e){return Xu(this),this.i=null,Xv(this,n=nh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var c=i;""!==r[u]&&(c+="="+encodeURIComponent(String(r[u]))),n.push(c)}}return this.i=n.join("&")};var sT=10;function xb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Cc(n){return n.h?1:n.g?n.g.size:0}function Mm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function el(n,e){n.g?n.g.add(e):n.h=e}function oT(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function t0(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return am(n.i)}function n0(){}function hx(){this.g=new n0}function Rb(n,e,t){const r=t||"";try{Zf(n,function(i,u){let c=i;Nf(i)&&(c=gm(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Jf(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(u){}}function Ic(n){this.l=n.$b||null,this.j=n.ib||!1}function xm(n,e){Hr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Rm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}iT.prototype.cancel=function(){if(this.i=t0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},n0.prototype.stringify=function(n){return Mt.JSON.stringify(n,void 0)},n0.prototype.parse=function(n){return Mt.JSON.parse(n,void 0)},ti(Ic,Gf),Ic.prototype.g=function(){return new xm(this.l,this.j)},Ic.prototype.i=function(n){return function(){return n}}({}),ti(xm,Hr);var Rm=0;function Nb(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Xf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ep(n)}function ep(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=xm.prototype).open=function(n,e){if(this.readyState!=Rm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ep(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Mt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xf(this)),this.readyState=Rm},rt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ep(this)),this.g&&(this.readyState=3,ep(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Mt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Nb(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Xf(this):ep(this),3==this.readyState&&Nb(this)}},rt.Ua=function(n){this.g&&(this.response=this.responseText=n,Xf(this))},rt.Ta=function(n){this.g&&(this.response=n,Xf(this))},rt.ha=function(){this.g&&Xf(this)},rt.setRequestHeader=function(n,e){this.v.append(n,e)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(xm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var aT=Mt.JSON.parse;function wr(n){Hr.call(this),this.headers=new th,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ob,this.K=this.L=!1}ti(wr,Hr);var Ob="",uT=/^https?$/i,lT=["POST","PUT"];function kb(n){return"content-type"==n.toLowerCase()}function r0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,s0(n),np(n)}function s0(n){n.D||(n.D=!0,Gr(n,"complete"),Gr(n,"error"))}function o0(n){if(n.h&&void 0!==im&&(!n.C[1]||4!=Xa(n)||2!=n.ba()))if(n.v&&4==Xa(n))vc(n.Fa,0,n);else if(Gr(n,"readystatechange"),4==Xa(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(Yv)[1]||null;if(!i&&Mt.self&&Mt.self.location){var u=Mt.self.location.protocol;i=u.substr(0,u.length-1)}r=!uT.test(i?i.toLowerCase():"")}t=r}if(t)Gr(n,"complete"),Gr(n,"success");else{n.m=6;try{var c=2<Xa(n)?n.g.statusText:""}catch(y){c=""}n.j=c+" ["+n.ba()+"]",s0(n)}}finally{np(n)}}}function np(n,e){if(n.g){a0(n);const t=n.g,r=n.C[0]?sm:null;n.g=null,n.C=null,e||Gr(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function a0(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Mt.clearTimeout(n.A),n.A=null)}function Xa(n){return n.g?n.g.readyState:0}function u0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Ob:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function l0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Pb(n){let e="";return lm(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Dn(n,e,t))}function rp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Fb(n){this.za=0,this.l=[],this.h=new vm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=rp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=rp("baseRetryDelayMs",5e3,n),this.$a=rp("retryDelaySeedMs",1e4,n),this.Ya=rp("forwardChannelMaxRetries",2,n),this.ra=rp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new iT(n&&n.concurrentRequestLimit),this.Ca=new hx,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Tc(n){if(Om(n),3==n.G){var e=n.V++,t=Ju(n.F);Dn(t,"SID",n.J),Dn(t,"RID",e),Dn(t,"TYPE","terminate"),ip(n,t),(e=new zf(n,n.h,e,void 0)).K=2,e.v=Sm(Ju(t)),t=!1,Mt.navigator&&Mt.navigator.sendBeacon&&(t=Mt.navigator.sendBeacon(e.v.toString(),"")),!t&&Mt.Image&&((new Image).src=e.v,t=!0),t||(e.g=jb(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Kf(e)}f0(n)}function Nm(n){n.g&&(sh(n),n.g.cancel(),n.g=null)}function Om(n){Nm(n),n.u&&(Mt.clearTimeout(n.u),n.u=null),Pm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Mt.clearTimeout(n.m),n.m=null)}function io(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&km(n)}function km(n){xb(n.i)||n.m||(n.m=!0,db(n.Ha,n),n.C=0)}function rh(n,e){var t;t=e?e.m:n.V++;const r=Ju(n.F);Dn(r,"SID",n.J),Dn(r,"RID",t),Dn(r,"AID",n.U),ip(n,r),n.o&&n.s&&l0(r,n.o,n.s),t=new zf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Lb(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),el(n.i,t),Wv(t,r,e)}function ip(n,e){n.j&&Zf({},function(t,r){Dn(e,r,t)})}function Lb(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ei(n.j.Oa,n.j,n):null;e:{var i=n.l;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let p=!0;for(let y=0;y<t;y++){let b=i[y].h;const A=i[y].g;if(b-=u,0>b)u=Math.max(0,i[y].h-100),p=!1;else try{Rb(A,c,"req"+b+"_")}catch(M){r&&r(A)}}if(p){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Vb(n){n.g||n.u||(n.Y=1,db(n.Ga,n),n.A=0)}function ih(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Hf(ei(n.Ga,n),h0(n,n.A)),n.A++,0))}function sh(n){null!=n.B&&(Mt.clearTimeout(n.B),n.B=null)}function Bb(n){n.g=new zf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ju(n.oa);Dn(e,"RID","rpc"),Dn(e,"SID",n.J),Dn(e,"CI",n.N?"0":"1"),Dn(e,"AID",n.U),ip(n,e),Dn(e,"TYPE","xmlhttp"),n.o&&n.s&&l0(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Sm(Ju(e)),t.s=null,t.U=!0,Db(t,n)}function Pm(n){null!=n.v&&(Mt.clearTimeout(n.v),n.v=null)}function d0(n,e){var t=null;if(n.g==e){Pm(n),sh(n),n.g=null;var r=2}else{if(!Mm(n.i,e))return;t=e.D,oT(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Gr(r=$f(),new $v(r,t,e,i)),km(n)}else Vb(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function c0(n,e){return!(Cc(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Hf(ei(n.Ha,n,e),h0(n,n.C)),n.C++,0)))}(n,e)||2==r&&ih(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:eu(n,5);break;case 4:eu(n,10);break;case 3:eu(n,6);break;default:eu(n,2)}}function h0(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function eu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ei(n.jb,n);t||(t=new Qu("//www.google.com/images/cleardot.gif"),Mt.location&&"http"==Mt.location.protocol||Im(t,"https"),Sm(t)),function fx(n,e){const t=new vm;if(Mt.Image){const r=new Image;r.onload=om(Jf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=om(Jf,t,r,"TestLoadImage: error",!1,e),r.onabort=om(Jf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=om(Jf,t,r,"TestLoadImage: timeout",!1,e),Mt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ii(2);n.G=0,n.j&&n.j.va(e),f0(n),Om(n)}function f0(n){n.G=0,n.I=-1,n.j&&((0!=t0(n.i).length||0!=n.l.length)&&(n.i.i.length=0,am(n.l),n.l.length=0),n.j.ua())}function Ub(n,e,t){let r=function dx(n){return n instanceof Qu?Ju(n):new Qu(n,void 0)}(t);if(""!=r.i)e&&bc(r,e+"."+r.i),Tm(r,r.m);else{const i=Mt.location;r=function Ib(n,e,t,r){var i=new Qu(null,void 0);return n&&Im(i,n),e&&bc(i,e),t&&Tm(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&lm(n.aa,function(i,u){Dn(r,u,i)}),t=n.sa,(e=n.D)&&t&&Dn(r,e,t),Dn(r,"VER",n.ma),ip(n,r),r}function jb(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wr(t&&n.Ba&&!n.qa?new Ic({ib:!0}):n.qa)).L=n.H,e}function cT(){}function oh(){if(kf&&!(10<=Number(rr)))throw Error("Environmental error: no available transport.")}function qi(n,e){Hr.call(this),this.g=new Fb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Of(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Of(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new tl(this)}function p0(n){Gv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Fm(){qv.call(this),this.status=1}function tl(n){this.g=n}(rt=wr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zv.g(),this.C=function wb(n){return n.h||(n.h=n.i())}(this.u?this.u:zv),this.g.onreadystatechange=ei(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void r0(this,u)}n=t||"";const i=new th(this.headers);r&&Zf(r,function(u,c){i.set(c,u)}),r=function jI(n){e:{var e=kb;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Mt.FormData&&n instanceof Mt.FormData,!(0<=Xw(lT,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(u,c){this.g.setRequestHeader(c,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{a0(this),0<this.B&&((this.K=function tp(n){return kf&&function GI(){return function $I(n){var e=dm;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Cv(String(_t)).split("."),t=Cv("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",u=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=um(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||um(0==i[2].length,0==u[2].length)||um(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ei(this.pa,this)):this.A=vc(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){r0(this,u)}},rt.pa=function(){void 0!==im&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gr(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Gr(this,"complete"),Gr(this,"abort"),np(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),np(this,!0)),wr.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?o0(this):this.cb())},rt.cb=function(){o0(this)},rt.ba=function(){try{return 2<Xa(this)?this.g.status:-1}catch(n){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},rt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),aT(e)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=Fb.prototype).ma=8,rt.G=1,rt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},rt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new zf(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=Sv(u),Zu(u,this.P)):u=this.P),null===this.o&&(i.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Lb(this,i,e),Dn(t=Ju(this.F),"RID",n),Dn(t,"CVER",22),this.D&&Dn(t,"X-HTTP-Session-Id",this.D),ip(this,t),this.o&&u&&l0(t,this.o,u),el(this.i,i),this.Ra&&Dn(t,"TYPE","init"),this.ja?(Dn(t,"$req",e),Dn(t,"SID","null"),i.$=!0,Wv(i,t,null)):Wv(i,t,e),this.G=2}}else 3==this.G&&(n?rh(this,n):0==this.l.length||xb(this.i)||rh(this))},rt.Ga=function(){if(this.u=null,Bb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Hf(ei(this.bb,this),n)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ii(10),Nm(this),Bb(this))},rt.ab=function(){null!=this.v&&(this.v=null,Nm(this),ih(this),Ii(19))},rt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ii(2)):(this.h.info("Failed to ping google.com"),Ii(1))},(rt=cT.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},oh.prototype.g=function(n,e){return new qi(n,e)},ti(qi,Hr),qi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),db(ei(n.hb,n,e))),Ii(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Ub(n,null,n.W),km(n)},qi.prototype.close=function(){Tc(this.g)},qi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,io(this.g,e)}else this.v?((e={}).__data__=gm(n),io(this.g,e)):io(this.g,n)},qi.prototype.M=function(){this.g.j=null,delete this.j,Tc(this.g),delete this.g,qi.Z.M.call(this)},ti(p0,Gv),ti(Fm,qv),ti(tl,cT),tl.prototype.xa=function(){Gr(this.g,"a")},tl.prototype.wa=function(n){Gr(this.g,new p0(n))},tl.prototype.va=function(n){Gr(this.g,new Fm(n))},tl.prototype.ua=function(){Gr(this.g,"b")},oh.prototype.createWebChannel=oh.prototype.g,qi.prototype.send=qi.prototype.u,qi.prototype.open=qi.prototype.m,qi.prototype.close=qi.prototype.close,Em.NO_ERROR=0,Em.TIMEOUT=8,Em.HTTP_ERROR=6,Eb.COMPLETE="complete",Hv.EventType=qf,qf.OPEN="a",qf.CLOSE="b",qf.ERROR="c",qf.MESSAGE="d",Hr.prototype.listen=Hr.prototype.N,wr.prototype.listenOnce=wr.prototype.O,wr.prototype.getLastError=wr.prototype.La,wr.prototype.getLastErrorCode=wr.prototype.Da,wr.prototype.getStatus=wr.prototype.ba,wr.prototype.getResponseJson=wr.prototype.Qa,wr.prototype.getResponseText=wr.prototype.ga,wr.prototype.send=wr.prototype.ea;var dT=Ea.createWebChannelTransport=function(){return new oh},hT=Ea.getStatEventTarget=function(){return $f()},g0=Ea.ErrorCode=Em,fT=Ea.EventType=Eb,$b=Ea.Event=Yu,Lm=Ea.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Hb=Ea.FetchXmlHttpFactory=Ic,Vm=Ea.WebChannel=Hv,Gb=Ea.XhrIo=wr;const m0="@firebase/firestore";class ri{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ri.UNAUTHENTICATED=new ri(null),ri.GOOGLE_CREDENTIALS=new ri("google-credentials-uid"),ri.FIRST_PARTY=new ri("first-party-uid"),ri.MOCK_USER=new ri("mock-user");let Sc="9.6.10";const tu=new Ya.Yd("@firebase/firestore");function y0(){return tu.logLevel}function Pe(n,...e){if(tu.logLevel<=Ya.in.DEBUG){const t=e.map(_0);tu.debug(`Firestore (${Sc}): ${n}`,...t)}}function tn(n,...e){if(tu.logLevel<=Ya.in.ERROR){const t=e.map(_0);tu.error(`Firestore (${Sc}): ${n}`,...t)}}function wa(n,...e){if(tu.logLevel<=Ya.in.WARN){const t=e.map(_0);tu.warn(`Firestore (${Sc}): ${n}`,...t)}}function _0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function it(n="Unexpected state"){const e=`FIRESTORE (${Sc}) INTERNAL ASSERTION FAILED: `+n;throw tn(e),new Error(e)}function xt(n,e){n||it()}function We(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Gt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class zb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ri.UNAUTHENTICATED))}shutdown(){}}class v0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Wb{constructor(e){this.t=e,this.currentUser=ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Pr,e.enqueueRetryable(()=>u(this.currentUser))};const p=()=>{const b=c;e.enqueueRetryable((0,_e.Z)(function*(){yield b.promise,yield u(r.currentUser)}))},y=b=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(b=>y(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?y(b):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Pr)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new zb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new ri(e)}}class Kb{constructor(e,t,r){this.type="FirstParty",this.user=ri.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Bm{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Kb(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Um{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class px{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.p;return this.p=u.token,Pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?i(u):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),this.p=t.token,new Um(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ds{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Zb(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ds.A=-1;class op{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Zb(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function qt(n,e){return n<e?-1:n>e?1:0}function ah(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function jm(n){return n+"\0"}class Zn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zn.fromMillis(Date.now())}static fromDate(e){return Zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Zn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new Zn(0,0))}static max(){return new Tt(new Zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Yb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ac(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function E0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class uh{constructor(e,t,r){void 0===t?t=0:t>e.length&&it(),void 0===r?r=e.length-t:r>e.length-t&&it(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===uh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof uh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nn extends uh{construct(e,t,r){return new nn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new nn(t)}static emptyPath(){return new nn([])}}const Qb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends uh{construct(e,t,r){return new Fr(e,t,r)}static isValidIdentifier(e){return Qb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Re(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Re(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Re(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(u(),i++)}if(u(),c)throw new Re(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fr(t)}static emptyPath(){return new Fr([])}}class lh{constructor(e){this.fields=e,e.sort(Fr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ah(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class br{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new br(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new br(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}br.EMPTY_BYTE_STRING=new br("");const yT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nu(n){if(xt(!!n),"string"==typeof n){let e=0;const t=yT.exec(n);if(xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yn(n.seconds),nanos:Yn(n.nanos)}}function Yn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function nl(n){return"string"==typeof n?br.fromBase64String(n):br.fromUint8Array(n)}function $m(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Jb(n){const e=n.mapValue.fields.__previous_value__;return $m(e)?Jb(e):e}function ap(n){const e=nu(n.mapValue.fields.__local_write_time__.timestampValue);return new Zn(e.seconds,e.nanos)}class gx{constructor(e,t,r,i,u,c,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.useFetchStreams=y}}class ba{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ba("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ba&&e.projectId===this.projectId&&e.database===this.database}}function ch(n){return null==n}function Hm(n){return 0===n&&1/n==-1/0}function _T(n){return"number"==typeof n&&Number.isInteger(n)&&!Hm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class He{constructor(e){this.path=e}static fromPath(e){return new He(nn.fromString(e))}static fromName(e){return new He(nn.fromString(e).popFirst(5))}static empty(){return new He(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new nn(e.slice()))}}const vT={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ET={nullValue:"NULL_VALUE"};function dh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$m(n)?4:C0(n)?9:10:it()}function ru(n,e){if(n===e)return!0;const t=dh(n);if(t!==dh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ap(n).isEqual(ap(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=nu(r.timestampValue),c=nu(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,nl(n.bytesValue).isEqual(nl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Yn(r.geoPointValue.latitude)===Yn(i.geoPointValue.latitude)&&Yn(r.geoPointValue.longitude)===Yn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Yn(r.integerValue)===Yn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Yn(r.doubleValue),c=Yn(i.doubleValue);return u===c?Hm(u)===Hm(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return ah(n.arrayValue.values||[],e.arrayValue.values||[],ru);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(Yb(u)!==Yb(c))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(void 0===c[p]||!ru(u[p],c[p])))return!1;return!0}(n,e);default:return it()}var i}function rl(n,e){return void 0!==(n.values||[]).find(t=>ru(t,e))}function Mc(n,e){if(n===e)return 0;const t=dh(n),r=dh(e);if(t!==r)return qt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=Yn(i.integerValue||i.doubleValue),p=Yn(u.integerValue||u.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return w0(n.timestampValue,e.timestampValue);case 4:return w0(ap(n),ap(e));case 5:return qt(n.stringValue,e.stringValue);case 6:return function(i,u){const c=nl(i),p=nl(u);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),p=u.split("/");for(let y=0;y<c.length&&y<p.length;y++){const b=qt(c[y],p[y]);if(0!==b)return b}return qt(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=qt(Yn(i.latitude),Yn(u.latitude));return 0!==c?c:qt(Yn(i.longitude),Yn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],p=u.values||[];for(let y=0;y<c.length&&y<p.length;++y){const b=Mc(c[y],p[y]);if(b)return b}return qt(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){const c=i.fields||{},p=Object.keys(c),y=u.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let A=0;A<p.length&&A<b.length;++A){const M=qt(p[A],b[A]);if(0!==M)return M;const F=Mc(c[p[A]],y[b[A]]);if(0!==F)return F}return qt(p.length,b.length)}(n.mapValue,e.mapValue);default:throw it()}}function w0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return qt(n,e);const t=nu(n),r=nu(e),i=qt(t.seconds,r.seconds);return 0!==i?i:qt(t.nanos,r.nanos)}function il(n){return Gm(n)}function Gm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=nu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?nl(n.bytesValue).toBase64():"referenceValue"in n?He.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=Gm(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const p of i)c?c=!1:u+=",",u+=`${p}:${Gm(r.fields[p])}`;return u+"}"}(n.mapValue):it();var e}function xc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Xb(n){return!!n&&"integerValue"in n}function Rc(n){return!!n&&"arrayValue"in n}function b0(n){return!!n&&"nullValue"in n}function D0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function up(n){return!!n&&"mapValue"in n}function qm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ac(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=qm(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function C0(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function eD(n,e){return void 0===n?e:void 0===e||Mc(n,e)>0?n:e}function zm(n,e){return void 0===n?e:void 0===e||Mc(n,e)<0?n:e}class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!up(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qm(t)}setAll(e){let t=Fr.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=qm(c):i.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());up(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ru(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];up(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ac(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Ti(qm(this.value))}}function wT(n){const e=[];return Ac(n.fields,(t,r)=>{const i=new Fr([t]);if(up(r)){const u=wT(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new lh(e)}class jn{constructor(e,t,r,i,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=c}static newInvalidDocument(e){return new jn(e,0,Tt.min(),Tt.min(),Ti.empty(),0)}static newFoundDocument(e,t,r){return new jn(e,1,t,Tt.min(),r,0)}static newNoDocument(e,t){return new jn(e,2,t,Tt.min(),Ti.empty(),0)}static newUnknownDocument(e,t){return new jn(e,3,t,Tt.min(),Ti.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class I0{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function T0(n){return n.fields.find(e=>2===e.kind)}function hh(n){return n.fields.filter(e=>2!==e.kind)}I0.UNKNOWN_ID=-1;class Wm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Km{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Km(0,iu.min())}}function tD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Tt.fromTimestamp(1e9===r?new Zn(t+1,0):new Zn(t,r));return new iu(i,He.empty(),e)}function S0(n){return new iu(n.readTime,n.key,-1)}class iu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new iu(Tt.min(),He.empty(),-1)}static max(){return new iu(Tt.max(),He.empty(),-1)}}function Lo(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=He.comparator(n.documentKey,e.documentKey),0!==t?t:qt(n.largestBatchId,e.largestBatchId))}class bT{constructor(e,t=null,r=[],i=[],u=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=p,this.P=null}}function Zm(n,e=null,t=[],r=[],i=null,u=null,c=null){return new bT(n,e,t,r,i,u,c)}function Nc(n){const e=We(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+il(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ch(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>il(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>il(r)).join(",")),e.P=t}return e.P}function Oc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!TT(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!ru(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!M0(n.startAt,e.startAt)&&M0(n.endAt,e.endAt)}function lp(n){return He.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function cp(n,e){return n.filters.filter(t=>t instanceof ii&&t.field.isEqual(e))}class ii extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new nD(e,t,r):"array-contains"===t?new A0(e,r):"in"===t?new Vo(e,r):"not-in"===t?new IT(e,r):"array-contains-any"===t?new mx(e,r):new ii(e,t,r)}static V(e,t,r){return"in"===t?new rD(e,r):new CT(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Mc(t,this.value)):null!==t&&dh(this.value)===dh(t)&&this.v(Mc(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return it()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class nD extends ii{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.v(t)}}class rD extends ii{constructor(e,t){super(e,"in",t),this.keys=iD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class CT extends ii{constructor(e,t){super(e,"not-in",t),this.keys=iD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function iD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class A0 extends ii{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rc(t)&&rl(t.arrayValue,this.value)}}class Vo extends ii{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&rl(this.value.arrayValue,t)}}class IT extends ii{constructor(e,t){super(e,"not-in",t)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!rl(this.value.arrayValue,t)}}class mx extends ii{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>rl(this.value.arrayValue,r))}}class sl{constructor(e,t){this.position=e,this.inclusive=t}}class kc{constructor(e,t="asc"){this.field=e,this.dir=t}}function TT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function sD(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?He.comparator(He.fromName(c.referenceValue),t.key):Mc(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function M0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ru(n.position[t],e.position[t]))return!1;return!0}class su{constructor(e,t=null,r=[],i=[],u=null,c="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=y,this.D=null,this.C=null}}function ST(n,e,t,r,i,u,c,p){return new su(n,e,t,r,i,u,c,p)}function Pc(n){return new su(n)}function dp(n){return!ch(n.limit)&&"F"===n.limitType}function Ym(n){return!ch(n.limit)&&"L"===n.limitType}function x0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Qm(n){for(const e of n.filters)if(e.S())return e.field;return null}function hp(n){return null!==n.collectionGroup}function ol(n){const e=We(n);if(null===e.D){e.D=[];const t=Qm(e),r=x0(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new kc(t)),e.D.push(new kc(Fr.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new kc(Fr.keyField(),u))}}}return e.D}function Cs(n){const e=We(n);if(!e.C)if("F"===e.limitType)e.C=Zm(e.path,e.collectionGroup,ol(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of ol(e))t.push(new kc(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new sl(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new sl(e.startAt.position,!e.startAt.inclusive):null;e.C=Zm(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function oD(n,e,t){return new su(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fh(n,e){return Oc(Cs(n),Cs(e))&&n.limitType===e.limitType}function R0(n){return`${Nc(Cs(n))}|lt:${n.limitType}`}function N0(n){return`Query(target=${function DT(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${il(r.value)}`;var r}).join(", ")}]`),ch(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>il(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>il(t)).join(",")),`Target(${e})`}(Cs(n))}; limitType=${n.limitType})`}function O0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):He.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const p=sD(i,u,c);return i.inclusive?p<=0:p<0}(t.startAt,ol(t),r)||t.endAt&&!function(i,u,c){const p=sD(i,u,c);return i.inclusive?p>=0:p>0}(t.endAt,ol(t),r)));var t,r}function AT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function MT(n){return(e,t)=>{let r=!1;for(const i of ol(n)){const u=aD(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function aD(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(i,u,c){const p=u.data.field(i),y=c.data.field(i);return null!==p&&null!==y?Mc(p,y):it()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}function uD(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hm(e)?"-0":e}}function lD(n){return{integerValue:""+n}}function cD(n,e){return _T(e)?lD(e):uD(n,e)}class k0{constructor(){this._=void 0}}function yx(n,e,t){return n instanceof fp?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof Fc?pp(n,e):n instanceof Lc?dD(n,e):function(r,i){const u=xT(r,i),c=al(u)+al(r.k);return Xb(u)&&Xb(r.k)?lD(c):uD(r.M,c)}(n,e)}function _x(n,e,t){return n instanceof Fc?pp(n,e):n instanceof Lc?dD(n,e):t}function xT(n,e){return n instanceof Vc?Xb(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class fp extends k0{}class Fc extends k0{constructor(e){super(),this.elements=e}}function pp(n,e){const t=P0(e);for(const r of n.elements)t.some(i=>ru(i,r))||t.push(r);return{arrayValue:{values:t}}}class Lc extends k0{constructor(e){super(),this.elements=e}}function dD(n,e){let t=P0(e);for(const r of n.elements)t=t.filter(i=>!ru(i,r));return{arrayValue:{values:t}}}class Vc extends k0{constructor(e,t){super(),this.M=e,this.k=t}}function al(n){return Yn(n.integerValue||n.doubleValue)}function P0(n){return Rc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Bc{constructor(e,t){this.field=e,this.transform=t}}class RT{constructor(e,t){this.version=e,this.transformResults=t}}class ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Uc{}function vx(n,e,t){n instanceof gp?function(r,i,u){const c=r.value.clone(),p=pD(r.fieldTransforms,i,u.transformResults);c.setAll(p),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof jc?function(r,i,u){if(!ph(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=pD(r.fieldTransforms,i,u.transformResults),p=i.data;p.setAll(fD(r)),p.setAll(c),i.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function hD(n,e,t){var i;n instanceof gp?function(r,i,u){if(!ph(r.precondition,i))return;const c=r.value.clone(),p=V0(r.fieldTransforms,u,i);c.setAll(p),i.convertToFoundDocument(L0(i),c).setHasLocalMutations()}(n,e,t):n instanceof jc?function(r,i,u){if(!ph(r.precondition,i))return;const c=V0(r.fieldTransforms,u,i),p=i.data;p.setAll(fD(r)),p.setAll(c),i.convertToFoundDocument(L0(i),p).setHasLocalMutations()}(n,e,t):ph(n.precondition,i=e)&&i.convertToNoDocument(Tt.min())}function Ex(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=xT(r.transform,i||null);null!=u&&(null==t&&(t=Ti.empty()),t.set(r.field,u))}return t||null}function NT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ah(t,r,(i,u)=>function F0(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Fc&&r instanceof Fc||t instanceof Lc&&r instanceof Lc?ah(t.elements,r.elements,ru):t instanceof Vc&&r instanceof Vc?ru(t.k,r.k):t instanceof fp&&r instanceof fp);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function L0(n){return n.isFoundDocument()?n.version:Tt.min()}class gp extends Uc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class jc extends Uc{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}}function fD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function pD(n,e,t){const r=new Map;xt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,p=e.data.field(u.field);r.set(u.field,_x(c,p,t[i]))}return r}function V0(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,yx(u,c,e))}return r}class gh extends Uc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Jm extends Uc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class OT{constructor(e){this.count=e}}var Dr,Qt;function Xm(n){switch(n){default:return it();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function kT(n){if(void 0===n)return tn("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Dr.OK:return ue.OK;case Dr.CANCELLED:return ue.CANCELLED;case Dr.UNKNOWN:return ue.UNKNOWN;case Dr.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Dr.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Dr.INTERNAL:return ue.INTERNAL;case Dr.UNAVAILABLE:return ue.UNAVAILABLE;case Dr.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Dr.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Dr.NOT_FOUND:return ue.NOT_FOUND;case Dr.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Dr.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Dr.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Dr.ABORTED:return ue.ABORTED;case Dr.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Dr.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Dr.DATA_LOSS:return ue.DATA_LOSS;default:return it()}}(Qt=Dr||(Dr={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";class ou{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ac(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return E0(this.inner)}size(){return this.innerSize}}class Qn{constructor(e,t){this.comparator=e,this.root=t||si.EMPTY}insert(e,t){return new Qn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,si.BLACK,null,null))}remove(e){return new Qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,si.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ey(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ey(this.root,e,this.comparator,!1)}getReverseIterator(){return new ey(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ey(this.root,e,this.comparator,!0)}}class ey{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class si{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=null!=r?r:si.RED,this.left=null!=i?i:si.EMPTY,this.right=null!=u?u:si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new si(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return si.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}si.EMPTY=null,si.RED=!0,si.BLACK=!1,si.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(n,e,t,r,i){return this}insert(n,e,t){return new si(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $n{constructor(e){this.comparator=e,this.data=new Qn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new PT(this.data.getIterator())}getIteratorFrom(e){return new PT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof $n)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $n(this.comparator);return t.data=e,t}}class PT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function mp(n){return n.hasNext()?n.getNext():void 0}const FT=new Qn(He.comparator);function so(){return FT}const wx=new Qn(He.comparator);function gD(){return wx}function ty(){return new ou(n=>n.toString(),(n,e)=>n.isEqual(e))}const bx=new Qn(He.comparator),Dx=new $n(He.comparator);function _n(...n){let e=Dx;for(const t of n)e=e.add(t);return e}const Cx=new $n(qt);function B0(){return Cx}class ny{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,ry.createSynthesizedTargetChangeForCurrentChange(e,t)),new ny(Tt.min(),r,B0(),so(),_n())}}class ry{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ry(br.EMPTY_BYTE_STRING,t,_n(),_n(),_n())}}class s{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class o{constructor(e,t){this.targetId=e,this.$=t}}class a{constructor(e,t,r=br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class l{constructor(){this.B=0,this.L=v(),this.U=br.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=_n(),t=_n(),r=_n();return this.L.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:it()}}),new ry(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=v()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class d{constructor(e){this.nt=e,this.st=new Map,this.it=so(),this.rt=g(),this.ot=new $n(qt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:it()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const u=i.target;if(lp(u))if(0===r){const c=new He(u.path);this.ct(t,c,jn.newNoDocument(c,Tt.min()))}else xt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,c)=>{const p=this.wt(c);if(p){if(u.current&&lp(p.target)){const y=new He(p.target.path);null!==this.it.get(y)||this.It(c,y)||this.ct(c,y,jn.newNoDocument(y,e))}u.j&&(t.set(c,u.H()),u.J())}});let r=_n();this.rt.forEach((u,c)=>{let p=!0;c.forEachWhile(y=>{const b=this.wt(y);return!b||2===b.purpose||(p=!1,!1)}),p&&(r=r.add(u))}),this.it.forEach((u,c)=>c.setReadTime(e));const i=new ny(e,t,this.ot,this.it,r);return this.it=so(),this.rt=g(),this.ot=new $n(qt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new l,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new $n(qt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new l),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function g(){return new Qn(He.comparator)}function v(){return new Qn(He.comparator)}const w={asc:"ASCENDING",desc:"DESCENDING"},D={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class S{constructor(e,t){this.databaseId=e,this.N=t}}function x(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P(n,e){return n.N?e.toBase64():e.toUint8Array()}function U(n,e){return x(n,e.toTimestamp())}function W(n){return xt(!!n),Tt.fromTimestamp(function(e){const t=nu(e);return new Zn(t.seconds,t.nanos)}(n))}function ye(n,e){return(t=n,new nn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Fe(n){const e=nn.fromString(n);return xt(Tx(e)),e}function Be(n,e){return ye(n.databaseId,e.path)}function Ke(n,e){const t=Fe(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(fn(t))}function Ce(n,e){return ye(n.databaseId,e)}function gt(n){const e=Fe(n);return 4===e.length?nn.emptyPath():fn(e)}function jt(n){return new nn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fn(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function is(n,e,t){return{name:Be(n,e),fields:t.value.mapValue.fields}}function ul(n,e,t){const r=Ke(n,e.name),i=W(e.updateTime),u=new Ti({mapValue:{fields:e.fields}}),c=jn.newFoundDocument(r,i,u);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function $c(n,e){let t;if(e instanceof gp)t={update:is(n,e.key,e.value)};else if(e instanceof gh)t={delete:Be(n,e.key)};else if(e instanceof jc)t={update:is(n,e.key,e.data),updateMask:yk(e.fieldMask)};else{if(!(e instanceof Jm))return it();t={verify:Be(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof fp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Fc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Lc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Vc)return{fieldPath:u.field.canonicalString(),increment:c.k};throw it()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:U(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:it()),t;var i}function yp(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?ir.updateTime(W(i.updateTime)):void 0!==i.exists?ir.exists(i.exists):ir.none():ir.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,c){let p=null;"setToServerValue"in c?(xt("REQUEST_TIME"===c.setToServerValue),p=new fp):"appendMissingElements"in c?p=new Fc(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new Lc(c.removeAllFromArray.values||[]):"increment"in c?p=new Vc(u,c.increment):it();const y=Fr.fromServerFormat(c.fieldPath);return new Bc(y,p)}(n,i)):[];var i;if(e.update){const i=Ke(n,e.update.name),u=new Ti({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new lh((e.updateMask.fieldPaths||[]).map(b=>Fr.fromServerFormat(b)));return new jc(i,u,c,t,r)}return new gp(i,u,t,r)}if(e.delete){const i=Ke(n,e.delete);return new gh(i,t)}if(e.verify){const i=Ke(n,e.verify);return new Jm(i,t)}return it()}function iy(n,e){return{documents:[Ce(n,e.path)]}}function sy(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Ce(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ce(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const b=y.map(A=>function(M){if("=="===M.op){if(D0(M.value))return{unaryFilter:{field:ay(M.field),op:"IS_NAN"}};if(b0(M.value))return{unaryFilter:{field:ay(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(D0(M.value))return{unaryFilter:{field:ay(M.field),op:"IS_NOT_NAN"}};if(b0(M.value))return{unaryFilter:{field:ay(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ay(M.field),op:pk(M.op),value:M.value}}}(A));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(y){if(0!==y.length)return y.map(b=>{return{field:ay((A=b).field),direction:fk(A.dir)};var A})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=(b=e.limit,n.N||ch(b)?b:{value:b});var b,p,y;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function oy(n){let e=gt(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xt(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let u=[];t.where&&(u=Ix(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(A=>{return new kc(uy((M=A).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let p=null;t.limit&&(p=function(A){let M;return M="object"==typeof A?A.value:A,ch(M)?null:M}(t.limit));let y=null;var A;t.startAt&&(y=new sl((A=t.startAt).values||[],!!A.before));let b=null;return t.endAt&&(b=function(A){return new sl(A.values||[],!A.before)}(t.endAt)),ST(e,i,c,u,p,"F",y,b)}function Ix(n){return n?void 0!==n.unaryFilter?[mk(n)]:void 0!==n.fieldFilter?[gk(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Ix(e)).reduce((e,t)=>e.concat(t)):it():[]}function fk(n){return w[n]}function pk(n){return D[n]}function ay(n){return{fieldPath:n.canonicalString()}}function uy(n){return Fr.fromServerFormat(n.fieldPath)}function gk(n){return ii.create(uy(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(n.fieldFilter.op),n.fieldFilter.value)}function mk(n){switch(n.unaryFilter.op){case"IS_NAN":const e=uy(n.unaryFilter.field);return ii.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=uy(n.unaryFilter.field);return ii.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=uy(n.unaryFilter.field);return ii.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=uy(n.unaryFilter.field);return ii.create(i,"!=",{nullValue:"NULL_VALUE"});default:return it()}}function yk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Tx(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Si(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Sx(e)),e=_k(n.get(t),e);return Sx(e)}function _k(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Sx(n){return n+"\x01\x01"}function au(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),nn.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const c=n.indexOf("\x01",u);switch((c<0||c>t)&&it(),n.charAt(c+1)){case"\x01":const p=n.substring(u,c);let y;0===i.length?y=p:(i+=p,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(u,c),i+="\0";break;case"\x11":i+=n.substring(u,c+1);break;default:it()}u=c+2}return new nn(r)}const Ax=["userId","batchId"];function mD(n,e){return[n,Si(e)]}function Mx(n,e,t){return[n,Si(e),t]}const vk={},Ek=["prefixPath","collectionGroup","readTime","documentId"],wk=["prefixPath","collectionGroup","documentId"],bk=["collectionGroup","readTime","prefixPath","documentId"],Dk=["canonicalId","targetId"],Ck=["targetId","path"],Ik=["path","targetId"],Tk=["collectionId","parent"],Sk=["indexId","uid"],Ak=["uid","sequenceNumber"],Mk=["indexId","uid","arrayValue","directionalValue","documentKey"],xk=["indexId","uid","documentKey"],Rk=["userId","collectionPath","documentId"],Nk=["userId","collectionPath","largestBatchId"],Ok=["userId","collectionGroup","largestBatchId"],xx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],kk=[...xx,"documentOverlays"],Rx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Pk=[...Rx,"indexConfiguration","indexState","indexEntries"],Nx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ox{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let i=0,u=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++u,c&&u===i&&t()},y=>r(y))}),c=!0,u===i&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(i=>i?pe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}}class yD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Pr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new G0(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=LT(r.target.error);this.At.reject(new G0(e,i))}}static open(e,t,r,i){try{return new yD(t,e.transaction(i,r))}catch(u){throw new G0(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Lk(t)}}class uu{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===uu.Vt((0,Gt.z$)())&&tn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),vp(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Gt.hl)())return!1;if(uu.St())return!0;const e=(0,Gt.z$)(),t=uu.Vt(e),r=0<t&&t<10,i=uu.Dt(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,_e.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=c=>{r(c.target.result)},u.onblocked=()=>{i(new G0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=c=>{const p=c.target.error;i("VersionError"===p.name?new Re(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Re(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new G0(e,p))},u.onupgradeneeded=c=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.Pt.kt(c.target.result,u.transaction,c.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,_e.Z)(function*(){const c="readonly"===t;let p=0;for(;;){++p;try{u.db=yield u.Nt(e);const y=yD.open(u.db,e,c?"readonly":"readwrite",r),b=i(y).next(A=>(y.bt(),A)).catch(A=>(y.abort(A),pe.reject(A))).toPromise();return b.catch(()=>{}),yield y.Rt,b}catch(y){const b="FirebaseError"!==y.name&&p<3;if(Pe("SimpleDb","Transaction failed with error:",y.message,"Retrying:",b),u.close(),!b)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Fk{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return vp(this.Ft.delete())}}class G0 extends Re{constructor(e,t){super(ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function _p(n){return"IndexedDbTransactionError"===n.name}class Lk{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),vp(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),vp(this.store.add(e))}get(e){return vp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),vp(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),vp(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.Gt(i,(c,p)=>{u.push(p)}).next(()=>u)}{const i=this.store.getAll(r.range);return new pe((u,c)=>{i.onerror=p=>{c(p.target.error)},i.onsuccess=p=>{u(p.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new pe((i,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Qt(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Gt(i,(u,c,p)=>p.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Gt(i,t)}zt(e){const t=this.cursor({});return new pe((r,i)=>{t.onerror=u=>{const c=LT(u.target.error);i(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():r()}):r()}})}Gt(e,t){const r=[];return new pe((i,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void i();const y=new Fk(p),b=t(p.primaryKey,p.value,y);if(b instanceof pe){const A=b.catch(M=>(y.done(),pe.reject(M)));r.push(A)}y.isDone?i():null===y.Lt?p.continue():p.continue(y.Lt)}}).next(()=>pe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vp(n){return new pe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=LT(r.target.error);t(i)}})}let kx=!1;function LT(n){const e=uu.Vt((0,Gt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kx||(kx=!0,setTimeout(()=>{throw r},0)),r}}return n}class Px extends Ox{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Ai(n,e){const t=We(n);return uu.xt(t.Ht,e)}class VT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&vx(u,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&hD(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&hD(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Tt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_n())}isEqual(e){return this.batchId===e.batchId&&ah(this.mutations,e.mutations,(t,r)=>NT(t,r))&&ah(this.baseMutations,e.baseMutations,(t,r)=>NT(t,r))}}class BT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xt(e.mutations.length===r.length);let i=bx;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new BT(e,t,r,i)}}class UT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class mh{constructor(e,t,r,i,u=Tt.min(),c=Tt.min(),p=br.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p}withSequenceNumber(e){return new mh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new mh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new mh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Fx{constructor(e){this.Jt=e}}function Lx(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:_D(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Be(i=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:x(i,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ep(e.version)};else{if(!e.isUnknownDocument())return it();r.unknownDocument={path:t.path.toArray(),version:Ep(e.version)}}var i,u;return r}function _D(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ep(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wp(n){const e=new Zn(n.seconds,n.nanoseconds);return Tt.fromTimestamp(e)}function ly(n,e){const t=(e.baseMutations||[]).map(u=>yp(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const c=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(c.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>yp(n.Jt,u)),i=Zn.fromMillis(e.localWriteTimeMs);return new VT(e.batchId,i,t,r)}function q0(n){const e=wp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?wp(n.lastLimboFreeSnapshotVersion):Tt.min();let r;var i;return void 0!==n.query.documents?(xt(1===(i=n.query).documents.length),r=Cs(Pc(gt(i.documents[0])))):r=Cs(oy(n.query)),new mh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,br.fromBase64String(n.resumeToken))}function Vx(n,e){const t=Ep(e.snapshotVersion),r=Ep(e.lastLimboFreeSnapshotVersion);let i;i=lp(e.target)?iy(n.Jt,e.target):sy(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Nc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function jT(n){const e=oy({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?oD(e,e.limit,"L"):e}function $T(n,e){return new UT(e.largestBatchId,yp(n.Jt,e.overlayMutation))}function Bx(n,e){const t=e.path.lastSegment();return[n,Si(e.path.popLast()),t]}class Bk{getBundleMetadata(e,t){return Ux(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:wp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Ux(e).put({bundleId:(r=t).id,createTime:Ep(W(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return jx(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:jT(i.bundledQuery),readTime:wp(i.readTime)};var i})}saveNamedQuery(e,t){return jx(e).put({name:(r=t).name,readTime:Ep(W(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Ux(n){return Ai(n,"bundles")}function jx(n){return Ai(n,"namedQueries")}class HT{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new HT(e,t.uid||"")}getOverlay(e,t){return z0(e).get(Bx(this.userId,t)).next(r=>r?$T(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((u,c)=>{const p=new UT(t,c);i.push(this.Xt(e,p))}),pe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Si(c.getCollectionPath())));const u=[];return i.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(z0(e).Qt("collectionPathOverlayIndex",p))}),pe.waitFor(u)}getOverlaysForCollection(e,t,r){const i=ty(),u=Si(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return z0(e).qt("collectionPathOverlayIndex",c).next(p=>{for(const y of p){const b=$T(this.M,y);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=ty();let c;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return z0(e).Wt({index:"collectionGroupOverlayIndex",range:p},(y,b,A)=>{const M=$T(this.M,b);u.size()<i||M.largestBatchId===c?(u.set(M.getKey(),M),c=M.largestBatchId):A.done()}).next(()=>u)}Xt(e,t){return z0(e).put(function(r,i,u){const[c,p,y]=Bx(i,u.mutation.key);return{userId:i,collectionPath:p,documentId:y,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:$c(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function z0(n){return Ai(n,"documentOverlays")}class cy{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Yn(e.integerValue));else if("doubleValue"in e){const r=Yn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Hm(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(nl(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?C0(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):it()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),He.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Uk(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function $x(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=Uk(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}cy.fe=new cy;class jk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=$x(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=$x(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class $k{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class Hk{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class vD{constructor(){this.De=new jk,this.Ce=new $k(this.De),this.xe=new Hk(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class yh{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new yh(this.indexId,this.documentKey,this.arrayValue,r)}}function bp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Hx(n.arrayValue,e.arrayValue),0!==t?t:(t=Hx(n.directionalValue,e.directionalValue),0!==t?t:He.comparator(n.documentKey,e.documentKey)))}function Hx(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Gk{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=T0(e);if(void 0!==t&&!this.Be(t))return!1;const r=hh(e);let i=0,u=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const c=r[i];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[u++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(u>=this.Me.length||!this.Ue(this.Me[u++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class qk{constructor(){this.qe=new GT}addToCollectionParentIndex(e,t){return this.qe.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getFieldIndex(e,t){return pe.resolve(null)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class GT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new $n(nn.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $n(nn.comparator)).toArray()}}const ED=new Uint8Array(0);class zk{constructor(e){this.user=e,this.Ge=new GT,this.Ke=new ou(t=>Nc(t),(t,r)=>Oc(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const u={collectionId:r,parent:Si(i)};return Gx(e).put(u)}return pe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[jm(t),""],!1,!0);return Gx(e).qt(i).next(u=>{for(const c of u){if(c.collectionId!==t)break;r.push(au(c.parent))}return r})}addFieldIndex(e,t){const r=wD(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var u;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=wD(e),i=bD(e),u=W0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=W0(e);let i=!0;const u=new Map;return pe.forEach(this.Qe(t),c=>this.getFieldIndex(e,c).next(p=>{i&&(i=!!p),u.set(c,p)})).next(()=>{if(i){let c=_n();return pe.forEach(u,(p,y)=>{var b;Pe("IndexedDbIndexManager",`Using index ${b=p,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Le=>`${Le.fieldPath}:${Le.kind}`).join(",")}`} to execute ${Nc(t)}`);const A=function(Le,Ze){const qe=T0(Ze);if(void 0===qe)return null;for(const vt of cp(Le,qe.fieldPath))switch(vt.op){case"array-contains-any":return vt.value.arrayValue.values||[];case"array-contains":return[vt.value]}return null}(y,p),M=function(Le,Ze){const qe=new Map;for(const vt of hh(Ze))for(const ct of cp(Le,vt.fieldPath))switch(ct.op){case"==":case"in":qe.set(vt.fieldPath.canonicalString(),ct.value);break;case"not-in":case"!=":return qe.set(vt.fieldPath.canonicalString(),ct.value),Array.from(qe.values())}return null}(y,p),F=function(Le,Ze){const qe=[];let vt=!0;for(const Jt of hh(Ze)){let Cn,En=!0;for(const Zt of cp(Le,Jt.fieldPath)){let In,As=!0;switch(Zt.op){case"<":case"<=":In="nullValue"in(ct=Zt.value)?ET:"booleanValue"in ct?{booleanValue:!1}:"integerValue"in ct||"doubleValue"in ct?{doubleValue:NaN}:"timestampValue"in ct?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in ct?{stringValue:""}:"bytesValue"in ct?{bytesValue:""}:"referenceValue"in ct?xc(ba.empty(),He.empty()):"geoPointValue"in ct?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in ct?{arrayValue:{}}:"mapValue"in ct?{mapValue:{}}:it();break;case"==":case"in":case">=":In=Zt.value;break;case">":In=Zt.value,As=!1;break;case"!=":case"not-in":In=ET}eD(Cn,In)===In&&(Cn=In,En=As)}if(null!==Le.startAt)for(let Zt=0;Zt<Le.orderBy.length;++Zt)if(Le.orderBy[Zt].field.isEqual(Jt.fieldPath)){const In=Le.startAt.position[Zt];eD(Cn,In)===In&&(Cn=In,En=Le.startAt.inclusive);break}if(void 0===Cn)return null;qe.push(Cn),vt&&(vt=En)}var ct;return new sl(qe,vt)}(y,p),B=function(Le,Ze){const qe=[];let vt=!0;for(const Jt of hh(Ze)){let Cn,En=!0;for(const Zt of cp(Le,Jt.fieldPath)){let In,As=!0;switch(Zt.op){case">=":case">":In="nullValue"in(ct=Zt.value)?{booleanValue:!1}:"booleanValue"in ct?{doubleValue:NaN}:"integerValue"in ct||"doubleValue"in ct?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in ct?{stringValue:""}:"stringValue"in ct?{bytesValue:""}:"bytesValue"in ct?xc(ba.empty(),He.empty()):"referenceValue"in ct?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in ct?{arrayValue:{}}:"arrayValue"in ct?{mapValue:{}}:"mapValue"in ct?vT:it(),As=!1;break;case"==":case"in":case"<=":In=Zt.value;break;case"<":In=Zt.value,As=!1;break;case"!=":case"not-in":In=vT}zm(Cn,In)===In&&(Cn=In,En=As)}if(null!==Le.endAt)for(let Zt=0;Zt<Le.orderBy.length;++Zt)if(Le.orderBy[Zt].field.isEqual(Jt.fieldPath)){const In=Le.endAt.position[Zt];zm(Cn,In)===In&&(Cn=In,En=Le.endAt.inclusive);break}if(void 0===Cn)return null;qe.push(Cn),vt&&(vt=En)}var ct;return new sl(qe,vt)}(y,p),G=this.je(p,y,F),ne=this.je(p,y,B),we=this.We(p,y,M),Ye=this.ze(p.indexId,A,G,!!F&&F.inclusive,ne,!!B&&B.inclusive,we);return pe.forEach(Ye,Le=>r.Kt(Le,t.limit).next(Ze=>{Ze.forEach(qe=>{c=c.add(new He(au(qe.documentKey)))})}))}).next(()=>c)}return pe.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,i,u,c,p){const y=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=u?u.length:1),b=y/(null!=t?t.length:1),A=[];for(let M=0;M<y;++M){const F=t?this.He(t[M/b]):ED,B=r?this.Je(e,F,r[M%b],i):this.Ye(e),G=u?this.Xe(e,F,u[M%b],c):this.Ye(e+1);A.push(...this.createRange(B,G,p.map(ne=>this.Je(e,F,ne,!0))))}return A}Je(e,t,r,i){const u=new yh(e,He.empty(),t,r);return i?u:u.ke()}Xe(e,t,r,i){const u=new yh(e,He.empty(),t,r);return i?u.ke():u}Ye(e){return new yh(e,He.empty(),ED,ED)}getFieldIndex(e,t){const r=new Gk(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{const c=u.filter(p=>r.$e(p));return c.sort((p,y)=>y.fields.length-p.fields.length),c.length>0?c[0]:null})}Ze(e,t){const r=new vD;for(const i of hh(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const c=r.Ne(i.kind);cy.fe.Zt(u,c)}return r.Se()}He(e){const t=new vD;return cy.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new vD);let u=0;for(const c of hh(e)){const p=r[u++];for(const y of i)if(this.tn(t,c.fieldPath)&&Rc(p))i=this.en(i,c,p);else{const b=y.Ne(c.kind);cy.fe.Zt(p,b)}}return this.nn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const i=[...e],u=[];for(const c of r.arrayValue.values||[])for(const p of i){const y=new vD;y.seed(p.Se()),cy.fe.Zt(c,y.Ne(t.kind)),u.push(y)}return u}tn(e,t){return!!e.filters.find(r=>r instanceof ii&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=wD(e),i=bD(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const c=[];return pe.forEach(u,p=>i.get([p.indexId,this.uid]).next(y=>{c.push(function(b,A){const M=A?new Km(A.sequenceNumber,new iu(wp(A.readTime),new He(au(A.documentKey)),A.largestBatchId)):Km.empty(),F=b.fields.map(([B,G])=>new Wm(Fr.fromServerFormat(B),G));return new I0(b.indexId,b.collectionGroup,F,M)}(p,y))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:qt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=wD(e),u=bD(e);return this.sn(e).next(c=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>pe.forEach(p,y=>{return u.put({indexId:y.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:Ep((F=r).readTime),documentKey:Si(F.documentKey.path),largestBatchId:F.largestBatchId});var F})))}updateIndexEntries(e,t){const r=new Map;return pe.forEach(t,(i,u)=>{const c=r.get(i.collectionGroup);return(c?pe.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),pe.forEach(p,y=>this.rn(e,i,y).next(b=>{const A=this.on(u,y);return b.isEqual(A)?pe.resolve():this.un(e,u,b,A)}))))})}an(e,t,r){return W0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:Si(t.key.path)})}cn(e,t,r){return W0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,Si(t.key.path)])}rn(e,t,r){const i=W0(e);let u=new $n(bp);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,Si(t.path)])},(c,p)=>{u=u.add(new yh(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>u)}on(e,t){let r=new $n(bp);const i=this.Ze(t,e);if(null==i)return r;const u=T0(t);if(null!=u){const c=e.data.field(u.fieldPath);if(Rc(c))for(const p of c.arrayValue.values||[])r=r.add(new yh(t.indexId,e.key,this.He(p),i))}else r=r.add(new yh(t.indexId,e.key,ED,i));return r}un(e,t,r,i){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(c,p,y,b,A){const M=c.getIterator(),F=p.getIterator();let B=mp(M),G=mp(F);for(;B||G;){let ne=!1,we=!1;if(B&&G){const Ye=y(B,G);Ye<0?we=!0:Ye>0&&(ne=!0)}else null!=B?we=!0:ne=!0;ne?(b(G),G=mp(F)):we?(A(B),B=mp(M)):(B=mp(M),G=mp(F))}}(r,i,bp,c=>{u.push(this.an(e,t,c))},c=>{u.push(this.cn(e,t,c))}),pe.waitFor(u)}sn(e){let t=1;return bD(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,p)=>bp(c,p)).filter((c,p,y)=>!p||0!==bp(c,y[p-1]));const i=[];i.push(e);for(const c of r){const p=bp(c,e),y=bp(c,t);if(0===p)i[0]=e.ke();else if(p>0&&y<0)i.push(c),i.push(c.ke());else if(y>0)break}i.push(t);const u=[];for(let c=0;c<i.length;c+=2)u.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,""],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,""]));return u}}function Gx(n){return Ai(n,"collectionParents")}function W0(n){return Ai(n,"indexEntries")}function wD(n){return Ai(n,"indexConfiguration")}function bD(n){return Ai(n,"indexState")}const qx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new oo(e,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zx(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],c=IDBKeyRange.only(t.batchId);let p=0;const y=r.Wt({range:c},(A,M,F)=>(p++,F.delete()));u.push(y.next(()=>{xt(1===p)}));const b=[];for(const A of t.mutations){const M=Mx(e,A.key.path,t.batchId);u.push(i.delete(M)),b.push(A.key)}return pe.waitFor(u).next(()=>b)}function DD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw it();e=n.noDocument}return JSON.stringify(e).length}oo.DEFAULT_COLLECTION_PERCENTILE=10,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oo.DEFAULT=new oo(41943040,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oo.DISABLED=new oo(-1,0,0);class qT{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.hn={}}static Yt(e,t,r,i){xt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new qT(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _h(e).Wt({index:"userMutationsIndex",range:r},(i,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=dy(e),c=_h(e);return c.add({}).next(p=>{xt("number"==typeof p);const y=new VT(p,t,r,i),b=function(F,B,G){const ne=G.baseMutations.map(Ye=>$c(F.Jt,Ye)),we=G.mutations.map(Ye=>$c(F.Jt,Ye));return{userId:B,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:ne,mutations:we}}(this.M,this.userId,y),A=[];let M=new $n((F,B)=>qt(F.canonicalString(),B.canonicalString()));for(const F of i){const B=Mx(this.userId,F.key.path,p);M=M.add(F.key.path.popLast()),A.push(c.put(b)),A.push(u.put(B,vk))}return M.forEach(F=>{A.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.hn[p]=y.keys()}),pe.waitFor(A).next(()=>y)})}lookupMutationBatch(e,t){return _h(e).get(t).next(r=>r?(xt(r.userId===this.userId),ly(this.M,r)):null)}ln(e,t){return this.hn[t]?pe.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.hn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return _h(e).Wt({index:"userMutationsIndex",range:i},(c,p,y)=>{p.userId===this.userId&&(xt(p.batchId>=r),u=ly(this.M,p)),y.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return _h(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,u,c)=>{r=u.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _h(e).qt("userMutationsIndex",t).next(r=>r.map(i=>ly(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=mD(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return dy(e).Wt({range:i},(c,p,y)=>{const[b,A,M]=c,F=au(A);if(b===this.userId&&t.path.isEqual(F))return _h(e).get(M).next(B=>{if(!B)throw it();xt(B.userId===this.userId),u.push(ly(this.M,B))});y.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $n(qt);const i=[];return t.forEach(u=>{const c=mD(this.userId,u.path),p=IDBKeyRange.lowerBound(c),y=dy(e).Wt({range:p},(b,A,M)=>{const[F,B,G]=b,ne=au(B);F===this.userId&&u.path.isEqual(ne)?r=r.add(G):M.done()});i.push(y)}),pe.waitFor(i).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=mD(this.userId,r),c=IDBKeyRange.lowerBound(u);let p=new $n(qt);return dy(e).Wt({range:c},(y,b,A)=>{const[M,F,B]=y,G=au(F);M===this.userId&&r.isPrefixOf(G)?G.length===i&&(p=p.add(B)):A.done()}).next(()=>this.fn(e,p))}fn(e,t){const r=[],i=[];return t.forEach(u=>{i.push(_h(e).get(u).next(c=>{if(null===c)throw it();xt(c.userId===this.userId),r.push(ly(this.M,c))}))}),pe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return zx(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),pe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return pe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return dy(e).Wt({range:r},(u,c,p)=>{if(u[0]===this.userId){const y=au(u[1]);i.push(y)}else p.done()}).next(()=>{xt(0===i.length)})})}containsKey(e,t){return Wx(e,this.userId,t)}_n(e){return Kx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Wx(n,e,t){const r=mD(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return dy(n).Wt({range:u,jt:!0},(p,y,b)=>{const[A,M,F]=p;A===e&&M===i&&(c=!0),b.done()}).next(()=>c)}function _h(n){return Ai(n,"mutations")}function dy(n){return Ai(n,"documentMutations")}function Kx(n){return Ai(n,"mutationQueues")}class Dp{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Dp(0)}static gn(){return new Dp(-1)}}class Wk{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new Dp(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>Tt.fromTimestamp(new Zn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.pn(e,i)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hy(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return hy(e).Wt((c,p)=>{const y=q0(p);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,u.push(this.removeTargetData(e,y)))}).next(()=>pe.waitFor(u)).next(()=>i)}forEachTarget(e,t){return hy(e).Wt((r,i)=>{const u=q0(i);t(u)})}yn(e){return Zx(e).get("targetGlobalKey").next(t=>(xt(null!==t),t))}pn(e,t){return Zx(e).put("targetGlobalKey",t)}In(e,t){return hy(e).put(Vx(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Nc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return hy(e).Wt({range:i,index:"queryTargetsIndex"},(c,p,y)=>{const b=q0(p);Oc(t,b.target)&&(u=b,y.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=vh(e);return t.forEach(c=>{const p=Si(c.path);i.push(u.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,c))}),pe.waitFor(i)}removeMatchingKeys(e,t,r){const i=vh(e);return pe.forEach(t,u=>{const c=Si(u.path);return pe.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=vh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=vh(e);let u=_n();return i.Wt({range:r,jt:!0},(c,p,y)=>{const b=au(c[1]),A=new He(b);u=u.add(A)}).next(()=>u)}containsKey(e,t){const r=Si(t.path),i=IDBKeyRange.bound([r],[jm(r)],!1,!0);let u=0;return vh(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([c,p],y,b)=>{0!==c&&(u++,b.done())}).next(()=>u>0)}Et(e,t){return hy(e).get(t).next(r=>r?q0(r):null)}}function hy(n){return Ai(n,"targets")}function Zx(n){return Ai(n,"targetGlobal")}function vh(n){return Ai(n,"targetDocuments")}function Cp(n){return zT.apply(this,arguments)}function zT(){return zT=(0,_e.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==Nx)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),zT.apply(this,arguments)}function Yx([n,e],[t,r]){const i=qt(n,t);return 0===i?qt(e,r):i}class Kk{constructor(e){this.En=e,this.buffer=new $n(Yx),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Yx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Zk{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,_e.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){_p(i)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Cp(i)}yield t.vn(e)}))}}class Yk{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return pe.resolve(Ds.A);const r=new Kk(t);return this.Sn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Sn.Cn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(qx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qx):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,i,u,c,p,y,b;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,c=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,p=Date.now(),this.removeTargets(e,r,t))).next(M=>(u=M,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(b=Date.now(),y0()<=Ya.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-A}ms\n\tDetermined least recently used ${i} in `+(p-c)+`ms\n\tRemoved ${u} targets in `+(y-p)+`ms\n\tRemoved ${M} documents in `+(b-y)+`ms\nTotal Duration: ${b-A}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:M})))}}class Qk{constructor(e,t){this.db=e,this.garbageCollector=new Yk(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,i)=>t(i))}addReference(e,t,r){return CD(e,r)}removeReference(e,t,r){return CD(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return CD(e,t)}Mn(e,t){return function(r,i){let u=!1;return Kx(r).zt(c=>Wx(r,c,i).next(p=>(p&&(u=!0),pe.resolve(!p)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.kn(e,(c,p)=>{if(p<=t){const y=this.Mn(e,c).next(b=>{if(!b)return u++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Tt.min()),vh(e).delete([0,Si(c.path)])))});i.push(y)}}).next(()=>pe.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return CD(e,t)}kn(e,t){const r=vh(e);let i,u=Ds.A;return r.Wt({index:"documentTargetsIndex"},([c,p],{path:y,sequenceNumber:b})=>{0===c?(u!==Ds.A&&t(new He(au(i)),u),u=b,i=y):u=Ds.A}).next(()=>{u!==Ds.A&&t(new He(au(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function CD(n,e){return vh(n).put((r=n.currentSequenceNumber,{targetId:0,path:Si(e.path),sequenceNumber:r}));var r}class Qx{constructor(){this.changes=new ou(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Jk{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ip(e).put(r)}removeEntry(e,t,r){return Ip(e).delete(function(i,u){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],_D(u),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=jn.newInvalidDocument(t);return Ip(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(K0(t))},(i,u)=>{r=this.Fn(t,u)}).next(()=>r)}$n(e,t){let r={size:0,document:jn.newInvalidDocument(t)};return Ip(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(K0(t))},(i,u)=>{r={document:this.Fn(t,u),size:DD(u)}}).next(()=>r)}getEntries(e,t){let r=so();return this.Bn(e,t,(i,u)=>{const c=this.Fn(i,u);r=r.insert(i,c)}).next(()=>r)}Ln(e,t){let r=so(),i=new Qn(He.comparator);return this.Bn(e,t,(u,c)=>{const p=this.Fn(u,c);r=r.insert(u,p),i=i.insert(u,DD(c))}).next(()=>({documents:r,Un:i}))}Bn(e,t,r){if(t.isEmpty())return pe.resolve();let i=new $n(eR);t.forEach(y=>i=i.add(y));const u=IDBKeyRange.bound(K0(i.first()),K0(i.last())),c=i.getIterator();let p=c.getNext();return Ip(e).Wt({index:"documentKeyIndex",range:u},(y,b,A)=>{const M=He.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;p&&eR(p,M)<0;)r(p,null),p=c.getNext();p&&p.isEqual(M)&&(r(p,b),p=c.hasNext()?c.getNext():null),p?A.Ut(K0(p)):A.done()}).next(()=>{for(;p;)r(p,null),p=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),_D(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ip(e).qt(IDBKeyRange.bound(i,u,!0)).next(c=>{let p=so();for(const y of c){const b=this.Fn(He.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);p=p.insert(b.key,b)}return p})}getAllFromCollectionGroup(e,t,r,i){let u=so();const c=Xx(t,r),p=Xx(t,iu.max());return Ip(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(y,b,A)=>{const M=this.Fn(He.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);u=u.insert(M.key,M),u.size===i&&A.done()}).next(()=>u)}newChangeBuffer(e){return new Xk(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Jx(e).get("remoteDocumentGlobalKey").next(t=>(xt(!!t),t))}On(e,t){return Jx(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function Vk(n,e){let t;if(e.document)t=ul(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=He.fromSegments(e.noDocument.path),i=wp(e.noDocument.readTime);t=jn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return it();{const r=He.fromSegments(e.unknownDocument.path),i=wp(e.unknownDocument.version);t=jn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Zn(r[0],r[1]);return Tt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Tt.min()))return r}return jn.newInvalidDocument(e)}}class Xk extends Qx{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new ou(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new $n((u,c)=>qt(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const p=this.Gn.get(u);if(t.push(this.qn.removeEntry(e,u,p.readTime)),c.isValidDocument()){const y=Lx(this.qn.M,c);i=i.add(u.path.popLast()),r+=DD(y)-p.size,t.push(this.qn.addEntry(e,u,y))}else if(r-=p.size,this.trackRemovals){const y=Lx(this.qn.M,c.convertToNoDocument(Tt.min()));t.push(this.qn.addEntry(e,u,y))}}),i.forEach(u=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.qn.updateMetadata(e,r)),pe.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:i})=>(i.forEach((u,c)=>{this.Gn.set(u,{size:c,readTime:r.get(u).readTime})}),r))}}function Jx(n){return Ai(n,"remoteDocumentGlobal")}function Ip(n){return Ai(n,"remoteDocumentsV14")}function K0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Xx(n,e){const t=e.documentKey.path.toArray();return[n,_D(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function eR(n,e){const t=n.path.length-e.path.length;return 0!==t?t:He.comparator(n,e)}class eP{constructor(e){this.M=e}kt(e,t,r,i){const u=new yD("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ax,{unique:!0}),p.createObjectStore("documentMutations"),tR(e),function(p){p.createObjectStore("remoteDocuments")}(e));let c=pe.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),tR(e)),c=c.next(()=>function(p){const y=p.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",b)}(u))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(p,y){return y.store("mutations").qt().next(b=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ax,{unique:!0});const A=y.store("mutations"),M=b.map(F=>A.put(F));return pe.waitFor(M)})}(e,u))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Kn(u))),r<6&&i>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(u)))),r<7&&i>=7&&(c=c.next(()=>this.jn(u))),r<8&&i>=8&&(c=c.next(()=>this.Wn(e,u))),r<9&&i>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.zn(u))),r<11&&i>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:Rk});y.createIndex("collectionPathOverlayIndex",Nk,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",Ok,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:Ek});y.createIndex("documentKeyIndex",wk),y.createIndex("collectionGroupIndex",bk)}(e)).next(()=>this.Hn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>{!function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:Sk}).createIndex("sequenceNumberIndex",Ak,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:Mk}).createIndex("documentKeyIndex",xk,{unique:!1})}(e)})),c}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=DD(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>pe.forEach(i,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",c).next(p=>pe.forEach(p,y=>{xt(y.userId===u.userId);const b=ly(this.M,y);return zx(e,u.userId,b).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Wt((c,p)=>{const y=new nn(c),b=[0,Si(y)];u.push(t.get(b).next(A=>A?pe.resolve():t.put({targetId:0,path:Si(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>pe.waitFor(u))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:Tk});const r=t.store("collectionParents"),i=new GT,u=c=>{if(i.add(c)){const p=c.lastSegment(),y=c.popLast();return r.put({collectionId:p,parent:Si(y)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,p)=>{const y=new nn(c);return u(y.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,p,y],b)=>{const A=au(p);return u(A.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,i)=>{const u=q0(i),c=Vx(this.M,u);return t.put(c)})}Hn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((u,c)=>{const p=t.store("remoteDocumentsV14"),y=(b=c,b.document?new He(nn.fromString(b.document.name).popFirst(5)):b.noDocument?He.fromSegments(b.noDocument.path):b.unknownDocument?He.fromSegments(b.unknownDocument.path):it()).path.toArray();var b;const A={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(p.put(A))}).next(()=>pe.waitFor(i))}}function tR(n){n.createObjectStore("targetDocuments",{keyPath:Ck}).createIndex("documentTargetsIndex",Ik,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Dk,{unique:!0}),n.createObjectStore("targetGlobal")}const WT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class KT{constructor(e,t,r,i,u,c,p,y,b,A,M=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=u,this.window=c,this.document=p,this.Yn=b,this.Xn=A,this.Zn=M,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=F=>Promise.resolve(),!KT.vt())throw new Re(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qk(this,i),this.cs=t+"main",this.M=new Fx(y),this.hs=new uu(this.cs,this.Zn,new eP(this.M)),this.ls=new Wk(this.referenceDelegate,this.M),this.fs=new Jk(this.M),this.ds=new Bk,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===A&&tn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(ue.FAILED_PRECONDITION,WT);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new Ds(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,_e.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,_e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ID(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(_p(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return Z0(e).get("owner").next(t=>pe.resolve(this.bs(t)))}Ps(e){return ID(e).delete(this.clientId)}Vs(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ai(r,"clientMetadata");return i.qt().next(u=>{const c=e.Ss(u,18e5),p=u.filter(y=>-1===c.indexOf(y));return pe.forEach(p,y=>i.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?pe.resolve(!0):Z0(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Re(ue.FAILED_PRECONDITION,WT);return!1}}return!(!this.networkEnabled||!this.inForeground)||ID(e).qt().next(r=>void 0===this.Ss(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Px(t,Ds.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>ID(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return qT.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new zk(e)}getDocumentOverlayCache(e){return HT.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=14===(c=this.Zn)?Pk:13===c?Rx:12===c?kk:11===c?xx:void it();var c;let p;return this.hs.runTransaction(e,i,u,y=>(p=new Px(y,this.ts?this.ts.next():Ds.A),"readwrite-primary"===t?this.Ts(p).next(b=>!!b||this.Es(p)).next(b=>{if(!b)throw tn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Re(ue.FAILED_PRECONDITION,Nx);return r(p)}).next(b=>this.Rs(p).next(()=>b)):this.Fs(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}Fs(e){return Z0(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(ue.FAILED_PRECONDITION,WT)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Z0(e).put("owner",t)}static vt(){return uu.vt()}As(e){const t=Z0(e);return t.get("owner").next(r=>this.bs(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):pe.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(tn(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,Gt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return tn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){tn("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Z0(n){return Ai(n,"owner")}function ID(n){return Ai(n,"clientMetadata")}function ZT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class tP{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(i=>{for(const u of r)u.applyToLocalView(i);return i})}Us(e,t){e.forEach((r,i)=>{for(const u of t)u.applyToLocalView(i)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return He.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Qs(e,t.path):hp(t)?this.js(e,t,r):this.Ws(e,t,r);var i}Qs(e,t){return this.Bs(e,new He(t)).next(r=>{let i=gD();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}js(e,t,r){const i=t.collectionGroup;let u=gD();return this.indexManager.getCollectionParents(e,i).next(c=>pe.forEach(c,p=>{const y=(b=t,A=p.child(i),new su(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,A;return this.Ws(e,y,r).next(b=>{b.forEach((A,M)=>{u=u.insert(A,M)})})}).next(()=>u))}Ws(e,t,r){let i;return this.fs.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const c of u)for(const p of c.mutations){const y=p.key;let b=i.get(y);null==b&&(b=jn.newInvalidDocument(y),i=i.insert(y,b)),hD(p,b,c.localWriteTime),b.isFoundDocument()||(i=i.remove(y))}}).next(()=>(i.forEach((u,c)=>{O0(t,c)||(i=i.remove(u))}),i))}}class YT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=i}static Js(e,t){let r=_n(),i=_n();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new YT(e,t.fromCache,r,i)}}class nR{Ys(e){this.Xs=e}Ks(e,t,r,i){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(Tt.min())?this.Zs(e,t):this.Xs.qs(e,i).next(u=>{const c=this.ti(t,u);return(dp(t)||Ym(t))&&this.ei(t.limitType,c,i,r)?this.Zs(e,t):(y0()<=Ya.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),N0(t)),this.Xs.Ks(e,t,tD(r,-1)).next(p=>(c.forEach(y=>{p=p.insert(y.key,y)}),p)))});var u}ti(e,t){let r=new $n(MT(e));return t.forEach((i,u)=>{O0(e,u)&&(r=r.add(u))}),r}ei(e,t,r,i){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Zs(e,t){return y0()<=Ya.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",N0(t)),this.Xs.Ks(e,t,iu.min())}}class nP{constructor(e,t,r,i){this.persistence=e,this.ni=t,this.M=i,this.si=new Qn(qt),this.ii=new ou(u=>Nc(u),Oc),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new tP(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function rR(n,e,t,r){return new nP(n,e,t,r)}function iR(n,e){return QT.apply(this,arguments)}function QT(){return QT=(0,_e.Z)(function*(n,e){const t=We(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.$s.getAllMutationBatches(r).next(u=>(i=u,t.ui(e),t.$s.getAllMutationBatches(r))).next(u=>{const c=[],p=[];let y=_n();for(const b of i){c.push(b.batchId);for(const A of b.mutations)y=y.add(A.key)}for(const b of u){p.push(b.batchId);for(const A of b.mutations)y=y.add(A.key)}return t.ai.qs(r,y).next(b=>({ci:b,removedBatchIds:c,addedBatchIds:p}))})})}),QT.apply(this,arguments)}function rP(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.oi.newChangeBuffer({trackRemovals:!0});return function(c,p,y,b){const A=y.batch,M=A.keys();let F=pe.resolve();return M.forEach(B=>{F=F.next(()=>b.getEntry(p,B)).next(G=>{const ne=y.docVersions.get(B);xt(null!==ne),G.version.compareTo(ne)<0&&(A.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),b.addEntry(G)))})}),F.next(()=>c.$s.removeMutationBatch(p,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,i))})}function sR(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function iP(n,e){const t=We(n),r=e.snapshotVersion;let i=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.oi.newChangeBuffer({trackRemovals:!0});i=t.si;const p=[];e.targetChanges.forEach((b,A)=>{const M=i.get(A);if(!M)return;p.push(t.ls.removeMatchingKeys(u,b.removedDocuments,A).next(()=>t.ls.addMatchingKeys(u,b.addedDocuments,A)));let F=M.withSequenceNumber(u.currentSequenceNumber);var B,G,ne;e.targetMismatches.has(A)?F=F.withResumeToken(br.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,r)),i=i.insert(A,F),G=F,ne=b,(0===(B=M).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0)&&p.push(t.ls.updateTargetData(u,F))});let y=so();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,b))}),p.push(oR(u,c,e.documentUpdates).next(b=>{y=b})),!r.isEqual(Tt.min())){const b=t.ls.getLastRemoteSnapshotVersion(u).next(A=>t.ls.setTargetsMetadata(u,u.currentSequenceNumber,r));p.push(b)}return pe.waitFor(p).next(()=>c.apply(u)).next(()=>t.ai.Gs(u,y)).next(()=>y)}).then(u=>(t.si=i,u))}function oR(n,e,t){let r=_n();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let u=so();return t.forEach((c,p)=>{const y=i.get(c);p.isNoDocument()&&p.version.isEqual(Tt.min())?(e.removeEntry(c,p.readTime),u=u.insert(c,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(c,p)):Pe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",y.version," Watch version:",p.version)}),u})}function sP(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function fy(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ls.getTargetData(r,e).next(u=>u?(i=u,pe.resolve(i)):t.ls.allocateTargetId(r).next(c=>(i=new mh(e,c,0,r.currentSequenceNumber),t.ls.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.si.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function py(n,e,t){return JT.apply(this,arguments)}function JT(){return JT=(0,_e.Z)(function*(n,e,t){const r=We(n),i=r.si.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!_p(c))throw c;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.si=r.si.remove(e),r.ii.delete(i.target)}),JT.apply(this,arguments)}function TD(n,e,t){const r=We(n);let i=Tt.min(),u=_n();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,y,b){const A=We(p),M=A.ii.get(b);return void 0!==M?pe.resolve(A.si.get(M)):A.ls.getTargetData(y,b)}(r,c,Cs(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(c,p.targetId).next(y=>{u=y})}).next(()=>r.ni.Ks(c,e,t?i:Tt.min(),t?u:_n())).next(p=>(lR(r,AT(e),p),{documents:p,hi:u})))}function aR(n,e){const t=We(n),r=We(t.ls),i=t.si.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(c=>c?c.target:null))}function uR(n,e){const t=We(n),r=t.ri.get(e)||Tt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.oi.getAllFromCollectionGroup(i,e,tD(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(lR(t,e,i),i))}function lR(n,e,t){let r=Tt.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.ri.set(e,r)}function XT(){return XT=(0,_e.Z)(function*(n,e,t,r){const i=We(n);let u=_n(),c=so();for(const b of t){const A=e.li(b.metadata.name);b.document&&(u=u.add(A));const M=e.fi(b);M.setReadTime(e.di(b.metadata.readTime)),c=c.insert(A,M)}const p=i.oi.newChangeBuffer({trackRemovals:!0}),y=yield fy(i,(b=r,Cs(Pc(nn.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>oR(b,p,c).next(A=>(p.apply(b),A)).next(A=>i.ls.removeMatchingKeysForTargetId(b,y.targetId).next(()=>i.ls.addMatchingKeys(b,u,y.targetId)).next(()=>i.ai.Gs(b,A)).next(()=>A)))}),XT.apply(this,arguments)}function aP(n,e){return eS.apply(this,arguments)}function eS(){return eS=(0,_e.Z)(function*(n,e,t=_n()){const r=yield fy(n,Cs(jT(e.bundledQuery))),i=We(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const c=W(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.ds.saveNamedQuery(u,e);const p=r.withResumeToken(br.EMPTY_BYTE_STRING,c);return i.si=i.si.insert(p.targetId,p),i.ls.updateTargetData(u,p).next(()=>i.ls.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.ls.addMatchingKeys(u,t,r.targetId)).next(()=>i.ds.saveNamedQuery(u,e))})}),eS.apply(this,arguments)}class uP{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return pe.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:W(r.createTime)}),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:jT(r.bundledQuery),readTime:W(r.readTime)}),pe.resolve();var r}}class lP{constructor(){this.overlays=new Qn(He.comparator),this.mi=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.Xt(e,t,u)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.mi.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.mi.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const i=ty(),u=t.length+1,c=new He(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const y=p.getNext().value,b=y.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&y.largestBatchId>r&&i.set(y.getKey(),y)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new Qn((b,A)=>b-A);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let A=u.get(b.largestBatchId);null===A&&(A=ty(),u=u.insert(b.largestBatchId,A)),A.set(b.getKey(),b)}}const p=ty(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((b,A)=>p.set(b,A)),!(p.size()>=i)););return pe.resolve(p)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const c=this.mi.get(i.largestBatchId).delete(r.key);this.mi.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new UT(t,r));let u=this.mi.get(t);void 0===u&&(u=_n(),this.mi.set(t,u)),this.mi.set(t,u.add(r.key))}}class tS{constructor(){this.gi=new $n(Mi.yi),this.pi=new $n(Mi.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new Mi(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new Mi(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new He(new nn([])),r=new Mi(t,e),i=new Mi(t,e+1),u=[];return this.pi.forEachInRange([r,i],c=>{this.Ei(c),u.push(c.key)}),u}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new He(new nn([])),r=new Mi(t,e),i=new Mi(t,e+1);let u=_n();return this.pi.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new Mi(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Mi{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return He.comparator(e.key,t.key)||qt(e.Vi,t.Vi)}static Ii(e,t){return qt(e.Vi,t.Vi)||He.comparator(e.key,t.key)}}class cP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new $n(Mi.yi)}checkEmpty(e){return pe.resolve(0===this.$s.length)}addMutationBatch(e,t,r,i){const u=this.vi;this.vi++;const c=new VT(u,t,r,i);this.$s.push(c);for(const p of i)this.Si=this.Si.add(new Mi(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return pe.resolve(c)}lookupMutationBatch(e,t){return pe.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ci(t+1),u=i<0?0:i;return pe.resolve(this.$s.length>u?this.$s[u]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return pe.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Mi(t,0),i=new Mi(t,Number.POSITIVE_INFINITY),u=[];return this.Si.forEachInRange([r,i],c=>{const p=this.Di(c.Vi);u.push(p)}),pe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $n(qt);return t.forEach(i=>{const u=new Mi(i,0),c=new Mi(i,Number.POSITIVE_INFINITY);this.Si.forEachInRange([u,c],p=>{r=r.add(p.Vi)})}),pe.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;He.isDocumentKey(u)||(u=u.child(""));const c=new Mi(new He(u),0);let p=new $n(qt);return this.Si.forEachWhile(y=>{const b=y.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(p=p.add(y.Vi)),!0)},c),pe.resolve(this.xi(p))}xi(e){const t=[];return e.forEach(r=>{const i=this.Di(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){xt(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return pe.forEach(t.mutations,i=>{const u=new Mi(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new Mi(t,0),i=this.Si.firstAfterOrEqual(r);return pe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return pe.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class dP{constructor(e){this.ki=e,this.docs=new Qn(He.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(t))}getEntries(e,t){let r=so();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():jn.newInvalidDocument(i))}),pe.resolve(r)}getAllFromCollection(e,t,r){let i=so();const u=new He(t.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:p,value:{document:y}}=c.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||Lo(S0(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return pe.resolve(i)}getAllFromCollectionGroup(e,t,r,i){it()}Mi(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new hP(this)}getSize(e){return pe.resolve(this.size)}}class hP extends Qx{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.qn.addEntry(e,i)):this.qn.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class fP{constructor(e){this.persistence=e,this.Oi=new ou(t=>Nc(t),Oc),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new tS,this.targetCount=0,this.Bi=Dp.mn()}forEachTarget(e,t){return this.Oi.forEach((r,i)=>t(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),pe.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Dp(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.In(t),pe.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Oi.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Oi.delete(c),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),pe.waitFor(u).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),pe.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.$i.containsKey(t))}}class pP{constructor(e,t){this.Li={},this.overlays={},this.ts=new Ds(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new fP(this),this.indexManager=new qk,this.fs=new dP(r=>this.referenceDelegate.Ui(r)),this.M=new Fx(t),this.ds=new uP(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new cP(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new gP(this.ts.next());return this.referenceDelegate.qi(),r(i).next(u=>this.referenceDelegate.Gi(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ki(e,t){return pe.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class gP extends Ox{constructor(e){super(),this.currentSequenceNumber=e}}class nS{constructor(e){this.persistence=e,this.Qi=new tS,this.ji=null}static Wi(e){return new nS(e)}get zi(){if(this.ji)return this.ji;throw it()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(i=>this.zi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.zi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.zi,r=>{const i=He.fromPath(r);return this.Hi(e,i).next(u=>{u||t.removeEntry(i,Tt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return pe.or([()=>pe.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function cR(n,e){return`firestore_clients_${n}_${e}`}function dR(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function rS(n,e){return`firestore_targets_${n}_${e}`}class SD{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let u,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(u=new Re(i.error.code,i.error.message))),c?new SD(e,t,i.state,u):(tn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Y0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Re(r.error.code,r.error.message))),u?new Y0(e,r.state,i):(tn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class AD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=B0();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=_T(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return i?new AD(e,u):(tn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class iS{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new iS(t.clientId,t.onlineState):(tn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class sS{constructor(){this.activeTargetIds=B0()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oS{constructor(e,t,r,i,u){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Qn(qt),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.rr=cR(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new sS),this.ar=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.Os();for(const i of t){if(i===e.tr)continue;const u=e.getItem(cR(e.persistenceKey,i));if(u){const c=AD.Ji(i,u);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(rS(this.persistenceKey,e));if(r){const i=Y0.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(rS(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void tn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const i=t.Vr(r.key,r.newValue);if(i)return t.vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(u){let c=Ds.A;if(null!=u)try{const p=JSON.parse(u);xt("number"==typeof p),c=p}catch(p){tn("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(r.newValue);i!==Ds.A&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Nr(u)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new SD(this.currentUser,e,t,r),u=dR(this.persistenceKey,this.currentUser,e);this.setItem(u,i.Yi())}pr(e){const t=dR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=rS(this.persistenceKey,e),u=new Y0(e,t,r);this.setItem(i,u.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return AD.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),i=Number(r[1]);return SD.Ji(new ri(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return Y0.Ji(i,t)}wr(e){return iS.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),u=this.gr(r),c=[],p=[];return u.forEach(y=>{i.has(y)||c.push(y)}),i.forEach(y=>{u.has(y)||p.push(y)}),this.syncEngine.Or(c,p).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=B0();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class hR{constructor(){this.Fr=new sS,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new sS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mP{Br(e){}shutdown(){}}class fR{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const yP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class _P{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class vP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,u){const c=this.oo(e,t);Pe("RestConnection","Sending: ",c,r);const p={};return this.uo(p,i,u),this.ao(e,c,p,r).then(y=>(Pe("RestConnection","Received: ",y),y),y=>{throw wa("RestConnection",`${e} failed with error: `,y,"url: ",c,"request:",r),y})}co(e,t,r,i,u){return this.ro(e,t,r,i,u)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}oo(e,t){return`${this.so}/v1/${t}:${yP[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,i){return new Promise((u,c)=>{const p=new Gb;p.listenOnce(fT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case g0.NO_ERROR:const b=p.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(b)),u(b);break;case g0.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),c(new Re(ue.DEADLINE_EXCEEDED,"Request time out"));break;case g0.HTTP_ERROR:const A=p.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',A,"response text:",p.getResponseText()),A>0){const M=p.getResponseJson().error;if(M&&M.status&&M.message){const F=function(B){const G=B.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(G)>=0?G:ue.UNKNOWN}(M.status);c(new Re(F,M.message))}else c(new Re(ue.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Re(ue.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);p.send(t,"POST",y,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=dT(),c=hT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new Hb({})),this.uo(p.initMessageHeaders,t,r),(0,Gt.uI)()||(0,Gt.b$)()||(0,Gt.d)()||(0,Gt.w1)()||(0,Gt.Mn)()||(0,Gt.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const y=i.join("");Pe("Connection","Creating WebChannel: "+y,p);const b=u.createWebChannel(y,p);let A=!1,M=!1;const F=new _P({jr:G=>{M?Pe("Connection","Not sending because WebChannel is closed:",G):(A||(Pe("Connection","Opening WebChannel transport."),b.open(),A=!0),Pe("Connection","WebChannel sending:",G),b.send(G))},Wr:()=>b.close()}),B=(G,ne,we)=>{G.listen(ne,Ye=>{try{we(Ye)}catch(Le){setTimeout(()=>{throw Le},0)}})};return B(b,Vm.EventType.OPEN,()=>{M||Pe("Connection","WebChannel transport opened.")}),B(b,Vm.EventType.CLOSE,()=>{M||(M=!0,Pe("Connection","WebChannel transport closed"),F.eo())}),B(b,Vm.EventType.ERROR,G=>{M||(M=!0,wa("Connection","WebChannel transport errored:",G),F.eo(new Re(ue.UNAVAILABLE,"The operation could not be completed")))}),B(b,Vm.EventType.MESSAGE,G=>{var ne;if(!M){const we=G.data[0];xt(!!we);const Ye=we,Le=Ye.error||(null===(ne=Ye[0])||void 0===ne?void 0:ne.error);if(Le){Pe("Connection","WebChannel received error:",Le);const Ze=Le.status;let qe=function(ct){const Jt=Dr[ct];if(void 0!==Jt)return kT(Jt)}(Ze),vt=Le.message;void 0===qe&&(qe=ue.INTERNAL,vt="Unknown error status: "+Ze+" with message "+Le.message),M=!0,F.eo(new Re(qe,vt)),b.close()}else Pe("Connection","WebChannel received:",we),F.no(we)}}),B(c,$b.STAT_EVENT,G=>{G.stat===Lm.PROXY?Pe("Connection","Detected buffering proxy"):G.stat===Lm.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.Zr()},0),F}}function pR(){return"undefined"!=typeof window?window:null}function MD(){return"undefined"!=typeof document?document:null}function Q0(n){return new S(n,!0)}class aS{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=i,this._o=u,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class gR{constructor(e,t,r,i,u,c,p,y){this.Jn=e,this.Ao=r,this.Ro=i,this.bo=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new aS(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,_e.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,_e.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(tn(t.toString()),tn("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===ue.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Re(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,_e.Z)(function*(){e.state=0,e.start()}))}qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EP extends gR{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.M=u}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function j0(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:it(),i=e.targetChange.targetIds||[],u=function(y,b){return y.N?(xt(void 0===b||"string"==typeof b),br.fromBase64String(b||"")):(xt(void 0===b||b instanceof Uint8Array),br.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(y){const b=void 0===y.code?ue.UNKNOWN:kT(y.code);return new Re(b,y.message||"")}(c);t=new a(r,i,u,p||null)}else if("documentChange"in e){const r=e.documentChange,i=Ke(n,r.document.name),u=W(r.document.updateTime),c=new Ti({mapValue:{fields:r.document.fields}}),p=jn.newFoundDocument(i,u,c);t=new s(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=Ke(n,r.document),u=r.readTime?W(r.readTime):Tt.min(),c=jn.newNoDocument(i,u);t=new s([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Ke(n,r.document);t=new s([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return it();{const r=e.filter,u=new OT(r.count||0);t=new o(r.targetId,u)}}var y;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Tt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?Tt.min():u.readTime?W(u.readTime):Tt.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=jt(this.M),t.addTarget=function(i,u){let c;const p=u.target;return c=lp(p)?{documents:iy(i,p)}:{query:sy(i,p)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=P(i,u.resumeToken):u.snapshotVersion.compareTo(Tt.min())>0&&(c.readTime=x(i,u.snapshotVersion.toTimestamp())),c}(this.M,e);const r=function H0(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return it()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=jt(this.M),t.removeTarget=e,this.Oo(t)}}class wP extends gR{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.M=u,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function $0(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(r,i){let u=W(r.updateTime?r.updateTime:i);return u.isEqual(Tt.min())&&(u=W(i)),new RT(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=W(e.commitTime);return this.listener.Jo(r,t)}return xt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=jt(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>$c(this.M,r))};this.Oo(t)}}class bP extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.Zo=!1}tu(){if(this.Zo)throw new Re(ue.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.bo.ro(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(ue.UNKNOWN,i.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.bo.co(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(ue.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class DP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(tn(t),this.su=!1):Pe("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class CP{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=u,this.du.Br(p=>{r.enqueueAndForget((0,_e.Z)(function*(){var y;Eh(c)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,_e.Z)(function*(b){const A=We(b);A.lu.add(4),yield gy(A),A._u.set("Unknown"),A.lu.delete(4),yield J0(A)}),function(b){return y.apply(this,arguments)})(c))}))}),this._u=new DP(r,i)}}function J0(n){return uS.apply(this,arguments)}function uS(){return uS=(0,_e.Z)(function*(n){if(Eh(n))for(const e of n.fu)yield e(!0)}),uS.apply(this,arguments)}function gy(n){return lS.apply(this,arguments)}function lS(){return lS=(0,_e.Z)(function*(n){for(const e of n.fu)yield e(!1)}),lS.apply(this,arguments)}function xD(n,e){const t=We(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),hS(t)?dS(t):yy(t).Co()&&cS(t,e))}function X0(n,e){const t=We(n),r=yy(t);t.hu.delete(e),r.Co()&&mR(t,e),0===t.hu.size&&(r.Co()?r.ko():Eh(t)&&t._u.set("Unknown"))}function cS(n,e){n.wu.Z(e.targetId),yy(n).Qo(e)}function mR(n,e){n.wu.Z(e),yy(n).jo(e)}function dS(n){n.wu=new d({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),yy(n).start(),n._u.iu()}function hS(n){return Eh(n)&&!yy(n).Do()&&n.hu.size>0}function Eh(n){return 0===We(n).lu.size}function yR(n){n.wu=void 0}function IP(n){return fS.apply(this,arguments)}function fS(){return fS=(0,_e.Z)(function*(n){n.hu.forEach((e,t)=>{cS(n,e)})}),fS.apply(this,arguments)}function TP(n,e){return pS.apply(this,arguments)}function pS(){return pS=(0,_e.Z)(function*(n,e){yR(n),hS(n)?(n._u.uu(e),dS(n)):n._u.set("Unknown")}),pS.apply(this,arguments)}function SP(n,e,t){return gS.apply(this,arguments)}function gS(){return gS=(0,_e.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof a&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(i,u){const c=u.cause;for(const p of u.targetIds)i.hu.has(p)&&(yield i.remoteSyncer.rejectListen(p,c),i.hu.delete(p),i.wu.removeTarget(p))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield RD(n,r)}else if(e instanceof s?n.wu.ut(e):e instanceof o?n.wu._t(e):n.wu.ht(e),!t.isEqual(Tt.min()))try{const r=yield sR(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const c=i.wu.yt(u);return c.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=i.hu.get(y);b&&i.hu.set(y,b.withResumeToken(p.resumeToken,u))}}),c.targetMismatches.forEach(p=>{const y=i.hu.get(p);if(!y)return;i.hu.set(p,y.withResumeToken(br.EMPTY_BYTE_STRING,y.snapshotVersion)),mR(i,p);const b=new mh(y.target,p,1,y.sequenceNumber);cS(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield RD(n,r)}var r}),gS.apply(this,arguments)}function RD(n,e,t){return mS.apply(this,arguments)}function mS(){return mS=(0,_e.Z)(function*(n,e,t){if(!_p(e))throw e;n.lu.add(1),yield gy(n),n._u.set("Offline"),t||(t=()=>sR(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield J0(n)}))}),mS.apply(this,arguments)}function _R(n,e){return e().catch(t=>RD(n,t,e))}function my(n){return yS.apply(this,arguments)}function yS(){return yS=(0,_e.Z)(function*(n){const e=We(n),t=wh(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;AP(e);)try{const i=yield sP(e.localStore,r);if(null===i){0===e.cu.length&&t.ko();break}r=i.batchId,MP(e,i)}catch(i){yield RD(e,i)}vR(e)&&ER(e)}),yS.apply(this,arguments)}function AP(n){return Eh(n)&&n.cu.length<10}function MP(n,e){n.cu.push(e);const t=wh(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function vR(n){return Eh(n)&&!wh(n).Do()&&n.cu.length>0}function ER(n){wh(n).start()}function xP(n){return _S.apply(this,arguments)}function _S(){return _S=(0,_e.Z)(function*(n){wh(n).Xo()}),_S.apply(this,arguments)}function RP(n){return vS.apply(this,arguments)}function vS(){return vS=(0,_e.Z)(function*(n){const e=wh(n);for(const t of n.cu)e.Ho(t.mutations)}),vS.apply(this,arguments)}function NP(n,e,t){return ES.apply(this,arguments)}function ES(){return ES=(0,_e.Z)(function*(n,e,t){const r=n.cu.shift(),i=BT.from(r,e,t);yield _R(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield my(n)}),ES.apply(this,arguments)}function OP(n,e){return wS.apply(this,arguments)}function wS(){return wS=(0,_e.Z)(function*(n,e){var t;e&&wh(n).zo&&(yield(t=(0,_e.Z)(function*(r,i){if(Xm(u=i.code)&&u!==ue.ABORTED){const c=r.cu.shift();wh(r).No(),yield _R(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield my(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),vR(n)&&ER(n)}),wS.apply(this,arguments)}function wR(n,e){return bS.apply(this,arguments)}function bS(){return bS=(0,_e.Z)(function*(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Eh(t);t.lu.add(3),yield gy(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield J0(t)}),bS.apply(this,arguments)}function DS(n,e){return CS.apply(this,arguments)}function CS(){return CS=(0,_e.Z)(function*(n,e){const t=We(n);e?(t.lu.delete(2),yield J0(t)):e||(t.lu.add(2),yield gy(t),t._u.set("Unknown"))}),CS.apply(this,arguments)}function yy(n){return n.mu||(n.mu=function(e,t,r){const i=We(e);return i.tu(),new EP(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:IP.bind(null,n),Jr:TP.bind(null,n),Ko:SP.bind(null,n)}),n.fu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.mu.No(),hS(n)?dS(n):n._u.set("Unknown")):(yield n.mu.stop(),yR(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function wh(n){return n.gu||(n.gu=function(e,t,r){const i=We(e);return i.tu(),new wP(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:xP.bind(null,n),Jr:OP.bind(null,n),Yo:RP.bind(null,n),Jo:NP.bind(null,n)}),n.fu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.gu.No(),yield my(n)):(yield n.gu.stop(),n.cu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class IS{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,p=new IS(e,t,c,i,u);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _y(n,e){if(tn("AsyncQueue",`${e}: ${n}`),_p(n))return new Re(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class vy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=gD(),this.sortedSet=new Qn(this.comparator)}static emptySet(e){return new vy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new vy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class bR{constructor(){this.yu=new Qn(He.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):it():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ey{constructor(e,t,r,i,u,c,p,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new Ey(e,t,vy.emptySet(t),u,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class kP{constructor(){this.Iu=void 0,this.listeners=[]}}class PP{constructor(){this.queries=new ou(e=>R0(e),fh),this.onlineState="Unknown",this.Tu=new Set}}function TS(n,e){return SS.apply(this,arguments)}function SS(){return SS=(0,_e.Z)(function*(n,e){const t=We(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new kP),i)try{u.Iu=yield t.onListen(r)}catch(c){const p=_y(c,`Initialization of query '${N0(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,u),u.listeners.push(e),e.Eu(t.onlineState),u.Iu&&e.Au(u.Iu)&&xS(t)}),SS.apply(this,arguments)}function AS(n,e){return MS.apply(this,arguments)}function MS(){return MS=(0,_e.Z)(function*(n,e){const t=We(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),MS.apply(this,arguments)}function FP(n,e){const t=We(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.Au(i)&&(r=!0);c.Iu=i}}r&&xS(t)}function LP(n,e,t){const r=We(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function xS(n){n.Tu.forEach(e=>{e.next()})}class RS{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ey(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Ey.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class VP{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class DR{constructor(e){this.M=e}li(e){return Ke(this.M,e)}fi(e){return e.metadata.exists?ul(this.M,e.document,!1):jn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return W(e)}}class BP{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=CR(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=nn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new DR(this.M);for(const i of e)if(i.metadata.queries){const u=r.li(i.metadata.name);for(const c of i.metadata.queries){const p=(t.get(c)||_n()).add(u);t.set(c,p)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function oP(n,e,t,r){return XT.apply(this,arguments)}(e.localStore,new DR(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield aP(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function CR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class IR{constructor(e){this.key=e}}class TR{constructor(e){this.key=e}}class SR{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=_n(),this.mutatedKeys=_n(),this.Lu=MT(e),this.Uu=new vy(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new bR,i=t?t.Uu:this.Uu;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const y=dp(this.query)&&i.size===this.query.limit?i.last():null,b=Ym(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,M)=>{const F=i.get(A),B=O0(this.query,M)?M:null,G=!!F&&this.mutatedKeys.has(F.key),ne=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let we=!1;F&&B?F.data.isEqual(B.data)?G!==ne&&(r.track({type:3,doc:B}),we=!0):this.Qu(F,B)||(r.track({type:2,doc:B}),we=!0,(y&&this.Lu(B,y)>0||b&&this.Lu(B,b)<0)&&(p=!0)):!F&&B?(r.track({type:0,doc:B}),we=!0):F&&!B&&(r.track({type:1,doc:F}),we=!0,(y||b)&&(p=!0)),we&&(B?(c=c.add(B),u=ne?u.add(A):u.delete(A)):(c=c.delete(A),u=u.delete(A)))}),dp(this.query)||Ym(this.query))for(;c.size>this.query.limit;){const A=dp(this.query)?c.last():c.first();c=c.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{Uu:c,Ku:r,ei:p,mutatedKeys:u}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const u=e.Ku.pu();u.sort((b,A)=>function(M,F){const B=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return B(M)-B(F)}(b.type,A.type)||this.Lu(b.doc,A.doc)),this.ju(r);const c=t?this.Wu():[],p=0===this.Bu.size&&this.current?1:0,y=p!==this.$u;return this.$u=p,0!==u.length||y?{snapshot:new Ey(this.query,e.Uu,i,u,e.mutatedKeys,0===p,y,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new bR,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=_n(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new TR(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new IR(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=_n();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Ey.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class UP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class jP{constructor(e){this.key=e,this.Xu=!1}}class $P{constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Zu={},this.ta=new ou(p=>R0(p),fh),this.ea=new Map,this.na=new Set,this.sa=new Qn(He.comparator),this.ia=new Map,this.ra=new tS,this.oa={},this.ua=new Map,this.aa=Dp.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function HP(n,e){return NS.apply(this,arguments)}function NS(){return NS=(0,_e.Z)(function*(n,e){const t=tA(n);let r,i;const u=t.ta.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.Yu();else{const c=yield fy(t.localStore,Cs(e));t.isPrimaryClient&&xD(t.remoteStore,c);const p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield OS(t,e,r,"current"===p)}return i}),NS.apply(this,arguments)}function OS(n,e,t,r){return kS.apply(this,arguments)}function kS(){return kS=(0,_e.Z)(function*(n,e,t,r){n.ha=(A,M,F)=>{return(B=(0,_e.Z)(function*(G,ne,we,Ye){let Le=ne.view.Gu(we);Le.ei&&(Le=yield TD(G.localStore,ne.query,!1).then(({documents:vt})=>ne.view.Gu(vt,Le)));const Ze=Ye&&Ye.targetChanges.get(ne.targetId),qe=ne.view.applyChanges(Le,G.isPrimaryClient,Ze);return GS(G,ne.targetId,qe.zu),qe.snapshot}),function(G,ne,we,Ye){return B.apply(this,arguments)})(n,A,M,F);var B};const i=yield TD(n.localStore,e,!0),u=new SR(e,i.hi),c=u.Gu(i.documents),p=ry.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=u.applyChanges(c,n.isPrimaryClient,p);GS(n,t,y.zu);const b=new UP(e,t,u);return n.ta.set(e,b),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),y.snapshot}),kS.apply(this,arguments)}function GP(n,e){return PS.apply(this,arguments)}function PS(){return PS=(0,_e.Z)(function*(n,e){const t=We(n),r=t.ta.get(e),i=t.ea.get(r.targetId);if(i.length>1)return t.ea.set(r.targetId,i.filter(u=>!fh(u,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield py(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),X0(t.remoteStore,r.targetId),wy(t,r.targetId)}).catch(Cp))):(wy(t,r.targetId),yield py(t.localStore,r.targetId,!0))}),PS.apply(this,arguments)}function FS(){return FS=(0,_e.Z)(function*(n,e,t){const r=nA(n);try{const i=yield function(u,c){const p=We(u),y=Zn.now(),b=c.reduce((M,F)=>M.add(F.key),_n());let A;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>p.ai.qs(M,b).next(F=>{A=F;const B=[];for(const G of c){const ne=Ex(G,A.get(G.key));null!=ne&&B.push(new jc(G.key,ne,wT(ne.value.mapValue),ir.exists(!0)))}return p.$s.addMutationBatch(M,y,B,c)})).then(M=>(M.applyToLocalDocumentSet(A),{batchId:M.batchId,changes:A}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,p){let y=u.oa[u.currentUser.toKey()];y||(y=new Qn(qt)),y=y.insert(c,p),u.oa[u.currentUser.toKey()]=y}(r,i.batchId,t),yield Hc(r,i.changes),yield my(r.remoteStore)}catch(i){const u=_y(i,"Failed to persist write");t.reject(u)}}),FS.apply(this,arguments)}function AR(n,e){return LS.apply(this,arguments)}function LS(){return LS=(0,_e.Z)(function*(n,e){const t=We(n);try{const r=yield iP(t.localStore,e);e.targetChanges.forEach((i,u)=>{const c=t.ia.get(u);c&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Xu=!0:i.modifiedDocuments.size>0?xt(c.Xu):i.removedDocuments.size>0&&(xt(c.Xu),c.Xu=!1))}),yield Hc(t,r,e)}catch(r){yield Cp(r)}}),LS.apply(this,arguments)}function MR(n,e,t){const r=We(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ta.forEach((u,c)=>{const p=c.view.Eu(e);p.snapshot&&i.push(p.snapshot)}),function(u,c){const p=We(u);p.onlineState=c;let y=!1;p.queries.forEach((b,A)=>{for(const M of A.listeners)M.Eu(c)&&(y=!0)}),y&&xS(p)}(r.eventManager,e),i.length&&r.Zu.Ko(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function zP(n,e,t){return VS.apply(this,arguments)}function VS(){return VS=(0,_e.Z)(function*(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ia.get(e),u=i&&i.key;if(u){let c=new Qn(He.comparator);c=c.insert(u,jn.newNoDocument(u,Tt.min()));const p=_n().add(u),y=new ny(Tt.min(),new Map,new $n(qt),c,p);yield AR(r,y),r.sa=r.sa.remove(u),r.ia.delete(e),qS(r)}else yield py(r.localStore,e,!1).then(()=>wy(r,e,t)).catch(Cp)}),VS.apply(this,arguments)}function WP(n,e){return BS.apply(this,arguments)}function BS(){return BS=(0,_e.Z)(function*(n,e){const t=We(n),r=e.batch.batchId;try{const i=yield rP(t.localStore,e);HS(t,r,null),$S(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Hc(t,i)}catch(i){yield Cp(i)}}),BS.apply(this,arguments)}function KP(n,e,t){return US.apply(this,arguments)}function US(){return US=(0,_e.Z)(function*(n,e,t){const r=We(n);try{const i=yield function(u,c){const p=We(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return p.$s.lookupMutationBatch(y,c).next(A=>(xt(null!==A),b=A.keys(),p.$s.removeMutationBatch(y,A))).next(()=>p.$s.performConsistencyCheck(y)).next(()=>p.ai.qs(y,b))})}(r.localStore,e);HS(r,e,t),$S(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Hc(r,i)}catch(i){yield Cp(i)}}),US.apply(this,arguments)}function jS(){return jS=(0,_e.Z)(function*(n,e){const t=We(n);Eh(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const c=We(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.$s.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ua.get(r)||[];i.push(e),t.ua.set(r,i)}catch(r){const i=_y(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),jS.apply(this,arguments)}function $S(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function HS(n,e,t){const r=We(n);let i=r.oa[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.oa[r.currentUser.toKey()]=i}}function wy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||xR(n,r)})}function xR(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(X0(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),qS(n))}function GS(n,e,t){for(const r of t)r instanceof IR?(n.ra.addReference(r.key,e),YP(n,r)):r instanceof TR?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||xR(n,r.key)):it()}function YP(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.na.add(r),qS(n))}function qS(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new He(nn.fromString(e)),r=n.aa.next();n.ia.set(r,new jP(t)),n.sa=n.sa.insert(t,r),xD(n.remoteStore,new mh(Cs(Pc(t.path)),r,2,Ds.A))}}function Hc(n,e,t){return zS.apply(this,arguments)}function zS(){return zS=(0,_e.Z)(function*(n,e,t){const r=We(n),i=[],u=[],c=[];var p;r.ta.isEmpty()||(r.ta.forEach((p,y)=>{c.push(r.ha(y,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,b.fromCache?"not-current":"current"),i.push(b);const A=YT.Js(y.targetId,b);u.push(A)}}))}),yield Promise.all(c),r.Zu.Ko(i),yield(p=(0,_e.Z)(function*(y,b){const A=We(y);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>pe.forEach(b,F=>pe.forEach(F.zs,B=>A.persistence.referenceDelegate.addReference(M,F.targetId,B)).next(()=>pe.forEach(F.Hs,B=>A.persistence.referenceDelegate.removeReference(M,F.targetId,B)))))}catch(M){if(!_p(M))throw M;Pe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const F=M.targetId;if(!M.fromCache){const B=A.si.get(F),ne=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);A.si=A.si.insert(F,ne)}}}),function(y,b){return p.apply(this,arguments)})(r.localStore,u))}),zS.apply(this,arguments)}function QP(n,e){return WS.apply(this,arguments)}function WS(){return WS=(0,_e.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield iR(t.localStore,e);t.currentUser=e,(i=t).ua.forEach(c=>{c.forEach(p=>{p.reject(new Re(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Hc(t,r.ci)}var i}),WS.apply(this,arguments)}function JP(n,e){const t=We(n),r=t.ia.get(e);if(r&&r.Xu)return _n().add(r.key);{let i=_n();const u=t.ea.get(e);if(!u)return i;for(const c of u){const p=t.ta.get(c);i=i.unionWith(p.view.qu)}return i}}function XP(n,e){return KS.apply(this,arguments)}function KS(){return KS=(0,_e.Z)(function*(n,e){const t=We(n),r=yield TD(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&GS(t,e.targetId,i.zu),i}),KS.apply(this,arguments)}function e1(n,e){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,_e.Z)(function*(n,e){const t=We(n);return uR(t.localStore,e).then(r=>Hc(t,r))}),ZS.apply(this,arguments)}function t1(n,e,t,r){return YS.apply(this,arguments)}function YS(){return YS=(0,_e.Z)(function*(n,e,t,r){const i=We(n),u=yield function(c,p){const y=We(c),b=We(y.$s);return y.persistence.runTransaction("Lookup mutation documents","readonly",A=>b.ln(A,p).next(M=>M?y.ai.qs(A,M):pe.resolve(null)))}(i.localStore,e);var p;null!==u?("pending"===t?yield my(i.remoteStore):"acknowledged"===t||"rejected"===t?(HS(i,e,r||null),$S(i,e),p=e,We(We(i.localStore).$s).dn(p)):it(),yield Hc(i,u)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),YS.apply(this,arguments)}function QS(){return QS=(0,_e.Z)(function*(n,e){const t=We(n);if(tA(t),nA(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield RR(t,r.toArray());t.ca=!0,yield DS(t.remoteStore,!0);for(const u of i)xD(t.remoteStore,u)}else if(!1===e&&!1!==t.ca){const r=[];let i=Promise.resolve();t.ea.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(wy(t,c),py(t.localStore,c,!0))),X0(t.remoteStore,c)}),yield i,yield RR(t,r),function(u){const c=We(u);c.ia.forEach((p,y)=>{X0(c.remoteStore,y)}),c.ra.bi(),c.ia=new Map,c.sa=new Qn(He.comparator)}(t),t.ca=!1,yield DS(t.remoteStore,!1)}}),QS.apply(this,arguments)}function RR(n,e,t){return JS.apply(this,arguments)}function JS(){return JS=(0,_e.Z)(function*(n,e,t){const r=We(n),i=[],u=[];for(const c of e){let p;const y=r.ea.get(c);if(y&&0!==y.length){p=yield fy(r.localStore,Cs(y[0]));for(const b of y){const A=r.ta.get(b),M=yield XP(r,A);M.snapshot&&u.push(M.snapshot)}}else{const b=yield aR(r.localStore,c);p=yield fy(r.localStore,b),yield OS(r,NR(b),c,!1)}i.push(p)}return r.Zu.Ko(u),i}),JS.apply(this,arguments)}function NR(n){return ST(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function r1(n){const e=We(n);return We(We(e.localStore).persistence).Os()}function s1(n,e,t,r){return XS.apply(this,arguments)}function XS(){return XS=(0,_e.Z)(function*(n,e,t,r){const i=We(n);if(i.ca)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const u=i.ea.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=yield uR(i.localStore,AT(u[0])),p=ny.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Hc(i,c,p);break}case"rejected":yield py(i.localStore,e,!0),wy(i,e,r);break;default:it()}}),XS.apply(this,arguments)}function o1(n,e,t){return eA.apply(this,arguments)}function eA(){return eA=(0,_e.Z)(function*(n,e,t){const r=tA(n);if(r.ca){for(const i of e){if(r.ea.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const u=yield aR(r.localStore,i),c=yield fy(r.localStore,u);yield OS(r,NR(u),c.targetId,!1),xD(r.remoteStore,c)}for(const i of t)r.ea.has(i)&&(yield py(r.localStore,i,!1).then(()=>{X0(r.remoteStore,i),wy(r,i)}).catch(Cp))}}),eA.apply(this,arguments)}function tA(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zP.bind(null,e),e.Zu.Ko=FP.bind(null,e.eventManager),e.Zu.la=LP.bind(null,e.eventManager),e}function nA(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KP.bind(null,e),e}class OR{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.M=Q0(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return rR(this.persistence,new nR,e.initialUser,this.M)}_a(e){return new pP(nS.Wi,this.M)}da(e){return new hR}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class kR extends OR{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield nA(r.ga.syncEngine),yield my(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return rR(this.persistence,new nR,e.initialUser,this.M)}wa(e){return new Zk(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=ZT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?oo.withCacheSize(this.cacheSizeBytes):oo.DEFAULT;return new KT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,pR(),MD(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new hR}}class u1 extends kR{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e);const i=r.ga.syncEngine;r.sharedClientState instanceof oS&&(r.sharedClientState.syncEngine={kr:t1.bind(null,i),Mr:s1.bind(null,i),Or:o1.bind(null,i),Os:r1.bind(null,i),Nr:e1.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var u=(0,_e.Z)(function*(c){yield function n1(n,e){return QS.apply(this,arguments)}(r.ga.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return u.apply(this,arguments)}}())})()}da(e){const t=pR();if(!oS.vt(t))throw new Re(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=ZT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new oS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class rA{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>MR(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=QP.bind(null,r.syncEngine),yield DS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new PP}createDatastore(e){const t=Q0(e.databaseInfo.databaseId),r=new vP(e.databaseInfo);return new bP(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=p=>MR(this.syncEngine,p,0),c=fR.vt()?new fR:new mP,new CP(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,p,y,b){const A=new $P(r,i,u,c,p,y);return b&&(A.ca=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const r=We(t);Pe("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield gy(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function PR(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ND{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class l1{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new Pr,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),i=Number(r);isNaN(i)&&e.Ra(`length string (${r}) is not valid number`);const u=yield e.ba(i);return new VP(JSON.parse(u),t.length+i)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,_e.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class c1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,_e.Z)(function*(u,c){const p=We(u),y=jt(p.M)+"/documents",b={documents:c.map(B=>Be(p.M,B))},A=yield p.co("BatchGetDocuments",y,b),M=new Map;A.forEach(B=>{const G=function U0(n,e){return"found"in e?function(t,r){xt(!!r.found);const i=Ke(t,r.found.name),u=W(r.found.updateTime),c=new Ti({mapValue:{fields:r.found.fields}});return jn.newFoundDocument(i,u,c)}(n,e):"missing"in e?function(t,r){xt(!!r.missing),xt(!!r.readTime);const i=Ke(t,r.missing),u=W(r.readTime);return jn.newNoDocument(i,u)}(n,e):it()}(p.M,B);M.set(G.key.toString(),G)});const F=[];return c.forEach(B=>{const G=M.get(B.toString());xt(!!G),F.push(G)}),F}),function(u,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new gh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=He.fromPath(i);e.mutations.push(new Jm(u,e.precondition(u)))}),yield(r=(0,_e.Z)(function*(i,u){const c=We(i),p=jt(c.M)+"/documents",y={writes:u.map(b=>$c(c.M,b))};yield c.ro("Commit",p,y)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw it();t=Tt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Re(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ir.updateTime(t):ir.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Tt.min()))throw new Re(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ir.updateTime(t)}return ir.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class d1{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new aS(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,_e.Z)(function*(){const t=new c1(e.datastore),r=e.Da(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Ca(u)}))}).catch(i=>{e.Ca(i)})}))}Da(e){try{const t=this.updateFunction(e);return!ch(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Xm(t)}return!1}}class h1{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ri.UNAUTHENTICATED,this.clientId=op.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,_e.Z)(function*(p){Pe("FirestoreClient","Received user=",p.uid),yield u.authCredentialListener(p),u.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Pe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=_y(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function FR(n,e){return iA.apply(this,arguments)}function iA(){return iA=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,_e.Z)(function*(u){r.isEqual(u)||(yield iR(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),iA.apply(this,arguments)}function LR(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield oA(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>wR(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>wR(e.remoteStore,u)),n.onlineComponents=e}),sA.apply(this,arguments)}function oA(n){return aA.apply(this,arguments)}function aA(){return aA=(0,_e.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield FR(n,new OR)),n.offlineComponents}),aA.apply(this,arguments)}function OD(n){return uA.apply(this,arguments)}function uA(){return uA=(0,_e.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield LR(n,new rA)),n.onlineComponents}),uA.apply(this,arguments)}function VR(n){return oA(n).then(e=>e.persistence)}function lA(n){return oA(n).then(e=>e.localStore)}function BR(n){return OD(n).then(e=>e.remoteStore)}function cA(n){return OD(n).then(e=>e.syncEngine)}function by(n){return dA.apply(this,arguments)}function dA(){return dA=(0,_e.Z)(function*(n){const e=yield OD(n),t=e.eventManager;return t.onListen=HP.bind(null,e.syncEngine),t.onUnlisten=GP.bind(null,e.syncEngine),t}),dA.apply(this,arguments)}function UR(n,e,t={}){const r=new Pr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,u,c,p,y){const b=new ND({next:M=>{u.enqueueAndForget(()=>AS(i,A));const F=M.docs.has(c);!F&&M.fromCache?y.reject(new Re(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&p&&"server"===p.source?y.reject(new Re(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),A=new RS(Pc(c.path),b,{includeMetadataChanges:!0,Du:!0});return TS(i,A)}(yield by(n),n.asyncQueue,e,t,r)})),r.promise}function jR(n,e,t={}){const r=new Pr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,u,c,p,y){const b=new ND({next:M=>{u.enqueueAndForget(()=>AS(i,A)),M.fromCache&&"server"===p.source?y.reject(new Re(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),A=new RS(c,b,{includeMetadataChanges:!0,Du:!0});return TS(i,A)}(yield by(n),n.asyncQueue,e,t,r)})),r.promise}const $R=new Map;function hA(n,e,t){if(!t)throw new Re(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HR(n,e,t,r){if(!0===e&&!0===r)throw new Re(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function GR(n){if(!He.isDocumentKey(n))throw new Re(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qR(n){if(He.isDocumentKey(n))throw new Re(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":it()}function on(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kD(n);throw new Re(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function zR(n,e){if(e<=0)throw new Re(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class WR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,HR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eE{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WR({}),this._settingsFrozen=!1,e instanceof ba?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Re(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ba(i.options.projectId)}(e))}get app(){if(!this._app)throw new Re(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new pT;switch(t.type){case"gapi":const r=t.client;return xt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Bm(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Re(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$R.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),$R.delete(e),t.terminate())}(this),Promise.resolve()}}class Jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class ss{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class ll extends ss{constructor(e,t,r){super(e,t,Pc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new He(e))}withConverter(e){return new ll(this.firestore,e,this._path)}}function KR(n,e,...t){if(n=(0,Gt.m9)(n),hA("collection","path",e),n instanceof eE){const r=nn.fromString(e,...t);return qR(r),new ll(n,null,r)}{if(!(n instanceof Jn||n instanceof ll))throw new Re(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nn.fromString(e,...t));return qR(r),new ll(n.firestore,null,r)}}function PD(n,e,...t){if(n=(0,Gt.m9)(n),1===arguments.length&&(e=op.R()),hA("doc","path",e),n instanceof eE){const r=nn.fromString(e,...t);return GR(r),new Jn(n,null,new He(r))}{if(!(n instanceof Jn||n instanceof ll))throw new Re(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nn.fromString(e,...t));return GR(r),new Jn(n.firestore,n instanceof ll?n.converter:null,new He(r))}}function ZR(n,e){return n=(0,Gt.m9)(n),e=(0,Gt.m9)(e),(n instanceof Jn||n instanceof ll)&&(e instanceof Jn||e instanceof ll)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function YR(n,e){return n=(0,Gt.m9)(n),e=(0,Gt.m9)(e),n instanceof ss&&e instanceof ss&&n.firestore===e.firestore&&fh(n._query,e._query)&&n.converter===e.converter}class D1{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new aS(this,"async_queue_retry"),this.Ua=()=>{const t=MD();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=MD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=MD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new Pr;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,_e.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!_p(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,tn("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const i=IS.createAndSchedule(this,e,t,r,u=>this.Qa(u));return this.Oa.push(i),i}qa(){this.Fa&&it()}verifyOperationInProgress(){}ja(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function fA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class C1{constructor(){this._progressObserver={},this._taskCompletionResolver=new Pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class sr extends eE{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new D1,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||QR(this),this._firestoreClient.terminate()}}function qr(n){return n._firestoreClient||QR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function QR(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new gx(n._databaseId,u,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var u,p;n._firestoreClient=new h1(n._authCredentials,n._appCheckCredentials,n._queue,r)}function JR(n,e,t){const r=new Pr;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield FR(n,t),yield LR(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(u=i).name?u.code===ue.FAILED_PRECONDITION||u.code===ue.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var u})).then(()=>r.promise)}function XR(n){if(n._initialized||n._terminated)throw new Re(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Gc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cl(br.fromBase64String(e))}catch(t){throw new Re(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new cl(br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tp{constructor(e){this._methodName=e}}class FD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}const k1=/^__.*__$/;class P1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new jc(e,this.data,this.fieldMask,t,this.fieldTransforms):new gp(e,this.data,t,this.fieldTransforms)}}class eN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new jc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class LD{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===u&&this.Ja(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new LD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.ec(e),i}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.Ja(),i}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return UD(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(tN(this.Ya)&&k1.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class F1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Q0(e)}uc(e,t,r,i=!1){return new LD({Ya:e,methodName:t,oc:r,path:Fr.emptyPath(),tc:!1,rc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Sp(n){const e=n._freezeSettings(),t=Q0(n._databaseId);return new F1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function VD(n,e,t,r,i,u={}){const c=n.uc(u.merge||u.mergeFields?2:0,e,t,i);yA("Data must be an object, but it was:",c,r);const p=iN(r,c);let y,b;if(u.merge)y=new lh(c.fieldMask),b=c.fieldTransforms;else if(u.mergeFields){const A=[];for(const M of u.mergeFields){const F=_A(e,M,t);if(!c.contains(F))throw new Re(ue.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);oN(A,F)||A.push(F)}y=new lh(A),b=c.fieldTransforms.filter(M=>y.covers(M.field))}else y=null,b=c.fieldTransforms;return new P1(new Ti(p),y,b)}class tE extends Tp{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tE}}function nN(n,e,t){return new LD({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class pA extends Tp{_toFieldTransform(e){return new Bc(e.path,new fp)}isEqual(e){return e instanceof pA}}class L1 extends Tp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=nN(this,e,!0),r=this.ac.map(u=>Ap(u,t)),i=new Fc(r);return new Bc(e.path,i)}isEqual(e){return this===e}}class V1 extends Tp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=nN(this,e,!0),r=this.ac.map(u=>Ap(u,t)),i=new Lc(r);return new Bc(e.path,i)}isEqual(e){return this===e}}class B1 extends Tp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new Vc(e.M,cD(e.M,this.cc));return new Bc(e.path,t)}isEqual(e){return this===e}}function gA(n,e,t,r){const i=n.uc(1,e,t);yA("Data must be an object, but it was:",i,r);const u=[],c=Ti.empty();Ac(r,(y,b)=>{const A=BD(e,y,t);b=(0,Gt.m9)(b);const M=i.nc(A);if(b instanceof tE)u.push(A);else{const F=Ap(b,M);null!=F&&(u.push(A),c.set(A,F))}});const p=new lh(u);return new eN(c,p,i.fieldTransforms)}function mA(n,e,t,r,i,u){const c=n.uc(1,e,t),p=[_A(e,r,t)],y=[i];if(u.length%2!=0)throw new Re(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<u.length;F+=2)p.push(_A(e,u[F])),y.push(u[F+1]);const b=[],A=Ti.empty();for(let F=p.length-1;F>=0;--F)if(!oN(b,p[F])){const B=p[F];let G=y[F];G=(0,Gt.m9)(G);const ne=c.nc(B);if(G instanceof tE)b.push(B);else{const we=Ap(G,ne);null!=we&&(b.push(B),A.set(B,we))}}const M=new lh(b);return new eN(A,M,c.fieldTransforms)}function rN(n,e,t,r=!1){return Ap(t,n.uc(r?4:3,e))}function Ap(n,e){if(sN(n=(0,Gt.m9)(n)))return yA("Unsupported field value:",e,n),iN(n,e);if(n instanceof Tp)return function(t,r){if(!tN(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let p=Ap(c,r.sc(u));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Gt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return cD(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Zn.fromDate(t);return{timestampValue:x(r.M,i)}}if(t instanceof Zn){const i=new Zn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:x(r.M,i)}}if(t instanceof FD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof cl)return{bytesValue:P(r.M,t._byteString)};if(t instanceof Jn){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.ic(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ye(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${kD(t)}`)}(n,e)}function iN(n,e){const t={};return E0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ac(n,(r,i)=>{const u=Ap(i,e.Za(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function sN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Zn||n instanceof FD||n instanceof cl||n instanceof Jn||n instanceof Tp)}function yA(n,e,t){if(!sN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=kD(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function _A(n,e,t){if((e=(0,Gt.m9)(e))instanceof Gc)return e._internalPath;if("string"==typeof e)return BD(n,e);throw UD("Field path arguments must be of type string or ",n,!1,void 0,t)}const U1=new RegExp("[~\\*/\\[\\]]");function BD(n,e,t){if(e.search(U1)>=0)throw UD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gc(...e.split("."))._internalPath}catch(r){throw UD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function UD(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||c)&&(y+=" (found",u&&(y+=` in field ${r}`),c&&(y+=` in document ${i}`),y+=")"),new Re(ue.INVALID_ARGUMENT,p+n+y)}function oN(n,e){return n.some(t=>t.isEqual(e))}class nE{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new j1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class j1 extends nE{data(){return super.data()}}function jD(n,e){return"string"==typeof e?BD(n,e):e instanceof Gc?e._internalPath:e._delegate._internalPath}class Mp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qc extends nE{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(jD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class rE extends qc{data(e={}){return super.data(e)}}class bh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Mp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new rE(this._firestore,this._userDataWriter,r.key,r,new Mp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new rE(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Mp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const p=new rE(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Mp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,b=-1;return 0!==c.type&&(y=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),b=u.indexOf(c.doc.key)),{type:$1(c.type),doc:p,oldIndex:y,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function aN(n,e){return n instanceof qc&&e instanceof qc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof bh&&e instanceof bh&&n._firestore===e._firestore&&YR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function uN(n){if(Ym(n)&&0===n.explicitOrderBy.length)throw new Re(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iE{}function Dh(n,...e){for(const t of e)n=t._apply(n);return n}class H1 extends iE{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=Sp(e.firestore),r=function(i,u,c,p,y,b,A){let M;if(y.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Re(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){pN(A,b);const B=[];for(const G of A)B.push(fN(p,i,G));M={arrayValue:{values:B}}}else M=fN(p,i,A)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||pN(A,b),M=rN(c,"where",A,"in"===b||"not-in"===b);const F=ii.create(y,b,M);return function(B,G){if(G.S()){const we=Qm(B);if(null!==we&&!we.isEqual(G.field))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${we.toString()}' and '${G.field.toString()}'`);const Ye=x0(B);null!==Ye&&gN(0,G.field,Ye)}const ne=function(we,Ye){for(const Le of we.filters)if(Ye.indexOf(Le.op)>=0)return Le.op;return null}(B,function(we){switch(we){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(G.op));if(null!==ne)throw new Re(ue.INVALID_ARGUMENT,ne===G.op?`Invalid query. You cannot use more than one '${G.op.toString()}' filter.`:`Invalid query. You cannot use '${G.op.toString()}' filters with '${ne.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new ss(e.firestore,e.converter,function(i,u){const c=i.filters.concat([u]);return new su(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class q1 extends iE{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Re(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new kc(i,u);return function(p,y){if(null===x0(p)){const b=Qm(p);null!==b&&gN(0,b,y.field)}}(r,c),c}(e._query,this.hc,this.dc);return new ss(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new su(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class lN extends iE{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new ss(e.firestore,e.converter,oD(e._query,this._c,this.wc))}}class cN extends iE{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=hN(e,this.type,this.mc,this.gc);return new ss(e.firestore,e.converter,(i=t,new su((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class dN extends iE{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=hN(e,this.type,this.mc,this.gc);return new ss(e.firestore,e.converter,(i=t,new su((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function hN(n,e,t,r){if(t[0]=(0,Gt.m9)(t[0]),t[0]instanceof nE)return function(i,u,c,p,y){if(!p)throw new Re(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const A of ol(i))if(A.field.isKeyField())b.push(xc(u,p.key));else{const M=p.data.field(A.field);if($m(M))throw new Re(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=A.field.canonicalString();throw new Re(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}b.push(M)}return new sl(b,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Sp(n.firestore);return function(u,c,p,y,b,A){const M=u.explicitOrderBy;if(b.length>M.length)throw new Re(ue.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<b.length;B++){const G=b[B];if(M[B].field.isKeyField()){if("string"!=typeof G)throw new Re(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof G}`);if(!hp(u)&&-1!==G.indexOf("/"))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${G}' contains a slash.`);const ne=u.path.child(nn.fromString(G));if(!He.isDocumentKey(ne))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const we=new He(ne);F.push(xc(c,we))}else{const ne=rN(p,y,G);F.push(ne)}}return new sl(F,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function fN(n,e,t){if("string"==typeof(t=(0,Gt.m9)(t))){if(""===t)throw new Re(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hp(e)&&-1!==t.indexOf("/"))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(nn.fromString(t));if(!He.isDocumentKey(r))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xc(n,new He(r))}if(t instanceof Jn)return xc(n,t._key);throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kD(t)}.`)}function pN(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Re(ue.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function gN(n,e,t){if(!t.isEqual(e))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class vA{convertValue(e,t="none"){switch(dh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw it()}}convertObject(e,t){const r={};return Ac(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new FD(Yn(e.latitude),Yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Jb(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ap(e));default:return null}}convertTimestamp(e){const t=nu(e);return new Zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nn.fromString(e);xt(Tx(r));const i=new ba(r.get(1),r.get(3)),u=new He(r.popFirst(5));return i.isEqual(t)||tn(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function $D(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class X1 extends vA{constructor(e){super(),this.firestore=e}convertBytes(e){return new cl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}class mN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Sp(e)}set(e,t,r){this._verifyNotCommitted();const i=Ch(e,this._firestore),u=$D(i.converter,t,r),c=VD(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,ir.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=Ch(e,this._firestore);let c;return c="string"==typeof(t=(0,Gt.m9)(t))||t instanceof Gc?mA(this._dataReader,"WriteBatch.update",u._key,t,r,i):gA(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ch(e,this._firestore);return this._mutations=this._mutations.concat(new gh(t._key,ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ch(n,e){if((n=(0,Gt.m9)(n)).firestore!==e)throw new Re(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class xp extends vA{constructor(e){super(),this.firestore=e}convertBytes(e){return new cl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function yN(n,e,t){n=on(n,Jn);const r=on(n.firestore,sr),i=$D(n.converter,e,t);return Dy(r,[VD(Sp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ir.none())])}function _N(n,e,t,...r){n=on(n,Jn);const i=on(n.firestore,sr),u=Sp(i);let c;return c="string"==typeof(e=(0,Gt.m9)(e))||e instanceof Gc?mA(u,"updateDoc",n._key,e,t,r):gA(u,"updateDoc",n._key,e),Dy(i,[c.toMutation(n._key,ir.exists(!0))])}function vN(n,...e){var t,r,i;n=(0,Gt.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||fA(e[c])||(u=e[c],c++);const p={includeMetadataChanges:u.includeMetadataChanges};if(fA(e[c])){const M=e[c];e[c]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[c+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[c+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let y,b,A;if(n instanceof Jn)b=on(n.firestore,sr),A=Pc(n._key.path),y={next:M=>{e[c]&&e[c](EA(b,n,M))},error:e[c+1],complete:e[c+2]};else{const M=on(n,ss);b=on(M.firestore,sr),A=M._query;const F=new xp(b);y={next:B=>{e[c]&&e[c](new bh(b,F,M,B))},error:e[c+1],complete:e[c+2]},uN(n._query)}return function(M,F,B,G){const ne=new ND(G),we=new RS(F,ne,B);return M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return TS(yield by(M),we)})),()=>{ne.pa(),M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return AS(yield by(M),we)}))}}(qr(b),A,p,y)}function Dy(n,e){return function(t,r){const i=new Pr;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function qP(n,e,t){return FS.apply(this,arguments)}(yield cA(t),r,i)})),i.promise}(qr(n),e)}function EA(n,e,t){const r=t.docs.get(e._key),i=new xp(n);return new qc(n,i,e._key,r,new Mp(t.hasPendingWrites,t.fromCache),e.converter)}class lF extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Sp(e)}get(e){const t=Ch(e,this._firestore),r=new X1(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return it();const u=i[0];if(u.isFoundDocument())return new nE(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new nE(this._firestore,r,t._key,null,t.converter);throw it()})}set(e,t,r){const i=Ch(e,this._firestore),u=$D(i.converter,t,r),c=VD(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const u=Ch(e,this._firestore);let c;return c="string"==typeof(t=(0,Gt.m9)(t))||t instanceof Gc?mA(this._dataReader,"Transaction.update",u._key,t,r,i):gA(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=Ch(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ch(e,this._firestore),r=new xp(this._firestore);return super.get(e).then(i=>new qc(this._firestore,r,t._key,i._document,new Mp(!1,!1),t.converter))}}function wA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function wN(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function bN(){if(!function mT(){return"undefined"!=typeof atob}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Sc=Za.SDK_VERSION,(0,Za._registerComponent)(new Rf.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),u=new sr(i,new Wb(t.getProvider("auth-internal")),new px(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Za.registerVersion)(m0,"3.4.7",n),(0,Za.registerVersion)(m0,"3.4.7","esm2017")}();class sE{constructor(e){this._delegate=e}static fromBase64String(e){return bN(),new sE(cl.fromBase64String(e))}static fromUint8Array(e){return wN(),new sE(cl.fromUint8Array(e))}toBase64(){return bN(),this._delegate.toBase64()}toUint8Array(){return wN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function bA(n){return function _F(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class vF{enableIndexedDbPersistence(e,t){return function T1(n,e){XR(n=on(n,sr));const t=qr(n),r=n._freezeSettings(),i=new rA;return JR(t,i,new kR(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function S1(n){XR(n=on(n,sr));const e=qr(n),t=n._freezeSettings(),r=new rA;return JR(e,r,new u1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function A1(n){if(n._initialized&&!n._terminated)throw new Re(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Pr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(r){if(!uu.vt())return Promise.resolve();const i=r+"main";yield uu.delete(i)}),function(r){return t.apply(this,arguments)})(ZT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class DN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ba||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&wa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function w1(n,e,t,r={}){var i;const u=(n=on(n,eE))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&wa("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,p;if("string"==typeof r.mockUserToken)c=r.mockUserToken,p=ri.MOCK_USER;else{c=(0,Gt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Re(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ri(y)}n._authCredentials=new v0(new zb(c,p))}}(this._delegate,e,t,r)}enableNetwork(){return function x1(n){return function f1(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield VR(n),t=yield BR(n);return e.setNetworkEnabled(!0),function(r){const i=We(r);return i.lu.delete(0),J0(i)}(t)}))}(qr(n=on(n,sr)))}(this._delegate)}disableNetwork(){return function R1(n){return function p1(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield VR(n),t=yield BR(n);return e.setNetworkEnabled(!1),(r=(0,_e.Z)(function*(i){const u=We(i);u.lu.add(0),yield gy(u),u._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(qr(n=on(n,sr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,HR("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function M1(n){return function(e){const t=new Pr;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function ZP(n,e){return jS.apply(this,arguments)}(yield cA(e),t)})),t.promise}(qr(n=on(n,sr)))}(this._delegate)}onSnapshotsInSync(e){return function uF(n,e){return function y1(n,e){const t=new ND(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield by(n),i=t,We(r).Tu.add(i),void i.next();var r,i})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield by(n),i=t,void We(r).Tu.delete(i);var r,i}))}}(qr(n=on(n,sr)),fA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Cy(this,KR(this._delegate,e))}catch(t){throw Is(t,"collection()","Firestore.collection()")}}doc(e){try{return new Da(this,PD(this._delegate,e))}catch(t){throw Is(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ts(this,function b1(n,e){if(n=on(n,eE),hA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ss(n,null,(t=e,new su(nn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Is(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function cF(n,e){return function _1(n,e){const t=new Pr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const r=yield(i=n,OD(i).then(u=>u.datastore));var i;new d1(n.asyncQueue,r,e,t).run()})),t.promise}(qr(n=on(n,sr)),t=>e(new lF(n,t)))}(this._delegate,t=>e(new CN(this,t)))}batch(){return qr(this._delegate),new IN(new mN(this._delegate,e=>Dy(this._delegate,e)))}loadBundle(e){return function N1(n,e){const t=qr(n=on(n,sr)),r=new C1;return function v1(n,e,t,r){const i=function(u,c){let p;return p="string"==typeof u?(new TextEncoder).encode(u):u,y=function(y,b){if(y instanceof Uint8Array)return PR(y,b);if(y instanceof ArrayBuffer)return PR(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new l1(y,c);var y}(t,Q0(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function a1(n,e,t){const r=We(n);var i;(i=(0,_e.Z)(function*(u,c,p){try{const y=yield c.getMetadata();if(yield function(F,B){const G=We(F),ne=W(B.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",we=>G.ds.getBundleMetadata(we,B.id)).then(we=>!!we&&we.createTime.compareTo(ne)>=0)}(u.localStore,y))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(F=y).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);p._updateProgress(CR(y));const b=new BP(y,u.localStore,c.M);let A=yield c.fa();for(;A;){const F=yield b.Nu(A);F&&p._updateProgress(F),A=yield c.fa()}const M=yield b.complete();return yield Hc(u,M.Ou,void 0),yield function(F,B){const G=We(F);return G.persistence.runTransaction("Save bundle","readwrite",ne=>G.ds.saveBundleMetadata(ne,B))}(u.localStore,y),p._completeWith(M.progress),Promise.resolve(M.Mu)}catch(y){return wa("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var F}),function(u,c,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield cA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function O1(n,e){return function E1(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,r){const i=We(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.ds.getNamedQuery(u,r))}(yield lA(n),e)}))}(qr(n=on(n,sr)),e).then(t=>t?new ss(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ts(this,t):null)}}class HD extends vA{constructor(e){super(),this.firestore=e}convertBytes(e){return new sE(new cl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Da.forKey(t,this.firestore,null)}}class CN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new HD(e)}get(e){const t=Np(e);return this._delegate.get(t).then(r=>new oE(this._firestore,new qc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Np(e);return r?(wA("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Np(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Np(e);return this._delegate.delete(t),this}}class IN{constructor(e){this._delegate=e}set(e,t,r){const i=Np(e);return r?(wA("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Np(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Np(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Rp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new rE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new aE(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Rp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new Rp(e,new HD(e),t),i.set(t,u)),u}}Rp.INSTANCES=new WeakMap;class Da{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new HD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Da(t,new Jn(t._delegate,r,new He(e)))}static forKey(e,t,r){return new Da(t,new Jn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Cy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Cy(this.firestore,KR(this._delegate,e))}catch(t){throw Is(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Gt.m9)(e))instanceof Jn&&ZR(this._delegate,e)}set(e,t){t=wA("DocumentReference.set",t);try{return t?yN(this._delegate,e,t):yN(this._delegate,e)}catch(r){throw Is(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?_N(this._delegate,e):_N(this._delegate,e,t,...r)}catch(i){throw Is(i,"updateDoc()","DocumentReference.update()")}}delete(){return function oF(n){return Dy(on(n.firestore,sr),[new gh(n._key,ir.none())])}(this._delegate)}onSnapshot(...e){const t=TN(e),r=SN(e,i=>new oE(this.firestore,new qc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return vN(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function tF(n){n=on(n,Jn);const e=on(n.firestore,sr),t=qr(e),r=new xp(e);return function g1(n,e){const t=new Pr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,u,c){try{const p=yield function(y,b){const A=We(y);return A.persistence.runTransaction("read document","readonly",M=>A.ai.Bs(M,b))}(i,u);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Re(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=_y(p,`Failed to get document '${u} from cache`);c.reject(y)}}),function(i,u,c){return r.apply(this,arguments)})(yield lA(n),e,t);var r})),t.promise}(t,n._key).then(i=>new qc(e,r,n._key,i,new Mp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function nF(n){n=on(n,Jn);const e=on(n.firestore,sr);return UR(qr(e),n._key,{source:"server"}).then(t=>EA(e,n,t))}(this._delegate):function eF(n){n=on(n,Jn);const e=on(n.firestore,sr);return UR(qr(e),n._key).then(t=>EA(e,n,t))}(this._delegate),t.then(r=>new oE(this.firestore,new qc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Da(this.firestore,this._delegate.withConverter(e?Rp.getInstance(this.firestore,e):null))}}function Is(n,e,t){return n.message=n.message.replace(e,t),n}function TN(n){for(const e of n)if("object"==typeof e&&!bA(e))return e;return{}}function SN(n,e){var t,r;let i;return i=bA(n[0])?n[0]:bA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class oE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Da(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return aN(this._delegate,e._delegate)}}class aE extends oE{data(e){const t=this._delegate.data(e);return function sp(n,e){n||it()}(void 0!==t),t}}class Ts{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new HD(e)}where(e,t,r){try{return new Ts(this.firestore,Dh(this._delegate,function G1(n,e,t){const r=e,i=jD("where",n);return new H1(i,r,t)}(e,t,r)))}catch(i){throw Is(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ts(this.firestore,Dh(this._delegate,function z1(n,e="asc"){const t=e,r=jD("orderBy",n);return new q1(r,t)}(e,t)))}catch(r){throw Is(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ts(this.firestore,Dh(this._delegate,function W1(n){return zR("limit",n),new lN("limit",n,"F")}(e)))}catch(t){throw Is(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ts(this.firestore,Dh(this._delegate,function K1(n){return zR("limitToLast",n),new lN("limitToLast",n,"L")}(e)))}catch(t){throw Is(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ts(this.firestore,Dh(this._delegate,function Z1(...n){return new cN("startAt",n,!0)}(...e)))}catch(t){throw Is(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ts(this.firestore,Dh(this._delegate,function Y1(...n){return new cN("startAfter",n,!1)}(...e)))}catch(t){throw Is(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ts(this.firestore,Dh(this._delegate,function Q1(...n){return new dN("endBefore",n,!1)}(...e)))}catch(t){throw Is(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ts(this.firestore,Dh(this._delegate,function J1(...n){return new dN("endAt",n,!0)}(...e)))}catch(t){throw Is(t,"endAt()","Query.endAt()")}}isEqual(e){return YR(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function iF(n){n=on(n,ss);const e=on(n.firestore,sr),t=qr(e),r=new xp(e);return function m1(n,e){const t=new Pr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,u,c){try{const p=yield TD(i,u,!0),y=new SR(u,p.hi),b=y.Gu(p.documents),A=y.applyChanges(b,!1);c.resolve(A.snapshot)}catch(p){const y=_y(p,`Failed to execute query '${u} against cache`);c.reject(y)}}),function(i,u,c){return r.apply(this,arguments)})(yield lA(n),e,t);var r})),t.promise}(t,n._query).then(i=>new bh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function sF(n){n=on(n,ss);const e=on(n.firestore,sr),t=qr(e),r=new xp(e);return jR(t,n._query,{source:"server"}).then(i=>new bh(e,r,n,i))}(this._delegate):function rF(n){n=on(n,ss);const e=on(n.firestore,sr),t=qr(e),r=new xp(e);return uN(n._query),jR(t,n._query).then(i=>new bh(e,r,n,i))}(this._delegate),t.then(r=>new DA(this.firestore,new bh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=TN(e),r=SN(e,i=>new DA(this.firestore,new bh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return vN(this._delegate,t,r)}withConverter(e){return new Ts(this.firestore,this._delegate.withConverter(e?Rp.getInstance(this.firestore,e):null))}}class wF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new aE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class DA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ts(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new aE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new wF(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new aE(this._firestore,r))})}isEqual(e){return aN(this._delegate,e._delegate)}}class Cy extends Ts{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Da(this.firestore,e):null}doc(e){try{return new Da(this.firestore,void 0===e?PD(this._delegate):PD(this._delegate,e))}catch(t){throw Is(t,"doc()","CollectionReference.doc()")}}add(e){return function aF(n,e){const t=on(n.firestore,sr),r=PD(n),i=$D(n.converter,e);return Dy(t,[VD(Sp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ir.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Da(this.firestore,t))}isEqual(e){return ZR(this._delegate,e._delegate)}withConverter(e){return new Cy(this.firestore,this._delegate.withConverter(e?Rp.getInstance(this.firestore,e):null))}}function Np(n){return on(n,Jn)}class CA{constructor(...e){this._delegate=new Gc(...e)}static documentId(){return new CA(Fr.keyField().canonicalString())}isEqual(e){return(e=(0,Gt.m9)(e))instanceof Gc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Op{constructor(e){this._delegate=e}static serverTimestamp(){const e=function hF(){return new pA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Op(e)}static delete(){const e=function dF(){return new tE("deleteField")}();return e._methodName="FieldValue.delete",new Op(e)}static arrayUnion(...e){const t=function fF(...n){return new L1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Op(t)}static arrayRemove(...e){const t=function pF(...n){return new V1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Op(t)}static increment(e){const t=function gF(n){return new B1("increment",n)}(e);return t._methodName="FieldValue.increment",new Op(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const bF={Firestore:DN,GeoPoint:FD,Timestamp:Zn,Blob:sE,Transaction:CN,WriteBatch:IN,DocumentReference:Da,DocumentSnapshot:oE,Query:Ts,QueryDocumentSnapshot:aE,QuerySnapshot:DA,CollectionReference:Cy,FieldPath:CA,FieldValue:Op,setLogLevel:function EF(n){!function qb(n){tu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function CF(n){(function DF(n,e){n.INTERNAL.registerComponent(new Rf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},bF)))})(n,(e,t)=>new DN(e,t,new vF)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(Qw.Z);var GD=k(5363),IF=k(6063);class TF extends cr.x{constructor(e=1/0,t=1/0,r=IF.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let p=0;for(let y=1;y<r.length&&r[y]<=c;y+=2)p=y;p&&r.splice(0,p+1)}}}var SF=k(3099);function AN(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,SF.B)({connector:()=>new TF(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function MN(n,e){return(0,gi.m)(e)?Bn(()=>n,e):Bn(()=>n)}var IA=k(9468);k(5867);const RN=new Map,NF={activated:!1,tokenObservers:[]},OF={initialized:!1,enabled:!1};function xi(n){return RN.get(n)||NF}function lu(n,e){RN.set(n,e)}function zD(){return OF}class VF{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new Gt.BH,yield function BF(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Gt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ss=new Gt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ON(n){if(!xi(n).activated)throw Ss.create("use-before-activation",{appName:n.name})}function MA(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,_e.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const M=yield i.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const u={method:"POST",body:JSON.stringify(e),headers:r};let c,p;try{c=yield fetch(n,u)}catch(M){throw Ss.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==c.status)throw Ss.create("fetch-status-error",{httpStatus:c.status});try{p=yield c.json()}catch(M){throw Ss.create("fetch-parse-error",{originalErrorMessage:M.message})}const y=p.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Ss.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const b=1e3*Number(y[1]),A=Date.now();return{token:p.attestationToken,expireTimeMillis:A+b,issuedAtTimeMillis:A}}),xA.apply(this,arguments)}function GF(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const uE="firebase-app-check-store";let ZD=null;function PN(){return ZD||(ZD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ss.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(uE,{keyPath:"compositeKey"})}}catch(t){e(Ss.create("storage-open",{originalErrorMessage:t.message}))}}),ZD)}function RA(){return RA=(0,_e.Z)(function*(n,e){const r=(yield PN()).transaction(uE,"readwrite"),u=r.objectStore(uE).put({compositeKey:n,value:e});return new Promise((c,p)=>{u.onsuccess=y=>{c()},r.onerror=y=>{var b;p(Ss.create("storage-set",{originalErrorMessage:null===(b=y.target.error)||void 0===b?void 0:b.message}))}})}),RA.apply(this,arguments)}const lE=new Ya.Yd("@firebase/app-check");function BN(n,e){return(0,Gt.hl)()?function KF(n,e){return function FN(n,e){return RA.apply(this,arguments)}(function VN(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{lE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function UN(){return zD().enabled}function jN(){return PA.apply(this,arguments)}function PA(){return PA=(0,_e.Z)(function*(){const n=zD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),PA.apply(this,arguments)}const eL={error:"UNKNOWN_ERROR"};function tL(n){return Gt.US.encodeString(JSON.stringify(n),!1)}function YD(n){return FA.apply(this,arguments)}function FA(){return FA=(0,_e.Z)(function*(n,e=!1){const t=n.app;ON(t);const r=xi(t);let u,i=r.token;if(!i){const y=yield r.cachedTokenPromise;y&&QD(y)&&(i=y)}if(!e&&i&&QD(i))return{token:i.token};let p,c=!1;if(UN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=MA(GF(t,yield jN()),n.heartbeatServiceProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),c=!0);const y=yield r.exchangeTokenPromise;return yield BN(t,y),lu(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),c=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?lE.warn(y.message):lE.error(y),u=y}return i?(p={token:i.token},lu(t,Object.assign(Object.assign({},r),{token:i})),yield BN(t,i)):p=rL(u),c&&HN(t,p),p}),FA.apply(this,arguments)}function VA(n,e){const t=xi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),lu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function $N(n){const{app:e}=n,t=xi(e);let r=t.tokenRefresher;r||(r=function nL(n){const{app:e}=n;return new VF((0,_e.Z)(function*(){let r;if(r=xi(e).token?yield YD(n,!0):yield YD(n),r.error)throw r.error}),()=>!0,()=>{const t=xi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),lu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function HN(n,e){const t=xi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function QD(n){return n.expireTimeMillis-Date.now()>0}function rL(n){return{token:tL(eL),error:n}}class iL{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=xi(this.app);for(const t of e)VA(this.app,t.next);return Promise.resolve()}}const QN="app-check-internal";!function _L(){(0,Za._registerComponent)(new Rf.wA("app-check",n=>function sL(n,e){return new iL(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(QN).initialize()})),(0,Za._registerComponent)(new Rf.wA(QN,n=>function oL(n){return{getToken:e=>YD(n,e),addTokenListener:e=>function LA(n,e,t,r){const{app:i}=n,u=xi(i),c={next:t,error:r,type:e};if(lu(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,c]})),u.token&&QD(u.token)){const p=u.token;Promise.resolve().then(()=>{t({token:p.token}),$N(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>$N(n))}(n,"INTERNAL",e),removeTokenListener:e=>VA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Za.registerVersion)("@firebase/app-check","0.5.5")}();class $A{constructor(){return(0,Xr.vb)("app-check")}}"undefined"!=typeof window&&window;var DL=k(127);const XN=new f.OlP("angularfire2.auth.use-emulator"),eO=new f.OlP("angularfire2.auth.settings"),tO=new f.OlP("angularfire2.auth.tenant-id"),nO=new f.OlP("angularfire2.auth.langugage-code"),rO=new f.OlP("angularfire2.auth.use-device-language"),iO=new f.OlP("angularfire.auth.persistence"),sO=(n,e,t,r,i,u,c,p)=>(0,Fo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,u&&y.useDeviceLanguage(),c)for(const[b,A]of Object.entries(c))y.settings[b]=A;return p&&y.setPersistence(p),y},[t,r,i,u,c,p]);let oO=(()=>{class n{constructor(t,r,i,u,c,p,y,b,A,M,F,B){const G=new cr.x,ne=yt(void 0).pipe((0,GD.Q)(c.outsideAngular),Bn(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,4087)))),(0,Ot.U)(()=>(0,Fo.on)(t,u,r)),(0,Ot.U)(we=>sO(we,u,p,b,A,M,y,F)),AN({bufferSize:1,refCount:!1}));if(vr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=yt(null);else{ne.pipe(Qs()).subscribe();const Ye=ne.pipe(Bn(qe=>qe.getRedirectResult().then(vt=>vt,()=>null)),Xr.iC,AN({bufferSize:1,refCount:!1})),Le=ne.pipe(Bn(qe=>new Br.y(vt=>({unsubscribe:u.runOutsideAngular(()=>qe.onAuthStateChanged(ct=>vt.next(ct),ct=>vt.error(ct),()=>vt.complete()))})))),Ze=ne.pipe(Bn(qe=>new Br.y(vt=>({unsubscribe:u.runOutsideAngular(()=>qe.onIdTokenChanged(ct=>vt.next(ct),ct=>vt.error(ct),()=>vt.complete()))}))));this.authState=Ye.pipe(MN(Le),(0,IA.R)(c.outsideAngular),(0,GD.Q)(c.insideAngular)),this.user=Ye.pipe(MN(Ze),(0,IA.R)(c.outsideAngular),(0,GD.Q)(c.insideAngular)),this.idToken=this.user.pipe(Bn(qe=>qe?(0,Ln.D)(qe.getIdToken()):yt(null))),this.idTokenResult=this.user.pipe(Bn(qe=>qe?(0,Ln.D)(qe.getIdTokenResult()):yt(null))),this.credential=(0,kE.T)(Ye,G,this.authState.pipe(Qi(qe=>!qe))).pipe((0,Ot.U)(qe=>(null==qe?void 0:qe.user)?qe:null),(0,IA.R)(c.outsideAngular),(0,GD.Q)(c.insideAngular))}return(0,Fo.pX)(this,ne,u,{spy:{apply:(we,Ye,Le)=>{(we.startsWith("signIn")||we.startsWith("createUser"))&&Le.then(Ze=>G.next(Ze))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Fo.Dh),f.LFG(Fo.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Xr.HU),f.LFG(XN,8),f.LFG(eO,8),f.LFG(tO,8),f.LFG(nO,8),f.LFG(rO,8),f.LFG(iO,8),f.LFG($A,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function aO(n,e){return function IL(n,e=Zw.z){return new Br.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function GA(n,e){return aO(n,e).pipe((0,Ot.U)(t=>({payload:t,type:"query"})))}function XD(n,e){return GA(n,e).pipe(Bi(void 0),nm(),(0,Ot.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const y=i.find(A=>A.doc.ref.isEqual(c.ref)),b=null==t?void 0:t.payload.docs.find(A=>A.ref.isEqual(c.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(c.metadata)||!y&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),u}))}function uO(n,e,t){return XD(n,t).pipe(Rr((r,i)=>function SL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function AL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return qA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return qA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return qA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function Yw(n,e=fi.y){return n=null!=n?n:rm,(0,Ur.e)((t,r)=>{let i,u=!0;t.subscribe((0,zn.x)(r,c=>{const p=e(c);(u||!n(i,p))&&(u=!1,i=p,r.next(c))}))})}(),(0,Ot.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function qA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function lO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class cO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=XD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ot.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Bi(void 0),nm(),Qi(([r,i])=>i.length>0||!r),(0,Ot.U)(([r,i])=>i),Xr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Rr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=lO(e);return uO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}valueChanges(e={}){return GA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Xr.iC)}get(e){return(0,Ln.D)(this.query.get(e)).pipe(Xr.iC)}add(e){return this.ref.add(e)}doc(e){return new dO(this.ref.doc(e),this.afs)}}class dO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=pO(r,t);return new cO(i,u,this.afs)}snapshotChanges(){return function TL(n,e){return aO(n,e).pipe(Bi(void 0),nm(),(0,Ot.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ot.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ln.D)(this.ref.get(e)).pipe(Xr.iC)}}class ML{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?XD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Qi(t=>t.length>0),Xr.iC):XD(this.query,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Rr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=lO(e);return uO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}valueChanges(e={}){return GA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Xr.iC)}get(e){return(0,Ln.D)(this.query.get(e)).pipe(Xr.iC)}}const hO=new f.OlP("angularfire2.enableFirestorePersistence"),fO=new f.OlP("angularfire2.firestore.persistenceSettings"),xL=new f.OlP("angularfire2.firestore.settings"),RL=new f.OlP("angularfire2.firestore.use-emulator");function pO(n,e=(t=>t)){return{query:e(n),ref:n}}let zA=(()=>{class n{constructor(t,r,i,u,c,p,y,b,A,M,F,B,G,ne,we,Ye,Le){this.schedulers=y;const Ze=(0,Fo.on)(t,p,r),qe=A;M&&sO(Ze,p,F,G,ne,we,B,Ye),[this.firestore,this.persistenceEnabled$]=(0,Fo.cc)(`${Ze.name}.firestore`,"AngularFirestore",Ze.name,()=>{const vt=p.runOutsideAngular(()=>Ze.firestore());if(u&&vt.settings(u),qe&&vt.useEmulator(...qe),i&&!vr(c)){const ct=()=>{try{return(0,Ln.D)(vt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Jt){return"undefined"!=typeof console&&console.warn(Jt),yt(!1)}};return[vt,p.runOutsideAngular(ct)]}return[vt,yt(!1)]},[u,qe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=pO(i,r),p=this.schedulers.ngZone.run(()=>u);return new cO(p,c,this)}collectionGroup(t,r){const i=r||(c=>c),u=this.firestore.collectionGroup(t);return new ML(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new dO(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Fo.Dh),f.LFG(Fo.xv,8),f.LFG(hO,8),f.LFG(xL,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Xr.HU),f.LFG(fO,8),f.LFG(RL,8),f.LFG(oO,8),f.LFG(XN,8),f.LFG(eO,8),f.LFG(tO,8),f.LFG(nO,8),f.LFG(rO,8),f.LFG(iO,8),f.LFG($A,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),gO=(()=>{class n{constructor(){DL.Z.registerVersion("angularfire",Xr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:hO,useValue:!0},{provide:fO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[zA]}),n})();const mO=(n,e)=>{if(void 0===e)return n;const t=Object.keys(e);return n.filter(i=>((i,u,c)=>void 0===i.find(p=>u[p]!==c[p]))(t,i,e))};let cE=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("tasks").add(t)}getAll(t){return this._client.collection("tasks").valueChanges({idField:"id"}).pipe((0,Ot.U)(r=>mO(r,t)))}remove(t){this._client.doc("tasks/"+t).delete()}set(t){this._client.doc("tasks/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(zA))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const yO=new f.OlP("ADDS_TASK_DTO");let WA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[cE,{provide:yO,useExisting:cE},{provide:JE,useExisting:cE},{provide:Ig,useExisting:cE},{provide:XE,useExisting:cE}],imports:[[gO]]}),n})(),_O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[_r,qC.forRoot(),Bd.forRoot()]]}),n})(),NL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[_r,la.forChild([{path:"",component:ow}]),wf,WA,_O,bf]]}),n})();const vO=new f.OlP("GETS_ALL_IMAGE_DTO");function OL(n,e){if(1&n&&(f.TgZ(0,"div",2),f._UZ(1,"img",3),f.qZA()),2&n){const t=e.$implicit;f.xp6(1),f.Q6J("src",t.imageUrl,f.LSH)("alt",t.alt)}}let EO=(()=>{class n{constructor(t){this._getsAllImageDto=t,this.images$=this._getsAllImageDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(vO))},n.\u0275cmp=f.Xpm({type:n,selectors:[["lib-photos-list"]],decls:3,vars:3,consts:[[1,"d-flex","justify-content-between","align-items-center","pt-4"],["style","width: 24rem;",4,"ngFor","ngForOf"],[2,"width","24rem"],[1,"card-img-top","p-1",3,"src","alt"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0),f.YNc(1,OL,2,2,"div",1),f.ALo(2,"async"),f.qZA()),2&t&&(f.xp6(1),f.Q6J("ngForOf",f.lcZ(2,1,r.images$)))},directives:[lr],pipes:[xa],encapsulation:2,changeDetection:0}),n})(),kL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-home-page"]],decls:9,vars:0,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","h-50"],[1,"text-center"],["routerLink","/first-task","role","button",1,"btn","bg-special","text-white"]],template:function(t,r){1&t&&(f._UZ(0,"lib-date"),f.TgZ(1,"div",0)(2,"h1",1),f._uU(3,"Get a clear view of the day ahead"),f.qZA(),f.TgZ(4,"p",1),f._uU(5,"All your tasks that are due today will show up here"),f.qZA(),f.TgZ(6,"a",2),f._uU(7,"Add task"),f.qZA()(),f._UZ(8,"lib-photos-list"))},directives:[hf,ic,EO],encapsulation:2,changeDetection:0}),n})(),KA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[_r]]}),n})(),wO=(()=>{class n{constructor(t){this._client=t}getAll(t){return this._client.collection("images").valueChanges({idField:"id"}).pipe((0,Ot.U)(r=>mO(r,t)))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(zA))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),ZA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[wO,{provide:vO,useExisting:wO}],imports:[[gO]]}),n})(),PL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[_r,la.forChild([{path:"",component:kL}]),wf,KA,ZA,bf]]}),n})(),bO=(()=>{class n{constructor(t,r){this._addsTaskDto=t,this.router=r,this.createTask=new ev({task:new Mf("",[YM.required])})}onCreateTaskSubmited(t){var r;t.invalid||(this._addsTaskDto.add({name:null===(r=null==t?void 0:t.get("task"))||void 0===r?void 0:r.value,date:(new Date).getTime()}),this.router.navigate(["/my-list"]))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(yO),f.Y36(Ei))},n.\u0275cmp=f.Xpm({type:n,selectors:[["lib-add-task"]],decls:8,vars:2,consts:[[1,"pt-5"],[1,"form-floating",3,"formGroup","ngSubmit"],["type","text","formControlName","task","placeholder","Write your task here","id","floatingTextarea2",1,"form-control",2,"height","100px","max-width","350px"],["for","floatingTextarea2"],["type","submit","value","Add task",1,"btn","bg-special","text-white","mt-4","me-4",3,"disabled"],["routerLink","/my-list","role","button",1,"btn","text-dark","bg-white","border-dark","mt-4"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"form",1),f.NdJ("ngSubmit",function(){return r.onCreateTaskSubmited(r.createTask)}),f._UZ(2,"input",2),f.TgZ(3,"label",3),f._uU(4,"Write your task here"),f.qZA(),f._UZ(5,"input",4),f.TgZ(6,"a",5),f._uU(7,"Cancel"),f.qZA()()()),2&t&&(f.xp6(1),f.Q6J("formGroup",r.createTask),f.xp6(4),f.Q6J("disabled",r.createTask.invalid))},directives:[Zg,fc,xf,B_,hc,Xg,ic],encapsulation:2,changeDetection:0}),n})(),FL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-add-task-page"]],decls:3,vars:0,template:function(t,r){1&t&&f._UZ(0,"lib-date")(1,"lib-tasks-list-view")(2,"lib-add-task")},directives:[hf,xg,bO],encapsulation:2,changeDetection:0}),n})(),LL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[_r,la.forChild([{path:"",component:FL}]),wf,KA,_O,WA,Kw,ZA,bf]]}),n})(),VL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-first-task-page"]],decls:4,vars:0,consts:[[1,"h-50"]],template:function(t,r){1&t&&(f._UZ(0,"lib-date"),f.TgZ(1,"div",0),f._UZ(2,"lib-add-task"),f.qZA(),f._UZ(3,"lib-photos-list"))},directives:[hf,bO,EO],encapsulation:2,changeDetection:0}),n})(),BL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[_r,la.forChild([{path:"",component:VL}]),wf,bf,Kw,WA,KA,ZA]]}),n})();const UL=[{path:"my-list",loadChildren:()=>NL},{path:"",loadChildren:()=>PL},{path:"add-task",loadChildren:()=>LL},{path:"first-task",loadChildren:()=>BL}];let jL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[la.forRoot(UL)],la]}),n})(),$L=(()=>{class n{constructor(){this.title="ToDoApp"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"d-flex","py-3","fs-5","justify-content-center","bg-special"],[1,"w-75"],["routerLink","/",1,"text-decoration-none","text-white"],[1,"d-flex","justify-content-center","vh-100"]],template:function(t,r){1&t&&(f.TgZ(0,"header",0)(1,"div",1)(2,"a",2),f._uU(3,"RAMOTKA's TO-DO APP"),f.qZA()()(),f.TgZ(4,"div",3)(5,"div",1),f._UZ(6,"router-outlet"),f.qZA()())},directives:[ic,Ql],styles:[""]}),n})();const rn=!1;function DO(n){return new f.vHH(3e3,rn)}function bV(){return"undefined"!=typeof window&&void 0!==window.document}function YA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ih(n){switch(n.length){case 0:return new vg;case 1:return n[0];default:return new __(n)}}function CO(n,e,t,r,i={},u={}){const c=[],p=[];let y=-1,b=null;if(r.forEach(A=>{const M=A.offset,F=M==y,B=F&&b||{};Object.keys(A).forEach(G=>{let ne=G,we=A[G];if("offset"!==G)switch(ne=e.normalizePropertyName(ne,c),we){case"!":we=i[G];break;case fa:we=u[G];break;default:we=e.normalizeStyleValue(G,ne,we,c)}B[ne]=we}),F||p.push(B),b=B,y=M}),c.length)throw function dV(n){return new f.vHH(3502,rn)}();return p}function QA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&JA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&JA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&JA(t,"destroy",n)))}}function JA(n,e,t){const r=t.totalTime,u=XA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(u._data=c),u}function XA(n,e,t,r,i="",u=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!c}}function Bo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function IO(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let eM=(n,e)=>!1,TO=(n,e,t)=>[],SO=null;function tM(n){const e=n.parentNode||n.host;return e===SO?null:e}(YA()||"undefined"!=typeof Element)&&(bV()?(SO=(()=>document.documentElement)(),eM=(n,e)=>{for(;e;){if(e===n)return!0;e=tM(e)}return!1}):eM=(n,e)=>n.contains(e),TO=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let kp=null,AO=!1;function MO(n){kp||(kp=function CV(){return"undefined"!=typeof document?document.body:null}()||{},AO=!!kp.style&&"WebkitAppearance"in kp.style);let e=!0;return kp.style&&!function DV(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in kp.style,!e&&AO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in kp.style)),e}const xO=eM,RO=TO;let NO=(()=>{class n{validateStyleProperty(t){return MO(t)}matchesElement(t,r){return!1}containsElement(t,r){return xO(t,r)}getParentElement(t){return tM(t)}query(t,r,i){return RO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,c,p=[],y){return new vg(i,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),nM=(()=>{class n{}return n.NOOP=new NO,n})();const rM="ng-enter",tC="ng-leave",nC="ng-trigger",rC=".ng-trigger",kO="ng-animating",iM=".ng-animating";function Pp(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:sM(parseFloat(e[1]),e[2])}function sM(n,e){return"s"===e?1e3*n:n}function iC(n,e,t){return n.hasOwnProperty("duration")?n:function SV(n,e,t){let i,u=0,c="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(DO()),{duration:0,delay:0,easing:""};i=sM(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(u=sM(parseFloat(y),p[4]));const b=p[5];b&&(c=b)}else i=n;if(!t){let p=!1,y=e.length;i<0&&(e.push(function HL(){return new f.vHH(3100,rn)}()),p=!0),u<0&&(e.push(function GL(){return new f.vHH(3101,rn)}()),p=!0),p&&e.splice(y,0,DO())}return{duration:i,delay:u,easing:c}}(n,e,t)}function Iy(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Th(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Iy(n,t);return t}function FO(n,e,t){return t?e+":"+t+";":""}function LO(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=FO(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=FO(0,xV(t),n.style[t]));n.setAttribute("style",e)}function dl(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=aM(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),YA()&&LO(n))}function Fp(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=aM(t);n.style[r]=""}),YA()&&LO(n))}function dE(n){return Array.isArray(n)?1==n.length?n[0]:_g(n):n}const oM=new RegExp("{{\\s*(.+?)\\s*}}","g");function VO(n){let e=[];if("string"==typeof n){let t;for(;t=oM.exec(n);)e.push(t[1]);oM.lastIndex=0}return e}function sC(n,e,t){const r=n.toString(),i=r.replace(oM,(u,c)=>{let p=e[c];return e.hasOwnProperty(c)||(t.push(function zL(n){return new f.vHH(3003,rn)}()),p=""),p.toString()});return i==r?n:i}function oC(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const MV=/-+([a-z0-9])/g;function aM(n){return n.replace(MV,(...e)=>e[1].toUpperCase())}function xV(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Uo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function WL(n){return new f.vHH(3004,rn)}()}}function BO(n,e){return window.getComputedStyle(n)[e]}function FV(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function LV(n,e,t){if(":"==n[0]){const y=function VV(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function aV(n){return new f.vHH(3016,rn)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function oV(n){return new f.vHH(3015,rn)}()),e;const i=r[1],u=r[2],c=r[3];e.push(UO(i,c));"<"==u[0]&&!("*"==i&&"*"==c)&&e.push(UO(c,i))}(r,t,e)):t.push(n),t}const cC=new Set(["true","1"]),dC=new Set(["false","0"]);function UO(n,e){const t=cC.has(n)||dC.has(n),r=cC.has(e)||dC.has(e);return(i,u)=>{let c="*"==n||n==i,p="*"==e||e==u;return!c&&t&&"boolean"==typeof i&&(c=i?cC.has(n):dC.has(n)),!p&&r&&"boolean"==typeof u&&(p=u?cC.has(e):dC.has(e)),c&&p}}const BV=new RegExp("s*:selfs*,?","g");function uM(n,e,t,r){return new UV(n).build(e,t,r)}class UV{constructor(e){this._driver=e}build(e,t,r){const i=new HV(t);this._resetContextStyleTimingState(i);const u=Uo(this,dE(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),u}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function ZL(){return new f.vHH(3006,rn)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const y=p,b=y.name;b.toString().split(/\s*,\s*/).forEach(A=>{y.name=A,u.push(this.visitState(y,t))}),y.name=b}else if(1==p.type){const y=this.visitTransition(p,t);r+=y.queryCount,i+=y.depCount,c.push(y)}else t.errors.push(function YL(){return new f.vHH(3007,rn)}())}),{type:7,name:e.name,states:u,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,c=i||{};r.styles.forEach(p=>{if(hC(p)){const y=p;Object.keys(y).forEach(b=>{VO(y[b]).forEach(A=>{c.hasOwnProperty(A)||u.add(A)})})}}),u.size&&(oC(u.values()),t.errors.push(function QL(n,e){return new f.vHH(3008,rn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Uo(this,dE(e.animation),t);return{type:1,matchers:FV(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Lp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Uo(this,r,t)),options:Lp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(c=>{t.currentTime=r;const p=Uo(this,c,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:u,options:Lp(e.options)}}visitAnimate(e,t){const r=function qV(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return lM(iC(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=lM(0,0,"");return u.dynamic=!0,u.strValue=r,u}return t=t||iC(r,e),lM(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:Od({});if(5==u.type)i=this.visitKeyframes(u,t);else{let c=e.styles,p=!1;if(!c){p=!0;const b={};r.easing&&(b.easing=r.easing),c=Od(b)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(c,t);y.isEmptyStep=p,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==fa?r.push(c):t.errors.push(function JL(n){return new f.vHH(3002,rn)}()):r.push(c)}):r.push(e.styles);let i=!1,u=null;return r.forEach(c=>{if(hC(c)){const p=c,y=p.easing;if(y&&(u=y,delete p.easing),!i)for(let b in p)if(p[b].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(p=>{if(!this._driver.validateStyleProperty(p))return delete c[p],void t.unsupportedCSSPropertiesFound.add(p);const y=t.collectedStyles[t.currentQuerySelector],b=y[p];let A=!0;b&&(u!=i&&u>=b.startTime&&i<=b.endTime&&(t.errors.push(function XL(n,e,t,r,i){return new f.vHH(3010,rn)}()),A=!1),u=b.startTime),A&&(y[p]={startTime:u,endTime:i}),t.options&&function AV(n,e,t){const r=e.params||{},i=VO(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function qL(n){return new f.vHH(3001,rn)}())})}(c[p],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function eV(){return new f.vHH(3011,rn)}()),r;let u=0;const c=[];let p=!1,y=!1,b=0;const A=e.steps.map(Ye=>{const Le=this._makeStyleAst(Ye,t);let Ze=null!=Le.offset?Le.offset:function GV(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(hC(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(hC(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Le.styles),qe=0;return null!=Ze&&(u++,qe=Le.offset=Ze),y=y||qe<0||qe>1,p=p||qe<b,b=qe,c.push(qe),Le});y&&t.errors.push(function tV(){return new f.vHH(3012,rn)}()),p&&t.errors.push(function nV(){return new f.vHH(3200,rn)}());const M=e.steps.length;let F=0;u>0&&u<M?t.errors.push(function rV(){return new f.vHH(3202,rn)}()):0==u&&(F=1/(M-1));const B=M-1,G=t.currentTime,ne=t.currentAnimateTimings,we=ne.duration;return A.forEach((Ye,Le)=>{const Ze=F>0?Le==B?1:F*Le:c[Le],qe=Ze*we;t.currentTime=G+ne.delay+qe,ne.duration=qe,this._validateStyleAst(Ye,t),Ye.offset=Ze,r.styles.push(Ye)}),r}visitReference(e,t){return{type:8,animation:Uo(this,dE(e.animation),t),options:Lp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Lp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Lp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,c]=function jV(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(BV,"")),n=n.replace(/@\*/g,rC).replace(/@\w+/g,t=>rC+"-"+t.substr(1)).replace(/:animating/g,iM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,Bo(t.collectedStyles,t.currentQuerySelector,{});const p=Uo(this,dE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:p,originalSelector:e.selector,options:Lp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function iV(){return new f.vHH(3013,rn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:iC(e.timings,t.errors,!0);return{type:12,animation:Uo(this,dE(e.animation),t),timings:r,options:null}}}class HV{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hC(n){return!Array.isArray(n)&&"object"==typeof n}function Lp(n){return n?(n=Iy(n)).params&&(n.params=function $V(n){return n?Iy(n):null}(n.params)):n={},n}function lM(n,e,t){return{duration:n,delay:e,easing:t}}function cM(n,e,t,r,i,u,c=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:c,subTimeline:p}}class fC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const KV=new RegExp(":enter","g"),YV=new RegExp(":leave","g");function dM(n,e,t,r,i,u={},c={},p,y,b=[]){return(new QV).buildKeyframes(n,e,t,r,i,u,c,p,y,b)}class QV{buildKeyframes(e,t,r,i,u,c,p,y,b,A=[]){b=b||new fC;const M=new hM(e,t,b,i,u,A,[]);M.options=y,M.currentTimeline.setStyles([c],null,M.errors,y),Uo(this,r,M);const F=M.timelines.filter(B=>B.containsAnimation());if(Object.keys(p).length){let B;for(let G=F.length-1;G>=0;G--){const ne=F[G];if(ne.element===t){B=ne;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([p],null,M.errors,y)}return F.length?F.map(B=>B.buildKeyframes()):[cM(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);u!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const c=null!=r.duration?Pp(r.duration):null,p=null!=r.delay?Pp(r.delay):null;return 0!==c&&e.forEach(y=>{const b=t.appendInstructionToTimeline(y,c,p);u=Math.max(u,b.duration+b.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Uo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=pC);const c=Pp(u.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Uo(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Pp(e.options.delay):0;e.steps.forEach(c=>{const p=t.createSubContext(e.options);u&&p.delayNextStep(u),Uo(this,c,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return iC(t.params?sC(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(y=>{p.forwardTime((y.offset||0)*u),p.setStyles(y.styles,y.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?Pp(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=pC);let c=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let y=null;p.forEach((b,A)=>{t.currentQueryIndex=A;const M=t.createSubContext(e.options,b);u&&M.delayNextStep(u),b===t.element&&(y=M.currentTimeline),Uo(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,c=Math.abs(u.duration),p=c*(t.currentQueryTotal-1);let y=c*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":y=p-y;break;case"full":y=r.currentStaggerTime}const A=t.currentTimeline;y&&A.delayNextStep(y);const M=A.currentTime;Uo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const pC={};class hM{constructor(e,t,r,i,u,c,p,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=c,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new gC(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Pp(r.duration)),null!=r.delay&&(i.delay=Pp(r.delay));const u=r.params;if(u){let c=i.params;c||(c=this.options.params={}),Object.keys(u).forEach(p=>{(!t||!c.hasOwnProperty(p))&&(c[p]=sC(u[p],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new hM(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=pC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},u=new JV(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,c){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(KV,"."+this._enterClassName)).replace(YV,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),p.push(...b)}return!u&&0==p.length&&c.push(function sV(n){return new f.vHH(3014,rn)}()),p}}class gC{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new gC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||fa,this._currentKeyframe[t]=fa}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const u=i&&i.params||{},c=function XV(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(u=>{t[u]=fa})):Th(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(p=>{const y=sC(c[p],u,r);this._pendingStyles[p]=y,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:fa),this._updateStyle(p,y)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,y)=>{const b=Th(p,!0);Object.keys(b).forEach(A=>{const M=b[A];"!"==M?e.add(A):M==fa&&t.add(A)}),r||(b.offset=y/this.duration),i.push(b)});const u=e.size?oC(e.values()):[],c=t.size?oC(t.values()):[];if(r){const p=i[0],y=Iy(p);p.offset=0,y.offset=1,i=[p,y]}return cM(this.element,i,u,c,this.duration,this.startTime,this.easing,!1)}}class JV extends gC{constructor(e,t,r,i,u,c,p=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=p,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],c=r+t,p=t/c,y=Th(e[0],!1);y.offset=0,u.push(y);const b=Th(e[0],!1);b.offset=HO(p),u.push(b);const A=e.length-1;for(let M=1;M<=A;M++){let F=Th(e[M],!1);F.offset=HO((t+F.offset*r)/c),u.push(F)}r=c,t=0,i="",e=u}return cM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function HO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class fM{}class eB extends fM{normalizePropertyName(e,t){return aM(e)}normalizeStyleValue(e,t,r,i){let u="";const c=r.toString().trim();if(tB[t]&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function KL(n,e){return new f.vHH(3005,rn)}())}return c+u}}const tB=(()=>function nB(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function GO(n,e,t,r,i,u,c,p,y,b,A,M,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:c,timelines:p,queriedElements:y,preStyleProps:b,postStyleProps:A,totalTime:M,errors:F}}const pM={};class qO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function rB(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],u=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return u?u.buildStyles(t,r):c}build(e,t,r,i,u,c,p,y,b,A){const M=[],F=this.ast.options&&this.ast.options.params||pM,G=this.buildStyles(r,p&&p.params||pM,M),ne=y&&y.params||pM,we=this.buildStyles(i,ne,M),Ye=new Set,Le=new Map,Ze=new Map,qe="void"===i,vt={params:Object.assign(Object.assign({},F),ne)},ct=A?[]:dM(e,t,this.ast.animation,u,c,G,we,vt,b,M);let Jt=0;if(ct.forEach(En=>{Jt=Math.max(En.duration+En.delay,Jt)}),M.length)return GO(t,this._triggerName,r,i,qe,G,we,[],[],Le,Ze,Jt,M);ct.forEach(En=>{const Zt=En.element,In=Bo(Le,Zt,{});En.preStyleProps.forEach(hl=>In[hl]=!0);const As=Bo(Ze,Zt,{});En.postStyleProps.forEach(hl=>As[hl]=!0),Zt!==t&&Ye.add(Zt)});const Cn=oC(Ye.values());return GO(t,this._triggerName,r,i,qe,G,we,ct,Cn,Le,Ze,Jt)}}class iB{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Iy(this.defaultParams);return Object.keys(e).forEach(u=>{const c=e[u];null!=c&&(i[u]=c)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const c=u;Object.keys(c).forEach(p=>{let y=c[p];y.length>1&&(y=sC(y,i,t));const b=this.normalizer.normalizePropertyName(p,t);y=this.normalizer.normalizeStyleValue(p,b,y,t),r[b]=y})}}),r}}class oB{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new iB(i.style,i.options&&i.options.params||{},r)}),zO(this.states,"true","1"),zO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new qO(e,i,this.states))}),this.fallbackTransition=function aB(n,e,t){return new qO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function zO(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const uB=new fC;class lB{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],u=uM(this._driver,t,r,[]);if(r.length)throw function hV(n){return new f.vHH(3503,rn)}();this._animations[e]=u}_buildPlayer(e,t,r){const i=e.element,u=CO(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations[e];let c;const p=new Map;if(u?(c=dM(this._driver,t,u,rM,tC,{},{},r,uB,i),c.forEach(A=>{const M=Bo(p,A.element,{});A.postStyleProps.forEach(F=>M[F]=null)})):(i.push(function fV(){return new f.vHH(3300,rn)}()),c=[]),i.length)throw function pV(n){return new f.vHH(3504,rn)}();p.forEach((A,M)=>{Object.keys(A).forEach(F=>{A[F]=this._driver.computeStyle(M,F,fa)})});const b=Ih(c.map(A=>{const M=p.get(A.element);return this._buildPlayer(A,{},M)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function gV(n){return new f.vHH(3301,rn)}();return t}listen(e,t,r,i){const u=XA(t,"","","");return QA(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const WO="ng-animate-queued",gM="ng-animate-disabled",pB=[],KO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ca="__ng_removed";class mM{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function vB(n){return null!=n?n:null}(r?e.value:e),r){const u=Iy(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const hE="void",yM=new mM(hE);class mB{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ia(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function mV(n,e){return new f.vHH(3302,rn)}();if(null==r||0==r.length)throw function yV(n){return new f.vHH(3303,rn)}();if(!function EB(n){return"start"==n||"done"==n}(r))throw function _V(n,e){return new f.vHH(3400,rn)}();const u=Bo(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};u.push(c);const p=Bo(this._engine.statesByElement,e,{});return p.hasOwnProperty(t)||(Ia(e,nC),Ia(e,nC+"-"+t),p[t]=yM),()=>{this._engine.afterFlush(()=>{const y=u.indexOf(c);y>=0&&u.splice(y,1),this._triggers[t]||delete p[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function vV(n){return new f.vHH(3401,rn)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),c=new _M(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(Ia(e,nC),Ia(e,nC+"-"+t),this._engine.statesByElement.set(e,p={}));let y=p[t];const b=new mM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&b.absorbOptions(y.options),p[t]=b,y||(y=yM),b.value!==hE&&y.value===b.value){if(!function DB(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(y.params,b.params)){const ne=[],we=u.matchStyles(y.value,y.params,ne),Ye=u.matchStyles(b.value,b.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{Fp(e,we),dl(e,Ye)})}return}const F=Bo(this._engine.playersByElement,e,[]);F.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==t&&ne.queued&&ne.destroy()});let B=u.matchTransition(y.value,b.value,e,b.params),G=!1;if(!B){if(!i)return;B=u.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:y,toState:b,player:c,isFallbackTransition:G}),G||(Ia(e,WO),c.onStart(()=>{Ty(e,WO)})),c.onDone(()=>{let ne=this.players.indexOf(c);ne>=0&&this.players.splice(ne,1);const we=this._engine.playersByElement.get(e);if(we){let Ye=we.indexOf(c);Ye>=0&&we.splice(Ye,1)}}),this.players.push(c),F.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,rC,!0);r.forEach(i=>{if(i[Ca])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),c=new Map;if(u){const p=[];if(Object.keys(u).forEach(y=>{if(c.set(y,u[y].value),this._triggers[y]){const b=this.trigger(e,y,hE,i);b&&p.push(b)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Ih(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const c=u.name;if(i.has(c))return;i.add(c);const y=this._triggers[c].fallbackTransition,b=r[c]||yM,A=new mM(hE),M=new _M(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:y,fromState:b,toState:A,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[Ca];(!u||u===KO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ia(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,c=this._elementListeners.get(u);c&&c.forEach(p=>{if(p.name==r.triggerName){const y=XA(u,r.triggerName,r.fromState.value,r.toState.value);y._data=e,QA(r.player,p.phase,y,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==u||0==c?u-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class yB{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new mB(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,u=r.length-1;if(u>=0){let c=!1;if(void 0!==this.driver.getParentElement){let p=this.driver.getParentElement(t);for(;p;){const y=i.get(p);if(y){const b=r.indexOf(y);r.splice(b+1,0,e),c=!0;break}p=this.driver.getParentElement(p)}}else for(let p=u;p>=0;p--)if(this.driver.containsElement(r[p].hostElement,t)){r.splice(p+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let u=0;u<i.length;u++){const c=r[i[u]].namespaceId;if(c){const p=this._fetchNamespace(c);p&&t.add(p)}}}return t}trigger(e,t,r,i){if(mC(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!mC(t))return;const u=t[Ca];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ia(e,gM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ty(e,gM))}removeNode(e,t,r,i){if(mC(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[Ca]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return mC(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,rC,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,iM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ih(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Ca];if(r&&r.setForRemoval){if(e[Ca]=KO,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(gM))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ia(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ih(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function EV(n){return new f.vHH(3402,rn)}()}_flushAnimations(e,t){const r=new fC,i=[],u=new Map,c=[],p=new Map,y=new Map,b=new Map,A=new Set;this.disabledNodes.forEach(st=>{A.add(st);const mt=this.driver.query(st,".ng-animate-queued",!0);for(let St=0;St<mt.length;St++)A.add(mt[St])});const M=this.bodyNode,F=Array.from(this.statesByElement.keys()),B=QO(F,this.collectedEnterElements),G=new Map;let ne=0;B.forEach((st,mt)=>{const St=rM+ne++;G.set(mt,St),st.forEach(pn=>Ia(pn,St))});const we=[],Ye=new Set,Le=new Set;for(let st=0;st<this.collectedLeaveElements.length;st++){const mt=this.collectedLeaveElements[st],St=mt[Ca];St&&St.setForRemoval&&(we.push(mt),Ye.add(mt),St.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(pn=>Ye.add(pn)):Le.add(mt))}const Ze=new Map,qe=QO(F,Array.from(Ye));qe.forEach((st,mt)=>{const St=tC+ne++;Ze.set(mt,St),st.forEach(pn=>Ia(pn,St))}),e.push(()=>{B.forEach((st,mt)=>{const St=G.get(mt);st.forEach(pn=>Ty(pn,St))}),qe.forEach((st,mt)=>{const St=Ze.get(mt);st.forEach(pn=>Ty(pn,St))}),we.forEach(st=>{this.processLeaveNode(st)})});const vt=[],ct=[];for(let st=this._namespaceList.length-1;st>=0;st--)this._namespaceList[st].drainQueuedTransitions(t).forEach(St=>{const pn=St.player,Ri=St.element;if(vt.push(pn),this.collectedEnterElements.length){const Ms=Ri[Ca];if(Ms&&Ms.setForMove){if(Ms.previousTriggersValues&&Ms.previousTriggersValues.has(St.triggerName)){const Vp=Ms.previousTriggersValues.get(St.triggerName),Ah=this.statesByElement.get(St.element);Ah&&Ah[St.triggerName]&&(Ah[St.triggerName].value=Vp)}return void pn.destroy()}}const fl=!M||!this.driver.containsElement(M,Ri),jo=Ze.get(Ri),Sh=G.get(Ri),fr=this._buildInstruction(St,r,Sh,jo,fl);if(fr.errors&&fr.errors.length)return void ct.push(fr);if(fl)return pn.onStart(()=>Fp(Ri,fr.fromStyles)),pn.onDestroy(()=>dl(Ri,fr.toStyles)),void i.push(pn);if(St.isFallbackTransition)return pn.onStart(()=>Fp(Ri,fr.fromStyles)),pn.onDestroy(()=>dl(Ri,fr.toStyles)),void i.push(pn);const uk=[];fr.timelines.forEach(Ms=>{Ms.stretchStartingKeyframe=!0,this.disabledNodes.has(Ms.element)||uk.push(Ms)}),fr.timelines=uk,r.append(Ri,fr.timelines),c.push({instruction:fr,player:pn,element:Ri}),fr.queriedElements.forEach(Ms=>Bo(p,Ms,[]).push(pn)),fr.preStyleProps.forEach((Ms,Vp)=>{const Ah=Object.keys(Ms);if(Ah.length){let Bp=y.get(Vp);Bp||y.set(Vp,Bp=new Set),Ah.forEach(EM=>Bp.add(EM))}}),fr.postStyleProps.forEach((Ms,Vp)=>{const Ah=Object.keys(Ms);let Bp=b.get(Vp);Bp||b.set(Vp,Bp=new Set),Ah.forEach(EM=>Bp.add(EM))})});if(ct.length){const st=[];ct.forEach(mt=>{st.push(function wV(n,e){return new f.vHH(3505,rn)}())}),vt.forEach(mt=>mt.destroy()),this.reportError(st)}const Jt=new Map,Cn=new Map;c.forEach(st=>{const mt=st.element;r.has(mt)&&(Cn.set(mt,mt),this._beforeAnimationBuild(st.player.namespaceId,st.instruction,Jt))}),i.forEach(st=>{const mt=st.element;this._getPreviousPlayers(mt,!1,st.namespaceId,st.triggerName,null).forEach(pn=>{Bo(Jt,mt,[]).push(pn),pn.destroy()})});const En=we.filter(st=>XO(st,y,b)),Zt=new Map;YO(Zt,this.driver,Le,b,fa).forEach(st=>{XO(st,y,b)&&En.push(st)});const As=new Map;B.forEach((st,mt)=>{YO(As,this.driver,new Set(st),y,"!")}),En.forEach(st=>{const mt=Zt.get(st),St=As.get(st);Zt.set(st,Object.assign(Object.assign({},mt),St))});const hl=[],fE=[],pE={};c.forEach(st=>{const{element:mt,player:St,instruction:pn}=st;if(r.has(mt)){if(A.has(mt))return St.onDestroy(()=>dl(mt,pn.toStyles)),St.disabled=!0,St.overrideTotalTime(pn.totalTime),void i.push(St);let Ri=pE;if(Cn.size>1){let jo=mt;const Sh=[];for(;jo=jo.parentNode;){const fr=Cn.get(jo);if(fr){Ri=fr;break}Sh.push(jo)}Sh.forEach(fr=>Cn.set(fr,Ri))}const fl=this._buildAnimation(St.namespaceId,pn,Jt,u,As,Zt);if(St.setRealPlayer(fl),Ri===pE)hl.push(St);else{const jo=this.playersByElement.get(Ri);jo&&jo.length&&(St.parentPlayer=Ih(jo)),i.push(St)}}else Fp(mt,pn.fromStyles),St.onDestroy(()=>dl(mt,pn.toStyles)),fE.push(St),A.has(mt)&&i.push(St)}),fE.forEach(st=>{const mt=u.get(st.element);if(mt&&mt.length){const St=Ih(mt);st.setRealPlayer(St)}}),i.forEach(st=>{st.parentPlayer?st.syncPlayerEvents(st.parentPlayer):st.destroy()});for(let st=0;st<we.length;st++){const mt=we[st],St=mt[Ca];if(Ty(mt,tC),St&&St.hasAnimation)continue;let pn=[];if(p.size){let fl=p.get(mt);fl&&fl.length&&pn.push(...fl);let jo=this.driver.query(mt,iM,!0);for(let Sh=0;Sh<jo.length;Sh++){let fr=p.get(jo[Sh]);fr&&fr.length&&pn.push(...fr)}}const Ri=pn.filter(fl=>!fl.destroyed);Ri.length?wB(this,mt,Ri):this.processLeaveNode(mt)}return we.length=0,hl.forEach(st=>{this.players.push(st),st.onDone(()=>{st.destroy();const mt=this.players.indexOf(st);this.players.splice(mt,1)}),st.play()}),hl}elementContainsData(e,t){let r=!1;const i=t[Ca];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let c=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(c=p)}else{const p=this.playersByElement.get(e);if(p){const y=!u||u==hE;p.forEach(b=>{b.queued||!y&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),c}_beforeAnimationBuild(e,t,r){const u=t.element,c=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const b=y.element,A=b!==u,M=Bo(r,b,[]);this._getPreviousPlayers(b,A,c,p,t.toState).forEach(B=>{const G=B.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),B.destroy(),M.push(B)})}Fp(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,c){const p=t.triggerName,y=t.element,b=[],A=new Set,M=new Set,F=t.timelines.map(G=>{const ne=G.element;A.add(ne);const we=ne[Ca];if(we&&we.removedBeforeQueried)return new vg(G.duration,G.delay);const Ye=ne!==y,Le=function bB(n){const e=[];return JO(n,e),e}((r.get(ne)||pB).map(Jt=>Jt.getRealPlayer())).filter(Jt=>!!Jt.element&&Jt.element===ne),Ze=u.get(ne),qe=c.get(ne),vt=CO(0,this._normalizer,0,G.keyframes,Ze,qe),ct=this._buildPlayer(G,vt,Le);if(G.subTimeline&&i&&M.add(ne),Ye){const Jt=new _M(e,p,ne);Jt.setRealPlayer(ct),b.push(Jt)}return ct});b.forEach(G=>{Bo(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function _B(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,G.element,G))}),A.forEach(G=>Ia(G,kO));const B=Ih(F);return B.onDestroy(()=>{A.forEach(G=>Ty(G,kO)),dl(y,t.toStyles)}),M.forEach(G=>{Bo(i,G,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new vg(e.duration,e.delay)}}class _M{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new vg,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>QA(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Bo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function mC(n){return n&&1===n.nodeType}function ZO(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function YO(n,e,t,r,i){const u=[];t.forEach(y=>u.push(ZO(y)));const c=[];r.forEach((y,b)=>{const A={};y.forEach(M=>{const F=A[M]=e.computeStyle(b,M,i);(!F||0==F.length)&&(b[Ca]=gB,c.push(b))}),n.set(b,A)});let p=0;return t.forEach(y=>ZO(y,u[p++])),c}function QO(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const i=new Set(e),u=new Map;function c(p){if(!p)return 1;let y=u.get(p);if(y)return y;const b=p.parentNode;return y=t.has(b)?b:i.has(b)?1:c(b),u.set(p,y),y}return e.forEach(p=>{const y=c(p);1!==y&&t.get(y).push(p)}),t}function Ia(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Ty(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function wB(n,e,t){Ih(t).onDone(()=>n.processLeaveNode(e))}function JO(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof __?JO(r.players,e):e.push(r)}}function XO(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class yC{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new yB(e,t,r),this._timelineEngine=new lB(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const c=e+"-"+i;let p=this._triggerCache[c];if(!p){const y=[],A=uM(this._driver,u,y,[]);if(y.length)throw function cV(n,e){return new f.vHH(3404,rn)}();p=function sB(n,e,t){return new oB(n,e,t)}(i,A,this._normalizer),this._triggerCache[c]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,c]=IO(r);this._timelineEngine.command(u,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[c,p]=IO(r);return this._timelineEngine.listen(c,t,p,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let IB=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&dl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dl(this._element,this._initialStyles),this._endStyles&&(dl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Fp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fp(this._element,this._endStyles),this._endStyles=null),dl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function vM(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];TB(i)&&(e=e||{},e[i]=n[i])}return e}function TB(n){return"display"===n||"position"===n}class ek{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:BO(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class SB{validateStyleProperty(e){return MO(e)}matchesElement(e,t){return!1}containsElement(e,t){return xO(e,t)}getParentElement(e){return tM(e)}query(e,t,r){return RO(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,c=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(y.easing=u);const b={},A=c.filter(F=>F instanceof ek);(function RV(n,e){return 0===n||0===e})(r,i)&&A.forEach(F=>{let B=F.currentSnapshot;Object.keys(B).forEach(G=>b[G]=B[G])}),t=function NV(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let u=e[0],c=[];if(r.forEach(p=>{u.hasOwnProperty(p)||c.push(p),u[p]=t[p]}),c.length)for(var i=1;i<e.length;i++){let p=e[i];c.forEach(function(y){p[y]=BO(n,y)})}}return e}(e,t=t.map(F=>Th(F,!1)),b);const M=function CB(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=vM(e[0]),e.length>1&&(r=vM(e[e.length-1]))):e&&(t=vM(e)),t||r?new IB(n,t,r):null}(e,t);return new ek(e,t,y,M)}}let AB=(()=>{class n extends Nd{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?_g(t):t;return tk(this._renderer,null,r,"register",[i]),new MB(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class MB extends class xM{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new xB(this._id,e,t||{},this._renderer)}}class xB{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return tk(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function tk(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const nk="@.disabled";let RB=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,c)=>{const p=null==c?void 0:c.parentNode(u);p&&c.removeChild(p,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let A=this._rendererCache.get(u);return A||(A=new rk("",u,this.engine),this._rendererCache.set(u,A)),A}const c=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const y=A=>{Array.isArray(A)?A.forEach(y):this.engine.registerTrigger(c,p,t,A.name,A)};return r.data.animation.forEach(y),new NB(this,p,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[c,p]=u;c(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(yC),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class rk{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==nk?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class NB extends rk{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==nk?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function OB(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),c="";return"@"!=u.charAt(0)&&([u,c]=function kB(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,c,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let PB=(()=>{class n extends yC{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re),f.LFG(nM),f.LFG(fM))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const ik=new f.OlP("AnimationModuleType"),sk=[{provide:Nd,useClass:AB},{provide:fM,useFactory:function FB(){return new eB}},{provide:yC,useClass:PB},{provide:f.FYo,useFactory:function LB(n,e,t){return new RB(n,e,t)},deps:[bn,yC,f.R0b]}],ok=[{provide:nM,useFactory:()=>new SB},{provide:ik,useValue:"BrowserAnimations"},...sk],VB=[{provide:nM,useClass:NO},{provide:ik,useValue:"NoopAnimations"},...sk];let BB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?VB:ok}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:ok,imports:[Ko]}),n})();const ak_firebase={projectId:"to-do-app-ramotka",appId:"1:983135561958:web:67b183d6d2c0dc9c03b327",storageBucket:"to-do-app-ramotka.appspot.com",locationId:"europe-west",apiKey:"AIzaSyCXW3VNnmmF07iVa23HJnznHoasoF7KRCI",authDomain:"to-do-app-ramotka.firebaseapp.com",messagingSenderId:"983135561958"};let UB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[$L]}),n.\u0275inj=f.cJS({providers:[],imports:[[Ko,jL,BB,Fo.hO.initializeApp(ak_firebase)]]}),n})();(0,f.G48)(),Cl().bootstrapModule(UB).catch(n=>console.error(n))},5867:(ut,Se,k)=>{k.d(Se,{Mq:()=>f.getApp,C6:()=>f.getApps});var f=k(9681);(0,f.registerVersion)("firebase","9.6.10","app")},127:(ut,Se,k)=>{k.d(Se,{Z:()=>f.Z});var f=k(3942);f.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(ut,Se,k)=>{k.r(Se);var f=k(5861),Y=k(3942),O=k(2090),le=k(9681),X=k(655),ge=k(1877),re=k(4859);const Oe=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new ge.Yd("@firebase/auth");function Qe(_,...h){nt.logLevel<=ge.in.ERROR&&nt.error(`Auth (${le.SDK_VERSION}): ${_}`,...h)}function Ie(_,...h){throw $e(_,...h)}function ve(_,...h){return $e(_,...h)}function Ee(_,h,m){const E=Object.assign(Object.assign({},Ve()),{[h]:m});return new O.LL("auth","Firebase",E).create(h,{appName:_.name})}function Ge(_,h,m){if(!(h instanceof m))throw m.name!==h.constructor.name&&Ie(_,"argument-error"),Ee(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(_,...h){if("string"!=typeof _){const m=h[0],E=[...h.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(m,...E)}return fe.create(_,...h)}function te(_,h,...m){if(!_)throw $e(h,...m)}function K(_){const h="INTERNAL ASSERTION FAILED: "+_;throw Qe(h),new Error(h)}function ie(_,h){_||K(h)}const me=new Map;function se(_){ie(_ instanceof Function,"Expected a class definition");let h=me.get(_);return h?(ie(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,me.set(_,h),h)}function It(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Xt(){return"http:"===kn()||"https:"===kn()}function kn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class dn{constructor(h,m){this.shortDelay=h,this.longDelay=m,ie(m>h,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function lt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xt()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hn(_,h){ie(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return h?`${m}${h.startsWith("/")?h.slice(1):h}`:m}class Ni{static initialize(h,m,E){this.fetchImpl=h,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void K("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void K("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void K("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const an={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},os=new dn(3e4,6e4);function en(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function zt(_,h,m,E){return pr.apply(this,arguments)}function pr(){return(pr=(0,f.Z)(function*(_,h,m,E,T={}){return oi(_,T,(0,f.Z)(function*(){let N={},z={};E&&("GET"===h?z=E:N={body:JSON.stringify(E)});const oe=(0,O.xO)(Object.assign({key:_.config.apiKey},z)).slice(1),je=yield _._getAdditionalHeaders();return je["Content-Type"]="application/json",_.languageCode&&(je["X-Firebase-Locale"]=_.languageCode),Ni.fetch()(Vr(_,_.config.apiHost,m,oe),Object.assign({method:h,headers:je,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function oi(_,h,m){return xs.apply(this,arguments)}function xs(){return(xs=(0,f.Z)(function*(_,h,m){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},an),h);try{const T=new as(_),N=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const z=yield N.json();if("needConfirmation"in z)throw us(_,"account-exists-with-different-credential",z);if(N.ok&&!("errorMessage"in z))return z;{const oe=N.ok?z.errorMessage:z.error.message,[je,tt]=oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===je)throw us(_,"credential-already-in-use",z);if("EMAIL_EXISTS"===je)throw us(_,"email-already-in-use",z);const bt=E[je]||je.toLowerCase().replace(/[_\s]+/g,"-");if(tt)throw Ee(_,bt,tt);Ie(_,bt)}}catch(T){if(T instanceof O.ZR)throw T;Ie(_,"network-request-failed")}})).apply(this,arguments)}function Lr(_,h,m,E){return zi.apply(this,arguments)}function zi(){return(zi=(0,f.Z)(function*(_,h,m,E,T={}){const N=yield zt(_,h,m,E,T);return"mfaPendingCredential"in N&&Ie(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Vr(_,h,m,E){const T=`${h}${m}?${E}`;return _.config.emulator?hn(_.config,T):`${_.config.apiScheme}://${T}`}class as{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(ve(this.auth,"network-request-failed")),os.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function us(_,h,m){const E={appName:_.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const T=ve(_,h,E);return T.customData._tokenResponse=m,T}function zr(){return(zr=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function or(_,h){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ai(_,h){return ao.apply(this,arguments)}function ao(){return(ao=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function wn(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function Ta(){return(Ta=(0,f.Z)(function*(_,h=!1){const m=(0,O.m9)(_),E=yield m.getIdToken(h),T=ot(E);te(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const N="object"==typeof T.firebase?T.firebase:void 0,z=null==N?void 0:N.sign_in_provider;return{claims:T,token:E,authTime:wn(Wt(T.auth_time)),issuedAtTime:wn(Wt(T.iat)),expirationTime:wn(Wt(T.exp)),signInProvider:z||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function Wt(_){return 1e3*Number(_)}function ot(_){const[h,m,E]=_.split(".");if(void 0===h||void 0===m||void 0===E)return Qe("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,O.tV)(m);return T?JSON.parse(T):(Qe("Failed to decode base64 JWT payload"),null)}catch(T){return Qe("Caught error parsing JWT payload as JSON",T),null}}function gr(_,h){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,f.Z)(function*(_,h,m=!1){if(m)return h;try{return yield h}catch(E){throw E instanceof O.ZR&&Ht(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}function Ht({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class uo{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var m;if(h){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(h);this.timerId=setTimeout((0,f.Z)(function*(){yield m.iteration()}),E)}iteration(){var h=this;return(0,f.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&h.schedule(!0))}h.schedule()})()}}class Cr{constructor(h,m){this.createdAt=h,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=wn(this.lastLoginAt),this.creationTime=wn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mr(_){return ht.apply(this,arguments)}function ht(){return(ht=(0,f.Z)(function*(_){var h;const m=_.auth,E=yield _.getIdToken(),T=yield gr(_,ai(m,{idToken:E}));te(null==T?void 0:T.users.length,m,"internal-error");const N=T.users[0];_._notifyReloadListener(N);const z=(null===(h=N.providerUserInfo)||void 0===h?void 0:h.length)?Te(N.providerUserInfo):[],oe=Je(_.providerData,z),bt=!!_.isAnonymous&&!(_.email&&N.passwordHash||(null==oe?void 0:oe.length)),at={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:oe,metadata:new Cr(N.createdAt,N.lastLoginAt),isAnonymous:bt};Object.assign(_,at)})).apply(this,arguments)}function Ut(){return(Ut=(0,f.Z)(function*(_){const h=(0,O.m9)(_);yield mr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Je(_,h){return[..._.filter(E=>!h.some(T=>T.providerId===E.providerId)),...h]}function Te(_){return _.map(h=>{var{providerId:m}=h,E=(0,X._T)(h,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function ft(){return(ft=(0,f.Z)(function*(_,h){const m=yield oi(_,{},(0,f.Z)(function*(){const E=(0,O.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:N}=_.config,z=Vr(_,T,"/v1/token",`key=${N}`),oe=yield _._getAdditionalHeaders();return oe["Content-Type"]="application/x-www-form-urlencoded",Ni.fetch()(z,{method:"POST",headers:oe,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class $t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){te(h.idToken,"internal-error"),te(void 0!==h.idToken,"internal-error"),te(void 0!==h.refreshToken,"internal-error");const m="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function Dt(_){const h=ot(_);return te(h,"internal-error"),te(void 0!==h.exp,"internal-error"),te(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,m)}getToken(h,m=!1){var E=this;return(0,f.Z)(function*(){return te(!E.accessToken||E.refreshToken,h,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(h,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,m){var E=this;return(0,f.Z)(function*(){const{accessToken:T,refreshToken:N,expiresIn:z}=yield function et(_,h){return ft.apply(this,arguments)}(h,m);E.updateTokensAndExpiration(T,N,Number(z))})()}updateTokensAndExpiration(h,m,E){this.refreshToken=m||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(h,m){const{refreshToken:E,accessToken:T,expirationTime:N}=m,z=new $t;return E&&(te("string"==typeof E,"internal-error",{appName:h}),z.refreshToken=E),T&&(te("string"==typeof T,"internal-error",{appName:h}),z.accessToken=T),N&&(te("number"==typeof N,"internal-error",{appName:h}),z.expirationTime=N),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new $t,this.toJSON())}_performRefresh(){return K("not implemented")}}function Vt(_,h){te("string"==typeof _||void 0===_,"internal-error",{appName:h})}class j{constructor(h){var{uid:m,auth:E,stsTokenManager:T}=h,N=(0,X._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Cr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(h){var m=this;return(0,f.Z)(function*(){const E=yield gr(m,m.stsTokenManager.getToken(m.auth,h));return te(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(h){return function Rs(_){return Ta.apply(this,arguments)}(this,h)}reload(){return function Ir(_){return Ut.apply(this,arguments)}(this)}_assign(h){this!==h&&(te(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(m=>Object.assign({},m)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new j(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,m=!1){var E=this;return(0,f.Z)(function*(){let T=!1;h.idToken&&h.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(h),T=!0),m&&(yield mr(E)),yield E.auth._persistUserIfCurrent(E),T&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var h=this;return(0,f.Z)(function*(){const m=yield h.getIdToken();return yield gr(h,function dt(_,h){return zr.apply(this,arguments)}(h.auth,{idToken:m})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,m){var E,T,N,z,oe,je,tt,bt;const at=null!==(E=m.displayName)&&void 0!==E?E:void 0,On=null!==(T=m.email)&&void 0!==T?T:void 0,rs=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,rc=null!==(z=m.photoURL)&&void 0!==z?z:void 0,ju=null!==(oe=m.tenantId)&&void 0!==oe?oe:void 0,$u=null!==(je=m._redirectEventId)&&void 0!==je?je:void 0,lf=null!==(tt=m.createdAt)&&void 0!==tt?tt:void 0,t_=null!==(bt=m.lastLoginAt)&&void 0!==bt?bt:void 0,{uid:ua,emailVerified:Sd,isAnonymous:Ad,providerData:cf,stsTokenManager:Md}=m;te(ua&&Md,h,"internal-error");const Ei=$t.fromJSON(this.name,Md);te("string"==typeof ua,h,"internal-error"),Vt(at,h.name),Vt(On,h.name),te("boolean"==typeof Sd,h,"internal-error"),te("boolean"==typeof Ad,h,"internal-error"),Vt(rs,h.name),Vt(rc,h.name),Vt(ju,h.name),Vt($u,h.name),Vt(lf,h.name),Vt(t_,h.name);const df=new j({uid:ua,auth:h,email:On,emailVerified:Sd,displayName:at,isAnonymous:Ad,photoURL:rc,phoneNumber:rs,tenantId:ju,stsTokenManager:Ei,createdAt:lf,lastLoginAt:t_});return cf&&Array.isArray(cf)&&(df.providerData=cf.map(hg=>Object.assign({},hg))),$u&&(df._redirectEventId=$u),df}static _fromIdTokenResponse(h,m,E=!1){return(0,f.Z)(function*(){const T=new $t;T.updateFromServerResponse(m);const N=new j({uid:m.localId,auth:h,stsTokenManager:T,isAnonymous:E});return yield mr(N),N})()}}const q=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(m,E){var T=this;return(0,f.Z)(function*(){T.storage[m]=E})()}_get(m){var E=this;return(0,f.Z)(function*(){const T=E.storage[m];return void 0===T?null:T})()}_remove(m){var E=this;return(0,f.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return _.type="NONE",_})();function de(_,h,m){return`firebase:${_}:${h}:${m}`}class Q{constructor(h,m,E){this.persistence=h,this.auth=m,this.userKey=E;const{config:T,name:N}=this.auth;this.fullUserKey=de(this.userKey,T.apiKey,N),this.fullPersistenceKey=de("persistence",T.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,f.Z)(function*(){const m=yield h.persistence._get(h.fullUserKey);return m?j._fromJSON(h.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var m=this;return(0,f.Z)(function*(){if(m.persistence===h)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=h,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,m,E="authUser"){return(0,f.Z)(function*(){if(!m.length)return new Q(se(q),h,E);const T=(yield Promise.all(m.map(function(){var tt=(0,f.Z)(function*(bt){if(yield bt._isAvailable())return bt});return function(bt){return tt.apply(this,arguments)}}()))).filter(tt=>tt);let N=T[0]||se(q);const z=de(E,h.config.apiKey,h.name);let oe=null;for(const tt of m)try{const bt=yield tt._get(z);if(bt){const at=j._fromJSON(h,bt);tt!==N&&(oe=at),N=tt;break}}catch(bt){}const je=T.filter(tt=>tt._shouldAllowMigration);return N._shouldAllowMigration&&je.length?(N=je[0],oe&&(yield N._set(z,oe.toJSON())),yield Promise.all(m.map(function(){var tt=(0,f.Z)(function*(bt){if(bt!==N)try{yield bt._remove(z)}catch(at){}});return function(bt){return tt.apply(this,arguments)}}())),new Q(N,h,E)):new Q(N,h,E)})()}}function Ue(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Kt(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(wt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Nt(h))return"Blackberry";if(gn(h))return"Webos";if(Yt(h))return"Safari";if((h.includes("chrome/")||Tr(h))&&!h.includes("edge/"))return"Chrome";if(Mn(h))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function wt(_=(0,O.z$)()){return/firefox\//i.test(_)}function Yt(_=(0,O.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Tr(_=(0,O.z$)()){return/crios\//i.test(_)}function Kt(_=(0,O.z$)()){return/iemobile/i.test(_)}function Mn(_=(0,O.z$)()){return/android/i.test(_)}function Nt(_=(0,O.z$)()){return/blackberry/i.test(_)}function gn(_=(0,O.z$)()){return/webos/i.test(_)}function ur(_=(0,O.z$)()){return/iphone|ipad|ipod/i.test(_)}function ls(_=(0,O.z$)()){return ur(_)||Mn(_)||gn(_)||Nt(_)||/windows phone/i.test(_)||Kt(_)}function Aa(_,h=[]){let m;switch(_){case"Browser":m=Ue((0,O.z$)());break;case"Worker":m=`${Ue((0,O.z$)())}-${_}`;break;default:m=_}const E=h.length?h.join(","):"FirebaseCore-web";return`${m}/JsCore/${le.SDK_VERSION}/${E}`}class ui{constructor(h,m,E){this.app=h,this.heartbeatServiceProvider=m,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pt(this),this.idTokenSubscription=new Pt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(h,m){var E=this;return m&&(this._popupRedirectResolver=se(m)),this._initializationPromise=this.queue((0,f.Z)(function*(){var T,N;if(!E._deleted&&(E.persistenceManager=yield Q.create(E,h),!E._deleted)){if(null===(T=E._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(z){}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(N=E.currentUser)||void 0===N?void 0:N.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,f.Z)(function*(){if(h._deleted)return;const m=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||m){if(h.currentUser&&m&&h.currentUser.uid===m.uid)return h._currentUser._assign(m),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(m)}})()}initializeCurrentUser(h){var m=this;return(0,f.Z)(function*(){var E;let T=yield m.assertedPersistence.getCurrentUser();if(h&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const N=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,z=null==T?void 0:T._redirectEventId,oe=yield m.tryRedirectSignIn(h);(!N||N===z)&&(null==oe?void 0:oe.user)&&(T=oe.user)}return T?T._redirectEventId?(te(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===T._redirectEventId?m.directlySetCurrentUser(T):m.reloadAndSetCurrentUserOrClear(T)):m.reloadAndSetCurrentUserOrClear(T):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var m=this;return(0,f.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,h,!0)}catch(T){yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(h){var m=this;return(0,f.Z)(function*(){try{yield mr(h)}catch(E){if("auth/network-request-failed"!==E.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Et(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,f.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var m=this;return(0,f.Z)(function*(){const E=h?(0,O.m9)(h):null;return E&&te(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(h){var m=this;return(0,f.Z)(function*(){if(!m._deleted)return h&&te(m.tenantId===h.tenantId,m,"tenant-id-mismatch"),m.queue((0,f.Z)(function*(){yield m.directlySetCurrentUser(h),m.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,f.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var m=this;return this.queue((0,f.Z)(function*(){yield m.assertedPersistence.setPersistence(se(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new O.LL("auth","Firebase",h())}onAuthStateChanged(h,m,E){return this.registerStateListener(this.authStateSubscription,h,m,E)}onIdTokenChanged(h,m,E){return this.registerStateListener(this.idTokenSubscription,h,m,E)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,m){var E=this;return(0,f.Z)(function*(){const T=yield E.getOrInitRedirectPersistenceManager(m);return null===h?T.removeCurrentUser():T.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var m=this;return(0,f.Z)(function*(){if(!m.redirectPersistenceManager){const E=h&&se(h)||m._popupRedirectResolver;te(E,m,"argument-error"),m.redirectPersistenceManager=yield Q.create(m,[se(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(h){var m=this;return(0,f.Z)(function*(){var E,T;return m._isInitialized&&(yield m.queue((0,f.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===h?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===h?m.redirectUser:null})()}_persistUserIfCurrent(h){var m=this;return(0,f.Z)(function*(){if(h===m.currentUser)return m.queue((0,f.Z)(function*(){return m.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,m,E,T){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),z=this._isInitialized?Promise.resolve():this._initializationPromise;return te(z,this,"internal-error"),z.then(()=>N(this.currentUser)),"function"==typeof m?h.addObserver(m,E,T):h.addObserver(m)}directlySetCurrentUser(h){var m=this;return(0,f.Z)(function*(){m.currentUser&&m.currentUser!==h&&(m._currentUser._stopProactiveRefresh(),h&&m.isProactiveRefreshEnabled&&h._startProactiveRefresh()),m.currentUser=h,h?yield m.assertedPersistence.setCurrentUser(h):yield m.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Aa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,f.Z)(function*(){var m;const E={"X-Client-Version":h.clientVersion};h.app.options.appId&&(E["X-Firebase-gmpid"]=h.app.options.appId);const T=yield null===(m=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return T&&(E["X-Firebase-Client"]=T),E})()}}function ke(_){return(0,O.m9)(_)}class Pt{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,O.ne)(m=>this.observer=m)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yr(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function Hn(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class un{constructor(h,m){this.providerId=h,this.signInMethod=m}toJSON(){return K("not implemented")}_getIdTokenResponse(h){return K("not implemented")}_linkToIdToken(h,m){return K("not implemented")}_getReauthenticationResolver(h){return K("not implemented")}}function Pn(_,h){return Os.apply(this,arguments)}function Os(){return(Os=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:resetPassword",en(_,h))})).apply(this,arguments)}function Rt(_,h){return $o.apply(this,arguments)}function $o(){return($o=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ks(_,h){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:update",en(_,h))})).apply(this,arguments)}function lr(){return(lr=(0,f.Z)(function*(_,h){return Lr(_,"POST","/v1/accounts:signInWithPassword",en(_,h))})).apply(this,arguments)}function cs(_,h){return ds.apply(this,arguments)}function ds(){return(ds=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:sendOobCode",en(_,h))})).apply(this,arguments)}function li(_,h){return ln.apply(this,arguments)}function ln(){return(ln=(0,f.Z)(function*(_,h){return cs(_,h)})).apply(this,arguments)}function du(_,h){return hu.apply(this,arguments)}function hu(){return(hu=(0,f.Z)(function*(_,h){return cs(_,h)})).apply(this,arguments)}function Oi(_,h){return ci.apply(this,arguments)}function ci(){return(ci=(0,f.Z)(function*(_,h){return cs(_,h)})).apply(this,arguments)}function zc(_,h){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,f.Z)(function*(_,h){return cs(_,h)})).apply(this,arguments)}function Wr(){return(Wr=(0,f.Z)(function*(_,h){return Lr(_,"POST","/v1/accounts:signInWithEmailLink",en(_,h))})).apply(this,arguments)}function Wc(){return(Wc=(0,f.Z)(function*(_,h){return Lr(_,"POST","/v1/accounts:signInWithEmailLink",en(_,h))})).apply(this,arguments)}class pu extends un{constructor(h,m,E,T=null){super("password",E),this._email=h,this._password=m,this._tenantId=T}static _fromEmailAndPassword(h,m){return new pu(h,m,"password")}static _fromEmailAndCode(h,m,E=null){return new pu(h,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(h){var m=this;return(0,f.Z)(function*(){switch(m.signInMethod){case"password":return function Ps(_,h){return lr.apply(this,arguments)}(h,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function fu(_,h){return Wr.apply(this,arguments)}(h,{email:m._email,oobCode:m._password});default:Ie(h,"internal-error")}})()}_linkToIdToken(h,m){var E=this;return(0,f.Z)(function*(){switch(E.signInMethod){case"password":return Rt(h,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Mh(_,h){return Wc.apply(this,arguments)}(h,{idToken:m,email:E._email,oobCode:E._password});default:Ie(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Gn(_,h){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,f.Z)(function*(_,h){return Lr(_,"POST","/v1/accounts:signInWithIdp",en(_,h))})).apply(this,arguments)}class hs extends un{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const m=new hs(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(m.idToken=h.idToken),h.accessToken&&(m.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(m.nonce=h.nonce),h.pendingToken&&(m.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(m.accessToken=h.oauthToken,m.secret=h.oauthTokenSecret):Ie("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:T}=m,N=(0,X._T)(m,["providerId","signInMethod"]);if(!E||!T)return null;const z=new hs(E,T);return z.idToken=N.idToken||void 0,z.accessToken=N.accessToken||void 0,z.secret=N.secret,z.nonce=N.nonce,z.pendingToken=N.pendingToken||null,z}_getIdTokenResponse(h){return Gn(h,this.buildRequest())}_linkToIdToken(h,m){const E=this.buildRequest();return E.idToken=m,Gn(h,E)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,Gn(h,m)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),h.postBody=(0,O.xO)(m)}return h}}function jp(_,h){return xa.apply(this,arguments)}function xa(){return(xa=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:sendVerificationCode",en(_,h))})).apply(this,arguments)}function Ls(){return(Ls=(0,f.Z)(function*(_,h){return Lr(_,"POST","/v1/accounts:signInWithPhoneNumber",en(_,h))})).apply(this,arguments)}function Zc(){return(Zc=(0,f.Z)(function*(_,h){const m=yield Lr(_,"POST","/v1/accounts:signInWithPhoneNumber",en(_,h));if(m.temporaryProof)throw us(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Hp={USER_NOT_FOUND:"user-not-found"};function Yc(){return(Yc=(0,f.Z)(function*(_,h){return Lr(_,"POST","/v1/accounts:signInWithPhoneNumber",en(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Hp)})).apply(this,arguments)}class Ho extends un{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,m){return new Ho({verificationId:h,verificationCode:m})}static _fromTokenResponse(h,m){return new Ho({phoneNumber:h,temporaryProof:m})}_getIdTokenResponse(h){return function pl(_,h){return Ls.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,m){return function $p(_,h){return Zc.apply(this,arguments)}(h,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function xh(_,h){return Yc.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:m,verificationId:E,verificationCode:T}=this.params;return h&&m?{temporaryProof:h,phoneNumber:m}:{sessionInfo:E,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:m,verificationCode:E,phoneNumber:T,temporaryProof:N}=h;return E||m||T||N?new Ho({verificationId:m,verificationCode:E,phoneNumber:T,temporaryProof:N}):null}}class co{constructor(h){var m,E,T,N,z,oe;const je=(0,O.zd)((0,O.pd)(h)),tt=null!==(m=je.apiKey)&&void 0!==m?m:null,bt=null!==(E=je.oobCode)&&void 0!==E?E:null,at=function Sy(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=je.mode)&&void 0!==T?T:null);te(tt&&bt&&at,"argument-error"),this.apiKey=tt,this.operation=at,this.code=bt,this.continueUrl=null!==(N=je.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(z=je.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(oe=je.tenantId)&&void 0!==oe?oe:null}static parseLink(h){const m=function gu(_){const h=(0,O.zd)((0,O.pd)(_)).link,m=h?(0,O.zd)((0,O.pd)(h)).deep_link_id:null,E=(0,O.zd)((0,O.pd)(_)).deep_link_id;return(E?(0,O.zd)((0,O.pd)(E)).link:null)||E||m||h||_}(h);try{return new co(m)}catch(E){return null}}}let gl=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,E){return pu._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const T=co.parseLink(E);return te(T,"argument-error"),pu._fromEmailAndCode(m,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Vs{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Kr extends Vs{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Go extends Kr{static credentialFromJSON(h){const m="string"==typeof h?JSON.parse(h):h;return te("providerId"in m&&"signInMethod"in m,"argument-error"),hs._fromParams(m)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return te(h.idToken||h.accessToken,"argument-error"),hs._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Go.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Go.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:T,pendingToken:N,nonce:z,providerId:oe}=h;if(!E&&!T&&!m&&!N||!oe)return null;try{return new Go(oe)._credential({idToken:m,accessToken:E,nonce:z,pendingToken:N})}catch(je){return null}}}let ho=(()=>{class _ extends Kr{constructor(){super("facebook.com")}static credential(m){return hs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(E){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Ra=(()=>{class _ extends Kr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return hs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:T}=m;if(!E&&!T)return null;try{return _.credential(E,T)}catch(N){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Qc=(()=>{class _ extends Kr{constructor(){super("github.com")}static credential(m){return hs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(E){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class _r extends un{constructor(h,m){super(h,h),this.pendingToken=m}_getIdTokenResponse(h){return Gn(h,this.buildRequest())}_linkToIdToken(h,m){const E=this.buildRequest();return E.idToken=m,Gn(h,E)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,Gn(h,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:T,pendingToken:N}=m;return E&&T&&N&&E===T?new _r(E,N):null}static _create(h,m){return new _r(h,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class di extends Vs{constructor(h){te(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return di.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return di.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const m=_r.fromJSON(h);return te(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:m,providerId:E}=h;if(!m||!E)return null;try{return _r._create(E,m)}catch(T){return null}}}let mu=(()=>{class _ extends Kr{constructor(){super("twitter.com")}static credential(m,E){return hs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:T}=m;if(!E||!T)return null;try{return _.credential(E,T)}catch(N){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function yu(_,h){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,f.Z)(function*(_,h){return Lr(_,"POST","/v1/accounts:signUp",en(_,h))})).apply(this,arguments)}class vr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,m,E,T=!1){return(0,f.Z)(function*(){const N=yield j._fromIdTokenResponse(h,E,T),z=Nh(E);return new vr({user:N,providerId:z,_tokenResponse:E,operationType:m})})()}static _forOperation(h,m,E){return(0,f.Z)(function*(){yield h._updateTokensIfNecessary(E,!0);const T=Nh(E);return new vr({user:h,providerId:T,_tokenResponse:E,operationType:m})})()}}function Nh(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Jc(){return(Jc=(0,f.Z)(function*(_){var h;const m=ke(_);if(yield m._initializationPromise,null===(h=m.currentUser)||void 0===h?void 0:h.isAnonymous)return new vr({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield yu(m,{returnSecureToken:!0}),T=yield vr._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class vu extends O.ZR{constructor(h,m,E,T){var N;super(m.code,m.message),this.operationType=E,this.user=T,Object.setPrototypeOf(this,vu.prototype),this.customData={appName:h.name,tenantId:null!==(N=h.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(h,m,E,T){return new vu(h,m,E,T)}}function Eu(_,h,m,E){return("reauthenticate"===h?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?vu._fromErrorAndOperation(_,N,h,E):N})}function fs(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function ml(){return(ml=(0,f.Z)(function*(_,h){const m=(0,O.m9)(_);yield Us(!0,m,h);const{providerUserInfo:E}=yield or(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[h]}),T=fs(E||[]);return m.providerData=m.providerData.filter(N=>T.has(N.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function vn(_,h){return qo.apply(this,arguments)}function qo(){return(qo=(0,f.Z)(function*(_,h,m=!1){const E=yield gr(_,h._linkToIdToken(_.auth,yield _.getIdToken()),m);return vr._forOperation(_,"link",E)})).apply(this,arguments)}function Us(_,h,m){return cn.apply(this,arguments)}function cn(){return(cn=(0,f.Z)(function*(_,h,m){yield mr(h);const T=!1===_?"provider-already-linked":"no-such-provider";te(fs(h.providerData).has(m)===_,h.auth,T)})).apply(this,arguments)}function Xc(_,h){return fo.apply(this,arguments)}function fo(){return(fo=(0,f.Z)(function*(_,h,m=!1){const{auth:E}=_,T="reauthenticate";try{const N=yield gr(_,Eu(E,T,h,_),m);te(N.idToken,E,"internal-error");const z=ot(N.idToken);te(z,E,"internal-error");const{sub:oe}=z;return te(_.uid===oe,E,"user-mismatch"),vr._forOperation(_,T,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&Ie(E,"user-mismatch"),N}})).apply(this,arguments)}function po(_,h){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,f.Z)(function*(_,h,m=!1){const E="signIn",T=yield Eu(_,E,h),N=yield vr._fromIdTokenResponse(_,E,T);return m||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Fn(_,h){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,f.Z)(function*(_,h){return po(ke(_),h)})).apply(this,arguments)}function ki(_,h){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,f.Z)(function*(_,h){const m=(0,O.m9)(_);return yield Us(!1,m,h.providerId),vn(m,h)})).apply(this,arguments)}function js(_,h){return ps.apply(this,arguments)}function ps(){return(ps=(0,f.Z)(function*(_,h){return Xc((0,O.m9)(_),h)})).apply(this,arguments)}function wu(_,h){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,f.Z)(function*(_,h){return Lr(_,"POST","/v1/accounts:signInWithCustomToken",en(_,h))})).apply(this,arguments)}function Hs(){return(Hs=(0,f.Z)(function*(_,h){const m=ke(_),E=yield wu(m,{token:h,returnSecureToken:!0}),T=yield vr._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class pt{constructor(h,m){this.factorId=h,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(h,m){return"phoneInfo"in m?bu._fromServerResponse(h,m):Ie(h,"internal-error")}}class bu extends pt{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,m){return new bu(m)}}function ka(_,h,m){var E;te((null===(E=m.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),te(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=m.url,h.dynamicLinkDomain=m.dynamicLinkDomain,h.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(te(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=m.iOS.bundleId),m.android&&(te(m.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=m.android.installApp,h.androidMinimumVersionCode=m.android.minimumVersion,h.androidPackageName=m.android.packageName)}function Cu(){return(Cu=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_),T={requestType:"PASSWORD_RESET",email:h};m&&ka(E,T,m),yield du(E,T)})).apply(this,arguments)}function yl(){return(yl=(0,f.Z)(function*(_,h,m){yield Pn((0,O.m9)(_),{oobCode:h,newPassword:m})})).apply(this,arguments)}function De(){return(De=(0,f.Z)(function*(_,h){yield ks((0,O.m9)(_),{oobCode:h})})).apply(this,arguments)}function Bt(_,h){return vl.apply(this,arguments)}function vl(){return(vl=(0,f.Z)(function*(_,h){const m=(0,O.m9)(_),E=yield Pn(m,{oobCode:h}),T=E.requestType;switch(te(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(E.mfaInfo,m,"internal-error");default:te(E.email,m,"internal-error")}let N=null;return E.mfaInfo&&(N=pt._fromServerResponse(ke(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:T}})).apply(this,arguments)}function zo(){return(zo=(0,f.Z)(function*(_,h){const{data:m}=yield Bt((0,O.m9)(_),h);return m.email})).apply(this,arguments)}function Yr(){return(Yr=(0,f.Z)(function*(_,h,m){const E=ke(_),T=yield yu(E,{returnSecureToken:!0,email:h,password:m}),N=yield vr._fromIdTokenResponse(E,"signIn",T);return yield E._updateCurrentUser(N.user),N})).apply(this,arguments)}function ed(){return(ed=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_),T={requestType:"EMAIL_SIGNIN",email:h};te(m.handleCodeInApp,E,"argument-error"),m&&ka(E,T,m),yield Oi(E,T)})).apply(this,arguments)}function Gs(){return(Gs=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_),T=gl.credentialWithLink(h,m||It());return te(T._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Fn(E,T)})).apply(this,arguments)}function Er(_,h){return hi.apply(this,arguments)}function hi(){return(hi=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:createAuthUri",en(_,h))})).apply(this,arguments)}function qs(){return(qs=(0,f.Z)(function*(_,h){const E={identifier:h,continueUri:Xt()?It():"http://localhost"},{signinMethods:T}=yield Er((0,O.m9)(_),E);return T||[]})).apply(this,arguments)}function Dl(){return(Dl=(0,f.Z)(function*(_,h){const m=(0,O.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&ka(m.auth,T,h);const{email:N}=yield li(m.auth,T);N!==_.email&&(yield _.reload())})).apply(this,arguments)}function Mu(){return(Mu=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};m&&ka(E.auth,N,m);const{email:z}=yield zc(E.auth,N);z!==_.email&&(yield _.reload())})).apply(this,arguments)}function Cl(_,h){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Il(){return(Il=(0,f.Z)(function*(_,{displayName:h,photoURL:m}){if(void 0===h&&void 0===m)return;const E=(0,O.m9)(_),N={idToken:yield E.getIdToken(),displayName:h,photoUrl:m,returnSecureToken:!0},z=yield gr(E,Cl(E.auth,N));E.displayName=z.displayName||null,E.photoURL=z.photoUrl||null;const oe=E.providerData.find(({providerId:je})=>"password"===je);oe&&(oe.displayName=E.displayName,oe.photoURL=E.photoURL),yield E._updateTokensIfNecessary(z)})).apply(this,arguments)}function Sl(_,h,m){return go.apply(this,arguments)}function go(){return(go=(0,f.Z)(function*(_,h,m){const{auth:E}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(N.email=h),m&&(N.password=m);const z=yield gr(_,Rt(E,N));yield _._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class mo{constructor(h,m,E={}){this.isNewUser=h,this.providerId=m,this.profile=E}}class rd extends mo{constructor(h,m,E,T){super(h,m,E),this.username=T}}class id extends mo{constructor(h,m){super(h,"facebook.com",m)}}class yo extends rd{constructor(h,m){super(h,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class zs extends mo{constructor(h,m){super(h,"google.com",m)}}class Al extends rd{constructor(h,m,E){super(h,"twitter.com",m,E)}}function xr(_){const{user:h,_tokenResponse:m}=_;return h.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function nd(_){var h,m;if(!_)return null;const{providerId:E}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&(null==_?void 0:_.idToken)){const z=null===(m=null===(h=ot(_.idToken))||void 0===h?void 0:h.firebase)||void 0===m?void 0:m.sign_in_provider;if(z)return new mo(N,"anonymous"!==z&&"custom"!==z?z:null)}if(!E)return null;switch(E){case"facebook.com":return new id(N,T);case"github.com":return new yo(N,T);case"google.com":return new zs(N,T);case"twitter.com":return new Al(N,T,_.screenName||null);case"custom":case"anonymous":return new mo(N,null);default:return new mo(N,E,T)}}(m)}class gs{constructor(h,m){this.type=h,this.credential=m}static _fromIdtoken(h){return new gs("enroll",h)}static _fromMfaPendingCredential(h){return new gs("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var m,E;if(null==h?void 0:h.multiFactorSession){if(null===(m=h.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return gs._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(E=h.multiFactorSession)||void 0===E?void 0:E.idToken)return gs._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Fa{constructor(h,m,E){this.session=h,this.hints=m,this.signInResolver=E}static _fromError(h,m){const E=ke(h),T=m.customData._serverResponse,N=(T.mfaInfo||[]).map(oe=>pt._fromServerResponse(E,oe));te(T.mfaPendingCredential,E,"internal-error");const z=gs._fromMfaPendingCredential(T.mfaPendingCredential);return new Fa(z,N,function(){var oe=(0,f.Z)(function*(je){const tt=yield je._process(E,z);delete T.mfaInfo,delete T.mfaPendingCredential;const bt=Object.assign(Object.assign({},T),{idToken:tt.idToken,refreshToken:tt.refreshToken});switch(m.operationType){case"signIn":const at=yield vr._fromIdTokenResponse(E,m.operationType,bt);return yield E._updateCurrentUser(at.user),at;case"reauthenticate":return te(m.user,E,"internal-error"),vr._forOperation(m.user,m.operationType,bt);default:Ie(E,"internal-error")}});return function(je){return oe.apply(this,arguments)}}())}resolveSignIn(h){var m=this;return(0,f.Z)(function*(){return m.signInResolver(h)})()}}function qn(_,h){return zt(_,"POST","/v2/accounts/mfaEnrollment:start",en(_,h))}class ms{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>pt._fromServerResponse(h.auth,E)))})}static _fromUser(h){return new ms(h)}getSession(){var h=this;return(0,f.Z)(function*(){return gs._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,m){var E=this;return(0,f.Z)(function*(){const T=h,N=yield E.getSession(),z=yield gr(E.user,T._process(E.user.auth,N,m));return yield E.user._updateTokensIfNecessary(z),E.user.reload()})()}unenroll(h){var m=this;return(0,f.Z)(function*(){const E="string"==typeof h?h:h.uid,T=yield m.user.getIdToken(),N=yield gr(m.user,function qp(_,h){return zt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",en(_,h))}(m.user.auth,{idToken:T,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:z})=>z!==E),yield m.user._updateTokensIfNecessary(N);try{yield m.user.reload()}catch(z){if("auth/user-token-expired"!==z.code)throw z}})()}}const Zo=new WeakMap,Rl="__sak";class _o{constructor(h,m){this.storageRetriever=h,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Rl,"1"),this.storage.removeItem(Rl),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,m){return this.storage.setItem(h,JSON.stringify(m)),Promise.resolve()}_get(h){const m=this.storage.getItem(h);return Promise.resolve(m?JSON.parse(m):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vn=(()=>{class _ extends _o{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ad(){const _=(0,O.z$)();return Yt(_)||ur(_)}()&&function er(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=ls(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const T=this.storage.getItem(E),N=this.localCache[E];T!==N&&m(E,N,T)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((oe,je,tt)=>{this.notifyListeners(oe,tt)});const T=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const oe=this.storage.getItem(T);if(m.newValue!==oe)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!E)return}const N=()=>{const oe=this.storage.getItem(T);!E&&this.localCache[T]===oe||this.notifyListeners(T,oe)},z=this.storage.getItem(T);!function Sa(){return(0,O.w1)()&&10===document.documentMode}()||z===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,E){this.localCache[m]=E;const T=this.listeners[m];if(T)for(const N of Array.from(T))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var T=()=>super._set,N=this;return(0,f.Z)(function*(){yield T().call(N,m,E),N.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,T=this;return(0,f.Z)(function*(){const N=yield E().call(T,m);return T.localCache[m]=JSON.stringify(N),N})()}_remove(m){var E=()=>super._remove,T=this;return(0,f.Z)(function*(){yield E().call(T,m),delete T.localCache[m]})()}}return _.type="LOCAL",_})(),cr=(()=>{class _ extends _o{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return _.type="SESSION",_})();let Br=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(N=>N.isListeningto(m));if(E)return E;const T=new _(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,f.Z)(function*(){const T=m,{eventId:N,eventType:z,data:oe}=T.data,je=E.handlersMap[z];if(!(null==je?void 0:je.size))return;T.ports[0].postMessage({status:"ack",eventId:N,eventType:z});const tt=Array.from(je).map(function(){var at=(0,f.Z)(function*(On){return On(T.origin,oe)});return function(On){return at.apply(this,arguments)}}()),bt=yield function Qr(_){return Promise.all(_.map(function(){var h=(0,f.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return h.apply(this,arguments)}}()))}(tt);T.ports[0].postMessage({status:"done",eventId:N,eventType:z,response:bt})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Yo(_="",h=10){let m="";for(let E=0;E<h;E++)m+=Math.floor(10*Math.random());return _+m}class ud{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,m,E=50){var T=this;return(0,f.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let z,oe;return new Promise((je,tt)=>{const bt=Yo("",20);N.port1.start();const at=setTimeout(()=>{tt(new Error("unsupported_event"))},E);oe={messageChannel:N,onMessage(On){const rs=On;if(rs.data.eventId===bt)switch(rs.data.status){case"ack":clearTimeout(at),z=setTimeout(()=>{tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),je(rs.data.response);break;default:clearTimeout(at),clearTimeout(z),tt(new Error("invalid_response"))}}},T.handlers.add(oe),N.port1.addEventListener("message",oe.onMessage),T.target.postMessage({eventType:h,eventId:bt,data:m},[N.port2])}).finally(()=>{oe&&T.removeMessageHandler(oe)})})()}}function yn(){return window}function Fi(){return void 0!==yn().WorkerGlobalScope&&"function"==typeof yn().importScripts}function fi(){return(fi=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Nl="firebaseLocalStorageDb",vo="firebaseLocalStorage",zn="fbase_key";class ys{constructor(h){this.request=h}toPromise(){return new Promise((h,m)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Qo(_,h){return _.transaction([vo],h?"readwrite":"readonly").objectStore(vo)}function Ks(){const _=indexedDB.open(Nl,1);return new Promise((h,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(vo,{keyPath:zn})}catch(T){m(T)}}),_.addEventListener("success",(0,f.Z)(function*(){const E=_.result;E.objectStoreNames.contains(vo)?h(E):(E.close(),yield function pi(){const _=indexedDB.deleteDatabase(Nl);return new ys(_).toPromise()}(),h(yield Ks()))}))})}function gi(_,h,m){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,f.Z)(function*(_,h,m){const E=Qo(_,!0).put({[zn]:h,value:m});return new ys(E).toPromise()})).apply(this,arguments)}function Zs(){return(Zs=(0,f.Z)(function*(_,h){const m=Qo(_,!1).get(h),E=yield new ys(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Yi(_,h){const m=Qo(_,!0).delete(h);return new ys(m).toPromise()}const Li=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,f.Z)(function*(){return m.db||(m.db=yield Ks()),m.db})()}_withRetries(m){var E=this;return(0,f.Z)(function*(){let T=0;for(;;)try{const N=yield E._openDb();return yield m(N)}catch(N){if(T++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,f.Z)(function*(){return Fi()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,f.Z)(function*(){m.receiver=Br._getInstance(function ld(){return Fi()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,f.Z)(function*(T,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(T,N){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,f.Z)(function*(T,N){return["keyChanged"]});return function(T,N){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,f.Z)(function*(){var E,T;if(m.activeServiceWorker=yield function Ru(){return fi.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ud(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);!N||(null===(E=N[0])||void 0===E?void 0:E.fulfilled)&&(null===(T=N[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,f.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Ot(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ks();return yield gi(m,Rl,"1"),yield Yi(m,Rl),!0}catch(m){}return!1})()}_withPendingWrite(m){var E=this;return(0,f.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var T=this;return(0,f.Z)(function*(){return T._withPendingWrite((0,f.Z)(function*(){return yield T._withRetries(N=>gi(N,m,E)),T.localCache[m]=E,T.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,f.Z)(function*(){const T=yield E._withRetries(N=>function kl(_,h){return Zs.apply(this,arguments)}(N,m));return E.localCache[m]=T,T})()}_remove(m){var E=this;return(0,f.Z)(function*(){return E._withPendingWrite((0,f.Z)(function*(){return yield E._withRetries(T=>Yi(T,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,f.Z)(function*(){const E=yield m._withRetries(z=>{const oe=Qo(z,!1).getAll();return new ys(oe).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const T=[],N=new Set;for(const{fbase_key:z,value:oe}of E)N.add(z),JSON.stringify(m.localCache[z])!==JSON.stringify(oe)&&(m.notifyListeners(z,oe),T.push(z));for(const z of Object.keys(m.localCache))m.localCache[z]&&!N.has(z)&&(m.notifyListeners(z,null),T.push(z));return T})()}notifyListeners(m,E){this.localCache[m]=E;const T=this.listeners[m];if(T)for(const N of Array.from(T))N(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Jo(_,h){return zt(_,"POST","/v2/accounts/mfaSignIn:start",en(_,h))}function Vi(){return(Vi=(0,f.Z)(function*(_){return(yield zt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Bn(_){return new Promise((h,m)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=h,E.onerror=T=>{const N=ve("internal-error");N.customData=T,m(N)},E.type="text/javascript",E.charset="UTF-8",function dd(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(E)})}function wo(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Rr=1e12;class Qi{constructor(h){this.auth=h,this.counter=Rr,this._widgets=new Map}render(h,m){const E=this.counter;return this._widgets.set(E,new Ji(h,this.auth.name,m||{})),this.counter++,E}reset(h){var m;const E=h||Rr;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(h){var m;return(null===(m=this._widgets.get(h||Rr))||void 0===m?void 0:m.getResponse())||""}execute(h){var m=this;return(0,f.Z)(function*(){var E;return null===(E=m._widgets.get(h||Rr))||void 0===E||E.execute(),""})()}}class Ji{constructor(h,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof h?document.getElementById(h):h;te(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Tn(_){const h=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<_;E++)h.push(m.charAt(Math.floor(Math.random()*m.length)));return h.join("")}(50);const{callback:h,"expired-callback":m}=this.params;if(h)try{h(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ys=wo("rcb"),hd=new dn(3e4,6e4);class Wp{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!yn().grecaptcha}load(h,m=""){return te(function Kp(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),h,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(yn().grecaptcha):new Promise((E,T)=>{const N=yn().setTimeout(()=>{T(ve(h,"network-request-failed"))},hd.get());yn()[Ys]=()=>{yn().clearTimeout(N),delete yn()[Ys];const oe=yn().grecaptcha;if(!oe)return void T(ve(h,"internal-error"));const je=oe.render;oe.render=(tt,bt)=>{const at=je(tt,bt);return this.counter++,at},this.hostLanguage=m,E(oe)},Bn(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Ys,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),T(ve(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!yn().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zp{load(h){return(0,f.Z)(function*(){return new Qi(h)})()}clearedOneInstance(){}}const Qs="recaptcha",Jr={theme:"light",type:"image"};class Yp{constructor(h,m=Object.assign({},Jr),E){this.parameters=m,this.type=Qs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ke(E),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof h?document.getElementById(h):h;te(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zp:new Wp,this.validateStartingState()}verify(){var h=this;return(0,f.Z)(function*(){h.assertNotDestroyed();const m=yield h.render(),E=h.getAssertedRecaptcha();return E.getResponse(m)||new Promise(N=>{const z=oe=>{!oe||(h.tokenChangeListeners.delete(z),N(oe))};h.tokenChangeListeners.add(z),h.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof h)h(m);else if("string"==typeof h){const E=yn()[h];"function"==typeof E&&E(m)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,f.Z)(function*(){if(yield h.init(),!h.widgetId){let m=h.container;if(!h.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}h.widgetId=h.getAssertedRecaptcha().render(m,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,f.Z)(function*(){te(Xt()&&!Fi(),h.auth,"internal-error"),yield function Js(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const m=yield function Ur(_){return Vi.apply(this,arguments)}(h.auth);te(m,h.auth,"internal-error"),h.parameters.sitekey=m})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _s{constructor(h,m){this.verificationId=h,this.onConfirmation=m}confirm(h){const m=Ho._fromVerification(this.verificationId,h);return this.onConfirmation(m)}}function Sn(){return(Sn=(0,f.Z)(function*(_,h,m){const E=ke(_),T=yield Nr(E,h,(0,O.m9)(m));return new _s(T,N=>Fn(E,N))})).apply(this,arguments)}function ta(){return(ta=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_);yield Us(!1,E,"phone");const T=yield Nr(E.auth,h,(0,O.m9)(m));return new _s(T,N=>ki(E,N))})).apply(this,arguments)}function Ll(){return(Ll=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_),T=yield Nr(E.auth,h,(0,O.m9)(m));return new _s(T,N=>js(E,N))})).apply(this,arguments)}function Nr(_,h,m){return mi.apply(this,arguments)}function mi(){return(mi=(0,f.Z)(function*(_,h,m){var E;const T=yield m.verify();try{let N;if(te("string"==typeof T,_,"argument-error"),te(m.type===Qs,_,"argument-error"),N="string"==typeof h?{phoneNumber:h}:h,"session"in N){const z=N.session;if("phoneNumber"in N)return te("enroll"===z.type,_,"internal-error"),(yield qn(_,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{te("signin"===z.type,_,"internal-error");const oe=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return te(oe,_,"missing-multi-factor-info"),(yield Jo(_,{mfaPendingCredential:z.credential,mfaEnrollmentId:oe,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield jp(_,{phoneNumber:N.phoneNumber,recaptchaToken:T});return z}}finally{m._reset()}})).apply(this,arguments)}function vs(){return(vs=(0,f.Z)(function*(_,h){yield vn((0,O.m9)(_),h)})).apply(this,arguments)}let Ui=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=ke(m)}verifyPhoneNumber(m,E){return Nr(this.auth,m,(0,O.m9)(E))}static credential(m,E){return Ho._fromVerification(m,E)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:T}=m;return E&&T?Ho._fromTokenResponse(E,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Xi(_,h){return h?se(h):(te(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class La extends un{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Gn(h,this._buildIdpRequest())}_linkToIdToken(h,m){return Gn(h,this._buildIdpRequest(m))}_getReauthenticationResolver(h){return Gn(h,this._buildIdpRequest())}_buildIdpRequest(h){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(m.idToken=h),m}}function Bl(_){return po(_.auth,new La(_),_.bypassAuthState)}function Ul(_){const{auth:h,user:m}=_;return te(m,h,"internal-error"),Xc(m,new La(_),_.bypassAuthState)}function Ft(_){return jl.apply(this,arguments)}function jl(){return(jl=(0,f.Z)(function*(_){const{auth:h,user:m}=_;return te(m,h,"internal-error"),vn(m,new La(_),_.bypassAuthState)})).apply(this,arguments)}class tr{constructor(h,m,E,T,N=!1){this.auth=h,this.resolver=E,this.user=T,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var h=this;return new Promise(function(){var m=(0,f.Z)(function*(E,T){h.pendingPromise={resolve:E,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(N){h.reject(N)}});return function(E,T){return m.apply(this,arguments)}}())}onAuthEvent(h){var m=this;return(0,f.Z)(function*(){const{urlResponse:E,sessionId:T,postBody:N,tenantId:z,error:oe,type:je}=h;if(oe)return void m.reject(oe);const tt={auth:m.auth,requestUri:E,sessionId:T,tenantId:z||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(je)(tt))}catch(bt){m.reject(bt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Bl;case"linkViaPopup":case"linkViaRedirect":return Ft;case"reauthViaPopup":case"reauthViaRedirect":return Ul;default:Ie(this.auth,"internal-error")}}resolve(h){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $l=new dn(2e3,1e4);function fd(){return(fd=(0,f.Z)(function*(_,h,m){const E=ke(_);Ge(_,h,Vs);const T=Xi(E,m);return new ts(E,"signInViaPopup",h,T).executeNotNull()})).apply(this,arguments)}function Ou(){return(Ou=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_);Ge(E.auth,h,Vs);const T=Xi(E.auth,m);return new ts(E.auth,"reauthViaPopup",h,T,E).executeNotNull()})).apply(this,arguments)}function ku(){return(ku=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_);Ge(E.auth,h,Vs);const T=Xi(E.auth,m);return new ts(E.auth,"linkViaPopup",h,T,E).executeNotNull()})).apply(this,arguments)}let ts=(()=>{class _ extends tr{constructor(m,E,T,N,z){super(m,E,N,z),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,f.Z)(function*(){const E=yield m.execute();return te(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,f.Z)(function*(){ie(1===m.filter.length,"Popup operations only handle one event");const E=Yo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(ve(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,T;this.pollId=(null===(T=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,$l.get())};m()}}return _.currentPopupAction=null,_})();const ns=new Map;class nr extends tr{constructor(h,m,E=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var h=()=>super.execute,m=this;return(0,f.Z)(function*(){let E=ns.get(m.auth._key());if(!E){try{const N=(yield function yi(_,h){return Hl.apply(this,arguments)}(m.resolver,m.auth))?yield h().call(m):null;E=()=>Promise.resolve(N)}catch(T){E=()=>Promise.reject(T)}ns.set(m.auth._key(),E)}return m.bypassAuthState||ns.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(h){var m=()=>super.onAuthEvent,E=this;return(0,f.Z)(function*(){if("signInViaRedirect"===h.type)return m().call(E,h);if("unknown"!==h.type){if(h.eventId){const T=yield E.auth._redirectUserForId(h.eventId);if(T)return E.user=T,m().call(E,h);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Hl(){return(Hl=(0,f.Z)(function*(_,h){const m=I(h),E=C(_);if(!(yield E._isAvailable()))return!1;const T="true"===(yield E._get(m));return yield E._remove(m),T})).apply(this,arguments)}function Do(_,h){return na.apply(this,arguments)}function na(){return(na=(0,f.Z)(function*(_,h){return C(_)._set(I(h),"true")})).apply(this,arguments)}function C(_){return se(_._redirectPersistence)}function I(_){return de("pendingRedirect",_.config.apiKey,_.name)}function Z(){return(Z=(0,f.Z)(function*(_,h,m){const E=ke(_);Ge(_,h,Vs);const T=Xi(E,m);return yield Do(T,E),T._openRedirect(E,h,"signInViaRedirect")})).apply(this,arguments)}function xe(){return(xe=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_);Ge(E.auth,h,Vs);const T=Xi(E.auth,m);yield Do(T,E.auth);const N=yield Co(E);return T._openRedirect(E.auth,h,"reauthViaRedirect",N)})).apply(this,arguments)}function kt(){return(kt=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_);Ge(E.auth,h,Vs);const T=Xi(E.auth,m);yield Us(!1,E,h.providerId),yield Do(T,E.auth);const N=yield Co(E);return T._openRedirect(E.auth,h,"linkViaRedirect",N)})).apply(this,arguments)}function Wn(){return(Wn=(0,f.Z)(function*(_,h){return yield ke(_)._initializationPromise,Nn(_,h,!1)})).apply(this,arguments)}function Nn(_,h){return ra.apply(this,arguments)}function ra(){return(ra=(0,f.Z)(function*(_,h,m=!1){const E=ke(_),T=Xi(E,h),z=yield new nr(E,T,m).execute();return z&&!m&&(delete z.user._redirectEventId,yield E._persistUserIfCurrent(z.user),yield E._setRedirectUser(null,h)),z})).apply(this,arguments)}function Co(_){return jr.apply(this,arguments)}function jr(){return(jr=(0,f.Z)(function*(_){const h=Yo(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class ji{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(h,E)&&(m=!0,this.sendToConsumer(h,E),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Gl(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gd(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=h,m=!0)),m}sendToConsumer(h,m){var E;if(h.error&&!gd(h)){const T=(null===(E=h.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(ve(this.auth,T))}else m.onAuthEvent(h)}isEventForConsumer(h,m){const E=null===m.eventId||!!h.eventId&&h.eventId===m.eventId;return m.filter.includes(h.type)&&E}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Io(h))}saveEventToCache(h){this.cachedEventUids.add(Io(h)),this.lastProcessedEventTime=Date.now()}}function Io(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function gd({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===(null==h?void 0:h.code)}function ql(_){return Va.apply(this,arguments)}function Va(){return(Va=(0,f.Z)(function*(_,h={}){return zt(_,"GET","/v1/projects",h)})).apply(this,arguments)}const Jp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,My=/^https?/;function Es(){return(Es=(0,f.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield ql(_);for(const m of h)try{if(zl(m))return}catch(E){}Ie(_,"unauthorized-domain")})).apply(this,arguments)}function zl(_){const h=It(),{protocol:m,hostname:E}=new URL(h);if(_.startsWith("chrome-extension://")){const z=new URL(_);return""===z.hostname&&""===E?"chrome-extension:"===m&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===m&&z.hostname===E}if(!My.test(m))return!1;if(Jp.test(_))return E===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(E)}const Ry=new dn(3e4,6e4);function Ny(){const _=yn().___jsl;if(null==_?void 0:_.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let md=null;function Oy(_){return md=md||function Xp(_){return new Promise((h,m)=>{var E,T,N;function z(){Ny(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Ny(),m(ve(_,"network-request-failed"))},timeout:Ry.get()})}if(null===(T=null===(E=yn().gapi)||void 0===E?void 0:E.iframes)||void 0===T?void 0:T.Iframe)h(gapi.iframes.getContext());else{if(!(null===(N=yn().gapi)||void 0===N?void 0:N.load)){const oe=wo("iframefcb");return yn()[oe]=()=>{gapi.load?z():m(ve(_,"network-request-failed"))},Bn(`https://apis.google.com/js/api.js?onload=${oe}`).catch(je=>m(je))}z()}}).catch(h=>{throw md=null,h})}(_),md}const Fh=new dn(5e3,15e3),So={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ba(_){const h=_.config;te(h.authDomain,_,"auth-domain-config-required");const m=h.emulator?hn(h,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,E={apiKey:h.apiKey,appName:_.name,v:le.SDK_VERSION},T=yd.get(_.config.apiHost);T&&(E.eid=T);const N=_._getFrameworks();return N.length&&(E.fw=N.join(",")),`${m}?${(0,O.xO)(E).slice(1)}`}function ia(){return ia=(0,f.Z)(function*(_){const h=yield Oy(_),m=yn().gapi;return te(m,_,"internal-error"),h.open({where:document.body,url:Ba(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:So,dontclear:!0},E=>new Promise(function(){var T=(0,f.Z)(function*(N,z){yield E.restyle({setHideOnLeave:!1});const oe=ve(_,"network-request-failed"),je=yn().setTimeout(()=>{z(oe)},Fh.get());function tt(){yn().clearTimeout(je),N(E)}E.ping(tt).then(tt,()=>{z(oe)})});return function(N,z){return T.apply(this,arguments)}}()))}),ia.apply(this,arguments)}const Py={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ed{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function Uh(_,h,m,E,T,N){te(_.config.authDomain,_,"auth-domain-config-required"),te(_.config.apiKey,_,"invalid-api-key");const z={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:E,v:le.SDK_VERSION,eventId:T};if(h instanceof Vs){h.setDefaultLanguage(_.languageCode),z.providerId=h.providerId||"",(0,O.xb)(h.getCustomParameters())||(z.customParameters=JSON.stringify(h.getCustomParameters()));for(const[je,tt]of Object.entries(N||{}))z[je]=tt}if(h instanceof Kr){const je=h.getScopes().filter(tt=>""!==tt);je.length>0&&(z.scopes=je.join(","))}_.tenantId&&(z.tid=_.tenantId);const oe=z;for(const je of Object.keys(oe))void 0===oe[je]&&delete oe[je];return`${function Ly({config:_}){return _.emulator?hn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,O.xO)(oe).slice(1)}`}const eo="webStorageSupport";class jh extends class eg{constructor(h){this.factorId=h}_process(h,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(h,m.credential,E);case"signin":return this._finalizeSignIn(h,m.credential);default:return K("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new jh(h)}_finalizeEnroll(h,m,E){return function sd(_,h){return zt(_,"POST","/v2/accounts/mfaEnrollment:finalize",en(_,h))}(h,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,m){return function Xo(_,h){return zt(_,"POST","/v2/accounts/mfaSignIn:finalize",en(_,h))}(h,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Vy=(()=>{class _{constructor(){}static assertion(m){return jh._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var By="@firebase/auth",$h="0.19.11";class tg{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var m=this;return(0,f.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const m=this.auth.onIdTokenChanged(E=>{var T;h((null===(T=E)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,m),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const m=this.internalListeners.get(h);!m||(this.internalListeners.delete(h),m(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function to(){return window}function Vu(){return(Vu=(0,f.Z)(function*(_,h,m){var E;const{BuildInfo:T}=to();ie(h.sessionId,"AuthEvent did not contain a session ID");const N=yield Ua(h.sessionId),z={};return ur()?z.ibi=T.packageName:Mn()?z.apn=T.packageName:Ie(_,"operation-not-supported-in-this-environment"),T.displayName&&(z.appDisplayName=T.displayName),z.sessionId=N,Uh(_,m,h.type,void 0,null!==(E=h.eventId)&&void 0!==E?E:void 0,z)})).apply(this,arguments)}function $i(){return($i=(0,f.Z)(function*(_){const{BuildInfo:h}=to(),m={};ur()?m.iosBundleId=h.packageName:Mn()?m.androidPackageName=h.packageName:Ie(_,"operation-not-supported-in-this-environment"),yield ql(_,m)})).apply(this,arguments)}function bd(){return(bd=(0,f.Z)(function*(_,h,m){const{cordova:E}=to();let T=()=>{};try{yield new Promise((N,z)=>{let oe=null;function je(){var at;N();const On=null===(at=E.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof On&&On(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function tt(){oe||(oe=window.setTimeout(()=>{z(ve(_,"redirect-cancelled-by-user"))},2e3))}function bt(){"visible"===(null==document?void 0:document.visibilityState)&&tt()}h.addPassiveListener(je),document.addEventListener("resume",tt,!1),Mn()&&document.addEventListener("visibilitychange",bt,!1),T=()=>{h.removePassiveListener(je),document.removeEventListener("resume",tt,!1),document.removeEventListener("visibilitychange",bt,!1),oe&&window.clearTimeout(oe)}})}finally{T()}})).apply(this,arguments)}function Ua(_){return rg.apply(this,arguments)}function rg(){return(rg=(0,f.Z)(function*(_){const h=Bu(_),m=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(m)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Bu(_){if(ie(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const h=new ArrayBuffer(_.length),m=new Uint8Array(h);for(let E=0;E<_.length;E++)m[E]=_.charCodeAt(E);return m}!function jy(_){(0,le._registerComponent)(new re.wA("auth",(h,{options:m})=>{const E=h.getProvider("app").getImmediate(),T=h.getProvider("heartbeat"),{apiKey:N,authDomain:z}=E.options;return((oe,je)=>{te(N&&!N.includes(":"),"invalid-api-key",{appName:oe.name}),te(!(null==z?void 0:z.includes(":")),"argument-error",{appName:oe.name});const tt={apiKey:N,authDomain:z,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Aa(_)},bt=new ui(oe,je,tt);return function ae(_,h){const m=(null==h?void 0:h.persistence)||[],E=(Array.isArray(m)?m:[m]).map(se);(null==h?void 0:h.errorMap)&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(E,null==h?void 0:h.popupRedirectResolver)}(bt,m),bt})(E,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,m,E)=>{h.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new re.wA("auth-internal",h=>{const m=ke(h.getProvider("auth").getImmediate());return new tg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(By,$h,function Uy(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,le.registerVersion)(By,$h,"esm2017")}("Browser");class zh extends ji{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(h)),super.onEvent(h)}initialized(){var h=this;return(0,f.Z)(function*(){yield h.initPromise})()}}function Zl(_){return oa.apply(this,arguments)}function oa(){return(oa=(0,f.Z)(function*(_){const h=yield Ql()._get(Kh(_));return h&&(yield Ql()._remove(Kh(_))),h})).apply(this,arguments)}function Yl(){const _=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const E=Math.floor(Math.random()*h.length);_.push(h.charAt(E))}return _.join("")}function Ql(){return se(Vn)}function Kh(_){return de("authEvent",_.config.apiKey,_.name)}function Cd(_){if(!(null==_?void 0:_.includes("?")))return{};const[h,...m]=_.split("?");return(0,O.zd)(m.join("?"))}function Jh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function Id(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function sg(_=(0,O.z$)()){return!("file:"!==Id()&&"ionic:"!==Id()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Or(){try{const _=self.localStorage,h=Yo();if(_)return _.setItem(h,"1"),_.removeItem(h),!function aa(_=(0,O.z$)()){return function zy(){return(0,O.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Wy(_=(0,O.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,O.hl)()}catch(_){return Ao()&&(0,O.hl)()}return!1}function Ao(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ec(){return(function qy(){return"http:"===Id()||"https:"===Id()}()||(0,O.ru)()||sg())&&!function Td(){return(0,O.b$)()||(0,O.UG)()}()&&Or()&&!Ao()}function Xh(){return sg()&&"undefined"!=typeof document}function ja(){return(ja=(0,f.Z)(function*(){return!!Xh()&&new Promise(_=>{const h=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),_(!0)})})})).apply(this,arguments)}const Hi={LOCAL:"local",NONE:"none",SESSION:"session"},$a=te,tf="persistence";function Ha(_){return nf.apply(this,arguments)}function nf(){return(nf=(0,f.Z)(function*(_){yield _._initializationPromise;const h=tc(),m=de(tf,_.config.apiKey,_.name);h&&h.setItem(m,_._getPersistence())})).apply(this,arguments)}function tc(){var _;try{return(null===(_=function ef(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(h){return null}}const Ky=te;class vi{constructor(){this.browserResolver=se(class sa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cr,this._completeRedirectFn=Nn}_openPopup(h,m,E,T){var N=this;return(0,f.Z)(function*(){var z;ie(null===(z=N.eventManagers[h._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const oe=Uh(h,m,E,It(),T);return function wd(_,h,m,E=500,T=600){const N=Math.max((window.screen.availHeight-T)/2,0).toString(),z=Math.max((window.screen.availWidth-E)/2,0).toString();let oe="";const je=Object.assign(Object.assign({},Py),{width:E.toString(),height:T.toString(),top:N,left:z}),tt=(0,O.z$)().toLowerCase();m&&(oe=Tr(tt)?"_blank":m),wt(tt)&&(h=h||"http://localhost",je.scrollbars="yes");const bt=Object.entries(je).reduce((On,[rs,rc])=>`${On}${rs}=${rc},`,"");if(function cu(_=(0,O.z$)()){var h;return ur(_)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(tt)&&"_self"!==oe)return function Bh(_,h){const m=document.createElement("a");m.href=_,m.target=h;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(h||"",oe),new Ed(null);const at=window.open(h||"",oe,bt);te(at,_,"popup-blocked");try{at.focus()}catch(On){}return new Ed(at)}(h,oe,Yo())})()}_openRedirect(h,m,E,T){var N=this;return(0,f.Z)(function*(){return yield N._originValidation(h),function Ph(_){yn().location.href=_}(Uh(h,m,E,It(),T)),new Promise(()=>{})})()}_initialize(h){const m=h._key();if(this.eventManagers[m]){const{manager:T,promise:N}=this.eventManagers[m];return T?Promise.resolve(T):(ie(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(h);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(h){var m=this;return(0,f.Z)(function*(){const E=yield function ky(_){return ia.apply(this,arguments)}(h),T=new ji(h);return E.register("authEvent",N=>(te(null==N?void 0:N.authEvent,h,"invalid-auth-event"),{status:T.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[h._key()]={manager:T},m.iframes[h._key()]=E,T})()}_isIframeWebStorageSupported(h,m){this.iframes[h._key()].send(eo,{type:eo},T=>{var N;const z=null===(N=null==T?void 0:T[0])||void 0===N?void 0:N[eo];void 0!==z&&m(!!z),Ie(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function xy(_){return Es.apply(this,arguments)}(h)),this.originValidationPromises[m]}get _shouldInitProactively(){return ls()||Yt()||ur()}}),this.cordovaResolver=se(class Qh{constructor(){this._redirectPersistence=cr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Nn}_initialize(h){var m=this;return(0,f.Z)(function*(){const E=h._key();let T=m.eventManagers.get(E);return T||(T=new zh(h),m.eventManagers.set(E,T),m.attachCallbackListeners(h,T)),T})()}_openPopup(h){Ie(h,"operation-not-supported-in-this-environment")}_openRedirect(h,m,E,T){var N=this;return(0,f.Z)(function*(){!function Dd(_){var h,m,E,T,N,z,oe,je,tt,bt;const at=to();te("function"==typeof(null===(h=null==at?void 0:at.universalLinks)||void 0===h?void 0:h.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(void 0!==(null===(m=null==at?void 0:at.BuildInfo)||void 0===m?void 0:m.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(N=null===(T=null===(E=null==at?void 0:at.cordova)||void 0===E?void 0:E.plugins)||void 0===T?void 0:T.browsertab)||void 0===N?void 0:N.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(je=null===(oe=null===(z=null==at?void 0:at.cordova)||void 0===z?void 0:z.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===je?void 0:je.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(bt=null===(tt=null==at?void 0:at.cordova)||void 0===tt?void 0:tt.InAppBrowser)||void 0===bt?void 0:bt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const z=yield N._initialize(h);yield z.initialized(),z.resetRedirect(),function Pu(){ns.clear()}(),yield N._originValidation(h);const oe=function Wh(_,h,m=null){return{type:h,eventId:m,urlResponse:null,sessionId:Yl(),postBody:null,tenantId:_.tenantId,error:ve(_,"no-auth-event")}}(h,E,T);yield function _E(_,h){return Ql()._set(Kh(_),h)}(h,oe);const je=yield function Hh(_,h,m){return Vu.apply(this,arguments)}(h,oe,m),tt=yield function Kl(_){const{cordova:h}=to();return new Promise(m=>{h.plugins.browsertab.isAvailable(E=>{let T=null;E?h.plugins.browsertab.openUrl(_):T=h.InAppBrowser.open(_,function lo(_=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(T)})})}(je);return function ng(_,h,m){return bd.apply(this,arguments)}(h,z,tt)})()}_isIframeWebStorageSupported(h,m){throw new Error("Method not implemented.")}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Gh(_){return $i.apply(this,arguments)}(h)),this.originValidationPromises[m]}attachCallbackListeners(h,m){const{universalLinks:E,handleOpenURL:T,BuildInfo:N}=to(),z=setTimeout((0,f.Z)(function*(){yield Zl(h),m.onEvent(Jh())}),500),oe=function(){var bt=(0,f.Z)(function*(at){clearTimeout(z);const On=yield Zl(h);let rs=null;On&&(null==at?void 0:at.url)&&(rs=function Hy(_,h){var m,E;const T=function Jl(_){const h=Cd(_),m=h.link?decodeURIComponent(h.link):void 0,E=Cd(m).link,T=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Cd(T).link||T||E||m||_}(h);if(T.includes("/__/auth/callback")){const N=Cd(T),z=N.firebaseError?function Zh(_){try{return JSON.parse(_)}catch(h){return null}}(decodeURIComponent(N.firebaseError)):null,oe=null===(E=null===(m=null==z?void 0:z.code)||void 0===m?void 0:m.split("auth/"))||void 0===E?void 0:E[1],je=oe?ve(oe):null;return je?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:je,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:T,postBody:null}}return null}(On,at.url)),m.onEvent(rs||Jh())});return function(On){return bt.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,oe);const je=T,tt=`${N.packageName.toLowerCase()}://`;to().handleOpenURL=function(){var bt=(0,f.Z)(function*(at){if(at.toLowerCase().startsWith(tt)&&oe({url:at}),"function"==typeof je)try{je(at)}catch(On){console.error(On)}});return function(at){return bt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=cr,this._completeRedirectFn=Nn}_initialize(h){var m=this;return(0,f.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,m,E,T){var N=this;return(0,f.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(h,m,E,T)})()}_openRedirect(h,m,E,T){var N=this;return(0,f.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(h,m,E,T)})()}_isIframeWebStorageSupported(h,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,m)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Xh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ky(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,f.Z)(function*(){if(h.underlyingResolver)return;const m=yield function $r(){return ja.apply(this,arguments)}();h.underlyingResolver=m?h.cordovaResolver:h.browserResolver})()}}function ug(_){return _.unwrap()}function Ga(_){return lg(_)}function lg(_){const{_tokenResponse:h}=_ instanceof O.ZR?_.customData:_;if(!h)return null;if(!(_ instanceof O.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return Ui.credentialFromResult(_);const m=h.providerId;if(!m||"password"===m)return null;let E;switch(m){case"google.com":E=Ra;break;case"facebook.com":E=ho;break;case"github.com":E=Qc;break;case"twitter.com":E=mu;break;default:const{oauthIdToken:T,oauthAccessToken:N,oauthTokenSecret:z,pendingToken:oe,nonce:je}=h;return N||z||T||oe?oe?m.startsWith("saml.")?_r._create(m,oe):hs._fromParams({providerId:m,signInMethod:m,pendingToken:oe,idToken:T,accessToken:N}):new Go(m).credential({idToken:T,accessToken:N,rawNonce:je}):null}return _ instanceof O.ZR?E.credentialFromError(_):E.credentialFromResult(_)}function kr(_,h){return h.catch(m=>{throw m instanceof O.ZR&&function Yy(_,h){var m;const E=null===(m=h.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new Qy(_,function xu(_,h){var m;const E=(0,O.m9)(_),T=h;return te(h.customData.operationType,E,"argument-error"),te(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),Fa._fromError(E,T)}(_,h));else if(E){const T=lg(h),N=h;T&&(N.credential=T,N.tenantId=E.tenantId||void 0,N.email=E.email||void 0,N.phoneNumber=E.phoneNumber||void 0)}}(_,m),m}).then(m=>{const T=m.user;return{operationType:m.operationType,credential:Ga(m),additionalUserInfo:xr(m),user:Mo.getOrCreate(T)}})}function rf(_,h){return sf.apply(this,arguments)}function sf(){return(sf=(0,f.Z)(function*(_,h){const m=yield h;return{verificationId:m.verificationId,confirm:E=>kr(_,m.confirm(E))}})).apply(this,arguments)}class Qy{constructor(h,m){this.resolver=m,this.auth=function Zy(_){return _.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return kr(ug(this.auth),this.resolver.resolveSignIn(h))}}class Mo{constructor(h){this._delegate=h,this.multiFactor=function od(_){const h=(0,O.m9)(_);return Zo.has(h)||Zo.set(h,ms._fromUser(h)),Zo.get(h)}(h)}static getOrCreate(h){return Mo.USER_MAP.has(h)||Mo.USER_MAP.set(h,new Mo(h)),Mo.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var m=this;return(0,f.Z)(function*(){return kr(m.auth,ki(m._delegate,h))})()}linkWithPhoneNumber(h,m){var E=this;return(0,f.Z)(function*(){return rf(E.auth,function Fl(_,h,m){return ta.apply(this,arguments)}(E._delegate,h,m))})()}linkWithPopup(h){var m=this;return(0,f.Z)(function*(){return kr(m.auth,function es(_,h,m){return ku.apply(this,arguments)}(m._delegate,h,vi))})()}linkWithRedirect(h){var m=this;return(0,f.Z)(function*(){return yield Ha(ke(m.auth)),function Xe(_,h,m){return function Ct(_,h,m){return kt.apply(this,arguments)}(_,h,m)}(m._delegate,h,vi)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var m=this;return(0,f.Z)(function*(){return kr(m.auth,js(m._delegate,h))})()}reauthenticateWithPhoneNumber(h,m){return rf(this.auth,function Qp(_,h,m){return Ll.apply(this,arguments)}(this._delegate,h,m))}reauthenticateWithPopup(h){return kr(this.auth,function bo(_,h,m){return Ou.apply(this,arguments)}(this._delegate,h,vi))}reauthenticateWithRedirect(h){var m=this;return(0,f.Z)(function*(){return yield Ha(ke(m.auth)),function ee(_,h,m){return function Me(_,h,m){return xe.apply(this,arguments)}(_,h,m)}(m._delegate,h,vi)})()}sendEmailVerification(h){return function Pi(_,h){return Dl.apply(this,arguments)}(this._delegate,h)}unlink(h){var m=this;return(0,f.Z)(function*(){return yield function Na(_,h){return ml.apply(this,arguments)}(m._delegate,h),m})()}updateEmail(h){return function Tl(_,h){return Sl((0,O.m9)(_),h,null)}(this._delegate,h)}updatePassword(h){return function td(_,h){return Sl((0,O.m9)(_),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Vl(_,h){return vs.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Ko(_,h){return Il.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,m){return function Au(_,h,m){return Mu.apply(this,arguments)}(this._delegate,h,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Mo.USER_MAP=new WeakMap;const nc=te;let of=(()=>{class _{constructor(m,E){if(this.app=m,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=m.options;nc(T,"invalid-api-key",{appName:m.name}),nc(T,"invalid-api-key",{appName:m.name});const N="undefined"!=typeof window?vi:void 0;this._delegate=E.initialize({options:{persistence:Jy(T,m.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Oe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Mo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,E){!function mn(_,h,m){const E=ke(_);te(E._canInitEmulator,E,"emulator-config-failed"),te(/^https?:\/\//.test(h),E,"invalid-emulator-scheme");const T=!!(null==m?void 0:m.disableWarnings),N=yr(h),{host:z,port:oe}=function Ns(_){const h=yr(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(E);if(T){const N=T[1];return{host:N,port:Hn(E.substr(N.length+1))}}{const[N,z]=E.split(":");return{host:N,port:Hn(z)}}}(h);E.config.emulator={url:`${N}//${z}${null===oe?"":`:${oe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:z,port:oe,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Ki(){function _(){const h=document.createElement("p"),m=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,E)}applyActionCode(m){return function _l(_,h){return De.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Bt(this._delegate,m)}confirmPasswordReset(m,E){return function Iu(_,h,m){return yl.apply(this,arguments)}(this._delegate,m,E)}createUserWithEmailAndPassword(m,E){var T=this;return(0,f.Z)(function*(){return kr(T._delegate,function Wo(_,h,m){return Yr.apply(this,arguments)}(T._delegate,m,E))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Su(_,h){return qs.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function bl(_,h){const m=co.parseLink(h);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,f.Z)(function*(){nc(ec(),m._delegate,"operation-not-supported-in-this-environment");const E=yield function At(_,h){return Wn.apply(this,arguments)}(m._delegate,vi);return E?kr(m._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function ig(_,h){ke(_)._logFramework(h)}(this._delegate,m)}onAuthStateChanged(m,E,T){const{next:N,error:z,complete:oe}=af(m,E,T);return this._delegate.onAuthStateChanged(N,z,oe)}onIdTokenChanged(m,E,T){const{next:N,error:z,complete:oe}=af(m,E,T);return this._delegate.onIdTokenChanged(N,z,oe)}sendSignInLinkToEmail(m,E){return function wl(_,h,m){return ed.apply(this,arguments)}(this._delegate,m,E)}sendPasswordResetEmail(m,E){return function Du(_,h,m){return Cu.apply(this,arguments)}(this._delegate,m,E||void 0)}setPersistence(m){var E=this;return(0,f.Z)(function*(){let T;switch(function og(_,h){$a(Object.values(Hi).includes(h),_,"invalid-persistence-type"),(0,O.b$)()?$a(h!==Hi.SESSION,_,"unsupported-persistence-type"):(0,O.UG)()?$a(h===Hi.NONE,_,"unsupported-persistence-type"):Ao()?$a(h===Hi.NONE||h===Hi.LOCAL&&(0,O.hl)(),_,"unsupported-persistence-type"):$a(h===Hi.NONE||Or(),_,"unsupported-persistence-type")}(E._delegate,m),m){case Hi.SESSION:T=cr;break;case Hi.LOCAL:T=(yield se(Li)._isAvailable())?Li:Vn;break;case Hi.NONE:T=q;break;default:return Ie("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return kr(this._delegate,function _u(_){return Jc.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return kr(this._delegate,Fn(this._delegate,m))}signInWithCustomToken(m){return kr(this._delegate,function $s(_,h){return Hs.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,E){return kr(this._delegate,function El(_,h,m){return Fn((0,O.m9)(_),gl.credential(h,m))}(this._delegate,m,E))}signInWithEmailLink(m,E){return kr(this._delegate,function Tu(_,h,m){return Gs.apply(this,arguments)}(this._delegate,m,E))}signInWithPhoneNumber(m,E){return rf(this._delegate,function Nu(_,h,m){return Sn.apply(this,arguments)}(this._delegate,m,E))}signInWithPopup(m){var E=this;return(0,f.Z)(function*(){return nc(ec(),E._delegate,"operation-not-supported-in-this-environment"),kr(E._delegate,function Xs(_,h,m){return fd.apply(this,arguments)}(E._delegate,m,vi))})()}signInWithRedirect(m){var E=this;return(0,f.Z)(function*(){return nc(ec(),E._delegate,"operation-not-supported-in-this-environment"),yield Ha(E._delegate),function R(_,h,m){return function L(_,h,m){return Z.apply(this,arguments)}(_,h,m)}(E._delegate,m,vi)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function bn(_,h){return zo.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Hi,_})();function af(_,h,m){let E=_;"function"!=typeof _&&({next:E,error:h,complete:m}=_);const T=E;return{next:z=>T(z&&Mo.getOrCreate(z)),error:h,complete:m}}function Jy(_,h){const m=function ag(_,h){const m=tc();if(!m)return[];const E=de(tf,_,h);switch(m.getItem(E)){case Hi.NONE:return[q];case Hi.LOCAL:return[Li,cr];case Hi.SESSION:return[cr];default:return[]}}(_,h);if("undefined"!=typeof self&&!m.includes(Li)&&m.push(Li),"undefined"!=typeof window)for(const E of[Vn,cr])m.includes(E)||m.push(E);return m.includes(q)||m.push(q),m}class uf{constructor(){this.providerId="phone",this._delegate=new Ui(ug(Y.Z.auth()))}static credential(h,m){return Ui.credential(h,m)}verifyPhoneNumber(h,m){return this._delegate.verifyPhoneNumber(h,m)}unwrap(){return this._delegate}}uf.PHONE_SIGN_IN_METHOD=Ui.PHONE_SIGN_IN_METHOD,uf.PROVIDER_ID=Ui.PROVIDER_ID;const Xy=te;class e_{constructor(h,m,E=Y.Z.app()){var T;Xy(null===(T=E.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new Yp(h,m,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function dg(_){_.INTERNAL.registerComponent(new re.wA("auth-compat",h=>{const m=h.getProvider("app-compat").getImmediate(),E=h.getProvider("auth");return new of(m,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:gl,FacebookAuthProvider:ho,GithubAuthProvider:Qc,GoogleAuthProvider:Ra,OAuthProvider:Go,SAMLAuthProvider:di,PhoneAuthProvider:uf,PhoneMultiFactorGenerator:Vy,RecaptchaVerifier:e_,TwitterAuthProvider:mu,Auth:of,AuthCredential:un,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.11")}(Y.Z)},8306:(ut,Se,k)=>{k.d(Se,{y:()=>$});var f=k(2961),Y=k(727),O=k(8822),le=k(4671);var re=k(2416),he=k(576),ce=k(2806);let $=(()=>{class Ae{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const fe=new Ae;return fe.source=this,fe.operator=Ve,fe}subscribe(Ve,fe,be){const nt=function ze(Ae){return Ae&&Ae instanceof f.Lv||function J(Ae){return Ae&&(0,he.m)(Ae.next)&&(0,he.m)(Ae.error)&&(0,he.m)(Ae.complete)}(Ae)&&(0,Y.Nn)(Ae)}(Ve)?Ve:new f.Hp(Ve,fe,be);return(0,ce.x)(()=>{const{operator:Qe,source:Ie}=this;nt.add(Qe?Qe.call(nt,Ie):Ie?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(fe){Ve.error(fe)}}forEach(Ve,fe){return new(fe=H(fe))((be,nt)=>{const Qe=new f.Hp({next:Ie=>{try{Ve(Ie)}catch(ve){nt(ve),Qe.unsubscribe()}},error:nt,complete:be});this.subscribe(Qe)})}_subscribe(Ve){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(Ve)}[O.L](){return this}pipe(...Ve){return function ge(Ae){return 0===Ae.length?le.y:1===Ae.length?Ae[0]:function(Ve){return Ae.reduce((fe,be)=>be(fe),Ve)}}(Ve)(this)}toPromise(Ve){return new(Ve=H(Ve))((fe,be)=>{let nt;this.subscribe(Qe=>nt=Qe,Qe=>be(Qe),()=>fe(nt))})}}return Ae.create=Oe=>new Ae(Oe),Ae})();function H(Ae){var Oe;return null!==(Oe=null!=Ae?Ae:re.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(ut,Se,k)=>{k.d(Se,{x:()=>re});var f=k(8306),Y=k(727);const le=(0,k(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=k(8737),ge=k(2806);let re=(()=>{class ce extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const J=new he(this,this);return J.operator=H,J}_throwIfClosed(){if(this.closed)throw new le}next(H){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(H)}})}error(H){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:J}=this;for(;J.length;)J.shift().error(H)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:J,isStopped:ze,observers:Ae}=this;return J||ze?Y.Lc:(this.currentObservers=null,Ae.push(H),new Y.w0(()=>{this.currentObservers=null,(0,X.P)(Ae,H)}))}_checkFinalizedStatuses(H){const{hasError:J,thrownError:ze,isStopped:Ae}=this;J?H.error(ze):Ae&&H.complete()}asObservable(){const H=new f.y;return H.source=this,H}}return ce.create=($,H)=>new he($,H),ce})();class he extends re{constructor($,H){super(),this.destination=$,this.source=H}next($){var H,J;null===(J=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===J||J.call(H,$)}error($){var H,J;null===(J=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===J||J.call(H,$)}complete(){var $,H;null===(H=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===H||H.call($)}_subscribe($){var H,J;return null!==(J=null===(H=this.source)||void 0===H?void 0:H.subscribe($))&&void 0!==J?J:Y.Lc}}},2961:(ut,Se,k)=>{k.d(Se,{Hp:()=>Ve,Lv:()=>J});var f=k(576),Y=k(727),O=k(2416),le=k(7849);function X(){}const ge=ce("C",void 0,void 0);function ce(Ie,ve,Ee){return{kind:Ie,value:ve,error:Ee}}var $=k(3410),H=k(2806);class J extends Y.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,Y.Nn)(ve)&&ve.add(this)):this.destination=Qe}static create(ve,Ee,Ge){return new Ve(ve,Ee,Ge)}next(ve){this.isStopped?nt(function he(Ie){return ce("N",Ie,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?nt(function re(Ie){return ce("E",void 0,Ie)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?nt(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Ae(Ie,ve){return ze.call(Ie,ve)}class Oe{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(ve)}catch(Ge){fe(Ge)}}error(ve){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(ve)}catch(Ge){fe(Ge)}else fe(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Ee){fe(Ee)}}}class Ve extends J{constructor(ve,Ee,Ge){let $e;if(super(),(0,f.m)(ve)||!ve)$e={next:null!=ve?ve:void 0,error:null!=Ee?Ee:void 0,complete:null!=Ge?Ge:void 0};else{let te;this&&O.v.useDeprecatedNextContext?(te=Object.create(ve),te.unsubscribe=()=>this.unsubscribe(),$e={next:ve.next&&Ae(ve.next,te),error:ve.error&&Ae(ve.error,te),complete:ve.complete&&Ae(ve.complete,te)}):$e=ve}this.destination=new Oe($e)}}function fe(Ie){O.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ie):(0,le.h)(Ie)}function nt(Ie,ve){const{onStoppedNotification:Ee}=O.v;Ee&&$.z.setTimeout(()=>Ee(Ie,ve))}const Qe={closed:!0,next:X,error:function be(Ie){throw Ie},complete:X}},727:(ut,Se,k)=>{k.d(Se,{Lc:()=>ge,w0:()=>X,Nn:()=>re});var f=k(576);const O=(0,k(3888).d)(ce=>function(H){ce(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((J,ze)=>`${ze+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var le=k(8737);class X{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Ae of H)Ae.remove(this);else H.remove(this);const{initialTeardown:J}=this;if((0,f.m)(J))try{J()}catch(Ae){$=Ae instanceof O?Ae.errors:[Ae]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Ae of ze)try{he(Ae)}catch(Oe){$=null!=$?$:[],Oe instanceof O?$=[...$,...Oe.errors]:$.push(Oe)}}if($)throw new O($)}}add($){var H;if($&&$!==this)if(this.closed)he($);else{if($ instanceof X){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push($)}}_hasParent($){const{_parentage:H}=this;return H===$||Array.isArray(H)&&H.includes($)}_addParent($){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push($),H):H?[H,$]:$}_removeParent($){const{_parentage:H}=this;H===$?this._parentage=null:Array.isArray(H)&&(0,le.P)(H,$)}remove($){const{_finalizers:H}=this;H&&(0,le.P)(H,$),$ instanceof X&&$._removeParent(this)}}X.EMPTY=(()=>{const ce=new X;return ce.closed=!0,ce})();const ge=X.EMPTY;function re(ce){return ce instanceof X||ce&&"closed"in ce&&(0,f.m)(ce.remove)&&(0,f.m)(ce.add)&&(0,f.m)(ce.unsubscribe)}function he(ce){(0,f.m)(ce)?ce():ce.unsubscribe()}},2416:(ut,Se,k)=>{k.d(Se,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ut,Se,k)=>{k.d(Se,{E:()=>Y});const Y=new(k(8306).y)(X=>X.complete())},8996:(ut,Se,k)=>{k.d(Se,{D:()=>ve});var f=k(8421),Y=k(5363),O=k(9468),ge=k(8306),he=k(2202),ce=k(576),$=k(9672);function J(Ee,Ge){if(!Ee)throw new Error("Iterable cannot be null");return new ge.y($e=>{(0,$.f)($e,Ge,()=>{const te=Ee[Symbol.asyncIterator]();(0,$.f)($e,Ge,()=>{te.next().then(K=>{K.done?$e.complete():$e.next(K.value)})},0,!0)})})}var ze=k(3670),Ae=k(8239),Oe=k(1144),Ve=k(6495),fe=k(2206),be=k(4532),nt=k(3260);function ve(Ee,Ge){return Ge?function Ie(Ee,Ge){if(null!=Ee){if((0,ze.c)(Ee))return function le(Ee,Ge){return(0,f.Xf)(Ee).pipe((0,O.R)(Ge),(0,Y.Q)(Ge))}(Ee,Ge);if((0,Oe.z)(Ee))return function re(Ee,Ge){return new ge.y($e=>{let te=0;return Ge.schedule(function(){te===Ee.length?$e.complete():($e.next(Ee[te++]),$e.closed||this.schedule())})})}(Ee,Ge);if((0,Ae.t)(Ee))return function X(Ee,Ge){return(0,f.Xf)(Ee).pipe((0,O.R)(Ge),(0,Y.Q)(Ge))}(Ee,Ge);if((0,fe.D)(Ee))return J(Ee,Ge);if((0,Ve.T)(Ee))return function H(Ee,Ge){return new ge.y($e=>{let te;return(0,$.f)($e,Ge,()=>{te=Ee[he.h](),(0,$.f)($e,Ge,()=>{let K,ie;try{({value:K,done:ie}=te.next())}catch(me){return void $e.error(me)}ie?$e.complete():$e.next(K)},0,!0)}),()=>(0,ce.m)(null==te?void 0:te.return)&&te.return()})}(Ee,Ge);if((0,nt.L)(Ee))return function Qe(Ee,Ge){return J((0,nt.Q)(Ee),Ge)}(Ee,Ge)}throw(0,be.z)(Ee)}(Ee,Ge):(0,f.Xf)(Ee)}},8421:(ut,Se,k)=>{k.d(Se,{Xf:()=>ze});var f=k(655),Y=k(1144),O=k(8239),le=k(8306),X=k(3670),ge=k(2206),re=k(4532),he=k(6495),ce=k(3260),$=k(576),H=k(7849),J=k(8822);function ze(Ie){if(Ie instanceof le.y)return Ie;if(null!=Ie){if((0,X.c)(Ie))return function Ae(Ie){return new le.y(ve=>{const Ee=Ie[J.L]();if((0,$.m)(Ee.subscribe))return Ee.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,Y.z)(Ie))return function Oe(Ie){return new le.y(ve=>{for(let Ee=0;Ee<Ie.length&&!ve.closed;Ee++)ve.next(Ie[Ee]);ve.complete()})}(Ie);if((0,O.t)(Ie))return function Ve(Ie){return new le.y(ve=>{Ie.then(Ee=>{ve.closed||(ve.next(Ee),ve.complete())},Ee=>ve.error(Ee)).then(null,H.h)})}(Ie);if((0,ge.D)(Ie))return be(Ie);if((0,he.T)(Ie))return function fe(Ie){return new le.y(ve=>{for(const Ee of Ie)if(ve.next(Ee),ve.closed)return;ve.complete()})}(Ie);if((0,ce.L)(Ie))return function nt(Ie){return be((0,ce.Q)(Ie))}(Ie)}throw(0,re.z)(Ie)}function be(Ie){return new le.y(ve=>{(function Qe(Ie,ve){var Ee,Ge,$e,te;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,f.KL)(Ie);!(Ge=yield Ee.next()).done;)if(ve.next(Ge.value),ve.closed)return}catch(K){$e={error:K}}finally{try{Ge&&!Ge.done&&(te=Ee.return)&&(yield te.call(Ee))}finally{if($e)throw $e.error}}ve.complete()})})(Ie,ve).catch(Ee=>ve.error(Ee))})}},6451:(ut,Se,k)=>{k.d(Se,{T:()=>ge});var f=k(8189),Y=k(8421),O=k(515),le=k(7669),X=k(8996);function ge(...re){const he=(0,le.yG)(re),ce=(0,le._6)(re,1/0),$=re;return $.length?1===$.length?(0,Y.Xf)($[0]):(0,f.J)(ce)((0,X.D)($,he)):O.E}},5403:(ut,Se,k)=>{k.d(Se,{x:()=>Y});var f=k(2961);function Y(le,X,ge,re,he){return new O(le,X,ge,re,he)}class O extends f.Lv{constructor(X,ge,re,he,ce,$){super(X),this.onFinalize=ce,this.shouldUnsubscribe=$,this._next=ge?function(H){try{ge(H)}catch(J){X.error(J)}}:super._next,this._error=he?function(H){try{he(H)}catch(J){X.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(H){X.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(ut,Se,k)=>{k.d(Se,{U:()=>O});var f=k(4482),Y=k(5403);function O(le,X){return(0,f.e)((ge,re)=>{let he=0;ge.subscribe((0,Y.x)(re,ce=>{re.next(le.call(X,ce,he++))}))})}},8189:(ut,Se,k)=>{k.d(Se,{J:()=>O});var f=k(5577),Y=k(4671);function O(le=1/0){return(0,f.z)(Y.y,le)}},5577:(ut,Se,k)=>{k.d(Se,{z:()=>he});var f=k(4004),Y=k(8421),O=k(4482),le=k(9672),X=k(5403),re=k(576);function he(ce,$,H=1/0){return(0,re.m)($)?he((J,ze)=>(0,f.U)((Ae,Oe)=>$(J,Ae,ze,Oe))((0,Y.Xf)(ce(J,ze))),H):("number"==typeof $&&(H=$),(0,O.e)((J,ze)=>function ge(ce,$,H,J,ze,Ae,Oe,Ve){const fe=[];let be=0,nt=0,Qe=!1;const Ie=()=>{Qe&&!fe.length&&!be&&$.complete()},ve=Ge=>be<J?Ee(Ge):fe.push(Ge),Ee=Ge=>{Ae&&$.next(Ge),be++;let $e=!1;(0,Y.Xf)(H(Ge,nt++)).subscribe((0,X.x)($,te=>{null==ze||ze(te),Ae?ve(te):$.next(te)},()=>{$e=!0},void 0,()=>{if($e)try{for(be--;fe.length&&be<J;){const te=fe.shift();Oe?(0,le.f)($,Oe,()=>Ee(te)):Ee(te)}Ie()}catch(te){$.error(te)}}))};return ce.subscribe((0,X.x)($,ve,()=>{Qe=!0,Ie()})),()=>{null==Ve||Ve()}}(J,ze,ce,H)))}},5363:(ut,Se,k)=>{k.d(Se,{Q:()=>le});var f=k(9672),Y=k(4482),O=k(5403);function le(X,ge=0){return(0,Y.e)((re,he)=>{re.subscribe((0,O.x)(he,ce=>(0,f.f)(he,X,()=>he.next(ce),ge),()=>(0,f.f)(he,X,()=>he.complete(),ge),ce=>(0,f.f)(he,X,()=>he.error(ce),ge)))})}},3099:(ut,Se,k)=>{k.d(Se,{B:()=>ge});var f=k(8996),Y=k(5698),O=k(7579),le=k(2961),X=k(4482);function ge(he={}){const{connector:ce=(()=>new O.x),resetOnError:$=!0,resetOnComplete:H=!0,resetOnRefCountZero:J=!0}=he;return ze=>{let Ae=null,Oe=null,Ve=null,fe=0,be=!1,nt=!1;const Qe=()=>{null==Oe||Oe.unsubscribe(),Oe=null},Ie=()=>{Qe(),Ae=Ve=null,be=nt=!1},ve=()=>{const Ee=Ae;Ie(),null==Ee||Ee.unsubscribe()};return(0,X.e)((Ee,Ge)=>{fe++,!nt&&!be&&Qe();const $e=Ve=null!=Ve?Ve:ce();Ge.add(()=>{fe--,0===fe&&!nt&&!be&&(Oe=re(ve,J))}),$e.subscribe(Ge),Ae||(Ae=new le.Hp({next:te=>$e.next(te),error:te=>{nt=!0,Qe(),Oe=re(Ie,$,te),$e.error(te)},complete:()=>{be=!0,Qe(),Oe=re(Ie,H),$e.complete()}}),(0,f.D)(Ee).subscribe(Ae))})(ze)}}function re(he,ce,...$){return!0===ce?(he(),null):!1===ce?null:ce(...$).pipe((0,Y.q)(1)).subscribe(()=>he())}},9468:(ut,Se,k)=>{k.d(Se,{R:()=>Y});var f=k(4482);function Y(O,le=0){return(0,f.e)((X,ge)=>{ge.add(O.schedule(()=>X.subscribe(ge),le))})}},5698:(ut,Se,k)=>{k.d(Se,{q:()=>le});var f=k(515),Y=k(4482),O=k(5403);function le(X){return X<=0?()=>f.E:(0,Y.e)((ge,re)=>{let he=0;ge.subscribe((0,O.x)(re,ce=>{++he<=X&&(re.next(ce),X<=he&&re.complete())}))})}},8505:(ut,Se,k)=>{k.d(Se,{b:()=>X});var f=k(576),Y=k(4482),O=k(5403),le=k(4671);function X(ge,re,he){const ce=(0,f.m)(ge)||re||he?{next:ge,error:re,complete:he}:ge;return ce?(0,Y.e)(($,H)=>{var J;null===(J=ce.subscribe)||void 0===J||J.call(ce);let ze=!0;$.subscribe((0,O.x)(H,Ae=>{var Oe;null===(Oe=ce.next)||void 0===Oe||Oe.call(ce,Ae),H.next(Ae)},()=>{var Ae;ze=!1,null===(Ae=ce.complete)||void 0===Ae||Ae.call(ce),H.complete()},Ae=>{var Oe;ze=!1,null===(Oe=ce.error)||void 0===Oe||Oe.call(ce,Ae),H.error(Ae)},()=>{var Ae,Oe;ze&&(null===(Ae=ce.unsubscribe)||void 0===Ae||Ae.call(ce)),null===(Oe=ce.finalize)||void 0===Oe||Oe.call(ce)}))}):le.y}},4408:(ut,Se,k)=>{k.d(Se,{o:()=>X});var f=k(727);class Y extends f.w0{constructor(re,he){super()}schedule(re,he=0){return this}}const O={setInterval(ge,re,...he){const{delegate:ce}=O;return(null==ce?void 0:ce.setInterval)?ce.setInterval(ge,re,...he):setInterval(ge,re,...he)},clearInterval(ge){const{delegate:re}=O;return((null==re?void 0:re.clearInterval)||clearInterval)(ge)},delegate:void 0};var le=k(8737);class X extends Y{constructor(re,he){super(re,he),this.scheduler=re,this.work=he,this.pending=!1}schedule(re,he=0){if(this.closed)return this;this.state=re;const ce=this.id,$=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId($,ce,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId($,this.id,he),this}requestAsyncId(re,he,ce=0){return O.setInterval(re.flush.bind(re,this),ce)}recycleAsyncId(re,he,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return he;O.clearInterval(he)}execute(re,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(re,he);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,he){let $,ce=!1;try{this.work(re)}catch(H){ce=!0,$=H||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:re,scheduler:he}=this,{actions:ce}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ce,this),null!=re&&(this.id=this.recycleAsyncId(he,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(ut,Se,k)=>{k.d(Se,{v:()=>O});var f=k(6063);class Y{constructor(X,ge=Y.now){this.schedulerActionCtor=X,this.now=ge}schedule(X,ge=0,re){return new this.schedulerActionCtor(this,X).schedule(re,ge)}}Y.now=f.l.now;class O extends Y{constructor(X,ge=Y.now){super(X,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(X){const{actions:ge}=this;if(this._active)return void ge.push(X);let re;this._active=!0;do{if(re=X.execute(X.state,X.delay))break}while(X=ge.shift());if(this._active=!1,re){for(;X=ge.shift();)X.unsubscribe();throw re}}}},4986:(ut,Se,k)=>{k.d(Se,{z:()=>O});var f=k(4408);const O=new(k(7565).v)(f.o)},6063:(ut,Se,k)=>{k.d(Se,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(ut,Se,k)=>{k.d(Se,{z:()=>f});const f={setTimeout(Y,O,...le){const{delegate:X}=f;return(null==X?void 0:X.setTimeout)?X.setTimeout(Y,O,...le):setTimeout(Y,O,...le)},clearTimeout(Y){const{delegate:O}=f;return((null==O?void 0:O.clearTimeout)||clearTimeout)(Y)},delegate:void 0}},2202:(ut,Se,k)=>{k.d(Se,{h:()=>Y});const Y=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ut,Se,k)=>{k.d(Se,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ut,Se,k)=>{k.d(Se,{_6:()=>ge,jO:()=>le,yG:()=>X});var f=k(576);function O(re){return re[re.length-1]}function le(re){return(0,f.m)(O(re))?re.pop():void 0}function X(re){return function Y(re){return re&&(0,f.m)(re.schedule)}(O(re))?re.pop():void 0}function ge(re,he){return"number"==typeof O(re)?re.pop():he}},8737:(ut,Se,k)=>{function f(Y,O){if(Y){const le=Y.indexOf(O);0<=le&&Y.splice(le,1)}}k.d(Se,{P:()=>f})},3888:(ut,Se,k)=>{function f(Y){const le=Y(X=>{Error.call(X),X.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}k.d(Se,{d:()=>f})},2806:(ut,Se,k)=>{k.d(Se,{x:()=>O,O:()=>le});var f=k(2416);let Y=null;function O(X){if(f.v.useDeprecatedSynchronousErrorHandling){const ge=!Y;if(ge&&(Y={errorThrown:!1,error:null}),X(),ge){const{errorThrown:re,error:he}=Y;if(Y=null,re)throw he}}else X()}function le(X){f.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=X)}},9672:(ut,Se,k)=>{function f(Y,O,le,X=0,ge=!1){const re=O.schedule(function(){le(),ge?Y.add(this.schedule(null,X)):this.unsubscribe()},X);if(Y.add(re),!ge)return re}k.d(Se,{f:()=>f})},4671:(ut,Se,k)=>{function f(Y){return Y}k.d(Se,{y:()=>f})},1144:(ut,Se,k)=>{k.d(Se,{z:()=>f});const f=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(ut,Se,k)=>{k.d(Se,{D:()=>Y});var f=k(576);function Y(O){return Symbol.asyncIterator&&(0,f.m)(null==O?void 0:O[Symbol.asyncIterator])}},576:(ut,Se,k)=>{function f(Y){return"function"==typeof Y}k.d(Se,{m:()=>f})},3670:(ut,Se,k)=>{k.d(Se,{c:()=>O});var f=k(8822),Y=k(576);function O(le){return(0,Y.m)(le[f.L])}},6495:(ut,Se,k)=>{k.d(Se,{T:()=>O});var f=k(2202),Y=k(576);function O(le){return(0,Y.m)(null==le?void 0:le[f.h])}},8239:(ut,Se,k)=>{k.d(Se,{t:()=>Y});var f=k(576);function Y(O){return(0,f.m)(null==O?void 0:O.then)}},3260:(ut,Se,k)=>{k.d(Se,{Q:()=>O,L:()=>le});var f=k(655),Y=k(576);function O(X){return(0,f.FC)(this,arguments,function*(){const re=X.getReader();try{for(;;){const{value:he,done:ce}=yield(0,f.qq)(re.read());if(ce)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(he)}}finally{re.releaseLock()}})}function le(X){return(0,Y.m)(null==X?void 0:X.getReader)}},4482:(ut,Se,k)=>{k.d(Se,{A:()=>Y,e:()=>O});var f=k(576);function Y(le){return(0,f.m)(null==le?void 0:le.lift)}function O(le){return X=>{if(Y(X))return X.lift(function(ge){try{return le(ge,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(ut,Se,k)=>{k.d(Se,{h:()=>O});var f=k(2416),Y=k(3410);function O(le){Y.z.setTimeout(()=>{const{onUnhandledError:X}=f.v;if(!X)throw le;X(le)})}},4532:(ut,Se,k)=>{function f(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Se,{z:()=>f})},655:(ut,Se,k)=>{function le(K,ie){var me={};for(var se in K)Object.prototype.hasOwnProperty.call(K,se)&&ie.indexOf(se)<0&&(me[se]=K[se]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(se=Object.getOwnPropertySymbols(K);Ne<se.length;Ne++)ie.indexOf(se[Ne])<0&&Object.prototype.propertyIsEnumerable.call(K,se[Ne])&&(me[se[Ne]]=K[se[Ne]])}return me}function he(K,ie,me,se){return new(me||(me=Promise))(function(ae,It){function Xt(Et){try{lt(se.next(Et))}catch(dn){It(dn)}}function kn(Et){try{lt(se.throw(Et))}catch(dn){It(dn)}}function lt(Et){Et.done?ae(Et.value):function Ne(ae){return ae instanceof me?ae:new me(function(It){It(ae)})}(Et.value).then(Xt,kn)}lt((se=se.apply(K,ie||[])).next())})}function fe(K){return this instanceof fe?(this.v=K,this):new fe(K)}function be(K,ie,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,se=me.apply(K,ie||[]),ae=[];return Ne={},It("next"),It("throw"),It("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function It(hn){se[hn]&&(Ne[hn]=function(Ni){return new Promise(function(an,os){ae.push([hn,Ni,an,os])>1||Xt(hn,Ni)})})}function Xt(hn,Ni){try{!function kn(hn){hn.value instanceof fe?Promise.resolve(hn.value.v).then(lt,Et):dn(ae[0][2],hn)}(se[hn](Ni))}catch(an){dn(ae[0][3],an)}}function lt(hn){Xt("next",hn)}function Et(hn){Xt("throw",hn)}function dn(hn,Ni){hn(Ni),ae.shift(),ae.length&&Xt(ae[0][0],ae[0][1])}}function Qe(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,ie=K[Symbol.asyncIterator];return ie?ie.call(K):(K=function J(K){var ie="function"==typeof Symbol&&Symbol.iterator,me=ie&&K[ie],se=0;if(me)return me.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&se>=K.length&&(K=void 0),{value:K&&K[se++],done:!K}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),me={},se("next"),se("throw"),se("return"),me[Symbol.asyncIterator]=function(){return this},me);function se(ae){me[ae]=K[ae]&&function(It){return new Promise(function(Xt,kn){!function Ne(ae,It,Xt,kn){Promise.resolve(kn).then(function(lt){ae({value:lt,done:Xt})},It)}(Xt,kn,(It=K[ae](It)).done,It.value)})}}}k.d(Se,{_T:()=>le,mG:()=>he,qq:()=>fe,FC:()=>be,KL:()=>Qe})},5e3:(ut,Se,k)=>{k.d(Se,{deG:()=>Wp,tb:()=>up,AFp:()=>Gm,ip1:()=>w0,CZH:()=>il,hGG:()=>so,z2F:()=>hp,sBO:()=>uD,Sil:()=>hh,_Vd:()=>bc,EJc:()=>Ti,SBq:()=>Dn,qLn:()=>kr,vpe:()=>io,tBr:()=>jr,XFs:()=>dt,OlP:()=>Rn,zs3:()=>No,ZZ4:()=>Xm,aQg:()=>Qn,soG:()=>zm,YKP:()=>Mm,h0i:()=>Cc,PXZ:()=>TT,R0b:()=>Lo,FiY:()=>_i,Lbi:()=>D0,g9A:()=>b0,Qsj:()=>Yf,FYo:()=>Ib,JOm:()=>oe,tp0:()=>Io,Rgc:()=>rh,dDg:()=>nD,q4F:()=>Ab,GfV:()=>Sb,s_b:()=>sh,ifc:()=>Wt,eFA:()=>M0,G48:()=>O0,Gpc:()=>H,X6Q:()=>N0,_c5:()=>FT,VLi:()=>iD,c2e:()=>C0,zSh:()=>iw,wAp:()=>_t,vHH:()=>Oe,cg1:()=>cm,kL8:()=>xv,dqk:()=>Ht,sIi:()=>jd,CqO:()=>ov,QGY:()=>sv,F4k:()=>DI,RDi:()=>fs,AaK:()=>he,qOj:()=>Ng,TTD:()=>ho,_Bn:()=>Cm,xp6:()=>da,uIk:()=>_w,Tol:()=>wv,ekj:()=>Ev,Suo:()=>Gb,Xpm:()=>Vt,lG2:()=>Yt,Yz7:()=>an,cJS:()=>en,oAB:()=>Q,Yjl:()=>Tr,Y36:()=>gc,_UZ:()=>Wg,qZA:()=>zg,TgZ:()=>rv,EpF:()=>iv,n5z:()=>dd,LFG:()=>Xe,$8M:()=>wo,$Z:()=>nv,NdJ:()=>av,CRH:()=>m0,oxw:()=>dv,ALo:()=>a0,lcZ:()=>u0,xi3:()=>Pb,Hsn:()=>Fw,F$t:()=>xf,Q6J:()=>Nw,VKq:()=>Rm,iGM:()=>Hb,MAs:()=>Sf,Jf7:()=>cg,CHM:()=>vl,LSH:()=>Uu,YNc:()=>qd,W1O:()=>Pe,_uU:()=>Qw,Oqu:()=>_e});var f=k(7579),Y=k(727),O=k(8306),le=k(6451),X=k(3099);function ge(s){for(let o in s)if(s[o]===ge)return o;throw Error("Could not find renamed property on target object.")}function re(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ce(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=ge({__forward_ref__:ge});function H(s){return s.__forward_ref__=H,s.toString=function(){return he(this())},s}function J(s){return ze(s)?s():s}function ze(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===H}class Oe extends Error{constructor(o,a){super(function Ve(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function fe(s){return"string"==typeof s?s:null==s?"":String(s)}function be(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():fe(s)}function ve(s,o){const a=o?` in ${o}`:"";throw new Oe(-201,`No provider for ${be(s)} found${a}`)}function lt(s,o){null==s&&function Et(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function an(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function en(s){return{providers:s.providers||[],imports:s.imports||[]}}function zt(s){return pr(s,zi)||pr(s,as)}function pr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Lr(s){return s&&(s.hasOwnProperty(Vr)||s.hasOwnProperty(us))?s[Vr]:null}const zi=ge({\u0275prov:ge}),Vr=ge({\u0275inj:ge}),as=ge({ngInjectableDef:ge}),us=ge({ngInjectorDef:ge});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let zr;function Xn(s){const o=zr;return zr=s,o}function ai(s,o,a){const l=zt(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&dt.Optional?null:void 0!==o?o:void ve(he(s),"Injector")}function wn(s){return{toString:s}.toString()}var ar=(()=>((ar=ar||{})[ar.OnPush=0]="OnPush",ar[ar.Default=1]="Default",ar))(),Wt=(()=>{return(s=Wt||(Wt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Wt;var s})();const ot="undefined"!=typeof globalThis&&globalThis,Dt="undefined"!=typeof window&&window,gr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ht=ot||"undefined"!=typeof global&&global||Dt||gr,mr={},ht=[],Ir=ge({\u0275cmp:ge}),Ut=ge({\u0275dir:ge}),Je=ge({\u0275pipe:ge}),Te=ge({\u0275mod:ge}),et=ge({\u0275fac:ge}),ft=ge({__NG_ELEMENT_ID__:ge});let $t=0;function Vt(s){return wn(()=>{const a={},l={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===ar.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ht,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Wt.Emulated,id:"c",styles:s.styles||ht,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,g=s.features,v=s.pipes;return l.id+=$t++,l.inputs=wt(s.inputs,a),l.outputs=wt(s.outputs),g&&g.forEach(w=>w(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(V):null,l.pipeDefs=v?()=>("function"==typeof v?v():v).map(q):null,l})}function V(s){return Kt(s)||function Mn(s){return s[Ut]||null}(s)}function q(s){return function Nt(s){return s[Je]||null}(s)}const de={};function Q(s){return wn(()=>{const o={type:s.type,bootstrap:s.bootstrap||ht,declarations:s.declarations||ht,imports:s.imports||ht,exports:s.exports||ht,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(de[s.id]=s.type),o})}function wt(s,o){if(null==s)return mr;const a={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=l,o&&(o[d]=g)}return a}const Yt=Vt;function Tr(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Kt(s){return s[Ir]||null}function gn(s,o){const a=s[Te]||null;if(!a&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return a}function Oi(s){return Array.isArray(s)&&"object"==typeof s[1]}function ci(s){return Array.isArray(s)&&!0===s[1]}function zc(s){return 0!=(8&s.flags)}function Fs(s){return 2==(2&s.flags)}function fu(s){return 1==(1&s.flags)}function Wr(s){return null!==s.template}function Mh(s){return 0!=(512&s[2])}function Kr(s,o){return s.hasOwnProperty(et)?s[et]:null}class Go{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function ho(){return Ra}function Ra(s){return s.type.prototype.ngOnChanges&&(s.setInput=Gp),Qc}function Qc(){const s=Bs(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===mr)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Gp(s,o,a,l){const d=Bs(s)||function di(s,o){return s[_r]=o}(s,{previous:mr,current:null}),g=d.current||(d.current={}),v=d.previous,w=this.declaredInputs[a],D=v[w];g[w]=new Go(D&&D.currentValue,o,v===mr),s[l]=o}ho.ngInherit=!0;const _r="__ngSimpleChanges__";function Bs(s){return s[_r]||null}let Eu;function fs(s){Eu=s}function vn(s){return!!s.listen}const qo={createRenderer:(s,o)=>function Na(){return void 0!==Eu?Eu:"undefined"!=typeof document?document:void 0}()};function cn(s){for(;Array.isArray(s);)s=s[0];return s}function po(s,o){return cn(o[s])}function Ar(s,o){return cn(o[s.index])}function Oa(s,o){return s.data[o]}function ki(s,o){return s[o]}function Mr(s,o){const a=o[s];return Oi(a)?a:a[0]}function js(s){return 4==(4&s[2])}function ps(s){return 128==(128&s[2])}function Zr(s,o){return null==o?null:s[o]}function $s(s){s[18]=0}function Hs(s,o){s[5]+=o;let a=s,l=s[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const pt={lFrame:mo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Iu(){return pt.bindingsEnabled}function De(){return pt.lFrame.lView}function Bt(){return pt.lFrame.tView}function vl(s){return pt.lFrame.contextLView=s,s[8]}function bn(){let s=zo();for(;null!==s&&64===s.type;)s=s.parent;return s}function zo(){return pt.lFrame.currentTNode}function Yr(s,o){const a=pt.lFrame;a.currentTNode=s,a.isParent=o}function El(){return pt.lFrame.isParent}function wl(){pt.lFrame.isParent=!1}function Tu(){return pt.isInCheckNoChangesMode}function Gs(s){pt.isInCheckNoChangesMode=s}function Er(){const s=pt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function qs(){return pt.lFrame.bindingIndex++}function Pi(s){const o=pt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Mu(s,o){const a=pt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Pa(o)}function Pa(s){pt.lFrame.currentDirectiveIndex=s}function Il(){return pt.lFrame.currentQueryIndex}function Tl(s){pt.lFrame.currentQueryIndex=s}function td(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Sl(s,o,a){if(a&dt.SkipSelf){let d=o,g=s;for(;!(d=d.parent,null!==d||a&dt.Host||(d=td(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,s=g}const l=pt.lFrame=nd();return l.currentTNode=o,l.lView=s,!0}function go(s){const o=nd(),a=s[1];pt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function nd(){const s=pt.lFrame,o=null===s?null:s.child;return null===o?mo(s):o}function mo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function rd(){const s=pt.lFrame;return pt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const id=rd;function yo(){const s=rd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function xr(){return pt.lFrame.selectedIndex}function Ws(s){pt.lFrame.selectedIndex=s}function xn(){const s=pt.lFrame;return Oa(s.tView,s.selectedIndex)}function gs(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const g=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:x}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),w&&((s.contentHooks||(s.contentHooks=[])).push(a,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,w)),D&&(s.viewHooks||(s.viewHooks=[])).push(-a,D),S&&((s.viewHooks||(s.viewHooks=[])).push(a,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,S)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(a,x)}}function Fa(s,o,a){sd(s,o,3,a)}function xu(s,o,a,l){(3&s[2])===a&&sd(s,o,a,l)}function qn(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function sd(s,o,a,l){const g=null!=l?l:-1,v=o.length-1;let w=0;for(let D=void 0!==l?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(w=o[D],null!=l&&w>=l)break}else o[D]<0&&(s[18]+=65536),(w<g||-1==g)&&(qp(s,a,o,D),s[18]=(4294901760&s[18])+D+2),D++}function qp(s,o,a,l){const d=a[l]<0,g=a[l+1],w=s[d?-a[l]:a[l]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class Zo{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function yt(s,o,a){const l=vn(s);let d=0;for(;d<a.length;){const g=a[d];if("number"==typeof g){if(0!==g)break;d++;const v=a[d++],w=a[d++],D=a[d++];l?s.setAttribute(o,w,D,v):o.setAttributeNS(v,w,D)}else{const v=g,w=a[++d];Qr(v)?l&&s.setProperty(o,v,w):l?s.setAttribute(o,v,w):o.setAttribute(v,w),d++}}return d}function cr(s){return 3===s||4===s||6===s}function Qr(s){return 64===s.charCodeAt(0)}function Br(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||Yo(s,a,d,null,-1===a||2===a?o[++l]:null)}}return s}function Yo(s,o,a,l,d){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const w=s[g++];if("number"==typeof w){if(w===o){v=-1;break}if(w>o){v=g-1;break}}}for(;g<s.length;){const w=s[g];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==d&&(s[g+1]=d));if(l===s[g+1])return void(s[g+2]=d)}g++,null!==l&&g++,null!==d&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,a),null!==l&&s.splice(g++,0,l),null!==d&&s.splice(g++,0,d)}function ud(s){return-1!==s}function yn(s){return 32767&s}function Fi(s,o){let a=function Ph(s){return s>>16}(s),l=o;for(;a>0;)l=l[15],a--;return l}let Ru=!0;function fi(s){const o=Ru;return Ru=s,o}let Ol=0;function zn(s,o){const a=Qo(s,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,ys(l.data,s),ys(o,null),ys(l.blueprint,null));const d=pi(s,o),g=s.injectorIndex;if(ud(d)){const v=yn(d),w=Fi(d,o),D=w[1].data;for(let S=0;S<8;S++)o[g+S]=w[v+S]|D[v+S]}return o[g+8]=d,g}function ys(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Qo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function pi(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){const g=d[1],v=g.type;if(l=2===v?g.declTNode:1===v?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Ks(s,o,a){!function vo(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(ft)&&(l=a[ft]),null==l&&(l=a[ft]=Ol++);const d=255&l;o.data[s+(d>>5)]|=1<<d}(s,o,a)}function Zi(s,o,a){if(a&dt.Optional)return s;ve(o,"NodeInjector")}function kl(s,o,a,l){if(a&dt.Optional&&void 0===l&&(l=null),0==(a&(dt.Self|dt.Host))){const d=s[9],g=Xn(void 0);try{return d?d.get(o,l,a&dt.Optional):ai(o,l,a&dt.Optional)}finally{Xn(g)}}return Zi(l,o,a)}function Zs(s,o,a,l=dt.Default,d){if(null!==s){const g=function Jo(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ft)?s[ft]:void 0;return"number"==typeof o?o>=0?255&o:Pl:o}(a);if("function"==typeof g){if(!Sl(o,s,l))return l&dt.Host?Zi(d,a,l):kl(o,a,l,d);try{const v=g(l);if(null!=v||l&dt.Optional)return v;ve(a)}finally{id()}}else if("number"==typeof g){let v=null,w=Qo(s,o),D=-1,S=l&dt.Host?o[16][6]:null;for((-1===w||l&dt.SkipSelf)&&(D=-1===w?pi(s,o):o[w+8],-1!==D&&Ur(l,!1)?(v=o[1],w=yn(D),o=Fi(D,o)):w=-1);-1!==w;){const x=o[1];if(Xo(g,w,x.data)){const P=cd(w,o,a,v,l,S);if(P!==Yi)return P}D=o[w+8],-1!==D&&Ur(l,o[1].data[w+8]===S)&&Xo(g,w,o)?(v=x,w=yn(D),o=Fi(D,o)):w=-1}}}return kl(o,a,l,d)}const Yi={};function Pl(){return new Vi(bn(),De())}function cd(s,o,a,l,d,g){const v=o[1],w=v.data[s+8],x=Eo(w,v,a,null==l?Fs(w)&&Ru:l!=v&&0!=(3&w.type),d&dt.Host&&g===w);return null!==x?Li(o,v,x,w):Yi}function Eo(s,o,a,l,d){const g=s.providerIndexes,v=o.data,w=1048575&g,D=s.directiveStart,x=g>>20,U=d?w+x:s.directiveEnd;for(let W=l?w:w+x;W<U;W++){const ye=v[W];if(W<D&&a===ye||W>=D&&ye.type===a)return W}if(d){const W=v[D];if(W&&Wr(W)&&W.type===a)return D}return null}function Li(s,o,a,l){let d=s[a];const g=o.data;if(function od(s){return s instanceof Zo}(d)){const v=d;v.resolving&&function nt(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${s}${a}`)}(be(g[a]));const w=fi(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Xn(v.injectImpl):null;Sl(s,l,dt.Default);try{d=s[a]=v.factory(void 0,g,s,l),o.firstCreatePass&&a>=l.directiveStart&&function xl(s,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(l){const v=Ra(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,g))}(a,g[a],o)}finally{null!==D&&Xn(D),fi(w),v.resolving=!1,id()}}return d}function Xo(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Ur(s,o){return!(s&dt.Self||s&dt.Host&&o)}class Vi{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Zs(this._tNode,this._lView,o,l,a)}}function dd(s){return wn(()=>{const o=s.prototype.constructor,a=o[et]||Bn(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const g=d[et]||Bn(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Bn(s){return ze(s)?()=>{const o=Bn(J(s));return o&&o()}:Kr(s)}function wo(s){return function gi(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const g=a[d];if(cr(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(g===o)return a[d+1];d+=2}}}return null}(bn(),s)}const ea="__parameters__";function Tn(s,o,a){return wn(()=>{const l=function Ji(s){return function(...a){if(s){const l=s(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...g){if(this instanceof d)return l.apply(this,g),this;const v=new d(...g);return w.annotation=v,w;function w(D,S,x){const P=D.hasOwnProperty(ea)?D[ea]:Object.defineProperty(D,ea,{value:[]})[ea];for(;P.length<=x;)P.push(null);return(P[x]=P[x]||[]).push(v),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class Rn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=an({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Wp=new Rn("AnalyzeForEntryComponents");function Nr(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let l=s[a];Array.isArray(l)?(o===s&&(o=s.slice(0,a)),Nr(l,o)):o!==s&&o.push(l)}return o}function mi(s,o){s.forEach(a=>Array.isArray(a)?mi(a,o):o(a))}function Vl(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function vs(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ui(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}function tr(s,o,a){let l=Xs(s,o);return l>=0?s[1|l]=a:(l=~l,function Bl(s,o,a,l){let d=s.length;if(d==o)s.push(a,l);else if(1===d)s.push(l,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function $l(s,o){const a=Xs(s,o);if(a>=0)return s[1|a]}function Xs(s,o){return function bo(s,o,a){let l=0,d=s.length>>a;for(;d!==l;){const g=l+(d-l>>1),v=s[g<<a];if(o===v)return g<<a;v>o?d=g:l=g+1}return~(d<<a)}(s,o,1)}const Do={},na="__NG_DI_FLAG__",Pu="ngTempTokenPath",I=/\n/gm,L="__source",Z=ge({provide:String,useValue:ge});let ee;function Me(s){const o=ee;return ee=s,o}function xe(s,o=dt.Default){if(void 0===ee)throw new Oe(203,"");return null===ee?ai(s,void 0,o):ee.get(s,o&dt.Optional?null:void 0,o)}function Xe(s,o=dt.Default){return(function or(){return zr}()||xe)(J(s),o)}const kt=Xe;function At(s){const o=[];for(let a=0;a<s.length;a++){const l=J(s[a]);if(Array.isArray(l)){if(0===l.length)throw new Oe(900,"");let d,g=dt.Default;for(let v=0;v<l.length;v++){const w=l[v],D=Nn(w);"number"==typeof D?-1===D?d=w.token:g|=D:d=w}o.push(Xe(d,g))}else o.push(Xe(l))}return o}function Wn(s,o){return s[na]=o,s.prototype[na]=o,s}function Nn(s){return s[na]}const jr=Wn(Tn("Inject",s=>({token:s})),-1),_i=Wn(Tn("Optional"),8),Io=Wn(Tn("SkipSelf"),4);class wd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function eo(s){return s instanceof wd?s.changingThisBreaksApplicationSecurity:s}const to=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var sn=(()=>((sn=sn||{})[sn.NONE=0]="NONE",sn[sn.HTML=1]="HTML",sn[sn.STYLE=2]="STYLE",sn[sn.SCRIPT=3]="SCRIPT",sn[sn.URL=4]="URL",sn[sn.RESOURCE_URL=5]="RESOURCE_URL",sn))();function Uu(s){const o=function aa(){const s=De();return s&&s[12]}();return o?o.sanitize(sn.URL,s)||"":function sa(s,o){const a=function Lu(s){return s instanceof wd&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?eo(s):function Vu(s){return(s=String(s)).match(to)||s.match(Hh)?s:"unsafe:"+s}(fe(s))}const Xh="__ngContext__";function $r(s,o){s[Xh]=o}function ef(s){const o=function ja(s){return s[Xh]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Ga(s){return s.ngOriginalError}function lg(s,...o){s.error(...o)}class kr{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),l=function Yy(s){return s&&s.ngErrorLogger||lg}(o);l(this._console,"ERROR",o),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Ga(o);for(;a&&Ga(a);)a=Ga(a);return a||null}}const e_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ht))();function cg(s){return s.ownerDocument.defaultView}function m(s){return s instanceof Function?s():s}var oe=(()=>((oe=oe||{})[oe.Important=1]="Important",oe[oe.DashCase=2]="DashCase",oe))();function tt(s,o){return undefined(s,o)}function On(s){const o=s[3];return ci(o)?o[3]:o}function ju(s){return lf(s[13])}function $u(s){return lf(s[4])}function lf(s){for(;null!==s&&!ci(s);)s=s[4];return s}function ua(s,o,a,l,d){if(null!=l){let g,v=!1;ci(l)?g=l:Oi(l)&&(v=!0,l=l[0]);const w=cn(l);0===s&&null!==a?null==d?o_(o,a,w):ws(o,a,w,d||null,!0):1===s&&null!==a?ws(o,a,w,d||null,!0):2===s?function c_(s,o,a){const l=la(s,o);l&&function EC(s,o,a,l){vn(s)?s.removeChild(o,a,l):o.removeChild(a)}(s,l,o,a)}(o,w,v):3===s&&o.destroyNode(w),null!=g&&function bC(s,o,a,l,d){const g=a[7];g!==cn(a)&&ua(o,s,l,g,d);for(let w=10;w<a.length;w++){const D=a[w];gg(D[1],D,s,o,l,g)}}(o,s,g,a,d)}}function Md(s,o,a){if(vn(s))return s.createElement(o,a);{const l=null!==a?function vu(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?s.createElement(o):s.createElementNS(l,o)}}function vE(s,o){const a=s[9],l=a.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Hs(d,-1)),a.splice(l,1)}function r_(s,o){if(s.length<=10)return;const a=10+o,l=s[a];if(l){const d=l[17];null!==d&&d!==s&&vE(d,l),o>0&&(s[a-1][4]=l[4]);const g=vs(s,10+o);!function Ei(s,o){gg(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const v=g[19];null!==v&&v.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function i_(s,o){if(!(256&o[2])){const a=o[11];vn(a)&&a.destroyNode&&gg(s,o,a,3,null,null),function n_(s){let o=s[13];if(!o)return s_(s[1],s);for(;o;){let a=null;if(Oi(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==s;)Oi(o)&&s_(o[1],o),o=o[3];null===o&&(o=s),Oi(o)&&s_(o[1],o),a=o&&o[4]}o=a}}(o)}}function s_(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function wE(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof Zo)){const g=a[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const w=d[g[v]],D=g[v+1];try{D.call(w)}finally{}}else try{g.call(d)}finally{}}}}(s,o),function EE(s,o){const a=s.cleanup,l=o[7];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],w="function"==typeof v?v(o):cn(o[v]),D=l[d=a[g+2]],S=a[g+3];"boolean"==typeof S?w.removeEventListener(a[g],D,S):S>=0?l[d=S]():l[d=-S].unsubscribe(),g+=2}else{const v=l[d=a[g+1]];a[g].call(v)}if(null!==l){for(let g=d+1;g<l.length;g++)l[g]();o[7]=null}}(s,o),1===o[1].type&&vn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&ci(o[3])){a!==o[3]&&vE(a,o);const l=o[19];null!==l&&l.detachView(s)}}}function fg(s,o,a){return function vC(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const d=s.data[l.directiveStart].encapsulation;if(d===Wt.None||d===Wt.Emulated)return null}return Ar(l,a)}(s,o.parent,a)}function ws(s,o,a,l,d){vn(s)?s.insertBefore(o,a,l,d):o.insertBefore(a,l,d)}function o_(s,o,a){vn(s)?s.appendChild(o,a):o.appendChild(a)}function bE(s,o,a,l,d){null!==l?ws(s,o,a,l,d):o_(s,o,a)}function la(s,o){return vn(s)?s.parentNode(o):o.parentNode}function DE(s,o,a){return a_(s,o,a)}let a_=function CE(s,o,a){return 40&s.type?Ar(s,a):null};function pg(s,o,a,l){const d=fg(s,l,o),g=o[11],w=DE(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)bE(g,d,a[D],w,!1);else bE(g,d,a,w,!1)}function Rd(s,o){if(null!==o){const a=o.type;if(3&a)return Ar(o,s);if(4&a)return l_(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return Rd(s,l);{const d=s[o.index];return ci(d)?l_(-1,d):cn(d)}}if(32&a)return tt(o,s)()||cn(s[o.index]);{const l=TE(s,o);return null!==l?Array.isArray(l)?l[0]:Rd(On(s[16]),l):Rd(s,o.next)}}return null}function TE(s,o){return null!==o?s[16][6].projection[o.projection]:null}function l_(s,o){const a=10+s+1;if(a<o.length){const l=o[a],d=l[1].firstChild;if(null!==d)return Rd(l,d)}return o[7]}function d_(s,o,a,l,d,g,v){for(;null!=a;){const w=l[a.index],D=a.type;if(v&&0===o&&(w&&$r(cn(w),l),a.flags|=4),64!=(64&a.flags))if(8&D)d_(s,o,a.child,l,d,g,!1),ua(o,s,d,w,g);else if(32&D){const S=tt(a,l);let x;for(;x=S();)ua(o,s,d,x,g);ua(o,s,d,w,g)}else 16&D?hf(s,o,l,a,d,g):ua(o,s,d,w,g);a=v?a.projectionNext:a.next}}function gg(s,o,a,l,d,g){d_(a,l,s.firstChild,o,d,g,!1)}function hf(s,o,a,l,d,g){const v=a[16],D=v[6].projection[l.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)ua(o,s,d,D[S],g);else d_(s,o,D,v[3],d,g,!0)}function h_(s,o,a){vn(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function AE(s,o,a){vn(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function ME(s,o,a){let l=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const g=o.length;if(d+g===l||s.charCodeAt(d+g)<=32)return d}a=d+1}}const xE="ng-template";function Un(s,o,a){let l=0;for(;l<s.length;){let d=s[l++];if(a&&"class"===d){if(d=s[l],-1!==ME(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<s.length&&"string"==typeof(d=s[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function CC(s){return 4===s.type&&s.value!==xE}function bM(s,o,a){return o===(4!==s.type||a?s.value:xE)}function DM(s,o,a){let l=4;const d=s.attrs||[],g=function TM(s){for(let o=0;o<s.length;o++)if(cr(s[o]))return o;return s.length}(d);let v=!1;for(let w=0;w<o.length;w++){const D=o[w];if("number"!=typeof D){if(!v)if(4&l){if(l=2|1&l,""!==D&&!bM(s,D,a)||""===D&&1===o.length){if(ca(l))return!1;v=!0}}else{const S=8&l?D:o[++w];if(8&l&&null!==s.attrs){if(!Un(s.attrs,S,a)){if(ca(l))return!1;v=!0}continue}const P=CM(8&l?"class":D,d,CC(s),a);if(-1===P){if(ca(l))return!1;v=!0;continue}if(""!==S){let U;U=P>g?"":d[P+1].toLowerCase();const W=8&l?U:null;if(W&&-1!==ME(W,S,0)||2&l&&S!==U){if(ca(l))return!1;v=!0}}}}else{if(!v&&!ca(l)&&!ca(D))return!1;if(v&&ca(D))continue;v=!1,l=D|1&l}}return ca(l)||v}function ca(s){return 0==(1&s)}function CM(s,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let g=!1;for(;d<o.length;){const v=o[d];if(v===s)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function SM(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function IC(s,o,a=!1){for(let l=0;l<o.length;l++)if(DM(s,o[l],a))return!0;return!1}function AM(s,o){e:for(let a=0;a<o.length;a++){const l=o[a];if(s.length===l.length){for(let d=0;d<s.length;d++)if(s[d]!==l[d])continue e;return!0}}return!1}function TC(s,o){return s?":not("+o.trim()+")":o}function mg(s){let o=s[0],a=1,l=2,d="",g=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&l){const w=s[++a];d+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+v:4&l&&(d+=" "+v);else""!==d&&!ca(v)&&(o+=TC(g,d),d=""),l=v,g=g||!ca(l);a++}return""!==d&&(o+=TC(g,d)),o}const Lt={};function da(s){p_(Bt(),De(),xr()+s,Tu())}function p_(s,o,a,l){if(!l)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Fa(o,g,a)}else{const g=s.preOrderHooks;null!==g&&xu(o,g,0,a)}Ws(a)}function Hu(s,o){return s<<17|o<<2}function xo(s){return s>>17&32767}function g_(s){return 2|s}function ha(s){return(131068&s)>>2}function m_(s,o){return-131069&s|o<<2}function Nd(s){return 1|s}function D_(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],g=a[l+1];if(-1!==g){const v=s.data[g];Tl(d),v.contentQueries(2,o[g],g)}}}function qa(s,o,a,l,d,g,v,w,D,S){const x=o.blueprint.slice();return x[0]=d,x[2]=140|l,$s(x),x[3]=x[15]=s,x[8]=a,x[10]=v||s&&s[10],x[11]=w||s&&s[11],x[12]=D||s&&s[12]||null,x[9]=S||s&&s[9]||null,x[6]=g,x[16]=2==o.type?s[16]:x,x}function Pd(s,o,a,l,d){let g=s.data[o];if(null===g)g=function An(s,o,a,l,d){const g=zo(),v=El(),D=s.data[o]=function GE(s,o,a,l,d,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,o,l,d);return null===s.firstChild&&(s.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(s,o,a,l,d),function Dl(){return pt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=d;const v=function Wo(){const s=pt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Yr(g,!0),g}function ac(s,o,a,l){if(0===a)return-1;const d=o.length;for(let g=0;g<a;g++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function uc(s,o,a){go(o);try{const l=s.viewQuery;null!==l&&M_(1,l,a);const d=s.template;null!==d&&I_(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&D_(s,o),s.staticViewQueries&&M_(2,s.viewQuery,a);const g=s.components;null!==g&&function UE(s,o){for(let a=0;a<o.length;a++)XE(s,o[a])}(o,g)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,yo()}}function qu(s,o,a,l){const d=o[2];if(256==(256&d))return;go(o);const g=Tu();try{$s(o),function Su(s){return pt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&I_(s,o,a,2,l);const v=3==(3&d);if(!g)if(v){const S=s.preOrderCheckHooks;null!==S&&Fa(o,S,null)}else{const S=s.preOrderHooks;null!==S&&xu(o,S,0,null),qn(o,0)}if(function qC(s){for(let o=ju(s);null!==o;o=$u(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const d=a[l],g=d[3];0==(1024&d[2])&&Hs(g,1),d[2]|=1024}}}(o),function GC(s){for(let o=ju(s);null!==o;o=$u(o))for(let a=10;a<o.length;a++){const l=o[a],d=l[1];ps(l)&&qu(d,l,d.template,l[8])}}(o),null!==s.contentQueries&&D_(s,o),!g)if(v){const S=s.contentCheckHooks;null!==S&&Fa(o,S)}else{const S=s.contentHooks;null!==S&&xu(o,S,1),qn(o,1)}!function VE(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)Ws(~d);else{const g=d,v=a[++l],w=a[++l];Mu(v,g),w(2,o[g])}}}finally{Ws(-1)}}(s,o);const w=s.components;null!==w&&function BE(s,o){for(let a=0;a<o.length;a++)JE(s,o[a])}(o,w);const D=s.viewQuery;if(null!==D&&M_(2,D,l),!g)if(v){const S=s.viewCheckHooks;null!==S&&Fa(o,S)}else{const S=s.viewHooks;null!==S&&xu(o,S,2),qn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Hs(o[3],-1))}finally{yo()}}function C_(s,o,a,l){const d=o[10],g=!Tu(),v=js(o);try{g&&!v&&d.begin&&d.begin(),v&&uc(s,o,l),qu(s,o,a,l)}finally{g&&!v&&d.end&&d.end()}}function I_(s,o,a,l,d){const g=xr(),v=2&l;try{Ws(-1),v&&o.length>20&&p_(s,o,20,Tu()),a(l,d)}finally{Ws(g)}}function bg(s,o,a){!Iu()||(function BC(s,o,a,l){const d=a.directiveStart,g=a.directiveEnd;s.firstCreatePass||zn(a,o),$r(l,o);const v=a.initialInputs;for(let w=d;w<g;w++){const D=s.data[w],S=Wr(D);S&&jC(o,a,D);const x=Li(o,s,w,a);$r(x,o),null!==v&&$C(0,w-d,x,D,0,v),S&&(Mr(a.index,o)[8]=x)}}(s,o,a,Ar(a,o)),128==(128&a.flags)&&function Cg(s,o,a){const l=a.directiveStart,d=a.directiveEnd,v=a.index,w=function Cl(){return pt.lFrame.currentDirectiveIndex}();try{Ws(v);for(let D=l;D<d;D++){const S=s.data[D],x=o[D];Pa(D),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&yf(S,x)}}finally{Ws(-1),Pa(w)}}(s,o,a))}function pf(s,o,a=Ar){const l=o.localNames;if(null!==l){let d=o.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],w=-1===v?a(o,s):s[v];s[d++]=w}}}function $E(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=gf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function gf(s,o,a,l,d,g,v,w,D,S){const x=20+l,P=x+d,U=function NC(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:Lt);return a}(x,P),W="function"==typeof S?S():S;return U[1]={type:s,blueprint:U,template:a,queries:null,viewQuery:w,declTNode:o,data:U.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:W,incompleteFirstPass:!1}}function T_(s,o,a,l){const d=x_(o);null===a?d.push(l):(d.push(a),s.firstCreatePass&&R_(s).push(l,d.length-1))}function Dg(s,o,a){for(let l in s)if(s.hasOwnProperty(l)){const d=s[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,d):a[l]=[o,d]}return a}function S_(s,o,a,l){let d=!1;if(Iu()){const g=function qM(s,o,a){const l=s.directiveRegistry;let d=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];IC(a,v.selectors,!1)&&(d||(d=[]),Ks(zn(a,o),s,v.type),Wr(v)?(Fd(s,a),d.unshift(v)):d.push(v))}return d}(s,o,a),v=null===l?null:{"":-1};if(null!==g){d=!0,KE(a,s.data.length,g.length);for(let x=0;x<g.length;x++){const P=g[x];P.providersResolver&&P.providersResolver(P)}let w=!1,D=!1,S=ac(s,o,g.length,null);for(let x=0;x<g.length;x++){const P=g[x];a.mergedAttrs=Br(a.mergedAttrs,P.hostAttrs),ZE(s,a,o,S,P),_f(S,P,v),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const U=P.type.prototype;!w&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),w=!0),!D&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),D=!0),S++}!function qE(s,o){const l=o.directiveEnd,d=s.data,g=o.attrs,v=[];let w=null,D=null;for(let S=o.directiveStart;S<l;S++){const x=d[S],P=x.inputs,U=null===g||CC(o)?null:YE(P,g);v.push(U),w=Dg(P,S,w),D=Dg(x.outputs,S,D)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=w,o.outputs=D}(s,a)}v&&function UC(s,o,a){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const g=a[o[d+1]];if(null==g)throw new Oe(-301,!1);l.push(o[d],g)}}}(a,l,v)}return a.mergedAttrs=Br(a.mergedAttrs,a.attrs),d}function WE(s,o,a,l,d,g){const v=g.hostBindings;if(v){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const D=~o.index;(function VC(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(w)!=D&&w.push(D),w.push(l,d,v)}}function yf(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Fd(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function _f(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;Wr(o)&&(a[""]=s)}}function KE(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function ZE(s,o,a,l,d){s.data[l]=d;const g=d.factory||(d.factory=Kr(d.type)),v=new Zo(g,Wr(d),null);s.blueprint[l]=v,a[l]=v,WE(s,o,0,l,ac(s,a,d.hostVars,Lt),d)}function jC(s,o,a){const l=Ar(o,s),d=$E(a),g=s[10],v=Ld(s,qa(s,d,null,a.onPush?64:16,l,o,g,g.createRenderer(l,a),null,null));s[o.index]=v}function Ro(s,o,a,l,d,g){const v=Ar(s,o);!function za(s,o,a,l,d,g,v){if(null==g)vn(s)?s.removeAttribute(o,d,a):o.removeAttribute(d);else{const w=null==v?fe(g):v(g,l||"",d);vn(s)?s.setAttribute(o,d,w,a):a?o.setAttributeNS(a,d,w):o.setAttribute(d,w)}}(o[11],v,g,s.value,a,l,d)}function $C(s,o,a,l,d,g){const v=g[o];if(null!==v){const w=l.setInput;for(let D=0;D<v.length;){const S=v[D++],x=v[D++],P=v[D++];null!==w?l.setInput(a,P,S,x):a[x]=P}}}function YE(s,o){let a=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,s[d],o[l+1])),l+=2}else l+=2;else l+=4}return a}function QE(s,o,a,l){return new Array(s,!0,!1,o,null,0,l,a,null,null)}function JE(s,o){const a=Mr(o,s);if(ps(a)){const l=a[1];80&a[2]?qu(l,a,l.template,a[8]):a[5]>0&&Ig(a)}}function Ig(s){for(let l=ju(s);null!==l;l=$u(l))for(let d=10;d<l.length;d++){const g=l[d];if(1024&g[2]){const v=g[1];qu(v,g,v.template,g[8])}else g[5]>0&&Ig(g)}const a=s[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=Mr(a[l],s);ps(d)&&d[5]>0&&Ig(d)}}function XE(s,o){const a=Mr(o,s),l=a[1];(function zC(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),uc(l,a,a[8])}function Ld(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Tg(s){for(;s;){s[2]|=64;const o=On(s);if(Mh(s)&&!o)return s;s=o}return null}function A_(s,o,a){const l=o[10];l.begin&&l.begin();try{qu(s,o,s.template,a)}catch(d){throw nw(o,d),d}finally{l.end&&l.end()}}function ew(s){!function Sg(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],l=ef(a),d=l[1];C_(d,l,d.template,a)}}(s[8])}function M_(s,o,a){Tl(0),o(s,a)}const ZC=(()=>Promise.resolve(null))();function x_(s){return s[7]||(s[7]=[])}function R_(s){return s.cleanup||(s.cleanup=[])}function nw(s,o){const a=s[9],l=a?a.get(kr,null):null;l&&l.handleError(o)}function rw(s,o,a,l,d){for(let g=0;g<a.length;){const v=a[g++],w=a[g++],D=o[v],S=s.data[v];null!==S.setInput?S.setInput(D,d,l,w):D[w]=d}}function ga(s,o,a){const l=po(o,s);!function Ad(s,o,a){vn(s)?s.setValue(o,a):o.textContent=a}(s[11],l,a)}function Ag(s,o,a){let l=a?s.styles:null,d=a?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const w=o[v];"number"==typeof w?g=w:1==g?d=ce(d,w):2==g&&(l=ce(l,w+": "+o[++v]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=d:s.classesWithoutHost=d}const N_=new Rn("INJECTOR",-1);class O_{get(o,a=Do){if(a===Do){const l=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw l.name="NullInjectorError",l}return a}}const iw=new Rn("Set Injector scope."),Vd={},Mg={};let k_;function Gi(){return void 0===k_&&(k_=new O_),k_}function XC(s,o=null,a=null,l){const d=vf(s,o,a,l);return d._resolveInjectorDefTypes(),d}function vf(s,o=null,a=null,l){return new P_(s,a,o||Gi(),l)}class P_{constructor(o,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&mi(a,w=>this.processProvider(w,o,a)),mi([o],w=>this.processInjectorType(w,[],g)),this.records.set(N_,Ef(void 0,this));const v=this.records.get(iw);this.scope=null!=v?v.value:null,this.source=d||("object"==typeof o?null:he(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=Do,l=dt.Default){this.assertNotDestroyed();const d=Me(this),g=Xn(void 0);try{if(!(l&dt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const D=function sI(s){return"function"==typeof s||"object"==typeof s&&s instanceof Rn}(o)&&zt(o);w=D&&this.injectableDefInScope(D)?Ef(F_(o),Vd):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(l&dt.Self?Gi():this.parent).get(o,a=l&dt.Optional&&a===Do?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Pu]=v[Pu]||[]).unshift(he(o)),d)throw v;return function ra(s,o,a,l){const d=s[Pu];throw o[L]&&d.unshift(o[L]),s.message=function Co(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=he(o);if(Array.isArray(o))d=o.map(he).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let w=o[v];g.push(v+":"+("string"==typeof w?JSON.stringify(w):he(w)))}d=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${s.replace(I,"\n  ")}`}("\n"+s.message,d,a,l),s.ngTokenPath=d,s[Pu]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Xn(g),Me(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((l,d)=>o.push(he(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processInjectorType(o,a,l){if(!(o=J(o)))return!1;let d=Lr(o);const g=null==d&&o.ngModule||void 0,v=void 0===g?o:g,w=-1!==l.indexOf(v);if(void 0!==g&&(d=Lr(g)),null==d)return!1;if(null!=d.imports&&!w){let x;l.push(v);try{mi(d.imports,P=>{this.processInjectorType(P,a,l)&&(void 0===x&&(x=[]),x.push(P))})}finally{}if(void 0!==x)for(let P=0;P<x.length;P++){const{ngModule:U,providers:W}=x[P];mi(W,ye=>this.processProvider(ye,U,W||ht))}}this.injectorDefTypes.add(v);const D=Kr(v)||(()=>new v);this.records.set(v,Ef(D,Vd));const S=d.providers;if(null!=S&&!w){const x=o;mi(S,P=>this.processProvider(P,x,S))}return void 0!==g&&void 0!==o.providers}processProvider(o,a,l){let d=Bd(o=J(o))?o:J(o&&o.provide);const g=function KM(s,o,a){return sw(s)?Ef(void 0,s.useValue):Ef(tI(s),Vd)}(o);if(Bd(o)||!0!==o.multi)this.records.get(d);else{let v=this.records.get(d);v||(v=Ef(void 0,Vd,!0),v.factory=()=>At(v.multi),this.records.set(d,v)),d=o,v.multi.push(o)}this.records.set(d,g)}hydrate(o,a){return a.value===Vd&&(a.value=Mg,a.value=a.factory()),"object"==typeof a.value&&a.value&&function iI(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=J(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function F_(s){const o=zt(s),a=null!==o?o.factory:Kr(s);if(null!==a)return a;if(s instanceof Rn)throw new Oe(204,!1);if(s instanceof Function)return function eI(s){const o=s.length;if(o>0)throw Ui(o,"?"),new Oe(204,!1);const a=function oi(s){const o=s&&(s[zi]||s[as]);if(o){const a=function xs(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Oe(204,!1)}function tI(s,o,a){let l;if(Bd(s)){const d=J(s);return Kr(d)||F_(d)}if(sw(s))l=()=>J(s.useValue);else if(function ZM(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...At(s.deps||[]));else if(function L_(s){return!(!s||!s.useExisting)}(s))l=()=>Xe(J(s.useExisting));else{const d=J(s&&(s.useClass||s.provide));if(!function rI(s){return!!s.deps}(s))return Kr(d)||F_(d);l=()=>new d(...At(s.deps))}return l}function Ef(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function sw(s){return null!==s&&"object"==typeof s&&Z in s}function Bd(s){return"function"==typeof s}let No=(()=>{class s{static create(a,l){var d;if(Array.isArray(a))return XC({name:""},l,a,"");{const g=null!==(d=a.name)&&void 0!==d?d:"";return XC({name:g},a.parent,a.providers,g)}}}return s.THROW_IF_NOT_FOUND=Do,s.NULL=new O_,s.\u0275prov=an({token:s,providedIn:"any",factory:()=>Xe(N_)}),s.__NG_ELEMENT_ID__=-1,s})();function dw(s,o){gs(ef(s)[1],bn())}function Ng(s){let o=function Df(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let d;if(Wr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Oe(903,"");d=o.\u0275dir}if(d){if(a){l.push(d);const v=s;v.inputs=Og(s.inputs),v.declaredInputs=Og(s.declaredInputs),v.outputs=Og(s.outputs);const w=d.hostBindings;w&&pw(s,w);const D=d.viewQuery,S=d.contentQueries;if(D&&fw(s,D),S&&fI(s,S),re(s.inputs,d.inputs),re(s.declaredInputs,d.declaredInputs),re(s.outputs,d.outputs),Wr(d)&&d.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const w=g[v];w&&w.ngInherit&&w(s),w===Ng&&(a=!1)}}o=Object.getPrototypeOf(o)}!function hw(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Br(d.hostAttrs,a=Br(a,d.hostAttrs))}}(l)}function Og(s){return s===mr?{}:s===ht?[]:s}function fw(s,o){const a=s.viewQuery;s.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function fI(s,o){const a=s.contentQueries;s.contentQueries=a?(l,d,g)=>{o(l,d,g),a(l,d,g)}:o}function pw(s,o){const a=s.hostBindings;s.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}let Ud=null;function dc(){if(!Ud){const s=Ht.Symbol;if(s&&s.iterator)Ud=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Ud=l)}}}return Ud}function jd(s){return!!Pg(s)&&(Array.isArray(s)||!(s instanceof Map)&&dc()in s)}function Pg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Oo(s,o,a){return s[o]=a}function Kn(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function _w(s,o,a,l){const d=De();return Kn(d,qs(),o)&&(Bt(),Ro(xn(),d,s,o,a,l)),_w}function qd(s,o,a,l,d,g,v,w){const D=De(),S=Bt(),x=s+20,P=S.firstCreatePass?function Fg(s,o,a,l,d,g,v,w,D){const S=o.consts,x=Pd(o,s,4,v||null,Zr(S,w));S_(o,a,x,Zr(S,D)),gs(o,x);const P=x.tViews=gf(2,x,l,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,x),P.queries=o.queries.embeddedTView(x)),x}(x,S,D,o,a,l,d,g,v):S.data[x];Yr(P,!1);const U=D[11].createComment("");pg(S,D,U,P),$r(U,D),Ld(D,D[x]=QE(U,D,U,P)),fu(P)&&bg(S,D,P),null!=v&&pf(D,P,w)}function Sf(s){return ki(function bl(){return pt.lFrame.contextLView}(),20+s)}function gc(s,o=dt.Default){const a=De();return null===a?Xe(s,o):Zs(bn(),a,J(s),o)}function nv(){throw new Error("invalid")}function Nw(s,o,a){const l=De();return Kn(l,qs(),o)&&function wi(s,o,a,l,d,g,v,w){const D=Ar(o,a);let x,S=o.inputs;!w&&null!=S&&(x=S[l])?(rw(s,a,x,l,d),Fs(o)&&function kC(s,o){const a=Mr(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(l=function OC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=v?v(d,o.value||"",l):d,vn(g)?g.setProperty(D,l,d):Qr(l)||(D.setProperty?D.setProperty(l,d):D[l]=d))}(Bt(),xn(),l,s,o,l[11],a,!1),Nw}function Ow(s,o,a,l,d){const v=d?"class":"style";rw(s,a,o.inputs[v],v,l)}function rv(s,o,a,l){const d=De(),g=Bt(),v=20+s,w=d[11],D=d[v]=Md(w,o,function Ay(){return pt.lFrame.currentNamespace}()),S=g.firstCreatePass?function tx(s,o,a,l,d,g,v){const w=o.consts,S=Pd(o,s,2,d,Zr(w,g));return S_(o,a,S,Zr(w,v)),null!==S.attrs&&Ag(S,S.attrs,!1),null!==S.mergedAttrs&&Ag(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(v,g,d,0,o,a,l):g.data[v];Yr(S,!0);const x=S.mergedAttrs;null!==x&&yt(w,D,x);const P=S.classes;null!==P&&AE(w,D,P);const U=S.styles;return null!==U&&h_(w,D,U),64!=(64&S.flags)&&pg(g,d,D,S),0===function ka(){return pt.lFrame.elementDepthCount}()&&$r(D,d),function Du(){pt.lFrame.elementDepthCount++}(),fu(S)&&(bg(g,d,S),function jE(s,o,a){if(zc(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}(g,S,d)),null!==l&&pf(d,S),rv}function zg(){let s=bn();El()?wl():(s=s.parent,Yr(s,!1));const o=s;!function Cu(){pt.lFrame.elementDepthCount--}();const a=Bt();return a.firstCreatePass&&(gs(a,s),zc(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function kh(s){return 0!=(16&s.flags)}(o)&&Ow(a,o,De(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function zp(s){return 0!=(32&s.flags)}(o)&&Ow(a,o,De(),o.stylesWithoutHost,!1),zg}function Wg(s,o,a,l){return rv(s,o,a,l),zg(),Wg}function iv(){return De()}function sv(s){return!!s&&"function"==typeof s.then}function DI(s){return!!s&&"function"==typeof s.subscribe}const ov=DI;function av(s,o,a,l){const d=De(),g=Bt(),v=bn();return function lv(s,o,a,l,d,g,v,w){const D=fu(l),x=s.firstCreatePass&&R_(s),P=o[8],U=x_(o);let W=!0;if(3&l.type||w){const Be=Ar(l,o),Ke=w?w(Be):Be,Ce=U.length,gt=w?jt=>w(cn(jt[l.index])):l.index;if(vn(a)){let jt=null;if(!w&&D&&(jt=function CI(s,o,a,l){const d=s.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===a&&d[g+1]===l){const w=o[7],D=d[g+2];return w.length>D?w[D]:null}"string"==typeof v&&(g+=2)}return null}(s,o,d,l.index)),null!==jt)(jt.__ngLastListenerFn__||jt).__ngNextListenerFn__=g,jt.__ngLastListenerFn__=g,W=!1;else{g=cv(l,o,P,g,!1);const fn=a.listen(Ke,d,g);U.push(g,fn),x&&x.push(d,gt,Ce,Ce+1)}}else g=cv(l,o,P,g,!0),Ke.addEventListener(d,g,v),U.push(g),x&&x.push(d,gt,Ce,v)}else g=cv(l,o,P,g,!1);const ye=l.outputs;let Fe;if(W&&null!==ye&&(Fe=ye[d])){const Be=Fe.length;if(Be)for(let Ke=0;Ke<Be;Ke+=2){const is=o[Fe[Ke]][Fe[Ke+1]].subscribe(g),ul=U.length;U.push(g,is),x&&x.push(d,l.index,ul,-(ul+1))}}}(g,d,d[11],v,s,o,!!a,l),av}function Yg(s,o,a,l){try{return!1!==a(l)}catch(d){return nw(s,d),!1}}function cv(s,o,a,l,d){return function g(v){if(v===Function)return l;const w=2&s.flags?Mr(s.index,o):o;0==(32&o[2])&&Tg(w);let D=Yg(o,0,l,v),S=g.__ngNextListenerFn__;for(;S;)D=Yg(o,0,S,v)&&D,S=S.__ngNextListenerFn__;return d&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function dv(s=1){return function zs(s){return(pt.lFrame.contextLView=function Al(s,o){for(;s>0;)o=o[15],s--;return o}(s,pt.lFrame.contextLView))[8]}(s)}function II(s,o){let a=null;const l=function IM(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let d=0;d<o.length;d++){const g=o[d];if("*"!==g){if(null===l?IC(s,g,!0):AM(l,g))return d}else a=d}return a}function xf(s){const o=De()[16][6];if(!o.projection){const l=o.projection=Ui(s?s.length:1,null),d=l.slice();let g=o.child;for(;null!==g;){const v=s?II(g,s):0;null!==v&&(d[v]?d[v].projectionNext=g:l[v]=g,d[v]=g),g=g.next}}}function Fw(s,o=0,a){const l=De(),d=Bt(),g=Pd(d,20+s,16,null,a||null);null===g.projection&&(g.projection=o),wl(),64!=(64&g.flags)&&function SE(s,o,a){hf(o[11],0,o,a,fg(s,a,o),DE(a.parent||o[6],a,o))}(d,l,g)}function jw(s,o,a,l,d){const g=s[a+1],v=null===o;let w=l?xo(g):ha(g),D=!1;for(;0!==w&&(!1===D||v);){const x=s[w+1];ix(s[w],o)&&(D=!0,s[w+1]=l?Nd(x):g_(x)),w=l?xo(x):ha(x)}D&&(s[a+1]=l?g_(g):Nd(g))}function ix(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Xs(s,o)>=0}const hr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $w(s){return s.substring(hr.key,hr.keyEnd)}function gv(s,o){const a=hr.textEnd;return a===o?-1:(o=hr.keyEnd=function qw(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,hr.key=o,a),Wd(s,o,a))}function Wd(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Ev(s,o){return function ro(s,o,a,l){const d=De(),g=Bt(),v=Pi(2);g.firstUpdatePass&&RI(g,s,v,l),o!==Lt&&Kn(d,v,o)&&nm(g,g.data[xr()],d,d[11],s,d[v+1]=function Fo(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(eo(s)))),s}(o,a),l,v)}(s,o,null,!0),Ev}function wv(s){!function va(s,o,a,l){const d=Bt(),g=Pi(2);d.firstUpdatePass&&RI(d,null,g,l);const v=De();if(a!==Lt&&Kn(v,g,a)){const w=d.data[xr()];if(kI(w,l)&&!xI(d,g)){let D=l?w.classesWithoutHost:w.stylesWithoutHost;null!==D&&(a=ce(D,a||"")),Ow(d,w,v,a,l)}else!function Xr(s,o,a,l,d,g,v,w){d===Lt&&(d=ht);let D=0,S=0,x=0<d.length?d[0]:null,P=0<g.length?g[0]:null;for(;null!==x||null!==P;){const U=D<d.length?d[D+1]:void 0,W=S<g.length?g[S+1]:void 0;let Fe,ye=null;x===P?(D+=2,S+=2,U!==W&&(ye=P,Fe=W)):null===P||null!==x&&x<P?(D+=2,ye=x):(S+=2,ye=P,Fe=W),null!==ye&&nm(s,o,a,l,ye,Fe,v,w),x=D<d.length?d[D]:null,P=S<g.length?g[S]:null}}(d,w,v,v[11],v[g+1],v[g+1]=function Kw(s,o,a){if(null==a||""===a)return ht;const l=[],d=eo(a);if(Array.isArray(d))for(let g=0;g<d.length;g++)s(l,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&s(l,g,d[g]);else"string"==typeof d&&o(l,d);return l}(s,o,a),l,g)}}(tr,_a,s,!0)}function _a(s,o){for(let a=function SI(s){return function mv(s){hr.key=0,hr.keyEnd=0,hr.value=0,hr.valueEnd=0,hr.textEnd=s.length}(s),gv(s,Wd(s,0,hr.textEnd))}(o);a>=0;a=gv(o,a))tr(s,$w(o),!0)}function xI(s,o){return o>=s.expandoStartIndex}function RI(s,o,a,l){const d=s.data;if(null===d[a+1]){const g=d[xr()],v=xI(s,a);kI(g,l)&&null===o&&!v&&(o=!1),o=function NI(s,o,a,l){const d=function Ko(s){const o=pt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=tm(a=Ww(null,s,o,a,l),o.attrs,l),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==d)if(a=Ww(d,s,o,a,l),null===g){let D=function ox(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==ha(l))return s[xo(l)]}(s,o,l);void 0!==D&&Array.isArray(D)&&(D=Ww(null,s,o,D[1],l),D=tm(D,o.attrs,l),function OI(s,o,a,l){s[xo(a?o.classBindings:o.styleBindings)]=l}(s,o,l,D))}else g=function ax(s,o,a){let l;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)l=tm(l,s[g].hostAttrs,a);return tm(l,o.attrs,a)}(s,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),a}(d,g,o,l),function TI(s,o,a,l,d,g){let v=g?o.classBindings:o.styleBindings,w=xo(v),D=ha(v);s[l]=a;let x,S=!1;if(Array.isArray(a)){const P=a;x=P[1],(null===x||Xs(P,x)>0)&&(S=!0)}else x=a;if(d)if(0!==D){const U=xo(s[w+1]);s[l+1]=Hu(U,w),0!==U&&(s[U+1]=m_(s[U+1],l)),s[w+1]=function MM(s,o){return 131071&s|o<<17}(s[w+1],l)}else s[l+1]=Hu(w,0),0!==w&&(s[w+1]=m_(s[w+1],l)),w=l;else s[l+1]=Hu(D,0),0===w?w=l:s[D+1]=m_(s[D+1],l),D=l;S&&(s[l+1]=g_(s[l+1])),jw(s,x,l,!0),jw(s,x,l,!1),function Uw(s,o,a,l,d){const g=d?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Xs(g,o)>=0&&(a[l+1]=Nd(a[l+1]))}(o,x,s,l,g),v=Hu(w,D),g?o.classBindings=v:o.styleBindings=v}(d,g,o,a,v,l)}}function Ww(s,o,a,l,d){let g=null;const v=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<v&&(g=o[w],l=tm(l,g.hostAttrs,d),g!==s);)w++;return null!==s&&(a.directiveStylingLast=w),l}function tm(s,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?d=v:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),tr(s,v,!!a||o[++g]))}return void 0===s?null:s}function nm(s,o,a,l,d,g,v,w){if(!(3&o.type))return;const D=s.data,S=D[w+1];rm(function AC(s){return 1==(1&s)}(S)?Yw(D,o,a,d,ha(S),v):void 0)||(rm(g)||function SC(s){return 2==(2&s)}(S)&&(g=Yw(D,null,a,d,w,v)),function DC(s,o,a,l,d){const g=vn(s);if(o)d?g?s.addClass(a,l):a.classList.add(l):g?s.removeClass(a,l):a.classList.remove(l);else{let v=-1===l.indexOf("-")?void 0:oe.DashCase;if(null==d)g?s.removeStyle(a,l,v):a.style.removeProperty(l);else{const w="string"==typeof d&&d.endsWith("!important");w&&(d=d.slice(0,-10),v|=oe.Important),g?s.setStyle(a,l,d,v):a.style.setProperty(l,d,w?"important":"")}}}(l,v,po(xr(),a),d,g))}function Yw(s,o,a,l,d,g){const v=null===o;let w;for(;d>0;){const D=s[d],S=Array.isArray(D),x=S?D[1]:D,P=null===x;let U=a[d+1];U===Lt&&(U=P?ht:void 0);let W=P?$l(U,l):x===l?U:void 0;if(S&&!rm(W)&&(W=$l(D,l)),rm(W)&&(w=W,v))return w;const ye=s[d+1];d=v?xo(ye):ha(ye)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(w=$l(D,l))}return w}function rm(s){return void 0!==s}function kI(s,o){return 0!=(s.flags&(o?16:32))}function Qw(s,o=""){const a=De(),l=Bt(),d=s+20,g=l.firstCreatePass?Pd(l,d,1,o,null):l.data[d],v=a[d]=function Sd(s,o){return vn(s)?s.createText(o):s.createTextNode(o)}(a[11],o);pg(l,a,v,g),Yr(g,!1)}function _e(s){return Za("",s,""),_e}function Za(s,o,a){const l=De(),d=function fc(s,o,a,l){return Kn(s,qs(),a)?o+fe(a)+l:Lt}(l,s,o,a);return d!==Lt&&ga(l,xr(),d),Za}const Zu=void 0;var $I=["en",[["a","p"],["AM","PM"],Zu],[["AM","PM"],Zu,Zu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zu,"{1} 'at' {0}",Zu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Mv(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Kd={};function cm(s){const o=function Rv(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=rb(o);if(a)return a;const l=o.split("-")[0];if(a=rb(l),a)return a;if("en"===l)return $I;throw new Error(`Missing locale data for the locale "${s}".`)}function xv(s){return cm(s)[_t.PluralCase]}function rb(s){return s in Kd||(Kd[s]=Ht.ng&&Ht.ng.common&&Ht.ng.common.locales&&Ht.ng.common.locales[s]),Kd[s]}var _t=(()=>((_t=_t||{})[_t.LocaleId=0]="LocaleId",_t[_t.DayPeriodsFormat=1]="DayPeriodsFormat",_t[_t.DayPeriodsStandalone=2]="DayPeriodsStandalone",_t[_t.DaysFormat=3]="DaysFormat",_t[_t.DaysStandalone=4]="DaysStandalone",_t[_t.MonthsFormat=5]="MonthsFormat",_t[_t.MonthsStandalone=6]="MonthsStandalone",_t[_t.Eras=7]="Eras",_t[_t.FirstDayOfWeek=8]="FirstDayOfWeek",_t[_t.WeekendRange=9]="WeekendRange",_t[_t.DateFormat=10]="DateFormat",_t[_t.TimeFormat=11]="TimeFormat",_t[_t.DateTimeFormat=12]="DateTimeFormat",_t[_t.NumberSymbols=13]="NumberSymbols",_t[_t.NumberFormats=14]="NumberFormats",_t[_t.CurrencyCode=15]="CurrencyCode",_t[_t.CurrencySymbol=16]="CurrencySymbol",_t[_t.CurrencyName=17]="CurrencyName",_t[_t.Currencies=18]="Currencies",_t[_t.Directionality=19]="Directionality",_t[_t.PluralCase=20]="PluralCase",_t[_t.ExtraData=21]="ExtraData",_t))();const dm="en-US";let ni=dm;function Dm(s,o,a,l,d){if(s=J(s),Array.isArray(s))for(let g=0;g<s.length;g++)Dm(s[g],o,a,l,d);else{const g=Bt(),v=De();let w=Bd(s)?s:J(s.provide),D=tI(s);const S=bn(),x=1048575&S.providerIndexes,P=S.directiveStart,U=S.providerIndexes>>20;if(Bd(s)||!s.multi){const W=new Zo(D,d,gc),ye=Qa(w,o,d?x:x+U,P);-1===ye?(Ks(zn(S,v),g,w),Xd(g,s,o.length),o.push(w),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(W),v.push(W)):(a[ye]=W,v[ye]=W)}else{const W=Qa(w,o,x+U,P),ye=Qa(w,o,x,x+U),Fe=W>=0&&a[W],Be=ye>=0&&a[ye];if(d&&!Be||!d&&!Fe){Ks(zn(S,v),g,w);const Ke=function th(s,o,a,l,d){const g=new Zo(s,a,gc);return g.multi=[],g.index=o,g.componentProviders=0,eh(g,d,l&&!a),g}(d?eT:Zv,a.length,d,l,D);!d&&Be&&(a[ye].providerFactory=Ke),Xd(g,s,o.length,0),o.push(w),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(Ke),v.push(Ke)}else Xd(g,s,W>-1?W:ye,eh(a[d?ye:W],D,!d&&l));!d&&l&&Be&&a[ye].componentProviders++}}}function Xd(s,o,a,l){const d=Bd(o),g=function nI(s){return!!s.useClass}(o);if(d||g){const D=(g?J(o.useClass):o).prototype.ngOnDestroy;if(D){const S=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const x=S.indexOf(a);-1===x?S.push(a,[l,D]):S[x+1].push(l,D)}else S.push(a,D)}}}function eh(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Qa(s,o,a,l){for(let d=a;d<l;d++)if(o[d]===s)return d;return-1}function Zv(s,o,a,l){return Zf(this.multi,[])}function eT(s,o,a,l){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=Li(a,a[1],this.providerFactory.index,l);g=w.slice(0,v),Zf(d,g);for(let D=v;D<w.length;D++)g.push(w[D])}else g=[],Zf(d,g);return g}function Zf(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Cm(s,o=[]){return a=>{a.providersResolver=(l,d)=>function Kf(s,o,a){const l=Bt();if(l.firstCreatePass){const d=Wr(s);Dm(a,l.data,l.blueprint,d,!0),Dm(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class Yv{}class Im{resolveComponentFactory(o){throw function tT(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let bc=(()=>{class s{}return s.NULL=new Im,s})();function Tm(){return Dc(bn(),De())}function Dc(s,o){return new Dn(Ar(s,o))}let Dn=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=Tm,s})();function Sm(s){return s instanceof Dn?s.nativeElement:s}class Ib{}let Yf=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function nT(){const s=De(),a=Mr(bn().index,s);return function Qf(s){return s[11]}(Oi(a)?a:s)}(),s})(),Tb=(()=>{class s{}return s.\u0275prov=an({token:s,providedIn:"root",factory:()=>null}),s})();class Sb{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Ab=new Sb("13.2.7"),Qv={};function Am(s,o,a,l,d=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&l.push(cn(g)),ci(g))for(let w=10;w<g.length;w++){const D=g[w],S=D[1].firstChild;null!==S&&Am(D[1],D,S,l)}const v=a.type;if(8&v)Am(s,o,a.child,l);else if(32&v){const w=tt(a,o);let D;for(;D=w();)l.push(D)}else if(16&v){const w=TE(o,a);if(Array.isArray(w))l.push(...w);else{const D=On(o[16]);Am(D[1],D,w,l,!0)}}a=d?a.projectionNext:a.next}return l}class Ja{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Am(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ci(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(r_(o,l),vs(a,l))}this._attachedToViewContainer=!1}i_(this._lView[1],this._lView)}onDestroy(o){T_(this._lView[1],this._lView,null,o)}markForCheck(){Tg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){A_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function WC(s,o,a){Gs(!0);try{A_(s,o,a)}finally{Gs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hg(s,o){gg(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Oe(902,"");this._appRef=o}}class Xu extends Ja{constructor(o){super(o),this._view=o}detectChanges(){ew(this._view)}checkNoChanges(){!function KC(s){Gs(!0);try{ew(s)}finally{Gs(!1)}}(this._view)}get context(){return null}}class Jv extends bc{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Kt(o);return new e0(a,this.ngModule)}}function Xv(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class e0 extends Yv{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function bs(s){return s.map(mg).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Xv(this.componentDef.inputs)}get outputs(){return Xv(this.componentDef.outputs)}create(o,a,l,d){const g=(d=d||this.ngModule)?function nh(s,o){return{get:(a,l,d)=>{const g=s.get(a,Qv,d);return g!==Qv||l===Qv?g:o.get(a,l,d)}}}(o,d.injector):o,v=g.get(Ib,qo),w=g.get(Tb,null),D=v.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",x=l?function mf(s,o,a){if(vn(s))return s.selectRootElement(o,a===Wt.ShadowDom);let l="string"==typeof o?s.querySelector(o):o;return l.textContent="",l}(D,l,this.componentDef.encapsulation):Md(v.createRenderer(null,this.componentDef),S,function Mb(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(S)),P=this.componentDef.onPush?576:528,U=function $_(s,o){return{components:[],scheduler:s||e_,clean:ZC,playerHandler:o||null,flags:0}}(),W=gf(0,null,null,1,0,null,null,null,null,null),ye=qa(null,W,U,P,null,null,v,D,w,g);let Fe,Be;go(ye);try{const Ke=function U_(s,o,a,l,d,g){const v=a[1];a[20]=s;const D=Pd(v,20,2,"#host",null),S=D.mergedAttrs=o.hostAttrs;null!==S&&(Ag(D,S,!0),null!==s&&(yt(d,s,S),null!==D.classes&&AE(d,s,D.classes),null!==D.styles&&h_(d,s,D.styles)));const x=l.createRenderer(s,o),P=qa(a,$E(o),null,o.onPush?64:16,a[20],D,l,x,g||null,null);return v.firstCreatePass&&(Ks(zn(D,a),v,o.type),Fd(v,D),KE(D,a.length,1)),Ld(a,P),a[20]=P}(x,this.componentDef,ye,v,D);if(x)if(l)yt(D,x,["ng-version",Ab.full]);else{const{attrs:Ce,classes:gt}=function f_(s){const o=[],a=[];let l=1,d=2;for(;l<s.length;){let g=s[l];if("string"==typeof g)2===d?""!==g&&o.push(g,s[++l]):8===d&&a.push(g);else{if(!ca(d))break;d=g}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ce&&yt(D,x,Ce),gt&&gt.length>0&&AE(D,x,gt.join(" "))}if(Be=Oa(W,20),void 0!==a){const Ce=Be.projection=[];for(let gt=0;gt<this.ngContentSelectors.length;gt++){const jt=a[gt];Ce.push(null!=jt?Array.from(jt):null)}}Fe=function j_(s,o,a,l,d){const g=a[1],v=function LC(s,o,a){const l=bn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),ZE(s,l,o,ac(s,o,1,null),a));const d=Li(o,s,l.directiveStart,l);$r(d,o);const g=Ar(l,o);return g&&$r(g,o),d}(g,a,o);if(l.components.push(v),s[8]=v,d&&d.forEach(D=>D(v,o)),o.contentQueries){const D=bn();o.contentQueries(1,v,D.directiveStart)}const w=bn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ws(w.index),WE(a[1],w,0,w.directiveStart,w.directiveEnd,o),yf(o,v)),v}(Ke,this.componentDef,ye,U,[dw]),uc(W,ye,null)}finally{yo()}return new sT(this.componentType,Fe,Dc(Be,ye),ye,Be)}}class sT extends class wc{}{constructor(o,a,l,d,g){super(),this.location=l,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new Xu(d),this.componentType=o}get injector(){return new Vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Cc{}class Mm{}const el=new Map;class Jf extends Cc{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Jv(this);const l=gn(o);this._bootstrapComponents=m(l.bootstrap),this._r3Injector=vf(o,a,[{provide:Cc,useValue:this},{provide:bc,useValue:this.componentFactoryResolver}],he(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=No.THROW_IF_NOT_FOUND,l=dt.Default){return o===No||o===Cc||o===N_?this:this._r3Injector.get(o,a,l)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Ic extends Mm{constructor(o){super(),this.moduleType=o,null!==gn(o)&&function n0(s){const o=new Set;!function a(l){const d=gn(l,!0),g=d.id;null!==g&&(function t0(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${he(o)} vs ${he(o.name)}`)}(g,el.get(g),l),el.set(g,l));const v=m(d.imports);for(const w of v)o.has(w)||(o.add(w),a(w))}(s)}(o)}create(o){return new Jf(this.moduleType,o)}}function Rm(s,o,a,l){return kb(De(),Er(),s,o,a,l)}function tp(s,o){const a=s[o];return a===Lt?void 0:a}function kb(s,o,a,l,d,g){const v=o+a;return Kn(s,v,d)?Oo(s,v+1,g?l.call(g,d):l(d)):tp(s,v+1)}function r0(s,o,a,l,d,g,v){const w=o+a;return function dr(s,o,a,l){const d=Kn(s,o,a);return Kn(s,o+1,l)||d}(s,w,d,g)?Oo(s,w+2,v?l.call(v,d,g):l(d,g)):tp(s,w+2)}function a0(s,o){const a=Bt();let l;const d=s+20;a.firstCreatePass?(l=function Xa(s,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(s===l.name)return l}}(o,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const g=l.factory||(l.factory=Kr(l.type)),v=Xn(gc);try{const w=fi(!1),D=g();return fi(w),function Lg(s,o,a,l){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=l}(a,De(),d,D),D}finally{Xn(v)}}function u0(s,o,a){const l=s+20,d=De(),g=ki(d,l);return Tc(d,l)?kb(d,Er(),o,g.transform,a,g):g.transform(a)}function Pb(s,o,a,l){const d=s+20,g=De(),v=ki(g,d);return Tc(g,d)?r0(g,Er(),o,v.transform,a,l,v):v.transform(a,l)}function Tc(s,o){return s[1].data[o].pure}function Om(s){return o=>{setTimeout(s,void 0,o)}}const io=class Nm extends f.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){var d,g,v;let w=o,D=a||(()=>null),S=l;if(o&&"object"==typeof o){const P=o;w=null===(d=P.next)||void 0===d?void 0:d.bind(P),D=null===(g=P.error)||void 0===g?void 0:g.bind(P),S=null===(v=P.complete)||void 0===v?void 0:v.bind(P)}this.__isAsync&&(D=Om(D),w&&(w=Om(w)),S&&(S=Om(S)));const x=super.subscribe({next:w,error:D,complete:S});return o instanceof Y.w0&&o.add(x),x}};function km(){return this._results[dc()]()}class c0{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=dc(),l=c0.prototype;l[a]||(l[a]=km)}get changes(){return this._changes||(this._changes=new io)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const d=Nr(o);(this._changesDetected=!function Ll(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],g=o[l];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let rh=(()=>{class s{}return s.__NG_ELEMENT_ID__=Vb,s})();const ip=rh,Lb=class extends ip{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o){const a=this._declarationTContainer.tViews,l=qa(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(a)),uc(a,l,o),new Ja(l)}};function Vb(){return ih(bn(),De())}function ih(s,o){return 4&s.type?new Lb(o,s,Dc(s,o)):null}let sh=(()=>{class s{}return s.__NG_ELEMENT_ID__=Bb,s})();function Bb(){return f0(bn(),De())}const Pm=sh,d0=class extends Pm{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return Dc(this._hostTNode,this._hostLView)}get injector(){return new Vi(this._hostTNode,this._hostLView)}get parentInjector(){const o=pi(this._hostTNode,this._hostLView);if(ud(o)){const a=Fi(o,this._hostLView),l=yn(o);return new Vi(a[1].data[l+8],a)}return new Vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=h0(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){const d=o.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(o,a,l,d,g){const v=o&&!function ta(s){return"function"==typeof s}(o);let w;if(v)w=a;else{const P=a||{};w=P.index,l=P.injector,d=P.projectableNodes,g=P.ngModuleRef}const D=v?o:new e0(Kt(o)),S=l||this.parentInjector;if(!g&&null==D.ngModule){const U=(v?S:this.parentInjector).get(Cc,null);U&&(g=U)}const x=D.create(S,d,void 0,g);return this.insert(x.hostView,w),x}insert(o,a){const l=o._lView,d=l[1];if(function wu(s){return ci(s[3])}(l)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const P=l[3],U=new d0(P,P[6],P[3]);U.detach(U.indexOf(o))}}const g=this._adjustIndex(a),v=this._lContainer;!function ic(s,o,a,l){const d=10+l,g=a.length;l>0&&(a[d-1][4]=o),l<g-10?(o[4]=a[d],Vl(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function xd(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(d,l,v,g);const w=l_(g,v),D=l[11],S=la(D,v[7]);return null!==S&&function df(s,o,a,l,d,g){l[0]=d,l[6]=o,gg(s,l,a,1,d,g)}(d,v[6],D,l,S,w),o.attachToViewContainerRef(),Vl(eu(v),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=h0(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=r_(this._lContainer,a);l&&(vs(eu(this._lContainer),a),i_(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=r_(this._lContainer,a);return l&&null!=vs(eu(this._lContainer),a)?new Ja(l):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function h0(s){return s[8]}function eu(s){return s[8]||(s[8]=[])}function f0(s,o){let a;const l=o[s.index];if(ci(l))a=l;else{let d;if(8&s.type)d=cn(l);else{const g=o[11];d=g.createComment("");const v=Ar(s,o);ws(g,la(g,v),d,function wC(s,o){return vn(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=a=QE(l,o,d,s),Ld(o,a)}return new d0(a,s,o)}class oh{constructor(o){this.queryList=o,this.matches=null}clone(){return new oh(this.queryList)}setDirty(){this.queryList.setDirty()}}class qi{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let g=0;g<l;g++){const v=a.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new qi(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==qb(o,a).matches&&this.queries[a].setDirty()}}class p0{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class Fm{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(o,d);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new Fm(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class tl{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new tl(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(o,a,dT(a,g)),this.matchTNodeWithReadOption(o,a,Eo(a,o,g,!1,!1))}else l===rh?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Eo(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Dn||d===sh||d===rh&&4&a.type)this.addMatch(a.index,-2);else{const g=Eo(a,o,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function dT(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function g0(s,o,a,l){return-1===a?function hT(s,o){return 11&s.type?Dc(s,o):4&s.type?ih(s,o):null}(o,s):-2===a?function fT(s,o,a){return a===Dn?Dc(o,s):a===rh?ih(o,s):a===sh?f0(o,s):void 0}(s,o,l):Li(s,s[1],a,o)}function $b(s,o,a,l){const d=o[19].queries[l];if(null===d.matches){const g=s.data,v=a.matches,w=[];for(let D=0;D<v.length;D+=2){const S=v[D];w.push(S<0?null:g0(o,g[S],v[D+1],a.metadata.read))}d.matches=w}return d.matches}function Lm(s,o,a,l){const d=s.queries.getByIndex(a),g=d.matches;if(null!==g){const v=$b(s,o,d,a);for(let w=0;w<g.length;w+=2){const D=g[w];if(D>0)l.push(v[w/2]);else{const S=g[w+1],x=o[-D];for(let P=10;P<x.length;P++){const U=x[P];U[17]===U[3]&&Lm(U[1],U,S,l)}if(null!==x[9]){const P=x[9];for(let U=0;U<P.length;U++){const W=P[U];Lm(W[1],W,S,l)}}}}}return l}function Hb(s){const o=De(),a=Bt(),l=Il();Tl(l+1);const d=qb(a,l);if(s.dirty&&js(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const g=d.crossesNgTemplate?Lm(a,o,l,[]):$b(a,o,d,l);s.reset(g,Sm),s.notifyOnChanges()}return!0}return!1}function Gb(s,o,a,l){const d=Bt();if(d.firstCreatePass){const g=bn();(function tu(s,o,a){null===s.queries&&(s.queries=new Fm),s.queries.track(new tl(o,a))})(d,new p0(o,a,l),g.index),function y0(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}!function Sc(s,o,a){const l=new c0(4==(4&a));T_(s,o,l,l.destroy),null===o[19]&&(o[19]=new qi),o[19].queries.push(new oh(l))}(d,De(),a)}function m0(){return function ri(s,o){return s[19].queries[o].queryList}(De(),Il())}function qb(s,o){return s.queries.getByIndex(o)}function Pe(s,o){return ih(s,o)}function rl(...s){}const w0=new Rn("Application Initializer");let il=(()=>{class s{constructor(a){this.appInits=a,this.resolve=rl,this.reject=rl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(sv(g))a.push(g);else if(ov(g)){const v=new Promise((w,D)=>{g.subscribe({complete:w,error:D})});a.push(v)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Xe(w0,8))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Gm=new Rn("AppId",{providedIn:"root",factory:function xc(){return`${Rc()}${Rc()}${Rc()}`}});function Rc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const b0=new Rn("Platform Initializer"),D0=new Rn("Platform ID"),up=new Rn("appBootstrapListener");let C0=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})();const zm=new Rn("LocaleId",{providedIn:"root",factory:()=>kt(zm,dt.Optional|dt.SkipSelf)||function eD(){return"undefined"!=typeof $localize&&$localize.locale||dm}()}),Ti=new Rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class T0{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let hh=(()=>{class s{compileModuleSync(a){return new Ic(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=m(gn(a).declarations).reduce((v,w)=>{const D=Kt(w);return D&&v.push(new e0(D)),v},[]);return new T0(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const tD=(()=>Promise.resolve(0))();function S0(s){"undefined"==typeof Zone?tD.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Lo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new io(!1),this.onMicrotaskEmpty=new io(!1),this.onStable=new io(!1),this.onError=new io(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function iu(){let s=Ht.requestAnimationFrame,o=Ht.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function DT(s){const o=()=>{!function Nc(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ht,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Oc(s),s.isCheckStableRunning=!0,Zm(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Oc(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,g,v,w)=>{try{return lp(s),a.invokeTask(d,g,v,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),cp(s)}},onInvoke:(a,l,d,g,v,w,D)=>{try{return lp(s),a.invoke(d,g,v,w,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),cp(s)}},onHasTask:(a,l,d,g)=>{a.hasTask(d,g),l===d&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Oc(s),Zm(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,d,g)=>(a.handleError(d,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Lo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,o,bT,rl,rl);try{return g.runTask(v,a,l)}finally{g.cancelTask(v)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const bT={};function Zm(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Oc(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function lp(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function cp(s){s._nesting--,Zm(s)}class ii{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new io,this.onMicrotaskEmpty=new io,this.onStable=new io,this.onError=new io}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}let nD=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lo.assertNotInAngularZone(),S0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())S0(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(Xe(Lo))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})(),rD=(()=>{class s{constructor(){this._applications=new Map,A0.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return A0.findTestabilityInTree(this,a,l)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})();class CT{addToWindow(o){}findTestabilityInTree(o,a,l){return null}}function iD(s){A0=s}let Vo,A0=new CT;const kc=new Rn("AllowMultipleToken");class TT{constructor(o,a){this.name=o,this.token=a}}function M0(s,o,a=[]){const l=`Platform: ${o}`,d=new Rn(l);return(g=[])=>{let v=Pc();if(!v||v.injector.get(kc,!1))if(s)s(a.concat(g).concat({provide:d,useValue:!0}));else{const w=a.concat(g).concat({provide:d,useValue:!0},{provide:iw,useValue:"platform"});!function sD(s){if(Vo&&!Vo.destroyed&&!Vo.injector.get(kc,!1))throw new Oe(400,"");Vo=s.get(dp);const o=s.get(b0,null);o&&o.forEach(a=>a())}(No.create({providers:w,name:l}))}return function su(s){const o=Pc();if(!o)throw new Oe(401,"");return o}()}}function Pc(){return Vo&&!Vo.destroyed?Vo:null}let dp=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const w=function Ym(s,o){let a;return a="noop"===s?new ii:("zone.js"===s?void 0:s)||new Lo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),D=[{provide:Lo,useValue:w}];return w.run(()=>{const S=No.create({providers:D,parent:this.injector,name:a.moduleType.name}),x=a.create(S),P=x.injector.get(kr,null);if(!P)throw new Oe(402,"");return w.runOutsideAngular(()=>{const U=w.onError.subscribe({next:W=>{P.handleError(W)}});x.onDestroy(()=>{ol(this._modules,x),U.unsubscribe()})}),function x0(s,o,a){try{const l=a();return sv(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(P,w,()=>{const U=x.injector.get(il);return U.runInitializers(),U.donePromise.then(()=>(function Ff(s){lt(s,"Expected localeId to be defined"),"string"==typeof s&&(ni=s.toLowerCase().replace(/_/g,"-"))}(x.injector.get(zm,dm)||dm),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,l=[]){const d=Qm({},l);return function IT(s,o,a){const l=new Ic(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const l=a.injector.get(hp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Oe(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Xe(No))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})();function Qm(s,o){return Array.isArray(o)?o.reduce(Qm,s):Object.assign(Object.assign({},s),o)}let hp=(()=>{class s{constructor(a,l,d,g,v){this._zone=a,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new O.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),D=new O.y(S=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Lo.assertNotInAngularZone(),S0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Lo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{x.unsubscribe(),P.unsubscribe()}});this.isStable=(0,le.T)(w,D.pipe((0,X.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Oe(405,"");let d;d=a instanceof Yv?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const g=function sl(s){return s.isBoundToModule}(d)?void 0:this._injector.get(Cc),w=d.create(No.NULL,[],l||d.selector,g),D=w.location.nativeElement,S=w.injector.get(nD,null),x=S&&w.injector.get(rD);return S&&x&&x.registerApplication(D,S),w.onDestroy(()=>{this.detachView(w.hostView),ol(this.components,w),x&&x.unregisterApplication(D)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Oe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;ol(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(up,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(Xe(Lo),Xe(No),Xe(kr),Xe(bc),Xe(il))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function ol(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let fh=!0,R0=!1;function N0(){return R0=!0,fh}function O0(){if(R0)throw new Error("Cannot enable prod mode after platform setup.");fh=!1}let uD=(()=>{class s{}return s.__NG_ELEMENT_ID__=lD,s})();function lD(s){return function cD(s,o,a){if(Fs(s)&&!a){const l=Mr(s.index,o);return new Ja(l,l)}return 47&s.type?new Ja(o[16],o):null}(bn(),De(),16==(16&s))}class L0{constructor(){}supports(o){return jd(o)}create(o){return new jc(o)}}const gp=(s,o)=>o;class jc{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||gp}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,g=null;for(;a||l;){const v=!l||a&&a.currentIndex<gh(l,d,g)?a:l,w=gh(v,d,g),D=v.currentIndex;if(v===l)d--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{g||(g=[]);const S=w-d,x=D-d;if(S!=x){for(let U=0;U<S;U++){const W=U<g.length?g[U]:g[U]=0,ye=W+U;x<=ye&&ye<S&&(g[U]=W+1)}g[v.previousIndex]=x-S}}w!==D&&o(v,w,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!jd(o))throw new Oe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,v,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)g=o[w],v=this._trackByFn(w,g),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,g,v,w)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,w),l=!0),a=a._next}else d=0,function kg(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[dc()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,w=>{v=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,w,v,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,v,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,d)):o=this._addAfter(new fD(a,l),g,d),o}_verifyReinsertion(o,a,l,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new V0),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new V0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class fD{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pD{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class V0{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new pD,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gh(s,o,a){const l=s.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class Jm{constructor(){}supports(o){return o instanceof Map||Pg(o)}create(){return new OT}}class OT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Pg(o)))throw new Oe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const l=new Dr(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class Dr{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Qt(){return new Xm([new L0])}let Xm=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||Qt()),deps:[[s,new Io,new _i]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Oe(901,"")}}return s.\u0275prov=an({token:s,providedIn:"root",factory:Qt}),s})();function ou(){return new Qn([new Jm])}let Qn=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||ou()),deps:[[s,new Io,new _i]]}}find(a){const l=this.factories.find(g=>g.supports(a));if(l)return l;throw new Oe(901,"")}}return s.\u0275prov=an({token:s,providedIn:"root",factory:ou}),s})();const FT=M0(null,"core",[{provide:D0,useValue:"unknown"},{provide:dp,deps:[No]},{provide:rD,deps:[]},{provide:C0,deps:[]}]);let so=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Xe(hp))},s.\u0275mod=Q({type:s}),s.\u0275inj=en({}),s})()},3942:(ut,Se,k)=>{k.d(Se,{Z:()=>Oe});var f=k(2090),Y=k(4859),O=k(9681),le=k(1877);class X{constructor(fe,be){this._delegate=fe,this.firebase=be,(0,O._addComponent)(fe,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(fe,be=O._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(fe);return!Qe.isInitialized()&&"EXPLICIT"===(null===(nt=Qe.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:be})}_removeServiceInstance(fe,be=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(be)}_addComponent(fe){(0,O._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,O._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ce(){const Ve=function he(Ve){const fe={},be={__esModule:!0,initializeApp:function Ie($e,te={}){const K=O.initializeApp($e,te);if((0,f.r3)(fe,K.name))return fe[K.name];const ie=new Ve(K,be);return fe[K.name]=ie,ie},app:Qe,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Ee($e){const te=$e.name,K=te.replace("-compat","");if(O._registerComponent($e)&&"PUBLIC"===$e.type){const ie=(me=Qe())=>{if("function"!=typeof me[K])throw re.create("invalid-app-argument",{appName:te});return me[K]()};void 0!==$e.serviceProps&&(0,f.ZB)(ie,$e.serviceProps),be[K]=ie,Ve.prototype[K]=function(...me){return this._getService.bind(this,te).apply(this,$e.multipleInstances?me:[])}}return"PUBLIC"===$e.type?be[K]:null},removeApp:function nt($e){delete fe[$e]},useAsService:function Ge($e,te){return"serverAuth"===te?null:te},modularAPIs:O}};function Qe($e){if(!(0,f.r3)(fe,$e=$e||O._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:$e});return fe[$e]}return be.default=be,Object.defineProperty(be,"apps",{get:function ve(){return Object.keys(fe).map($e=>fe[$e])}}),Qe.App=Ve,be}(X);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function fe(be){(0,f.ZB)(Ve,be)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Ve}(),H=new le.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Oe=$;!function Ae(Ve){(0,O.registerVersion)("@firebase/app-compat","0.1.21",Ve)}()},9681:(ut,Se,k)=>{k.r(Se),k.d(Se,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Lr,_DEFAULT_ENTRY_NAME:()=>kn,_addComponent:()=>hn,_addOrOverwriteComponent:()=>Ni,_apps:()=>Et,_clearComponents:()=>zt,_components:()=>dn,_getProvider:()=>os,_registerComponent:()=>an,_removeServiceInstance:()=>en,deleteApp:()=>us,getApp:()=>Vr,getApps:()=>as,initializeApp:()=>zi,onLog:()=>or,registerVersion:()=>zr,setLogLevel:()=>Xn});var f=k(5861),Y=k(4859),O=k(1877),le=k(2090);class X{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function ge(Je){const Te=Je.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(et)){const ft=et.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(et=>et).join(" ")}}const re="@firebase/app",ce=new O.Yd("@firebase/app"),kn="[DEFAULT]",lt={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,dn=new Map;function hn(Je,Te){try{Je.container.addComponent(Te)}catch(et){ce.debug(`Component ${Te.name} failed to register with FirebaseApp ${Je.name}`,et)}}function Ni(Je,Te){Je.container.addOrOverwriteComponent(Te)}function an(Je){const Te=Je.name;if(dn.has(Te))return ce.debug(`There were multiple attempts to register component ${Te}.`),!1;dn.set(Te,Je);for(const et of Et.values())hn(et,Je);return!0}function os(Je,Te){const et=Je.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),Je.container.getProvider(Te)}function en(Je,Te,et=kn){os(Je,Te).clearInstance(et)}function zt(){dn.clear()}const oi=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class xs{constructor(Te,et,ft){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}const Lr="9.6.10";function zi(Je,Te={}){"object"!=typeof Te&&(Te={name:Te});const et=Object.assign({name:kn,automaticDataCollectionEnabled:!1},Te),ft=et.name;if("string"!=typeof ft||!ft)throw oi.create("bad-app-name",{appName:String(ft)});const $t=Et.get(ft);if($t){if((0,le.vZ)(Je,$t.options)&&(0,le.vZ)(et,$t.config))return $t;throw oi.create("duplicate-app",{appName:ft})}const Vt=new Y.H0(ft);for(const V of dn.values())Vt.addComponent(V);const j=new xs(Je,et,Vt);return Et.set(ft,j),j}function Vr(Je=kn){const Te=Et.get(Je);if(!Te)throw oi.create("no-app",{appName:Je});return Te}function as(){return Array.from(Et.values())}function us(Je){return dt.apply(this,arguments)}function dt(){return(dt=(0,f.Z)(function*(Je){const Te=Je.name;Et.has(Te)&&(Et.delete(Te),yield Promise.all(Je.container.getProviders().map(et=>et.delete())),Je.isDeleted=!0)})).apply(this,arguments)}function zr(Je,Te,et){var ft;let $t=null!==(ft=lt[Je])&&void 0!==ft?ft:Je;et&&($t+=`-${et}`);const Vt=$t.match(/\s|\//),j=Te.match(/\s|\//);if(Vt||j){const V=[`Unable to register library "${$t}" with version "${Te}":`];return Vt&&V.push(`library name "${$t}" contains illegal characters (whitespace or "/")`),Vt&&j&&V.push("and"),j&&V.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void ce.warn(V.join(" "))}an(new Y.wA(`${$t}-version`,()=>({library:$t,version:Te}),"VERSION"))}function or(Je,Te){if(null!==Je&&"function"!=typeof Je)throw oi.create("invalid-log-argument");(0,O.Am)(Je,Te)}function Xn(Je){(0,O.Ub)(Je)}const wn="firebase-heartbeat-store";let ar=null;function Rs(){return ar||(ar=(0,le.X3)("firebase-heartbeat-database",1,(Je,Te)=>{0===Te&&Je.createObjectStore(wn)}).catch(Je=>{throw oi.create("storage-open",{originalErrorMessage:Je.message})})),ar}function Wt(){return(Wt=(0,f.Z)(function*(Je){try{return(yield Rs()).transaction(wn).objectStore(wn).get(gr(Je))}catch(Te){throw oi.create("storage-get",{originalErrorMessage:Te.message})}})).apply(this,arguments)}function ot(Je,Te){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,f.Z)(function*(Je,Te){try{const ft=(yield Rs()).transaction(wn,"readwrite");return yield ft.objectStore(wn).put(Te,gr(Je)),ft.complete}catch(et){throw oi.create("storage-set",{originalErrorMessage:et.message})}})).apply(this,arguments)}function gr(Je){return`${Je.name}!${Je.options.appId}`}class uo{constructor(Te){this.container=Te,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new ht(et),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var Te=this;return(0,f.Z)(function*(){const ft=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$t=Cr();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==$t&&!Te._heartbeatsCache.heartbeats.some(Vt=>Vt.date===$t))return Te._heartbeatsCache.heartbeats.push({date:$t,agent:ft}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Vt=>{const j=new Date(Vt.date).valueOf();return Date.now()-j<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,f.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const et=Cr(),{heartbeatsToSend:ft,unsentEntries:$t}=function mr(Je,Te=1024){const et=[];let ft=Je.slice();for(const $t of Je){const Vt=et.find(j=>j.agent===$t.agent);if(Vt){if(Vt.dates.push($t.date),Ir(et)>Te){Vt.dates.pop();break}}else if(et.push({agent:$t.agent,dates:[$t.date]}),Ir(et)>Te){et.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:et,unsentEntries:ft}}(Te._heartbeatsCache.heartbeats),Vt=(0,le.L)(JSON.stringify({version:2,heartbeats:ft}));return Te._heartbeatsCache.lastSentHeartbeatDate=et,$t.length>0?(Te._heartbeatsCache.heartbeats=$t,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Vt})()}}function Cr(){return(new Date).toISOString().substring(0,10)}class ht{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,f.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function Ta(Je){return Wt.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var et=this;return(0,f.Z)(function*(){var ft;if(yield et._canUseIndexedDBPromise){const Vt=yield et.read();return ot(et.app,{lastSentHeartbeatDate:null!==(ft=Te.lastSentHeartbeatDate)&&void 0!==ft?ft:Vt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var et=this;return(0,f.Z)(function*(){var ft;if(yield et._canUseIndexedDBPromise){const Vt=yield et.read();return ot(et.app,{lastSentHeartbeatDate:null!==(ft=Te.lastSentHeartbeatDate)&&void 0!==ft?ft:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...Te.heartbeats]})}})()}}function Ir(Je){return(0,le.L)(JSON.stringify({version:2,heartbeats:Je})).length}!function Ut(Je){an(new Y.wA("platform-logger",Te=>new X(Te),"PRIVATE")),an(new Y.wA("heartbeat",Te=>new uo(Te),"PRIVATE")),zr(re,"0.7.20",Je),zr(re,"0.7.20","esm2017"),zr("fire-js","")}("")},4859:(ut,Se,k)=>{k.d(Se,{wA:()=>O,H0:()=>he});var f=k(5861),Y=k(2090);class O{constructor($,H,J){this.name=$,this.instanceFactory=H,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const le="[DEFAULT]";class X{constructor($,H){this.name=$,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const H=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(H)){const J=new Y.BH;if(this.instancesDeferred.set(H,J),this.isInitialized(H)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:H});ze&&J.resolve(ze)}catch(ze){}}return this.instancesDeferred.get(H).promise}getImmediate($){var H;const J=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),ze=null!==(H=null==$?void 0:$.optional)&&void 0!==H&&H;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ae){if(ze)return null;throw Ae}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function re(ce){return"EAGER"===ce.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:le})}catch(H){}for(const[H,J]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(H);try{const Ae=this.getOrInitializeService({instanceIdentifier:ze});J.resolve(Ae)}catch(Ae){}}}}clearInstance($=le){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,f.Z)(function*(){const H=Array.from($.instances.values());yield Promise.all([...H.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...H.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=le){return this.instances.has($)}getOptions($=le){return this.instancesOptions.get($)||{}}initialize($={}){const{options:H={}}=$,J=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:J,options:H});for(const[Ae,Oe]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ae)&&Oe.resolve(ze);return ze}onInit($,H){var J;const ze=this.normalizeInstanceIdentifier(H),Ae=null!==(J=this.onInitCallbacks.get(ze))&&void 0!==J?J:new Set;Ae.add($),this.onInitCallbacks.set(ze,Ae);const Oe=this.instances.get(ze);return Oe&&$(Oe,ze),()=>{Ae.delete($)}}invokeOnInitCallbacks($,H){const J=this.onInitCallbacks.get(H);if(J)for(const ze of J)try{ze($,H)}catch(Ae){}}getOrInitializeService({instanceIdentifier:$,options:H={}}){let J=this.instances.get($);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=$,ce===le?void 0:ce),options:H}),this.instances.set($,J),this.instancesOptions.set($,H),this.invokeOnInitCallbacks(J,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,J)}catch(ze){}var ce;return J||null}normalizeInstanceIdentifier($=le){return this.component?this.component.multipleInstances?$:le:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor($){this.name=$,this.providers=new Map}addComponent($){const H=this.getProvider($.name);if(H.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);H.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const H=new X($,this);return this.providers.set($,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(ut,Se,k)=>{k.d(Se,{in:()=>Y,Yd:()=>re,Ub:()=>he,Am:()=>ce});const f=[];var Y=(()=>{return($=Y||(Y={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",Y;var $})();const O={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},le=Y.INFO,X={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},ge=($,H,...J)=>{if(H<$.logLevel)return;const ze=(new Date).toISOString(),Ae=X[H];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Ae](`[${ze}]  ${$.name}:`,...J)};class re{constructor(H){this.name=H,this._logLevel=le,this._logHandler=ge,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in Y))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?O[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...H),this._logHandler(this,Y.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...H),this._logHandler(this,Y.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...H),this._logHandler(this,Y.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...H),this._logHandler(this,Y.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...H),this._logHandler(this,Y.ERROR,...H)}}function he($){f.forEach(H=>{H.setLogLevel($)})}function ce($,H){for(const J of f){let ze=null;H&&H.level&&(ze=O[H.level]),J.userLogHandler=null===$?null:(Ae,Oe,...Ve)=>{const fe=Ve.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch(nt){return null}}).filter(be=>be).join(" ");Oe>=(null!=ze?ze:Ae.logLevel)&&$({level:Y[Oe].toLowerCase(),message:fe,args:Ve,type:Ae.name})}}}},5861:(ut,Se,k)=>{function f(O,le,X,ge,re,he,ce){try{var $=O[he](ce),H=$.value}catch(J){return void X(J)}$.done?le(H):Promise.resolve(H).then(ge,re)}function Y(O){return function(){var le=this,X=arguments;return new Promise(function(ge,re){var he=O.apply(le,X);function ce(H){f(he,ge,re,ce,$,"next",H)}function $(H){f(he,ge,re,ce,$,"throw",H)}ce(void 0)})}}k.d(Se,{Z:()=>Y})}},ut=>{ut(ut.s=9957)}]);