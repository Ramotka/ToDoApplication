"use strict";(self.webpackChunkToDoApp=self.webpackChunkToDoApp||[]).push([[179],{2011:(ut,Ae,k)=>{k.d(Ae,{hO:()=>We,xv:()=>ce,Dh:()=>he,GT:()=>ge,cc:()=>Se,on:()=>$,pX:()=>X});var h=k(5e3),Y=k(127),O=k(5813);ut=k.hmd(ut);const ue=["ngOnDestroy"],X=(be,nt,Qe,Ie={})=>new Proxy(be,{get:(_e,we)=>Qe.runOutsideAngular(()=>{var qe;if(be[we])return(null===(qe=null==Ie?void 0:Ie.spy)||void 0===qe?void 0:qe.get)&&Ie.spy.get(we,be[we]),be[we];if(ue.indexOf(we)>-1)return()=>{};const $e=nt.toPromise().then(te=>{const W=te&&te[we];return"function"==typeof W?W.bind(te):W&&W.then?W.then(ie=>Qe.run(()=>ie)):Qe.run(()=>W)});return new Proxy(()=>{},{get:(te,W)=>$e[W],apply:(te,W,ie)=>$e.then(me=>{var se;const Ne=me&&me(...ie);return(null===(se=null==Ie?void 0:Ie.spy)||void 0===se?void 0:se.apply)&&Ie.spy.apply(we,ie,Ne),Ne})})})}),ge=(be,nt)=>{nt.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(Ie=>{Object.defineProperty(be.prototype,Ie,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,Ie))})})};class re{constructor(nt){return nt}}const he=new h.OlP("angularfire2.app.options"),ce=new h.OlP("angularfire2.app.name");function $(be,nt,Qe){const _e="object"==typeof Qe&&Qe||{};_e.name=_e.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const qe=Y.Z.apps.filter($e=>$e&&$e.name===_e.name)[0]||nt.runOutsideAngular(()=>Y.Z.initializeApp(be,_e));try{JSON.stringify(be)!==JSON.stringify(qe.options)&&H("error",`${qe.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch($e){}return new re(qe)}const H=(be,...nt)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[be](...nt)},J={provide:re,useFactory:$,deps:[he,h.R0b,[new h.FiY,ce]]};let We=(()=>{class be{constructor(Qe){Y.Z.registerVersion("angularfire",O.q4.full,"core"),Y.Z.registerVersion("angularfire",O.q4.full,"app-compat"),Y.Z.registerVersion("angular",h.q4F.full,Qe.toString())}static initializeApp(Qe,Ie){return{ngModule:be,providers:[{provide:he,useValue:Qe},{provide:ce,useValue:Ie}]}}}return be.\u0275fac=function(Qe){return new(Qe||be)(h.LFG(h.Lbi))},be.\u0275mod=h.oAB({type:be}),be.\u0275inj=h.cJS({providers:[J]}),be})();function Se(be,nt,Qe,Ie,_e){const[,we,qe]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===be)||[];if(we)return function Oe(be,nt){try{return be.toString()===nt.toString()}catch(Qe){return be===nt}}(_e,qe)||(fe("error",`${nt} was already initialized on the ${Qe} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:_e,was:qe})),we;{const $e=Ie();return globalThis.\u0275AngularfireInstanceCache.push([be,$e,_e]),$e}}const Ve=!!ut.hot,fe=(be,...nt)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[be](...nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ut,Ae,k)=>{k.d(Ae,{q4:()=>$l,iC:()=>Wl,HU:()=>xu,vb:()=>rd,JM:()=>ro});var h=k(5e3),Y=k(5867),O=k(5861),ue=k(9681),X=k(2090),ge=k(4859),re=k(1877);const he="@firebase/installations",H="w:0.5.7",J="FIS_v2",be=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(C){return C instanceof X.ZR&&C.code.includes("request-failed")}function Qe({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Ie(C){return{token:C.token,requestStatus:2,expiresIn:ie(C.expiresIn),creationTime:Date.now()}}function _e(C,I){return we.apply(this,arguments)}function we(){return(we=(0,O.Z)(function*(C,I){const L=(yield I.json()).error;return be.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function qe({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function $e(C,{refreshToken:I}){const R=qe(C);return R.append("Authorization",function me(C){return`${J} ${C}`}(I)),R}function te(C){return W.apply(this,arguments)}function W(){return(W=(0,O.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function ie(C){return Number(C.replace("s","000"))}function se(C,I){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:I},{fid:R}){const L=Qe(C),K=qe(C),ee=I.getImmediate({optional:!0});if(ee){const It=yield ee.getHeartbeatsHeader();It&&K.append("x-firebase-client",It)}const Re={method:"POST",headers:K,body:JSON.stringify({fid:R,authVersion:J,appId:C.appId,sdkVersion:H})},Xe=yield te(()=>fetch(L,Re));if(Xe.ok){const It=yield Xe.json();return{fid:It.fid||R,registrationStatus:2,refreshToken:It.refreshToken,authToken:Ie(It.authToken)}}throw yield _e("Create Installation",Xe)})).apply(this,arguments)}function ae(C){return new Promise(I=>{setTimeout(I,C)})}const en=/^[cdef][\w-]{21}$/;function lt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const R=function wt(C){return function Tt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return en.test(R)?R:""}catch(C){return""}}function dn(C){return`${C.appName}!${C.appId}`}const hn=new Map;function xi(C,I){const R=dn(C);tn(R,I),function zt(C,I){const R=function ui(){return!hr&&"BroadcastChannel"in self&&(hr=new BroadcastChannel("[Firebase] FID Change"),hr.onmessage=C=>{tn(C.data.key,C.data.fid)}),hr}();R&&R.postMessage({key:C,fid:I}),function ks(){0===hn.size&&hr&&(hr.close(),hr=null)}()}(R,I)}function tn(C,I){const R=hn.get(C);if(R)for(const L of R)L(I)}let hr=null;const Lr="firebase-installations-store";let cs=null;function ds(){return cs||(cs=(0,X.X3)("firebase-installations-database",1,(C,I)=>{0===I&&C.createObjectStore(Lr)})),cs}function dt(C,I){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,O.Z)(function*(C,I){const R=dn(C),K=(yield ds()).transaction(Lr,"readwrite"),ee=K.objectStore(Lr),xe=yield ee.get(R);return yield ee.put(I,R),yield K.complete,(!xe||xe.fid!==I.fid)&&xi(C,I.fid),I})).apply(this,arguments)}function sr(C){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,O.Z)(function*(C){const I=dn(C),L=(yield ds()).transaction(Lr,"readwrite");yield L.objectStore(Lr).delete(I),yield L.complete})).apply(this,arguments)}function li(C,I){return co.apply(this,arguments)}function co(){return(co=(0,O.Z)(function*(C,I){const R=dn(C),K=(yield ds()).transaction(Lr,"readwrite"),ee=K.objectStore(Lr),xe=yield ee.get(R),Re=I(xe);return void 0===Re?yield ee.delete(R):yield ee.put(Re,R),yield K.complete,Re&&(!xe||xe.fid!==Re.fid)&&xi(C,Re.fid),Re})).apply(this,arguments)}function wn(C){return or.apply(this,arguments)}function or(){return(or=(0,O.Z)(function*(C){let I;const R=yield li(C.appConfig,L=>{const K=Ps(L),ee=Ia(C,K);return I=ee.registrationPromise,ee.installationEntry});return""===R.fid?{installationEntry:yield I}:{installationEntry:R,registrationPromise:I}})).apply(this,arguments)}function Ps(C){return Ht(C||{fid:lt(),registrationStatus:0})}function Ia(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(be.create("app-offline"))};const R={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function Wt(C,I){return ot.apply(this,arguments)}(C,R);return{installationEntry:R,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Dt(C)}:{installationEntry:I}}function ot(){return(ot=(0,O.Z)(function*(C,I){try{const R=yield se(C,I);return dt(C.appConfig,R)}catch(R){throw nt(R)&&409===R.customData.serverCode?yield sr(C.appConfig):yield dt(C.appConfig,{fid:I.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Dt(C){return fr.apply(this,arguments)}function fr(){return(fr=(0,O.Z)(function*(C){let I=yield Zi(C.appConfig);for(;1===I.registrationStatus;)yield ae(100),I=yield Zi(C.appConfig);if(0===I.registrationStatus){const{installationEntry:R,registrationPromise:L}=yield wn(C);return L||R}return I})).apply(this,arguments)}function Zi(C){return li(C,I=>{if(!I)throw be.create("installation-not-found");return Ht(I)})}function Ht(C){return function ho(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Er(C,I){return pr.apply(this,arguments)}function pr(){return(pr=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:I},R){const L=ht(C,R),K=$e(C,R),ee=I.getImmediate({optional:!0});if(ee){const It=yield ee.getHeartbeatsHeader();It&&K.append("x-firebase-client",It)}const Re={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:H,appId:C.appId}})},Xe=yield te(()=>fetch(L,Re));if(Xe.ok)return Ie(yield Xe.json());throw yield _e("Generate Auth Token",Xe)})).apply(this,arguments)}function ht(C,{fid:I}){return`${Qe(C)}/${I}/authTokens:generate`}function br(C){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,O.Z)(function*(C,I=!1){let R;const L=yield li(C.appConfig,ee=>{if(!Vt(ee))throw be.create("not-registered");const xe=ee.authToken;if(!I&&j(xe))return ee;if(1===xe.requestStatus)return R=Je(C,I),ee;{if(!navigator.onLine)throw be.create("app-offline");const Re=q(ee);return R=ft(C,Re),Re}});return R?yield R:L.authToken})).apply(this,arguments)}function Je(C,I){return Te.apply(this,arguments)}function Te(){return(Te=(0,O.Z)(function*(C,I){let R=yield et(C.appConfig);for(;1===R.authToken.requestStatus;)yield ae(100),R=yield et(C.appConfig);const L=R.authToken;return 0===L.requestStatus?br(C,I):L})).apply(this,arguments)}function et(C){return li(C,I=>{if(!Vt(I))throw be.create("not-registered");return function de(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function ft(C,I){return $t.apply(this,arguments)}function $t(){return($t=(0,O.Z)(function*(C,I){try{const R=yield Er(C,I),L=Object.assign(Object.assign({},I),{authToken:R});return yield dt(C.appConfig,L),R}catch(R){if(!nt(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield dt(C.appConfig,L)}else yield sr(C.appConfig);throw R}})).apply(this,arguments)}function Vt(C){return void 0!==C&&2===C.registrationStatus}function j(C){return 2===C.requestStatus&&!function V(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+36e5}(C)}function q(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}function Be(){return(Be=(0,O.Z)(function*(C){const I=C,{installationEntry:R,registrationPromise:L}=yield wn(I);return L?L.catch(console.error):br(I).catch(console.error),R.fid})).apply(this,arguments)}function Qt(){return(Qt=(0,O.Z)(function*(C,I=!1){const R=C;return yield Dr(R),(yield br(R,I)).token})).apply(this,arguments)}function Dr(C){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,O.Z)(function*(C){const{registrationPromise:I}=yield wn(C);I&&(yield I)})).apply(this,arguments)}function Qn(C){return be.create("missing-app-config-values",{valueName:C})}const Aa="installations",ke=C=>{const I=C.getProvider("app").getImmediate(),R=function hs(C){if(!C||!C.options)throw Qn("App Configuration");if(!C.name)throw Qn("App Name");const I=["projectId","apiKey","appId"];for(const R of I)if(!C.options[R])throw Qn(R);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:R,heartbeatServiceProvider:(0,ue._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Pt=C=>{const I=C.getProvider("app").getImmediate(),R=(0,ue._getProvider)(I,Aa).getImmediate();return{getId:()=>function Q(C){return Be.apply(this,arguments)}(R),getToken:K=>function Et(C){return Qt.apply(this,arguments)}(R,K)}};(function gn(){(0,ue._registerComponent)(new ge.wA(Aa,ke,"PUBLIC")),(0,ue._registerComponent)(new ge.wA("installations-internal",Pt,"PRIVATE"))})(),(0,ue.registerVersion)(he,"0.5.7"),(0,ue.registerVersion)(he,"0.5.7","esm2017");const gr="@firebase/remote-config",Pn=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Fh{constructor(I,R,L,K){this.client=I,this.storage=R,this.storageCache=L,this.logger=K}isCachedDataFresh(I,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-R,K=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${K}.`),K}fetch(I){var R=this;return(0,O.Z)(function*(){const[L,K]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(K&&R.isCachedDataFresh(I.cacheMaxAgeMillis,L))return K;I.eTag=K&&K.eTag;const ee=yield R.client.fetch(I),xe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&xe.push(R.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(xe),ee})()}}function Lc(C=navigator){return C.languages&&C.languages[0]||C.language}class cu{constructor(I,R,L,K,ee,xe){this.firebaseInstallations=I,this.sdkVersion=R,this.namespace=L,this.projectId=K,this.apiKey=ee,this.appId=xe}fetch(I){var R=this;return(0,O.Z)(function*(){const[L,K]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Re={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Xe={sdk_version:R.sdkVersion,app_instance_id:L,app_instance_id_token:K,app_id:R.appId,language_code:Lc()},It={method:"POST",headers:Re,body:JSON.stringify(Xe)},kt=fetch(xe,It),St=new Promise((vi,Bi)=>{I.signal.addEventListener(()=>{const So=new Error("The operation was aborted.");So.name="AbortError",Bi(So)})});let Kn;try{yield Promise.race([kt,St]),Kn=yield kt}catch(vi){let Bi="fetch-client-network";throw"AbortError"===vi.name&&(Bi="fetch-timeout"),Pn.create(Bi,{originalErrorMessage:vi.message})}let xn=Kn.status;const ia=Kn.headers.get("ETag")||void 0;let Ao,jr;if(200===Kn.status){let vi;try{vi=yield Kn.json()}catch(Bi){throw Pn.create("fetch-client-parse",{originalErrorMessage:Bi.message})}Ao=vi.entries,jr=vi.state}if("INSTANCE_STATE_UNSPECIFIED"===jr?xn=500:"NO_CHANGE"===jr?xn=304:("NO_TEMPLATE"===jr||"EMPTY_CONFIG"===jr)&&(Ao={}),304!==xn&&200!==xn)throw Pn.create("fetch-status",{httpStatus:xn});return{status:xn,eTag:ia,config:Ao}})()}}class Hp{constructor(I,R){this.client=I,this.storage=R}fetch(I){var R=this;return(0,O.Z)(function*(){const L=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:R,backoffCount:L}){var K=this;return(0,O.Z)(function*(){yield function qn(C,I){return new Promise((R,L)=>{const K=Math.max(I-Date.now(),0),ee=setTimeout(R,K);C.addEventListener(()=>{clearTimeout(ee),L(Pn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,R);try{const ee=yield K.client.fetch(I);return yield K.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function Vc(C){if(!(C instanceof X.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ee))throw ee;const xe={throttleEndTimeMillis:Date.now()+(0,X.$s)(L),backoffCount:L+1};return yield K.storage.setThrottleMetadata(xe),K.attemptFetch(I,xe)}})()}}class Ma{constructor(I,R,L,K,ee){this.app=I,this._client=R,this._storageCache=L,this._storage=K,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _l(C,I){const R=C.target.error||void 0;return Pn.create(I,{originalErrorMessage:R&&R.message})}const js="app_namespace_store";class Lh{constructor(I,R,L,K=function zp(){return new Promise((C,I)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=L=>{I(_l(L,"storage-open"))},R.onsuccess=L=>{C(L.target.result)},R.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(js,{keyPath:"compositeKey"})}}catch(R){I(Pn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=I,this.appName=R,this.namespace=L,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var R=this;return(0,O.Z)(function*(){const L=yield R.openDbPromise;return new Promise((K,ee)=>{const Re=L.transaction([js],"readonly").objectStore(js),Xe=R.createCompositeKey(I);try{const It=Re.get(Xe);It.onerror=kt=>{ee(_l(kt,"storage-get"))},It.onsuccess=kt=>{const St=kt.target.result;K(St?St.value:void 0)}}catch(It){ee(Pn.create("storage-get",{originalErrorMessage:It&&It.message}))}})})()}set(I,R){var L=this;return(0,O.Z)(function*(){const K=yield L.openDbPromise;return new Promise((ee,xe)=>{const Xe=K.transaction([js],"readwrite").objectStore(js),It=L.createCompositeKey(I);try{const kt=Xe.put({compositeKey:It,value:R});kt.onerror=St=>{xe(_l(St,"storage-set"))},kt.onsuccess=()=>{ee()}}catch(kt){xe(Pn.create("storage-set",{originalErrorMessage:kt&&kt.message}))}})})()}delete(I){var R=this;return(0,O.Z)(function*(){const L=yield R.openDbPromise;return new Promise((K,ee)=>{const Re=L.transaction([js],"readwrite").objectStore(js),Xe=R.createCompositeKey(I);try{const It=Re.delete(Xe);It.onerror=kt=>{ee(_l(kt,"storage-delete"))},It.onsuccess=()=>{K()}}catch(It){ee(Pn.create("storage-delete",{originalErrorMessage:It&&It.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Uc{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,O.Z)(function*(){const R=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),K=I.storage.getActiveConfig(),ee=yield R;ee&&(I.lastFetchStatus=ee);const xe=yield L;xe&&(I.lastSuccessfulFetchTimestampMillis=xe);const Re=yield K;Re&&(I.activeConfig=Re)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function po(){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,O.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}!function Go(){(0,ue._registerComponent)(new ge.wA("remote-config",function C(I,{instanceIdentifier:R}){const L=I.getProvider("app").getImmediate(),K=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Pn.create("registration-window");if(!(0,X.hl)())throw Pn.create("indexed-db-unavailable");const{projectId:ee,apiKey:xe,appId:Re}=L.options;if(!ee)throw Pn.create("registration-project-id");if(!xe)throw Pn.create("registration-api-key");if(!Re)throw Pn.create("registration-app-id");const Xe=new Lh(Re,L.name,R=R||"firebase"),It=new Uc(Xe),kt=new re.Yd(gr);kt.logLevel=re.in.ERROR;const St=new cu(K,ue.SDK_VERSION,R,ee,xe,Re),Kn=new Hp(St,Xe),xn=new Fh(Kn,Xe,It,kt),ia=new Ma(L,xn,It,Xe,kt);return function Yr(C){const I=(0,X.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ia),ia},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(gr,"0.3.6"),(0,ue.registerVersion)(gr,"0.3.6","esm2017")}();const vl="/firebase-messaging-sw.js",$s="/firebase-cloud-messaging-push-scope",Jr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",go="google.c.a.c_id",xa="google.c.a.c_l",jc="google.c.a.ts",Wp="google.c.a.e";var Hs=(()=>{return(C=Hs||(Hs={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Hs;var C})();function hi(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hu(C){const R=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(R),K=new Uint8Array(L.length);for(let ee=0;ee<L.length;++ee)K[ee]=L.charCodeAt(ee);return K}const fu="fcm_token_details_db",yr="fcm_token_object_Store";function Bh(C){return pu.apply(this,arguments)}function pu(){return pu=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(fu))return null;let I=null;return(yield(0,X.X3)(fu,5,function(){var L=(0,O.Z)(function*(K,ee,xe,Re){var Xe;if(ee<2||!K.objectStoreNames.contains(yr))return;const It=Re.objectStore(yr),kt=yield It.index("fcmSenderId").get(C);if(yield It.clear(),kt)if(2===ee){const St=kt;if(!St.auth||!St.p256dh||!St.endpoint)return;I={token:St.fcmToken,createTime:null!==(Xe=St.createTime)&&void 0!==Xe?Xe:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:hi(St.vapidKey)}}}else if(3===ee){const St=kt;I={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:hi(St.auth),p256dh:hi(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:hi(St.vapidKey)}}}else if(4===ee){const St=kt;I={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:hi(St.auth),p256dh:hi(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:hi(St.vapidKey)}}}});return function(K,ee,xe,Re){return L.apply(this,arguments)}}())).close(),yield(0,X.Lj)(fu),yield(0,X.Lj)("fcm_vapid_details_db"),yield(0,X.Lj)("undefined"),$c(I)?I:null}),pu.apply(this,arguments)}function $c(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const ms="firebase-messaging-store";let Ra=null;function wl(){return Ra||(Ra=(0,X.X3)("firebase-messaging-database",1,(C,I)=>{0===I&&C.createObjectStore(ms)})),Ra}function yn(C){return zo.apply(this,arguments)}function zo(){return(zo=(0,O.Z)(function*(C){const I=yo(C),L=yield(yield wl()).transaction(ms).objectStore(ms).get(I);if(L)return L;{const K=yield Bh(C.appConfig.senderId);if(K)return yield Gs(C,K),K}})).apply(this,arguments)}function Gs(C,I){return cn.apply(this,arguments)}function cn(){return(cn=(0,O.Z)(function*(C,I){const R=yo(C),K=(yield wl()).transaction(ms,"readwrite");return yield K.objectStore(ms).put(I,R),yield K.complete,I})).apply(this,arguments)}function Hc(C){return mo.apply(this,arguments)}function mo(){return(mo=(0,O.Z)(function*(C){const I=yo(C),L=(yield wl()).transaction(ms,"readwrite");yield L.objectStore(ms).delete(I),yield L.complete})).apply(this,arguments)}function yo({appConfig:C}){return C.appId}const Fn=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Na(C,I){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,O.Z)(function*(C,I){const R=yield zs(C),L=pt(I),K={method:"POST",headers:R,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(Xr(C.appConfig),K)).json()}catch(xe){throw Fn.create("token-subscribe-failed",{errorInfo:xe})}if(ee.error)throw Fn.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw Fn.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function Tr(C,I){return qs.apply(this,arguments)}function qs(){return(qs=(0,O.Z)(function*(C,I){const R=yield zs(C),L=pt(I.subscriptionOptions),K={method:"PATCH",headers:R,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(`${Xr(C.appConfig)}/${I.token}`,K)).json()}catch(xe){throw Fn.create("token-update-failed",{errorInfo:xe})}if(ee.error)throw Fn.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw Fn.create("token-update-no-token");return ee.token})).apply(this,arguments)}function ys(C,I){return yu.apply(this,arguments)}function yu(){return(yu=(0,O.Z)(function*(C,I){const L={method:"DELETE",headers:yield zs(C)};try{const ee=yield(yield fetch(`${Xr(C.appConfig)}/${I}`,L)).json();if(ee.error)throw Fn.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(K){throw Fn.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function Xr({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function zs(C){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,O.Z)(function*({appConfig:C,installations:I}){const R=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function pt({p256dh:C,auth:I,endpoint:R,vapidKey:L}){const K={web:{endpoint:R,auth:I,p256dh:C}};return L!==Jr&&(K.web.applicationPubKey=L),K}const _u=6048e5;function Oa(C){return vu.apply(this,arguments)}function vu(){return(vu=(0,O.Z)(function*(C){const I=yield Dl(C.swRegistration,C.vapidKey),R={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:hi(I.getKey("auth")),p256dh:hi(I.getKey("p256dh"))},L=yield yn(C.firebaseDependencies);if(L){if(Wo(L.subscriptionOptions,R))return Date.now()>=L.createTime+_u?El(C,{token:L.token,createTime:Date.now(),subscriptionOptions:R}):L.token;try{yield ys(C.firebaseDependencies,L.token)}catch(K){console.warn(K)}return De(C.firebaseDependencies,R)}return De(C.firebaseDependencies,R)})).apply(this,arguments)}function wu(C){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,O.Z)(function*(C){const I=yield yn(C.firebaseDependencies);I&&(yield ys(C.firebaseDependencies,I.token),yield Hc(C.firebaseDependencies));const R=yield C.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function El(C,I){return bl.apply(this,arguments)}function bl(){return(bl=(0,O.Z)(function*(C,I){try{const R=yield Tr(C.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:R,createTime:Date.now()});return yield Gs(C.firebaseDependencies,L),R}catch(R){throw yield wu(C),R}})).apply(this,arguments)}function De(C,I){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,O.Z)(function*(C,I){const L={token:yield Na(C,I),createTime:Date.now(),subscriptionOptions:I};return yield Gs(C,L),L.token})).apply(this,arguments)}function Dl(C,I){return En.apply(this,arguments)}function En(){return(En=(0,O.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hu(I)})})).apply(this,arguments)}function Wo(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}function Ko(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function ei(C,I){if(!I.notification)return;C.notification={};const R=I.notification.title;R&&(C.notification.title=R);const L=I.notification.body;L&&(C.notification.body=L);const K=I.notification.image;K&&(C.notification.image=K)}(I,C),function Cl(C,I){!I.data||(C.data=I.data)}(I,C),function Il(C,I){if(!I.fcmOptions)return;C.fcmOptions={};const R=I.fcmOptions.link;R&&(C.fcmOptions.link=R);const L=I.fcmOptions.analytics_label;L&&(C.fcmOptions.analyticsLabel=L)}(I,C),I}function Gc(C){return"object"==typeof C&&!!C&&go in C}function Tl(C,I){const R=[];for(let L=0;L<C.length;L++)R.push(C.charAt(L)),L<I.length&&R.push(I.charAt(L));return R.join("")}function Ks(C){return Fn.create("missing-app-config-values",{valueName:C})}Tl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Tl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _r{constructor(I,R,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function bu(C){if(!C||!C.options)throw Ks("App Configuration Object");if(!C.name)throw Ks("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:R}=C;for(const L of I)if(!R[L])throw Ks(L);return{appName:C.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:K,installations:R,analyticsProvider:L}}_delete(){return Promise.resolve()}}function fi(C){return Du.apply(this,arguments)}function Du(){return(Du=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(vl,{scope:$s}),C.swRegistration.update().catch(()=>{})}catch(I){throw Fn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function Zs(C,I){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,O.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield fi(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Fn.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function Al(C,I){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,O.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=Jr)})).apply(this,arguments)}function Sl(){return(Sl=(0,O.Z)(function*(C,I){if(!navigator)throw Fn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Fn.create("permission-blocked");return yield Al(C,null==I?void 0:I.vapidKey),yield Zs(C,null==I?void 0:I.serviceWorkerRegistration),Oa(C)})).apply(this,arguments)}function ka(C,I,R){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,O.Z)(function*(C,I,R){const L=Ml(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:R[go],message_name:R[xa],message_time:R[jc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ml(C){switch(C){case Hs.NOTIFICATION_CLICKED:return"notification_open";case Hs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function qc(){return(qc=(0,O.Z)(function*(C,I){const R=I.data;if(!R.isFirebaseMessaging)return;C.onMessageHandler&&R.messageType===Hs.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Ko(R)):C.onMessageHandler.next(Ko(R)));const L=R.data;Gc(L)&&"1"===L[Wp]&&(yield ka(C,R.messageType,L))})).apply(this,arguments)}const Rl="@firebase/messaging",zc=C=>{const I=new _r(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function xl(C,I){return qc.apply(this,arguments)}(I,R)),I},vo=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:L=>function Iu(C,I){return Sl.apply(this,arguments)}(I,L)}};function Kc(){return wo.apply(this,arguments)}function wo(){return(wo=(0,O.Z)(function*(){try{yield(0,X.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Wc(){(0,ue._registerComponent)(new ge.wA("messaging",zc,"PUBLIC")),(0,ue._registerComponent)(new ge.wA("messaging-internal",vo,"PRIVATE")),(0,ue.registerVersion)(Rl,"0.9.11"),(0,ue.registerVersion)(Rl,"0.9.11","esm2017")}();const Ol="analytics",My="firebase_id",Pa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tu="https://www.googletagmanager.com/gtag/js",zn=new re.Yd("@firebase/analytics");function Zc(C){return Promise.all(C.map(I=>I.catch(R=>R)))}function Kp(C,I){const R=document.createElement("script");R.src=`${Tu}?l=${C}&id=${I}`,R.async=!0,document.head.appendChild(R)}function Yo(C,I,R,L,K,ee){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,O.Z)(function*(C,I,R,L,K,ee){const xe=L[K];try{if(xe)yield I[xe];else{const Xe=(yield Zc(R)).find(It=>It.measurementId===K);Xe&&(yield I[Xe.appId])}}catch(Re){zn.error(Re)}C("config",K,ee)})).apply(this,arguments)}function Pl(C,I,R,L,K){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,O.Z)(function*(C,I,R,L,K){try{let ee=[];if(K&&K.send_to){let xe=K.send_to;Array.isArray(xe)||(xe=[xe]);const Re=yield Zc(R);for(const Xe of xe){const It=Re.find(St=>St.measurementId===Xe),kt=It&&I[It.appId];if(!kt){ee=[];break}ee.push(kt)}}0===ee.length&&(ee=Object.values(I)),yield Promise.all(ee),C("event",L,K||{})}catch(ee){zn.error(ee)}})).apply(this,arguments)}function Zp(){const C=window.document.getElementsByTagName("script");for(const I of Object.values(C))if(I.src&&I.src.includes(Tu))return I;return null}const Vn=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Vr=new class ti{constructor(I={},R=1e3){this.throttleMetadata=I,this.intervalMillis=R}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,R){this.throttleMetadata[I]=R}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Qo(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Jc(C){return mn.apply(this,arguments)}function mn(){return(mn=(0,O.Z)(function*(C){var I;const{appId:R,apiKey:L}=C,K={method:"GET",headers:Qo(L)},ee=Pa.replace("{app-id}",R),xe=yield fetch(ee,K);if(200!==xe.status&&304!==xe.status){let Re="";try{const Xe=yield xe.json();(null===(I=Xe.error)||void 0===I?void 0:I.message)&&(Re=Xe.error.message)}catch(Xe){}throw Vn.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:Re})}return xe.json()})).apply(this,arguments)}function $h(C){return ki.apply(this,arguments)}function ki(){return(ki=(0,O.Z)(function*(C,I=Vr,R){const{appId:L,apiKey:K,measurementId:ee}=C.options;if(!L)throw Vn.create("no-app-id");if(!K){if(ee)return{measurementId:ee,appId:L};throw Vn.create("no-api-key")}const xe=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Re=new Fl;return setTimeout((0,O.Z)(function*(){Re.abort()}),void 0!==R?R:6e4),Au({appId:L,apiKey:K,measurementId:ee},xe,Re,I)})).apply(this,arguments)}function Au(C,I,R){return pi.apply(this,arguments)}function pi(){return(pi=(0,O.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:R},L,K=Vr){const{appId:ee,measurementId:xe}=C;try{yield Ot(L,I)}catch(Re){if(xe)return zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${Re.message}]`),{appId:ee,measurementId:xe};throw Re}try{const Re=yield Jc(C);return K.deleteThrottleMetadata(ee),Re}catch(Re){if(!Xc(Re)){if(K.deleteThrottleMetadata(ee),xe)return zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${Re.message}]`),{appId:ee,measurementId:xe};throw Re}const Xe=503===Number(Re.customData.httpStatus)?(0,X.$s)(R,K.intervalMillis,30):(0,X.$s)(R,K.intervalMillis),It={throttleEndTimeMillis:Date.now()+Xe,backoffCount:R+1};return K.setThrottleMetadata(ee,It),zn.debug(`Calling attemptFetch again in ${Xe} millis`),Au(C,It,L,K)}})).apply(this,arguments)}function Ot(C,I){return new Promise((R,L)=>{const K=Math.max(I-Date.now(),0),ee=setTimeout(R,K);C.addEventListener(()=>{clearTimeout(ee),L(Vn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Xc(C){if(!(C instanceof X.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Fl{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Ll(){return bo.apply(this,arguments)}function bo(){return(bo=(0,O.Z)(function*(){if(!(0,X.hl)())return zn.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(C){return zn.warn(Vn.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function ws(){return(ws=(0,O.Z)(function*(C,I,R,L,K,ee,xe){var Re;const Xe=$h(C);Xe.then(xn=>{R[xn.measurementId]=xn.appId,C.options.measurementId&&xn.measurementId!==C.options.measurementId&&zn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${xn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(xn=>zn.error(xn)),I.push(Xe);const It=Ll().then(xn=>{if(xn)return L.getId()}),[kt,St]=yield Promise.all([Xe,It]);Zp()||Kp(ee,kt.measurementId),K("js",new Date);const Kn=null!==(Re=null==xe?void 0:xe.config)&&void 0!==Re?Re:{};return Kn.origin="firebase",Kn.update=!0,null!=St&&(Kn[My]=St),K("config",kt.measurementId,Kn),kt.measurementId})).apply(this,arguments)}class Jo{constructor(I){this.app=I}_delete(){return delete gi[this.app.options.appId],Promise.resolve()}}let gi={},Js=[];const mi={};let Xs,Ji,Qi="dataLayer",Bl=!1;function Pi(C,I,R){!function Do(){const C=[];if((0,X.ru)()&&C.push("This is a browser extension environment."),(0,X.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((L,K)=>`(${K+1}) ${L}`).join(" "),R=Vn.create("invalid-analytics-context",{errorInfo:I});zn.warn(R.message)}}();const L=C.options.appId;if(!L)throw Vn.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Vn.create("no-api-key");zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=gi[L])throw Vn.create("already-exists",{id:L});if(!Bl){!function vs(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(Qi);const{wrappedGtag:ee,gtagCore:xe}=function jh(C,I,R,L,K){let ee=function(...xe){window[L].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ee=window[K]),window[K]=function Qc(C,I,R,L){function ee(){return(ee=(0,O.Z)(function*(xe,Re,Xe){try{"event"===xe?yield Pl(C,I,R,Re,Xe):"config"===xe?yield Yo(C,I,R,L,Re,Xe):C("set",Re)}catch(It){zn.error(It)}})).apply(this,arguments)}return function K(xe,Re,Xe){return ee.apply(this,arguments)}}(ee,C,I,R),{gtagCore:ee,wrappedGtag:window[K]}}(gi,Js,mi,Qi,"gtag");Ji=ee,Xs=xe,Bl=!0}return gi[L]=function Wn(C,I,R,L,K,ee,xe){return ws.apply(this,arguments)}(C,Js,mi,I,Xs,Qi,R),new Jo(C)}function ea(){return(ea=(0,O.Z)(function*(C,I,R,L,K){if(K&&K.global)C("event",R,L);else{const ee=yield I;C("event",R,Object.assign(Object.assign({},L),{send_to:ee}))}})).apply(this,arguments)}function Cn(){return eo.apply(this,arguments)}function eo(){return(eo=(0,O.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}const to="@firebase/analytics";!function Xp(){(0,ue._registerComponent)(new ge.wA(Ol,(I,{options:R})=>Pi(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ue._registerComponent)(new ge.wA("analytics-internal",function C(I){try{const R=I.getProvider(Ol).getImmediate();return{logEvent:(L,K,ee)=>function Jp(C,I,R,L){C=(0,X.m9)(C),function Xo(C,I,R,L,K){return ea.apply(this,arguments)}(Ji,gi[C.app.options.appId],I,R,L).catch(K=>zn.error(K))}(R,L,K,ee)}}catch(R){throw Vn.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ue.registerVersion)(to,"0.7.7"),(0,ue.registerVersion)(to,"0.7.7","esm2017")}();var no=k(4408),Su=k(7565);const Ul=new class In extends Su.v{}(class Es extends no.o{constructor(I,R){super(I,R),this.scheduler=I,this.work=R}schedule(I,R=0){return R>0?super.schedule(I,R):(this.delay=R,this.state=I,this.scheduler.flush(this),this)}execute(I,R){return R>0||this.closed?super.execute(I,R):this._execute(I,R)}requestAsyncId(I,R,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,R,L):I.flush(this)}});var eg=k(4986),jl=k(8505),Mr=k(9468),yi=k(5363);const $l=new h.GfV("7.3.0"),bs="__angularfire_symbol__analyticsIsSupportedValue",Vi="__angularfire_symbol__analyticsIsSupported",ts="__angularfire_symbol__remoteConfigIsSupportedValue",Fa="__angularfire_symbol__remoteConfigIsSupported",Hl="__angularfire_symbol__messagingIsSupportedValue",Gl="__angularfire_symbol__messagingIsSupported";function ro(C,I,R){if(I){if(1===I.length)return I[0];const ee=I.filter(xe=>xe.app===R);if(1===ee.length)return ee[0]}return R.container.getProvider(C).getImmediate({optional:!0})}globalThis[Vi]||(globalThis[Vi]=Cn().then(C=>globalThis[bs]=C).catch(()=>globalThis[bs]=!1)),globalThis[Gl]||(globalThis[Gl]=Kc().then(C=>globalThis[Hl]=C).catch(()=>globalThis[Hl]=!1)),globalThis[Fa]||(globalThis[Fa]=po().then(C=>globalThis[ts]=C).catch(()=>globalThis[ts]=!1));const rd=(C,I)=>{const R=I?[I]:(0,Y.C6)(),L=[];return R.forEach(K=>{K.container.getProvider(C).instances.forEach(xe=>{L.includes(xe)||L.push(xe)})}),L};function Io(){}class Mu{constructor(I,R=Ul){this.zone=I,this.delegate=R}now(){return this.delegate.now()}schedule(I,R,L){const K=this.zone;return this.delegate.schedule(function(xe){K.runGuarded(()=>{I.apply(this,[xe])})},R,L)}}class ns{constructor(I){this.zone=I,this.task=null}call(I,R){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Io,{},Io,Io)),R.pipe((0,jl.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xu=(()=>{class C{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Mu(Zone.current)),this.insideAngular=R.run(()=>new Mu(Zone.current,eg.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(R){return new(R||C)(h.LFG(h.R0b))},C.\u0275prov=h.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function rs(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Wl(C){return rs(),function To(C){return function(R){return(R=R.lift(new ns(C.ngZone))).pipe((0,Mr.R)(C.outsideAngular),(0,yi.Q)(C.insideAngular))}}(rs())(C)}},2090:(ut,Ae,k)=>{k.d(Ae,{BH:()=>Se,LL:()=>Tt,ZR:()=>ae,zI:()=>me,US:()=>re,tV:()=>$,L:()=>ce,$s:()=>ho,r3:()=>tn,Sg:()=>Oe,ne:()=>dt,vZ:()=>ks,ZB:()=>J,Lj:()=>$t,pd:()=>cs,m9:()=>ht,z$:()=>Ve,jU:()=>nt,ru:()=>Qe,d:()=>_e,xb:()=>hr,w1:()=>we,hl:()=>W,uI:()=>fe,UG:()=>be,b$:()=>Ie,G6:()=>te,Mn:()=>qe,X3:()=>ft,xO:()=>Ki,zd:()=>Lr,eu:()=>ie});var h=k(5861);const X=function(j){const V=[];let q=0;for(let de=0;de<j.length;de++){let Q=j.charCodeAt(de);Q<128?V[q++]=Q:Q<2048?(V[q++]=Q>>6|192,V[q++]=63&Q|128):55296==(64512&Q)&&de+1<j.length&&56320==(64512&j.charCodeAt(de+1))?(Q=65536+((1023&Q)<<10)+(1023&j.charCodeAt(++de)),V[q++]=Q>>18|240,V[q++]=Q>>12&63|128,V[q++]=Q>>6&63|128,V[q++]=63&Q|128):(V[q++]=Q>>12|224,V[q++]=Q>>6&63|128,V[q++]=63&Q|128)}return V},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,V){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let Q=0;Q<j.length;Q+=3){const Be=j[Q],Et=Q+1<j.length,Qt=Et?j[Q+1]:0,Dr=Q+2<j.length,Kt=Dr?j[Q+2]:0;let pn=(15&Qt)<<2|Kt>>6,ar=63&Kt;Dr||(ar=64,Et||(pn=64)),de.push(q[Be>>2],q[(3&Be)<<4|Qt>>4],q[pn],q[ar])}return de.join("")},encodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(j):this.encodeByteArray(X(j),V)},decodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(j):function(j){const V=[];let q=0,de=0;for(;q<j.length;){const Q=j[q++];if(Q<128)V[de++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const Be=j[q++];V[de++]=String.fromCharCode((31&Q)<<6|63&Be)}else if(Q>239&&Q<365){const Dr=((7&Q)<<18|(63&j[q++])<<12|(63&j[q++])<<6|63&j[q++])-65536;V[de++]=String.fromCharCode(55296+(Dr>>10)),V[de++]=String.fromCharCode(56320+(1023&Dr))}else{const Be=j[q++],Et=j[q++];V[de++]=String.fromCharCode((15&Q)<<12|(63&Be)<<6|63&Et)}}return V.join("")}(this.decodeStringToByteArray(j,V))},decodeStringToByteArray(j,V){this.init_();const q=V?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let Q=0;Q<j.length;){const Be=q[j.charAt(Q++)],Qt=Q<j.length?q[j.charAt(Q)]:0;++Q;const Kt=Q<j.length?q[j.charAt(Q)]:64;++Q;const Nt=Q<j.length?q[j.charAt(Q)]:64;if(++Q,null==Be||null==Qt||null==Kt||null==Nt)throw Error();de.push(Be<<2|Qt>>4),64!==Kt&&(de.push(Qt<<4&240|Kt>>2),64!==Nt&&de.push(Kt<<6&192|Nt))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},ce=function(j){return function(j){const V=X(j);return re.encodeByteArray(V,!0)}(j).replace(/\./g,"")},$=function(j){try{return re.decodeString(j,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function J(j,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return V}for(const q in V)!V.hasOwnProperty(q)||!We(q)||(j[q]=J(j[q],V[q]));return j}function We(j){return"__proto__"!==j}class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,q)=>{this.resolve=V,this.reject=q})}wrapCallback(V){return(q,de)=>{q?this.reject(q):this.resolve(de),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(q):V(q,de))}}}function Oe(j,V){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=V||"demo-project",Q=j.iat||0,Be=j.sub||j.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:Q,exp:Q+3600,auth_time:Q,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(Et)),""].join(".")}function Ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function nt(){return"object"==typeof self&&self.self===self}function Qe(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){return Ve().indexOf("Electron/")>=0}function we(){const j=Ve();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function qe(){return Ve().indexOf("MSAppHost/")>=0}function te(){return!be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W(){return"object"==typeof indexedDB}function ie(){return new Promise((j,V)=>{try{let q=!0;const de="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(de);Q.onsuccess=()=>{Q.result.close(),q||self.indexedDB.deleteDatabase(de),j(!0)},Q.onupgradeneeded=()=>{q=!1},Q.onerror=()=>{var Be;V((null===(Be=Q.error)||void 0===Be?void 0:Be.message)||"")}}catch(q){V(q)}})}function me(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ae extends Error{constructor(V,q,de){super(q),this.code=V,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tt.prototype.create)}}class Tt{constructor(V,q,de){this.service=V,this.serviceName=q,this.errors=de}create(V,...q){const de=q[0]||{},Q=`${this.service}/${V}`,Be=this.errors[V],Et=Be?function en(j,V){return j.replace(kn,(q,de)=>{const Q=V[de];return null!=Q?String(Q):`<${de}?>`})}(Be,de):"Error";return new ae(Q,`${this.serviceName}: ${Et} (${Q}).`,de)}}const kn=/\{\$([^}]+)}/g;function tn(j,V){return Object.prototype.hasOwnProperty.call(j,V)}function hr(j){for(const V in j)if(Object.prototype.hasOwnProperty.call(j,V))return!1;return!0}function ks(j,V){if(j===V)return!0;const q=Object.keys(j),de=Object.keys(V);for(const Q of q){if(!de.includes(Q))return!1;const Be=j[Q],Et=V[Q];if(Fr(Be)&&Fr(Et)){if(!ks(Be,Et))return!1}else if(Be!==Et)return!1}for(const Q of de)if(!q.includes(Q))return!1;return!0}function Fr(j){return null!==j&&"object"==typeof j}function Ki(j){const V=[];for(const[q,de]of Object.entries(j))Array.isArray(de)?de.forEach(Q=>{V.push(encodeURIComponent(q)+"="+encodeURIComponent(Q))}):V.push(encodeURIComponent(q)+"="+encodeURIComponent(de));return V.length?"&"+V.join("&"):""}function Lr(j){const V={};return j.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[Q,Be]=de.split("=");V[decodeURIComponent(Q)]=decodeURIComponent(Be)}}),V}function cs(j){const V=j.indexOf("?");if(!V)return"";const q=j.indexOf("#",V);return j.substring(V,q>0?q:void 0)}function dt(j,V){const q=new Zr(j,V);return q.subscribe.bind(q)}class Zr{constructor(V,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{V(this)}).catch(de=>{this.error(de)})}next(V){this.forEachObserver(q=>{q.next(V)})}error(V){this.forEachObserver(q=>{q.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,q,de){let Q;if(void 0===V&&void 0===q&&void 0===de)throw new Error("Missing Observer.");Q=function Yn(j,V){if("object"!=typeof j||null===j)return!1;for(const q of V)if(q in j&&"function"==typeof j[q])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:q,complete:de},void 0===Q.next&&(Q.next=li),void 0===Q.error&&(Q.error=li),void 0===Q.complete&&(Q.complete=li);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(Et){}}),this.observers.push(Q),Be}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,V)}sendOne(V,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{q(this.observers[V])}catch(de){"undefined"!=typeof console&&console.error&&console.error(de)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function li(){}function ho(j,V=1e3,q=2){const de=V*Math.pow(q,j),Q=Math.round(.5*de*(Math.random()-.5)*2);return Math.min(144e5,de+Q)}function ht(j){return j&&j._delegate?j._delegate:j}function br(j,V){return new Promise((q,de)=>{j.onsuccess=Q=>{q(Q.target.result)},j.onerror=Q=>{var Be;de(`${V}: ${null===(Be=Q.target.error)||void 0===Be?void 0:Be.message}`)}})}class Ut{constructor(V){this._db=V,this.objectStoreNames=this._db.objectStoreNames}transaction(V,q){return new Je(this._db.transaction.call(this._db,V,q))}createObjectStore(V,q){return new Te(this._db.createObjectStore(V,q))}close(){this._db.close()}}class Je{constructor(V){this._transaction=V,this.complete=new Promise((q,de)=>{this._transaction.oncomplete=function(){q()},this._transaction.onerror=()=>{de(this._transaction.error)},this._transaction.onabort=()=>{de(this._transaction.error)}})}objectStore(V){return new Te(this._transaction.objectStore(V))}}class Te{constructor(V){this._store=V}index(V){return new et(this._store.index(V))}createIndex(V,q,de){return new et(this._store.createIndex(V,q,de))}get(V){return br(this._store.get(V),"Error reading from IndexedDB")}put(V,q){return br(this._store.put(V,q),"Error writing to IndexedDB")}delete(V){return br(this._store.delete(V),"Error deleting from IndexedDB")}clear(){return br(this._store.clear(),"Error clearing IndexedDB object store")}}class et{constructor(V){this._index=V}get(V){return br(this._index.get(V),"Error reading from IndexedDB")}}function ft(j,V,q){return new Promise((de,Q)=>{try{const Be=indexedDB.open(j,V);Be.onsuccess=Et=>{de(new Ut(Et.target.result))},Be.onerror=Et=>{var Qt;Q(`Error opening indexedDB: ${null===(Qt=Et.target.error)||void 0===Qt?void 0:Qt.message}`)},Be.onupgradeneeded=Et=>{q(new Ut(Be.result),Et.oldVersion,Et.newVersion,new Je(Be.transaction))}}catch(Be){Q(`Error opening indexedDB: ${Be.message}`)}})}function $t(j){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,h.Z)(function*(j){return new Promise((V,q)=>{try{const de=indexedDB.deleteDatabase(j);de.onsuccess=()=>{V()},de.onerror=Q=>{var Be;q(`Error deleting indexedDB database "${j}": ${null===(Be=Q.target.error)||void 0===Be?void 0:Be.message}`)}}catch(de){q(`Error deleting indexedDB database "${j}": ${de.message}`)}})})).apply(this,arguments)}},6070:(ut,Ae,k)=>{var h=k(5e3);let Y=null;function O(){return Y}const re=new h.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ce(){return(0,h.LFG)(H)}()},providedIn:"platform"}),n})();const $=new h.OlP("Location Initialized");let H=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){J()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){J()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(re))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function We(){return new H((0,h.LFG)(re))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Se(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Oe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function be(n){const e=(0,h.LFG)(re).location;return new Qe((0,h.LFG)(he),e&&e.origin||"")}()},providedIn:"root"}),n})();const nt=new h.OlP("appBaseHref");let Qe=(()=>{class n extends fe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Se(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ve(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+Ve(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+Ve(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(he),h.LFG(nt,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends fe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Se(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+Ve(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+Ve(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(he),h.LFG(nt,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),_e=(()=>{class n{constructor(t,r){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Oe($e(i)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ve(r))}normalize(t){return n.stripTrailingSlash(function qe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,$e(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=Se,n.stripTrailingSlash=Oe,n.\u0275fac=function(t){return new(t||n)(h.LFG(fe),h.LFG(he))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function we(){return new _e((0,h.LFG)(fe),(0,h.LFG)(he))}()},providedIn:"root"}),n})();function $e(n){return n.replace(/\/index.html$/,"")}var me=(()=>((me=me||{})[me.Format=0]="Format",me[me.Standalone=1]="Standalone",me))(),se=(()=>((se=se||{})[se.Narrow=0]="Narrow",se[se.Abbreviated=1]="Abbreviated",se[se.Wide=2]="Wide",se[se.Short=3]="Short",se))(),Ne=(()=>((Ne=Ne||{})[Ne.Short=0]="Short",Ne[Ne.Medium=1]="Medium",Ne[Ne.Long=2]="Long",Ne[Ne.Full=3]="Full",Ne))(),ae=(()=>((ae=ae||{})[ae.Decimal=0]="Decimal",ae[ae.Group=1]="Group",ae[ae.List=2]="List",ae[ae.PercentSign=3]="PercentSign",ae[ae.PlusSign=4]="PlusSign",ae[ae.MinusSign=5]="MinusSign",ae[ae.Exponential=6]="Exponential",ae[ae.SuperscriptingExponent=7]="SuperscriptingExponent",ae[ae.PerMille=8]="PerMille",ae[ae.Infinity=9]="Infinity",ae[ae.NaN=10]="NaN",ae[ae.TimeSeparator=11]="TimeSeparator",ae[ae.CurrencyDecimal=12]="CurrencyDecimal",ae[ae.CurrencyGroup=13]="CurrencyGroup",ae))();function an(n,e){return sr((0,h.cg1)(n)[h.wAp.DateFormat],e)}function ls(n,e){return sr((0,h.cg1)(n)[h.wAp.TimeFormat],e)}function tn(n,e){return sr((0,h.cg1)(n)[h.wAp.DateTimeFormat],e)}function zt(n,e){const t=(0,h.cg1)(n),r=t[h.wAp.NumberSymbols][e];if(void 0===r){if(e===ae.CurrencyDecimal)return t[h.wAp.NumberSymbols][ae.Decimal];if(e===ae.CurrencyGroup)return t[h.wAp.NumberSymbols][ae.Group]}return r}function cs(n){if(!n[h.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[h.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function sr(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Yn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const or=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ps={},Ia=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Wt=(()=>((Wt=Wt||{})[Wt.Short=0]="Short",Wt[Wt.ShortGMT=1]="ShortGMT",Wt[Wt.Long=2]="Long",Wt[Wt.Extended=3]="Extended",Wt))(),ot=(()=>((ot=ot||{})[ot.FullYear=0]="FullYear",ot[ot.Month=1]="Month",ot[ot.Date=2]="Date",ot[ot.Hours=3]="Hours",ot[ot.Minutes=4]="Minutes",ot[ot.Seconds=5]="Seconds",ot[ot.FractionalSeconds=6]="FractionalSeconds",ot[ot.Day=7]="Day",ot))(),Dt=(()=>((Dt=Dt||{})[Dt.DayPeriods=0]="DayPeriods",Dt[Dt.Days=1]="Days",Dt[Dt.Months=2]="Months",Dt[Dt.Eras=3]="Eras",Dt))();function fr(n,e,t,r){let i=function Qt(n){if(Kt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,u=1,c=1]=n.split("-").map(p=>+p);return Zi(i,u-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(or))return function Dr(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,p=Number(n[5]||0)-r,y=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,c,p,y,b),e}(r)}const e=new Date(n);if(!Kt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Ht(t,e)||e;let p,c=[];for(;e;){if(p=Ia.exec(e),!p){c.push(e);break}{c=c.concat(p.slice(1));const S=c.pop();if(!S)break;e=S}}let y=i.getTimezoneOffset();r&&(y=Q(r,y),i=function Et(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Be(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Q(e,i)-i))}(i,r,!0));let b="";return c.forEach(S=>{const M=function de(n){if(q[n])return q[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ut(Dt.Eras,se.Abbreviated);break;case"GGGG":e=Ut(Dt.Eras,se.Wide);break;case"GGGGG":e=Ut(Dt.Eras,se.Narrow);break;case"y":e=ht(ot.FullYear,1,0,!1,!0);break;case"yy":e=ht(ot.FullYear,2,0,!0,!0);break;case"yyy":e=ht(ot.FullYear,3,0,!1,!0);break;case"yyyy":e=ht(ot.FullYear,4,0,!1,!0);break;case"Y":e=V(1);break;case"YY":e=V(2,!0);break;case"YYY":e=V(3);break;case"YYYY":e=V(4);break;case"M":case"L":e=ht(ot.Month,1,1);break;case"MM":case"LL":e=ht(ot.Month,2,1);break;case"MMM":e=Ut(Dt.Months,se.Abbreviated);break;case"MMMM":e=Ut(Dt.Months,se.Wide);break;case"MMMMM":e=Ut(Dt.Months,se.Narrow);break;case"LLL":e=Ut(Dt.Months,se.Abbreviated,me.Standalone);break;case"LLLL":e=Ut(Dt.Months,se.Wide,me.Standalone);break;case"LLLLL":e=Ut(Dt.Months,se.Narrow,me.Standalone);break;case"w":e=j(1);break;case"ww":e=j(2);break;case"W":e=j(1,!0);break;case"d":e=ht(ot.Date,1);break;case"dd":e=ht(ot.Date,2);break;case"c":case"cc":e=ht(ot.Day,1);break;case"ccc":e=Ut(Dt.Days,se.Abbreviated,me.Standalone);break;case"cccc":e=Ut(Dt.Days,se.Wide,me.Standalone);break;case"ccccc":e=Ut(Dt.Days,se.Narrow,me.Standalone);break;case"cccccc":e=Ut(Dt.Days,se.Short,me.Standalone);break;case"E":case"EE":case"EEE":e=Ut(Dt.Days,se.Abbreviated);break;case"EEEE":e=Ut(Dt.Days,se.Wide);break;case"EEEEE":e=Ut(Dt.Days,se.Narrow);break;case"EEEEEE":e=Ut(Dt.Days,se.Short);break;case"a":case"aa":case"aaa":e=Ut(Dt.DayPeriods,se.Abbreviated);break;case"aaaa":e=Ut(Dt.DayPeriods,se.Wide);break;case"aaaaa":e=Ut(Dt.DayPeriods,se.Narrow);break;case"b":case"bb":case"bbb":e=Ut(Dt.DayPeriods,se.Abbreviated,me.Standalone,!0);break;case"bbbb":e=Ut(Dt.DayPeriods,se.Wide,me.Standalone,!0);break;case"bbbbb":e=Ut(Dt.DayPeriods,se.Narrow,me.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ut(Dt.DayPeriods,se.Abbreviated,me.Format,!0);break;case"BBBB":e=Ut(Dt.DayPeriods,se.Wide,me.Format,!0);break;case"BBBBB":e=Ut(Dt.DayPeriods,se.Narrow,me.Format,!0);break;case"h":e=ht(ot.Hours,1,-12);break;case"hh":e=ht(ot.Hours,2,-12);break;case"H":e=ht(ot.Hours,1);break;case"HH":e=ht(ot.Hours,2);break;case"m":e=ht(ot.Minutes,1);break;case"mm":e=ht(ot.Minutes,2);break;case"s":e=ht(ot.Seconds,1);break;case"ss":e=ht(ot.Seconds,2);break;case"S":e=ht(ot.FractionalSeconds,1);break;case"SS":e=ht(ot.FractionalSeconds,2);break;case"SSS":e=ht(ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Te(Wt.Short);break;case"ZZZZZ":e=Te(Wt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Te(Wt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Te(Wt.Long);break;default:return null}return q[n]=e,e}(S);b+=M?M(i,t,y):"''"===S?"'":S.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function Zi(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ht(n,e){const t=function en(n){return(0,h.cg1)(n)[h.wAp.LocaleId]}(n);if(Ps[t]=Ps[t]||{},Ps[t][e])return Ps[t][e];let r="";switch(e){case"shortDate":r=an(n,Ne.Short);break;case"mediumDate":r=an(n,Ne.Medium);break;case"longDate":r=an(n,Ne.Long);break;case"fullDate":r=an(n,Ne.Full);break;case"shortTime":r=ls(n,Ne.Short);break;case"mediumTime":r=ls(n,Ne.Medium);break;case"longTime":r=ls(n,Ne.Long);break;case"fullTime":r=ls(n,Ne.Full);break;case"short":const i=Ht(n,"shortTime"),u=Ht(n,"shortDate");r=ho(tn(n,Ne.Short),[i,u]);break;case"medium":const c=Ht(n,"mediumTime"),p=Ht(n,"mediumDate");r=ho(tn(n,Ne.Medium),[c,p]);break;case"long":const y=Ht(n,"longTime"),b=Ht(n,"longDate");r=ho(tn(n,Ne.Long),[y,b]);break;case"full":const S=Ht(n,"fullTime"),M=Ht(n,"fullDate");r=ho(tn(n,Ne.Full),[S,M])}return r&&(Ps[t][e]=r),r}function ho(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Er(n,e,t="-",r,i){let u="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,u=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.substr(c.length-e)),u+c}function ht(n,e,t=0,r=!1,i=!1){return function(u,c){let p=function br(n,e){switch(n){case ot.FullYear:return e.getFullYear();case ot.Month:return e.getMonth();case ot.Date:return e.getDate();case ot.Hours:return e.getHours();case ot.Minutes:return e.getMinutes();case ot.Seconds:return e.getSeconds();case ot.FractionalSeconds:return e.getMilliseconds();case ot.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||p>-t)&&(p+=t),n===ot.Hours)0===p&&-12===t&&(p=12);else if(n===ot.FractionalSeconds)return function pr(n,e){return Er(n,3).substr(0,e)}(p,e);const y=zt(c,ae.MinusSign);return Er(p,e,y,r,i)}}function Ut(n,e,t=me.Format,r=!1){return function(i,u){return function Je(n,e,t,r,i,u){switch(t){case Dt.Months:return function wt(n,e,t){const r=(0,h.cg1)(n),u=sr([r[h.wAp.MonthsFormat],r[h.wAp.MonthsStandalone]],e);return sr(u,t)}(e,i,r)[n.getMonth()];case Dt.Days:return function lt(n,e,t){const r=(0,h.cg1)(n),u=sr([r[h.wAp.DaysFormat],r[h.wAp.DaysStandalone]],e);return sr(u,t)}(e,i,r)[n.getDay()];case Dt.DayPeriods:const c=n.getHours(),p=n.getMinutes();if(u){const b=function ds(n){const e=(0,h.cg1)(n);return cs(e),(e[h.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Yn(r):[Yn(r[0]),Yn(r[1])])}(e),S=function dt(n,e,t){const r=(0,h.cg1)(n);cs(r);const u=sr([r[h.wAp.ExtraData][0],r[h.wAp.ExtraData][1]],e)||[];return sr(u,t)||[]}(e,i,r),M=b.findIndex(F=>{if(Array.isArray(F)){const[B,G]=F,ne=c>=B.hours&&p>=B.minutes,Ee=c<G.hours||c===G.hours&&p<G.minutes;if(B.hours<G.hours){if(ne&&Ee)return!0}else if(ne||Ee)return!0}else if(F.hours===c&&F.minutes===p)return!0;return!1});if(-1!==M)return S[M]}return function kn(n,e,t){const r=(0,h.cg1)(n),u=sr([r[h.wAp.DayPeriodsFormat],r[h.wAp.DayPeriodsStandalone]],e);return sr(u,t)}(e,i,r)[c<12?0:1];case Dt.Eras:return function dn(n,e){return sr((0,h.cg1)(n)[h.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,u,n,e,t,r)}}function Te(n){return function(e,t,r){const i=-1*r,u=zt(t,ae.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Wt.Short:return(i>=0?"+":"")+Er(c,2,u)+Er(Math.abs(i%60),2,u);case Wt.ShortGMT:return"GMT"+(i>=0?"+":"")+Er(c,1,u);case Wt.Long:return"GMT"+(i>=0?"+":"")+Er(c,2,u)+":"+Er(Math.abs(i%60),2,u);case Wt.Extended:return 0===r?"Z":(i>=0?"+":"")+Er(c,2,u)+":"+Er(Math.abs(i%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function Vt(n){return Zi(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function j(n,e=!1){return function(t,r){let i;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+u)/7)}else{const u=Vt(t),c=function $t(n){const e=Zi(n,0,1).getDay();return Zi(n,0,1+(e<=4?4:11)-e)}(u.getFullYear()),p=u.getTime()-c.getTime();i=1+Math.round(p/6048e5)}return Er(i,n,zt(r,ae.MinusSign))}}function V(n,e=!1){return function(t,r){return Er(Vt(t).getFullYear(),n,zt(r,ae.MinusSign),e)}}const q={};function Q(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Kt(n){return n instanceof Date&&!isNaN(n.valueOf())}let Vs=(()=>{class n{constructor(t,r,i,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,h.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Bs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ur=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Bs(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const p=r.get(u);r.move(p,c),fs(p,i)}});for(let i=0,u=r.length;i<u;i++){const p=r.get(i).context;p.index=i,p.count=u,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{fs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function fs(n,e){n.context.$implicit=e.item}let Yr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ln,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){au("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){au("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ln{constructor(){this.$implicit=null,this.ngIf=null}}function au(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}function qn(n,e){return new h.vHH(2100,"")}class Vc{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Hp{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const gs=new Hp,Gp=new Vc;let Ma=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return gs;if((0,h.F4k)(t))return Gp;throw qn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1}),n})();const zp=new h.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Lh=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,u){var c;if(null==t||""===t||t!=t)return null;try{return fr(t,r,u||this.locale,null!==(c=null!=i?i:this.defaultTimezone)&&void 0!==c?c:void 0)}catch(p){throw qn()}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.soG,16),h.Y36(zp,24))},n.\u0275pipe=h.Yjl({name:"date",type:n,pure:!0}),n})(),mr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const Hs="browser";function Cr(n){return n===Hs}function yr(n){return"server"===n}let gu=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new mu((0,h.LFG)(re),window)}),n})();class mu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ra(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ms(this.window.history)||ms(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ms(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Gs extends class zo extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(n){Y||(Y=n)}(new Gs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Hc(){return cn=cn||document.querySelector("base"),cn?cn.getAttribute("href"):null}();return null==t?null:function yo(n){mo=mo||document.createElement("a"),mo.setAttribute("href",n);const e=mo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){cn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ho(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let mo,cn=null;const Ir=new h.OlP("TRANSITION_ID"),Na=[{provide:h.ip1,useFactory:function Fn(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[Ir,re,h.zs3],multi:!0}];class Ni{static init(){(0,h.VLi)(new Ni)}addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const p=function(y){c=c||y,u--,0==u&&r(c)};i.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Tr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const qs=new h.OlP("EventManagerPlugins");let ys=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(qs),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class yu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Xr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),zs=(()=>{class n extends Xr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const c=this._doc.createElement("style");c.textContent=u,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ws),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ws))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(re))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Ws(n){O().remove(n)}const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_u=/%COMP%/g;function De(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?De(n,i,t):(i=i.replace(_u,n),t.push(i))}return t}function Bt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let En=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Wo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Cl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case h.ifc.ShadowDom:return new Il(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=De(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ys),h.LFG(zs),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Wo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(pt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=pt[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=pt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Bt(r)):this.eventManager.addEventListener(e,t,Bt(r))}}class Cl extends Wo{constructor(e,t,r,i){super(e),this.component=r;const u=De(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function El(n){return"_ngcontent-%COMP%".replace(_u,n)}(i+"-"+r.id),this.hostAttr=function bl(n){return"_nghost-%COMP%".replace(_u,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Il extends Wo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=De(i.id,i.styles,[]);for(let c=0;c<u.length;c++){const p=document.createElement("style");p.textContent=u[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Gc=(()=>{class n extends yu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(re))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Tl=["alt","control","meta","shift"],Ks={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_r={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},fi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Du=(()=>{class n extends yu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="";if(Tl.forEach(y=>{const b=r.indexOf(y);b>-1&&(r.splice(b,1),c+=y+".")}),c+=u,0!=r.length||0===u.length)return null;const p={};return p.domEventName=i,p.fullKey=c,p}static getEventFullKey(t){let r="",i=function Zs(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&_r.hasOwnProperty(e)&&(e=_r[e]))}return Ks[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Tl.forEach(u=>{u!=i&&fi[u](t)&&(r+=u+".")}),r+=i,r}static eventCallback(t,r,i){return u=>{n.getEventFullKey(u)===t&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(re))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Sl=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:Hs},{provide:h.g9A,useValue:function Oi(){Gs.makeCurrent(),Ni.init()},multi:!0},{provide:re,useFactory:function Cu(){return(0,h.RDi)(document),document},deps:[]}]),ka=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Al(){return new h.qLn},deps:[]},{provide:qs,useClass:Gc,multi:!0,deps:[re,h.R0b,h.Lbi]},{provide:qs,useClass:Du,multi:!0,deps:[re]},{provide:En,useClass:En,deps:[ys,zs,h.AFp]},{provide:h.FYo,useExisting:En},{provide:Xr,useExisting:zs},{provide:zs,useClass:zs,deps:[re]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:ys,useClass:ys,deps:[qs,h.R0b]},{provide:class yn{},useClass:Tr,deps:[]}];let Zo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:Ir,useExisting:h.AFp},Na]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:ka,imports:[mr,h.hGG]}),n})();"undefined"!=typeof window&&window;var Ln=k(8996),Vn=k(7669);function yt(...n){const e=(0,Vn.yG)(n);return(0,Ln.D)(n,e)}var lr=k(7579);class ti extends lr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Vr=k(8306);const{isArray:Qo}=Array,{getPrototypeOf:Jc,prototype:mn,keys:$h}=Object;function ki(n){if(1===n.length){const e=n[0];if(Qo(e))return{args:e,keys:null};if(function Au(n){return n&&"object"==typeof n&&Jc(n)===mn}(e)){const t=$h(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var pi=k(4671),Ot=k(4004);const{isArray:Xc}=Array;function Ll(n){return(0,Ot.U)(e=>function Fl(n,e){return Xc(e)?n(...e):n(e)}(n,e))}function bo(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Wn=k(5403),ws=k(9672);function Js(n,e,t){n?(0,ws.f)(t,n,e):e()}var mi=k(576);function Qi(n,e){const t=(0,mi.m)(n)?n:()=>n,r=i=>i.error(t());return new Vr.y(e?i=>e.schedule(r,0,i):r)}const Xs=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ji=k(8189);function ed(...n){return function Bl(){return(0,Ji.J)(1)}()((0,Ln.D)(n,(0,Vn.yG)(n)))}var Do=k(8421);function Pi(n){return new Vr.y(e=>{(0,Do.Xf)(n()).subscribe(e)})}var Xo=k(515),ea=k(727),Br=k(4482);function Fi(){return(0,Br.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Wn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class td extends Vr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Br.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ea.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Wn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ea.w0.EMPTY)}return e}refCount(){return Fi()(this)}}function Bn(n,e){return(0,Br.e)((t,r)=>{let i=null,u=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe((0,Wn.x)(r,y=>{null==i||i.unsubscribe();let b=0;const S=u++;(0,Do.Xf)(n(y,S)).subscribe(i=(0,Wn.x)(r,M=>r.next(e?e(y,M,S,b++):M),()=>{i=null,p()}))},()=>{c=!0,p()}))})}var Co=k(5698);function Li(...n){const e=(0,Vn.yG)(n);return(0,Br.e)((t,r)=>{(e?ed(n,t,e):ed(n,t)).subscribe(r)})}function ta(n,e,t,r,i){return(u,c)=>{let p=t,y=e,b=0;u.subscribe((0,Wn.x)(c,S=>{const M=b++;y=p?n(y,S,M):(p=!0,S),r&&c.next(y)},i&&(()=>{p&&c.next(y),c.complete()})))}}function Sr(n,e){return(0,Br.e)(ta(n,e,arguments.length>=2,!0))}function Xi(n,e){return(0,Br.e)((t,r)=>{let i=0;t.subscribe((0,Wn.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}function es(n){return(0,Br.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,Wn.x)(t,void 0,void 0,c=>{u=(0,Do.Xf)(n(c,es(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Cn=k(5577);function eo(n,e){return(0,mi.m)(e)?(0,Cn.z)(n,e,1):(0,Cn.z)(n,1)}function nd(n){return n<=0?()=>Xo.E:(0,Br.e)((e,t)=>{let r=[];e.subscribe((0,Wn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Mn(n=Yp){return(0,Br.e)((e,t)=>{let r=!1;e.subscribe((0,Wn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Yp(){return new Xs}function Qp(n){return(0,Br.e)((e,t)=>{let r=!1;e.subscribe((0,Wn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function to(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Xi((i,u)=>n(i,u,r)):pi.y,(0,Co.q)(1),t?Qp(e):Mn(()=>new Xs))}var Ur=k(8505);class no{constructor(e,t){this.id=e,this.url=t}}class Es extends no{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Su extends no{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class In extends no{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ul extends no{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class na extends no{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eg extends no{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jl extends no{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mr extends no{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yi extends no{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $l{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bs{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vi{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ts{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fa{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hl{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ft="primary";class ql{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Jn(n){return new ql(n)}const zl="ngNavigationCancelingError";function ro(n){const e=Error("NavigationCancelingError: "+n);return e[zl]=!0,e}function Io(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],p=n[u];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ns(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!xu(n[i],e[i]))return!1;return!0}function xu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function rs(n){return Array.prototype.concat.apply([],n)}function id(n){return n.length>0?n[n.length-1]:null}function Xn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function _i(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,Ln.D)(Promise.resolve(n)):yt(n)}const To={exact:function I(n,e,t){if(!kt(n.segments,e.segments)||!ee(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!I(n.children[r],e.children[r],t))return!1;return!0},subset:L},ra={exact:function C(n,e){return ns(n,e)},subset:function R(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>xu(n[t],e[t]))},ignored:()=>!0};function Ru(n,e,t){return To[t.paths](n.root,e.root,t.matrixParams)&&ra[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function L(n,e,t){return K(n,e,e.segments,t)}function K(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!kt(i,t)||e.hasChildren()||!ee(i,t,r))}if(n.segments.length===t.length){if(!kt(n.segments,t)||!ee(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!L(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(kt(n.segments,i)&&ee(n.segments,i,r)&&n.children[Ft])&&K(n.children[Ft],e,u,r)}}function ee(n,e,t){return e.every((r,i)=>ra[t](n[i].parameters,r.parameters))}class xe{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jn(this.queryParams)),this._queryParamMap}toString(){return ia.serialize(this)}}class Re{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Xn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ao(this)}}class Xe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Jn(this.parameters)),this._parameterMap}toString(){return La(this)}}function kt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Kn{}class xn{parse(e){const t=new od(e);return new xe(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${jr(e.root,!0)}`,r=function xy(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Bi(t)}=${Bi(i)}`).join("&"):`${Bi(t)}=${Bi(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function So(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ia=new xn;function Ao(n){return n.segments.map(e=>La(e)).join("/")}function jr(n,e){if(!n.hasChildren())return Ao(n);if(e){const t=n.children[Ft]?jr(n.children[Ft],!1):"",r=[];return Xn(n.children,(i,u)=>{u!==Ft&&r.push(`${u}:${jr(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function St(n,e){let t=[];return Xn(n.children,(r,i)=>{i===Ft&&(t=t.concat(e(r,i)))}),Xn(n.children,(r,i)=>{i!==Ft&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ft?[jr(n.children[Ft],!1)]:[`${i}:${jr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${Ao(n)}/${t[0]}`:`${Ao(n)}/(${t.join("//")})`}}function vi(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bi(n){return vi(n).replace(/%3B/gi,";")}function sd(n){return vi(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kl(n){return decodeURIComponent(n)}function Zl(n){return Kl(n.replace(/\+/g,"%20"))}function La(n){return`${sd(n.path)}${function tg(n){return Object.keys(n).map(e=>`;${sd(e)}=${sd(n[e])}`).join("")}(n.parameters)}`}const Ry=/^[^\/()?;=#]+/;function Ds(n){const e=n.match(Ry);return e?e[0]:""}const Yl=/^[^=?&#]+/,Oy=/^[^&#]+/;class od{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ft]=new Re(e,t)),r}parseSegment(){const e=Ds(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Xe(Kl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ds(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Ds(this.remaining);i&&(r=i,this.capture(r))}e[Kl(t)]=Kl(r)}parseQueryParam(e){const t=function Ny(n){const e=n.match(Yl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function ng(n){const e=n.match(Oy);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Zl(t),u=Zl(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ds(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ft);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[Ft]:new Re([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ky{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Hh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Hh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Gh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Gh(e,this._root).map(t=>t.value)}}function Hh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Hh(n,t);if(r)return r}return null}function Gh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Gh(n,t);if(r.length)return r.unshift(e),r}return[]}class Mo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function xo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ad extends ky{constructor(e,t){super(e),this.snapshot=t,ld(this,e)}toString(){return this.snapshot.toString()}}function Va(n,e){const t=function Py(n,e){const c=new Nu([],{},{},"",{},Ft,e,null,n.root,-1,{});return new qh("",new Mo(c,[]))}(n,e),r=new ti([new Xe("",{})]),i=new ti({}),u=new ti({}),c=new ti({}),p=new ti(""),y=new sa(r,i,c,p,u,Ft,e,t.root);return y.snapshot=t.root,new ad(new Mo(y,[]),t)}class sa{constructor(e,t,r,i,u,c,p,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ot.U)(e=>Jn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ot.U)(e=>Jn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fy(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function ud(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Nu{constructor(e,t,r,i,u,c,p,y,b,S,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this.routeConfig=y,this._urlSegment=b,this._lastPathIndex=S,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qh extends ky{constructor(e,t){super(t),this.url=e,ld(this,t)}toString(){return cd(this._root)}}function ld(n,e){e.value._routerState=n,e.children.forEach(t=>ld(n,t))}function cd(n){const e=n.children.length>0?` { ${n.children.map(cd).join(", ")} } `:"";return`${n.value}${e}`}function dd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ns(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ns(e.params,t.params)||n.params.next(t.params),function Mu(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ns(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ns(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function zh(n,e){const t=ns(n.params,e.params)&&function It(n,e){return kt(n,e)&&n.every((t,r)=>ns(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||zh(n.parent,e.parent))}function Ql(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Wh(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ql(n,r,i);return Ql(n,r)})}(n,e,t);return new Mo(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>Ql(n,p)),c}}const r=function Vy(n){return new sa(new ti(n.url),new ti(n.params),new ti(n.queryParams),new ti(n.fragment),new ti(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Ql(n,u));return new Mo(r,i)}}function oa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ou(n){return"object"==typeof n&&null!=n&&n.outlets}function rg(n,e,t,r,i){let u={};if(r&&Xn(r,(p,y)=>{u[y]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),n===e)return new xe(t,u,i);const c=Kh(n,e,t);return new xe(c,u,i)}function Kh(n,e,t){const r={};return Xn(n.children,(i,u)=>{r[u]=i===e?t:Kh(i,e,t)}),new Re(n.segments,r)}class By{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&oa(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Ou);if(i&&i!==id(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zh{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Hy(n,e,t){if(n||(n=new Re([],{})),0===n.segments.length&&n.hasChildren())return so(n,e,t);const r=function gw(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],p=t[r];if(Ou(p))break;const y=`${p}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&b&&"object"==typeof b&&void 0===b.outlets){if(!Ui(y,b,c))return u;r+=2}else{if(!Ui(y,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Re(n.segments.slice(0,r.pathIndex),{});return u.children[Ft]=new Re(n.segments.slice(r.pathIndex),n.children),so(u,0,i)}return r.match&&0===i.length?new Re(n.segments,{}):r.match&&!n.hasChildren()?Yh(n,e,t):r.match?so(n,0,i):Yh(n,e,t)}function so(n,e,t){if(0===t.length)return new Re(n.segments,{});{const r=function $y(n){return Ou(n[0])?n[0].outlets:{[Ft]:n}}(t),i={};return Xn(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=Hy(n.children[c],e,u))}),Xn(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new Re(n.segments,i)}}function Yh(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(Ou(u)){const y=ku(u.outlets);return new Re(r,y)}if(0===i&&oa(t[0])){r.push(new Xe(n.segments[e].path,Qh(t[0]))),i++;continue}const c=Ou(u)?u.outlets[Ft]:`${u}`,p=i<t.length-1?t[i+1]:null;c&&p&&oa(p)?(r.push(new Xe(c,Qh(p))),i+=2):(r.push(new Xe(c,{})),i++)}return new Re(r,{})}function ku(n){const e={};return Xn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Yh(new Re([],{}),0,t))}),e}function Qh(n){const e={};return Xn(n,(t,r)=>e[r]=`${t}`),e}function Ui(n,e,t){return n==t.path&&ns(e,t.parameters)}class sg{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=xo(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),Xn(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=xo(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=xo(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=xo(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new Hl(u.value.snapshot))}),e.children.length&&this.forwardEvent(new ts(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(dd(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),dd(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=function hd(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),y=p?p.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=y,c.outlet&&c.outlet.activateWith(i,y),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class fd{constructor(e,t){this.routes=e,this.module=t}}function Ba(n){return"function"==typeof n}function Pu(n){return n instanceof xe}const Xl=Symbol("INITIAL_VALUE");function aa(){return Bn(n=>function Jo(...n){const e=(0,Vn.yG)(n),t=(0,Vn.jO)(n),{args:r,keys:i}=ki(n);if(0===r.length)return(0,Ln.D)([],e);const u=new Vr.y(function gi(n,e,t=pi.y){return r=>{Js(e,()=>{const{length:i}=n,u=new Array(i);let c=i,p=i;for(let y=0;y<i;y++)Js(e,()=>{const b=(0,Ln.D)(n[y],e);let S=!1;b.subscribe((0,Wn.x)(r,M=>{u[y]=M,S||(S=!0,p--),p||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>bo(i,c):pi.y));return t?u.pipe(Ll(t)):u}(n.map(e=>e.pipe((0,Co.q)(1),Li(Xl)))).pipe(Sr((e,t)=>{let r=!1;return t.reduce((i,u,c)=>i!==Xl?i:(u===Xl&&(r=!0),r||!1!==u&&c!==t.length-1&&!Pu(u)?i:u),e)},Xl),Xi(e=>e!==Xl),(0,Ot.U)(e=>Pu(e)?e:!0===e),(0,Co.q)(1)))}class Gy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ec,this.attachRef=null}}class ec{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Gy,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let tc=(()=>{class n{constructor(t,r,i,u,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=u||Ft,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,y=new tf(t,p,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ec),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class tf{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===sa?this.route:e===ec?this.childContexts:this.parent.get(e,t)}}let nf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},directives:[tc],encapsulation:2}),n})();function nc(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];pd(r,rf(e,r))}}function pd(n,e){n.children&&nc(n.children,e)}function rf(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function sf(n){const e=n.children&&n.children.map(sf),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ft&&(t.component=nf),t}function sn(n){return n.outlet||Ft}function of(n,e){const t=n.filter(r=>sn(r)===e);return t.push(...n.filter(r=>sn(r)!==e)),t}const ag={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fu(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},ag):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||Io)(t,n,e);if(!u)return Object.assign({},ag);const c={};Xn(u.posParams,(y,b)=>{c[b]=y.path});const p=u.consumed.length>0?Object.assign(Object.assign({},c),u.consumed[u.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:p,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function rc(n,e,t,r,i="corrected"){if(t.length>0&&function zy(n,e,t){return t.some(r=>md(n,e,r)&&sn(r)!==Ft)}(n,t,r)){const c=new Re(e,function gd(n,e,t,r){const i={};i[Ft]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&sn(u)!==Ft){const c=new Re([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[sn(u)]=c}return i}(n,e,r,new Re(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function ug(n,e,t){return t.some(r=>md(n,e,r))}(n,t,r)){const c=new Re(n.segments,function qy(n,e,t,r,i,u){const c={};for(const p of r)if(md(n,t,p)&&!i[sn(p)]){const y=new Re([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===u?n.segments.length:e.length,c[sn(p)]=y}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const u=new Re(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function md(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Wy(n,e,t,r){return!!(sn(n)===r||r!==Ft&&md(e,t,n))&&("**"===n.path||Fu(e,n,t).matched)}function Ky(n,e,t){return 0===e.length&&!n.children[t]}class ua{constructor(e){this.segmentGroup=e||null}}class xr{constructor(e){this.urlTree=e}}function Ro(n){return Qi(new ua(n))}function ic(n){return Qi(new xr(n))}class uf{constructor(e,t,r,i,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(h.h0i)}apply(){const e=rc(this.urlTree.root,[],[],this.config).segmentGroup,t=new Re(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ft).pipe((0,Ot.U)(u=>this.createUrlTree(ja(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(es(u=>{if(u instanceof xr)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof ua?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ft).pipe((0,Ot.U)(i=>this.createUrlTree(ja(i),e.queryParams,e.fragment))).pipe(es(i=>{throw i instanceof ua?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Re([],{[Ft]:e}):e;return new xe(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ot.U)(u=>new Re([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,Ln.D)(i).pipe(eo(u=>{const c=r.children[u],p=of(t,u);return this.expandSegmentGroup(e,p,c,u).pipe((0,Ot.U)(y=>({segment:y,outlet:u})))}),Sr((u,c)=>(u[c.outlet]=c.segment,u),{}),function Jp(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Xi((i,u)=>n(i,u,r)):pi.y,nd(1),t?Qp(e):Mn(()=>new Xs))}())}expandSegment(e,t,r,i,u,c){return(0,Ln.D)(r).pipe(eo(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,u,c).pipe(es(b=>{if(b instanceof ua)return yt(null);throw b}))),to(p=>!!p),es((p,y)=>{if(p instanceof Xs||"EmptyError"===p.name)return Ky(t,i,u)?yt(new Re([],{})):Ro(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,u,c,p){return Wy(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):Ro(t):Ro(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ic(u):this.lineralizeSegments(r,u).pipe((0,Cn.z)(c=>{const p=new Re(c,{});return this.expandSegment(e,p,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:p,consumedSegments:y,remainingSegments:b,positionalParamSegments:S}=Fu(t,i,u);if(!p)return Ro(t);const M=this.applyRedirectCommands(y,i.redirectTo,S);return i.redirectTo.startsWith("/")?ic(M):this.lineralizeSegments(i,M).pipe((0,Cn.z)(F=>this.expandSegment(e,t,r,F.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?yt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Ot.U)(M=>(r._loadedConfig=M,new Re(i,{})))):yt(new Re(i,{}));const{matched:c,consumedSegments:p,remainingSegments:y}=Fu(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,Cn.z)(S=>{const M=S.module,F=S.routes,{segmentGroup:B,slicedSegments:G}=rc(t,p,y,F),ne=new Re(B.segments,B.children);if(0===G.length&&ne.hasChildren())return this.expandChildren(M,F,ne).pipe((0,Ot.U)(Ze=>new Re(p,Ze)));if(0===F.length&&0===G.length)return yt(new Re(p,{}));const Ee=sn(r)===u;return this.expandSegment(M,ne,F,G,Ee?Ft:u,!0).pipe((0,Ot.U)(Le=>new Re(p.concat(Le.segments),Le.children)))})):Ro(t)}getChildConfig(e,t,r){return t.children?yt(new fd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?yt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Cn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Ot.U)(u=>(t._loadedConfig=u,u))):function $r(n){return Qi(ro(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):yt(new fd([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?yt(i.map(c=>{const p=e.get(c);let y;if(function Jh(n){return n&&Ba(n.canLoad)}(p))y=p.canLoad(t,r);else{if(!Ba(p))throw new Error("Invalid CanLoad guard");y=p(t,r)}return _i(y)})).pipe(aa(),(0,Ur.b)(c=>{if(!Pu(c))return;const p=ro(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw p.url=c,p}),(0,Ot.U)(c=>!0===c)):yt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return yt(r);if(i.numberOfChildren>1||!i.children[Ft])return Qi(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Ft]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new xe(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Xn(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[u]=t[p]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return Xn(t.children,(p,y)=>{c[y]=this.createSegmentGroup(e,p,r,i)}),new Re(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function ja(n){const e={};for(const r of Object.keys(n.children)){const u=ja(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function ji(n){if(1===n.numberOfChildren&&n.children[Ft]){const e=n.children[Ft];return new Re(n.segments.concat(e.segments),e.children)}return n}(new Re(n.segments,e))}class lg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class $a{constructor(e,t){this.component=e,this.route=t}}function cf(n,e,t){const r=n._root;return wi(r,e?e._root:null,t,[r.value])}function sc(n,e,t){const r=function Zy(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function wi(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=xo(e);return n.children.forEach(c=>{(function dg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const y=function Yy(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!kt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!kt(n.url,e.url)||!ns(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zh(n,e)||!ns(n.queryParams,e.queryParams);default:return!zh(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new lg(r)):(u.data=c.data,u._resolvedData=c._resolvedData),wi(n,e,u.component?p?p.children:null:t,r,i),y&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new $a(p.outlet.component,c))}else c&&Ha(e,p,i),i.canActivateChecks.push(new lg(r)),wi(n,null,u.component?p?p.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),Xn(u,(c,p)=>Ha(c,t.getContext(p),i)),i}function Ha(n,e,t){const r=xo(n),i=n.value;Xn(r,(u,c)=>{Ha(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new $a(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class ff{}function pf(n){return new Vr.y(e=>e.error(n))}class gf{constructor(e,t,r,i,u,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=c}recognize(){const e=rc(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ft);if(null===t)return null;const r=new Nu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Mo(r,t),u=new qh(this.url,i);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=Fy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const c=t.children[u],p=of(e,u),y=this.processSegmentGroup(p,c,u);if(null===y)return null;r.push(...y)}const i=pg(r);return function e_(n){n.sort((e,t)=>e.value.outlet===Ft?-1:t.value.outlet===Ft?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const u of e){const c=this.processSegmentAgainstRoute(u,t,r,i);if(null!==c)return c}return Ky(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Wy(e,t,r,i))return null;let u,c=[],p=[];if("**"===e.path){const B=r.length>0?id(r).parameters:{};u=new Nu(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,w(e),sn(e),e.component,e,f(t),m(t)+r.length,T(e))}else{const B=Fu(t,e,r);if(!B.matched)return null;c=B.consumedSegments,p=B.remainingSegments,u=new Nu(c,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,w(e),sn(e),e.component,e,f(t),m(t)+c.length,T(e))}const y=function t_(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:S}=rc(t,c,p,y.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===S.length&&b.hasChildren()){const B=this.processChildren(y,b);return null===B?null:[new Mo(u,B)]}if(0===y.length&&0===S.length)return[new Mo(u,[])];const M=sn(e)===i,F=this.processSegment(y,b,S,M?Ft:i);return null===F?null:[new Mo(u,F)]}}function fg(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function pg(n){const e=[],t=new Set;for(const r of n){if(!fg(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=pg(r.children);e.push(new Mo(r.value,i))}return e.filter(r=>!t.has(r))}function f(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function m(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function w(n){return n.data||{}}function T(n){return n.resolve||{}}function tt(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function at(n){return Bn(e=>{const t=n(e);return t?(0,Ln.D)(t).pipe((0,Ot.U)(()=>e)):yt(e)})}class ac extends class ss{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Lu=new h.OlP("ROUTES");class Vu{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Ot.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=u.create(e);return new fd(rs(c.injector.get(Lu,void 0,h.XFs.Self|h.XFs.Optional)).map(sf),c)}),es(u=>{throw t._loader$=void 0,u}));return t._loader$=new td(i,()=>new lr.x).pipe(Fi()),t._loader$}loadModuleFactory(e){return _i(e()).pipe((0,Cn.z)(t=>t instanceof h.YKP?yt(t):(0,Ln.D)(this.compiler.compileModuleAsync(t))))}}class n_{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function la(n){throw n}function yd(n,e,t){return e.parse("/")}function _d(n,e){return yt(null)}const yf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hr=(()=>{class n{constructor(t,r,i,u,c,p,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new lr.x,this.errorHandler=la,this.malformedUriErrorHandler=yd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_d,afterPreactivation:_d},this.urlHandlingStrategy=new n_,this.routeReuseStrategy=new ac,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(h.h0i),this.console=c.get(h.c2e);const M=c.get(h.R0b);this.isNgZoneEnabled=M instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function Wl(){return new xe(new Re([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Vu(c,p,F=>this.triggerEvent(new $l(F)),F=>this.triggerEvent(new bs(F))),this.routerState=Va(this.currentUrlTree,this.rootComponentType),this.transitions=new ti({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Xi(i=>0!==i.id),(0,Ot.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Bn(i=>{let u=!1,c=!1;return yt(i).pipe((0,Ur.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Bn(p=>{const y=this.browserUrlTree.toString(),b=!this.navigated||p.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return gg(p.source)&&(this.browserUrlTree=p.extractedUrl),yt(p).pipe(Bn(M=>{const F=this.transitions.getValue();return r.next(new Es(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),F!==this.transitions.getValue()?Xo.E:Promise.resolve(M)}),function lf(n,e,t,r){return Bn(i=>function Ua(n,e,t,r,i){return new uf(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Ot.U)(u=>Object.assign(Object.assign({},i),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ur.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function N(n,e,t,r,i){return(0,Cn.z)(u=>function Xy(n,e,t,r,i="emptyOnly",u="legacy"){try{const c=new gf(n,e,t,r,i,u).recognize();return null===c?pf(new ff):yt(c)}catch(c){return pf(c)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,i).pipe((0,Ot.U)(c=>Object.assign(Object.assign({},u),{targetSnapshot:c}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ur.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(B,M)}this.browserUrlTree=M.urlAfterRedirects}const F=new na(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(F)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:B,source:G,restoredState:ne,extras:Ee}=p,Ye=new Es(F,this.serializeUrl(B),G,ne);r.next(Ye);const Le=Va(B,this.rootComponentType).snapshot;return yt(Object.assign(Object.assign({},p),{targetSnapshot:Le,urlAfterRedirects:B,extras:Object.assign(Object.assign({},Ee),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),Xo.E}),at(p=>{const{targetSnapshot:y,id:b,extractedUrl:S,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:B}}=p;return this.hooks.beforePreactivation(y,{navigationId:b,appliedUrlTree:S,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!B})}),(0,Ur.b)(p=>{const y=new eg(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),(0,Ot.U)(p=>Object.assign(Object.assign({},p),{guards:cf(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function Qy(n,e){return(0,Cn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?yt(Object.assign(Object.assign({},t),{guardsResult:!0})):function hg(n,e,t,r){return(0,Ln.D)(n).pipe((0,Cn.z)(i=>function oc(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?yt(u.map(p=>{const y=sc(p,e,i);let b;if(function mw(n){return n&&Ba(n.canDeactivate)}(y))b=_i(y.canDeactivate(n,e,t,r));else{if(!Ba(y))throw new Error("Invalid CanDeactivate guard");b=_i(y(n,e,t,r))}return b.pipe(to())})).pipe(aa()):yt(!0)}(i.component,i.route,t,e,r)),to(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Cn.z)(p=>p&&function og(n){return"boolean"==typeof n}(p)?function Rr(n,e,t,r){return(0,Ln.D)(e).pipe(eo(i=>ed(function hf(n,e){return null!==n&&e&&e(new Vi(n)),yt(!0)}(i.route.parent,r),function df(n,e){return null!==n&&e&&e(new Fa(n)),yt(!0)}(i.route,r),function No(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function cg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Pi(()=>yt(c.guards.map(y=>{const b=sc(y,c.node,t);let S;if(function ef(n){return n&&Ba(n.canActivateChild)}(b))S=_i(b.canActivateChild(r,n));else{if(!Ba(b))throw new Error("Invalid CanActivateChild guard");S=_i(b(r,n))}return S.pipe(to())})).pipe(aa())));return yt(u).pipe(aa())}(n,i.path,t),function Jy(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return yt(!0);const i=r.map(u=>Pi(()=>{const c=sc(u,e,t);let p;if(function Xh(n){return n&&Ba(n.canActivate)}(c))p=_i(c.canActivate(e,n));else{if(!Ba(c))throw new Error("Invalid CanActivate guard");p=_i(c(e,n))}return p.pipe(to())}));return yt(i).pipe(aa())}(n,i.route,t))),to(i=>!0!==i,!0))}(r,u,n,e):yt(p)),(0,Ot.U)(p=>Object.assign(Object.assign({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,Ur.b)(p=>{if(Pu(p.guardsResult)){const b=ro(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw b.url=p.guardsResult,b}const y=new jl(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(y)}),Xi(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),at(p=>{if(p.guards.canActivateChecks.length)return yt(p).pipe((0,Ur.b)(y=>{const b=new Mr(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}),Bn(y=>{let b=!1;return yt(y).pipe(function z(n,e){return(0,Cn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return yt(t);let u=0;return(0,Ln.D)(i).pipe(eo(c=>function oe(n,e,t,r){return function Ue(n,e,t,r){const i=tt(n);if(0===i.length)return yt({});const u={};return(0,Ln.D)(i).pipe((0,Cn.z)(c=>function bt(n,e,t,r){const i=sc(n,e,r);return _i(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,Ur.b)(p=>{u[c]=p}))),nd(1),(0,Cn.z)(()=>tt(u).length===i.length?yt(u):Xo.E))}(n._resolve,n,e,r).pipe((0,Ot.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),Fy(n,t).resolve),null)))}(c.route,r,n,e)),(0,Ur.b)(()=>u++),nd(1),(0,Cn.z)(c=>u===i.length?yt(t):Xo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ur.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),(0,Ur.b)(y=>{const b=new yi(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}))}),at(p=>{const{targetSnapshot:y,id:b,extractedUrl:S,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:B}}=p;return this.hooks.afterPreactivation(y,{navigationId:b,appliedUrlTree:S,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!B})}),(0,Ot.U)(p=>{const y=function Ly(n,e,t){const r=Ql(n,e._root,t?t._root:void 0);return new ad(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:y})}),(0,Ur.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,Ot.U)(r=>(new sg(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,Ur.b)({next(){u=!0},complete(){u=!0}}),function Xp(n){return(0,Br.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var p;u||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===i.id&&(this.currentNavigation=null)}),es(p=>{if(c=!0,function rd(n){return n&&n[zl]}(p)){const y=Pu(p.url);y||(this.navigated=!0,this.restoreHistory(i,!0));const b=new In(i.id,this.serializeUrl(i.extractedUrl),p.message);r.next(b),y?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),M={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gg(i.source)};this.scheduleNavigation(S,"imperative",null,M,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new Ul(i.id,this.serializeUrl(i.extractedUrl),p);r.next(y);try{i.resolve(this.errorHandler(p))}catch(b){i.reject(b)}}return Xo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const u={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const y=Object.assign({},c);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(u.state=y)}const p=this.parseUrl(t.url);this.scheduleNavigation(p,r,c,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){nc(t),this.config=t.map(sf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:p,preserveFragment:y}=r,b=i||this.routerState.root,S=y?this.currentUrlTree.fragment:c;let M=null;switch(p){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}return null!==M&&(M=this.removeEmptyProps(M)),function io(n,e,t,r,i){if(0===t.length)return rg(e.root,e.root,e.root,r,i);const u=function Uy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new By(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const p={};return Xn(u.outlets,(y,b)=>{p[b]="string"==typeof y?y.split("/"):y}),[...i,{outlets:p}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,u]},[]);return new By(t,e,r)}(t);if(u.toRoot())return rg(e.root,e.root,new Re([],{}),r,i);const c=function ig(n,e,t){if(n.isAbsolute)return new Zh(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new Zh(u,u===e.root,0)}const r=oa(n.commands[0])?0:1;return function jy(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Zh(r,!1,i-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),p=c.processChildren?so(c.segmentGroup,c.index,u.commands):Hy(c.segmentGroup,c.index,u.commands);return rg(e.root,c.segmentGroup,p,r,i)}(b,this.currentUrlTree,t,M,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Pu(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function _f(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},yf):!1===r?Object.assign({},vd):r,Pu(t))return Ru(this.currentUrlTree,t,i);const u=this.parseUrl(t);return Ru(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Su(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,c){var p,y;if(this.disposed)return Promise.resolve(!1);let b,S,M;c?(b=c.resolve,S=c.reject,M=c.promise):M=new Promise((G,ne)=>{b=G,S=ne});const F=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):B=0,this.setTransition({id:F,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:b,reject:S,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(G=>Promise.reject(G))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){var i,u;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new In(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function gg(n){return"imperative"!==n}let wd=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new lr.x,this.subscription=t.events.subscribe(u=>{u instanceof Su&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,u,c){if(0!==t||r||i||u||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const p={skipLocationChange:Ed(this.skipLocationChange),replaceUrl:Ed(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,p),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ed(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Hr),h.Y36(sa),h.Y36(fe))},n.\u0275dir=h.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&h.uIk("target",r.target)("href",r.href,h.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),n})();function Ed(n){return""===n||!!n}class s_{}class _w{preload(e,t){return yt(null)}}let vw=(()=>{class n{constructor(t,r,i,u){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=new Vu(i,r,y=>t.triggerEvent(new $l(y)),y=>t.triggerEvent(new bs(y)))}setUpPreloading(){this.subscription=this.router.events.pipe(Xi(t=>t instanceof Su),eo(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const c=u._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else u.loadChildren&&!u.canLoad?i.push(this.preloadConfig(t,u)):u.children&&i.push(this.processRoutes(t,u.children));return(0,Ln.D)(i).pipe((0,Ji.J)(),(0,Ot.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?yt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Cn.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Hr),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(s_))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),mg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Es?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Su&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Gl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Gl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Cs=new h.OlP("ROUTER_CONFIGURATION"),a_=new h.OlP("ROUTER_FORROOT_GUARD"),ww=[_e,{provide:Kn,useClass:xn},{provide:Hr,useFactory:function l_(n,e,t,r,i,u,c={},p,y){const b=new Hr(null,n,e,t,r,i,rs(u));return p&&(b.urlHandlingStrategy=p),y&&(b.routeReuseStrategy=y),function Dw(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,b),c.enableTracing&&b.events.subscribe(S=>{var M,F;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(F=console.groupEnd)||void 0===F||F.call(console)}),b},deps:[Kn,ec,_e,h.zs3,h.Sil,Lu,Cs,[class mf{},new h.FiY],[class Rn{},new h.FiY]]},ec,{provide:sa,useFactory:function yg(n){return n.routerState.root},deps:[Hr]},vw,_w,class o_{preload(e,t){return t().pipe(es(()=>yt(null)))}},{provide:Cs,useValue:{enableTracing:!1}}];function MC(){return new h.PXZ("Router",Hr)}let ca=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[ww,u_(t),{provide:a_,useFactory:bw,deps:[[Hr,new h.FiY,new h.tp0]]},{provide:Cs,useValue:r||{}},{provide:fe,useFactory:Ew,deps:[he,[new h.tBr(nt),new h.FiY],Cs]},{provide:mg,useFactory:xC,deps:[Hr,gu,Cs]},{provide:s_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:_w},{provide:h.PXZ,multi:!0,useFactory:MC},[bd,{provide:h.ip1,multi:!0,useFactory:Cw,deps:[bd]},{provide:d_,useFactory:c_,deps:[bd]},{provide:h.tb,multi:!0,useExisting:d_}]]}}static forChild(t){return{ngModule:n,providers:[u_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(a_,8),h.LFG(Hr,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function xC(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new mg(n,e,t)}function Ew(n,e,t={}){return t.useHash?new Ie(n,e):new Qe(n,e)}function bw(n){return"guarded"}function u_(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:Lu,multi:!0,useValue:n}]}let bd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new lr.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(p=>r=p),u=this.injector.get(Hr),c=this.injector.get(Cs);return"disabled"===c.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?yt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Cs),i=this.injector.get(vw),u=this.injector.get(mg),c=this.injector.get(Hr),p=this.injector.get(h.z2F);t===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),u.init(),c.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Cw(n){return n.appInitializer.bind(n)}function c_(n){return n.bootstrapListener.bind(n)}const d_=new h.OlP("Router Initializer"),Iw=new h.OlP("GETS_ALL_DATE_DTO");let vg=(()=>{class n{constructor(t){this._getsAllDateDto=t,this.currentDate$=this._getsAllDateDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Iw))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-date"]],decls:7,vars:6,consts:[[1,"border-bottom","py-4"],[1,"d-inline","fs-3","fw-bold"],[1,"d-inline","fs-5"]],template:function(t,r){if(1&t&&(h.TgZ(0,"div",0)(1,"p",1),h._uU(2,"TODAY "),h.qZA(),h.TgZ(3,"p",2),h._uU(4),h.ALo(5,"date"),h.ALo(6,"async"),h.qZA()()),2&t){let i;h.xp6(4),h.Oqu(h.xi3(5,1,null==(i=h.lcZ(6,4,r.currentDate$))?null:i.currentDate,"E d MMM"))}},pipes:[Lh,Ma],encapsulation:2,changeDetection:0}),n})();class RC{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const NC={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const Un="undefined"!=typeof window&&window||{};var wg=(()=>{return(n=wg||(wg={})).isBs3="bs3",n.isBs4="bs4",n.isBs5="bs5",wg;var n})();let Is;function p_(){if(void 0===Un.document)return"bs4";const n=Un.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),Un.document.head.appendChild(n);const e=n.getBoundingClientRect(),t=Un.getComputedStyle(n).paddingLeft;return!e||e&&0!==e.top?(Un.document.head.removeChild(n),"bs3"):t&&parseFloat(t)?(Un.document.head.removeChild(n),"bs4"):(Un.document.head.removeChild(n),"bs5")}function ha(){return void 0===Un||(void 0===Un.__theme?(Is||(Is=p_()),"bs3"===Is):"bs3"===Un.__theme)}function g_(){return!ha()&&(Is||(Is=p_()),"bs4"===Is)}function Bu(){return{isBs3:ha(),isBs4:g_(),isBs5:!ha()&&!g_()&&(Is||(Is=p_()),"bs5"===Is)}}"undefined"==typeof console||console;class Dd{}const pa="*";function bg(n,e=null){return{type:2,steps:n,options:e}}function Cd(n){return{type:6,styles:n,offset:null}}function Rw(n){Promise.resolve(null).then(n)}class Dg{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Rw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class v_{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?Rw(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==u&&this._onFinish()}),c.onDestroy(()=>{++r==u&&this._onDestroy()}),c.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((c,p)=>Math.max(c,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}var Nw=k(6451),w_=k(1144);const LM=["addListener","removeListener"],VM=["addEventListener","removeEventListener"],BM=["on","off"];function E_(n,e,t,r){if((0,mi.m)(t)&&(r=t,t=void 0),r)return E_(n,e,t).pipe(Ll(r));const[i,u]=function $M(n){return(0,mi.m)(n.addEventListener)&&(0,mi.m)(n.removeEventListener)}(n)?VM.map(c=>p=>n[c](e,p,t)):function UM(n){return(0,mi.m)(n.addListener)&&(0,mi.m)(n.removeListener)}(n)?LM.map(BC(n,e)):function jM(n){return(0,mi.m)(n.on)&&(0,mi.m)(n.off)}(n)?BM.map(BC(n,e)):[];if(!i&&(0,w_.z)(n))return(0,Cn.z)(c=>E_(c,e,t))((0,Do.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Vr.y(c=>{const p=(...y)=>c.next(1<y.length?y:y[0]);return i(p),()=>u(p)})}function BC(n,e){return t=>r=>n[t](e,r)}var HM=k(4408);const Ig={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Ig;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(u=>{t=void 0,n(u)});return new ea.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Ig;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Ig;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var b_=k(7565);const Ow=new class UC extends b_.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Uu extends HM.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Ig.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(Ig.cancelAnimationFrame(t),e._scheduled=void 0)}});var vf=(()=>{return(n=vf||(vf={})).top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",vf;var n})(),uc=(()=>{return(n=uc||(uc={})).top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",uc;var n})();function lc(n,e){if(1!==n.nodeType)return[];const t=n.ownerDocument.defaultView,r=null==t?void 0:t.getComputedStyle(n,null);return e?r&&r[e]:r}function ga(n){if(!n)return document.documentElement;let r,t=null==n?void 0:n.offsetParent;for(;null===t&&n.nextElementSibling&&r!==n.nextElementSibling;)r=n.nextElementSibling,t=r.offsetParent;const i=t&&t.nodeName;return i&&"BODY"!==i&&"HTML"!==i?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===lc(t,"position")?ga(t):t:r?r.ownerDocument.documentElement:document.documentElement}function D_(n){return null!==n.parentNode?D_(n.parentNode):n}function Id(n,e){if(!(n&&n.nodeType&&e&&e.nodeType))return document.documentElement;const t=n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=t?n:e,i=t?e:n,u=document.createRange();u.setStart(r,0),u.setEnd(i,0);const c=u.commonAncestorContainer;if(n!==c&&e!==c||r.contains(i))return function Pw(n){const{nodeName:e}=n;return"BODY"!==e&&("HTML"===e||ga(n.firstElementChild)===n)}(c)?c:ga(c);const p=D_(n);return p.host?Id(p.host,e):Id(n,D_(e).host)}function Fw(n){if(!n||!n.parentElement)return document.documentElement;let e=n.parentElement;for(;(null==e?void 0:e.parentElement)&&"none"===lc(e,"transform");)e=e.parentElement;return e||document.documentElement}function C_(n,e){const t="x"===e?"Left":"Top",r="Left"===t?"Right":"Bottom";return parseFloat(n[`border${t}Width`])+parseFloat(n[`border${r}Width`])}function Lw(n,e,t,r){return Math.max(e[`offset${n}`],e[`scroll${n}`],t[`client${n}`],t[`offset${n}`],t[`scroll${n}`],0)}function Vw(n){const e=n.body,t=n.documentElement;return{height:Lw("Height",e,t),width:Lw("Width",e,t)}}function Ga(n){return Object.assign(Object.assign({},n),{right:(n.left||0)+n.width,bottom:(n.top||0)+n.height})}function Tn(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function cc(n){const e=n.getBoundingClientRect();if(!(e&&Tn(e.top)&&Tn(e.left)&&Tn(e.bottom)&&Tn(e.right)))return e;const t={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===n.nodeName?Vw(n.ownerDocument):void 0,i=(null==r?void 0:r.width)||n.clientWidth||Tn(e.right)&&Tn(t.left)&&e.right-t.left||0,u=(null==r?void 0:r.height)||n.clientHeight||Tn(e.bottom)&&Tn(t.top)&&e.bottom-t.top||0;let c=n.offsetWidth-i,p=n.offsetHeight-u;if(c||p){const y=lc(n);c-=C_(y,"x"),p-=C_(y,"y"),t.width-=c,t.height-=p}return Ga(t)}function dc(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function ju(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:e,overflowX:t,overflowY:r}=lc(n);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(t))?n:ju(dc(n))}function I_(n,e,t=!1){var r,i,u,c,p,y;const b="HTML"===e.nodeName,S=cc(n),M=cc(e),B=(ju(n),lc(e)),G=parseFloat(B.borderTopWidth),ne=parseFloat(B.borderLeftWidth);t&&b&&(M.top=Math.max(null!==(r=M.top)&&void 0!==r?r:0,0),M.left=Math.max(null!==(i=M.left)&&void 0!==i?i:0,0));const Ee=Ga({top:(null!==(u=S.top)&&void 0!==u?u:0)-(null!==(c=M.top)&&void 0!==c?c:0)-G,left:(null!==(p=S.left)&&void 0!==p?p:0)-(null!==(y=M.left)&&void 0!==y?y:0)-ne,width:S.width,height:S.height});if(Ee.marginTop=0,Ee.marginLeft=0,b){const Ye=parseFloat(B.marginTop),Le=parseFloat(B.marginLeft);Tn(Ee.top)&&(Ee.top-=G-Ye),Tn(Ee.bottom)&&(Ee.bottom-=G-Ye),Tn(Ee.left)&&(Ee.left-=ne-Le),Tn(Ee.right)&&(Ee.right-=ne-Le),Ee.marginTop=Ye,Ee.marginLeft=Le}return Ee}function T_(n,e="top"){const t="top"===e?"scrollTop":"scrollLeft",r=n.nodeName;if("BODY"===r||"HTML"===r){const i=n.ownerDocument.documentElement;return(n.ownerDocument.scrollingElement||i)[t]}return n[t]}function Tg(n){const e=n.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===lc(n,"position")||Tg(dc(n)))}function wf(n,e,t=0,r,i=!1){let u={top:0,left:0};const c=i?Fw(n):Id(n,e);if("viewport"===r)u=function Bw(n,e=!1){const t=n.ownerDocument.documentElement,r=I_(n,t),i=Math.max(t.clientWidth,window.innerWidth||0),u=Math.max(t.clientHeight,window.innerHeight||0),c=e?0:T_(t),p=e?0:T_(t,"left");return Ga({top:c-Number(null==r?void 0:r.top)+Number(null==r?void 0:r.marginTop),left:p-Number(null==r?void 0:r.left)+Number(null==r?void 0:r.marginLeft),width:i,height:u})}(c,i);else{let p;"scrollParent"===r?(p=ju(dc(e)),"BODY"===p.nodeName&&(p=n.ownerDocument.documentElement)):p="window"===r?n.ownerDocument.documentElement:r;const y=I_(p,c,i);if(y&&"HTML"===p.nodeName&&!Tg(c)){const{height:b,width:S}=Vw(n.ownerDocument);Tn(u.top)&&Tn(y.top)&&Tn(y.marginTop)&&(u.top+=y.top-y.marginTop),Tn(u.top)&&(u.bottom=Number(b)+Number(y.top)),Tn(u.left)&&Tn(y.left)&&Tn(y.marginLeft)&&(u.left+=y.left-y.marginLeft),Tn(u.top)&&(u.right=Number(S)+Number(y.left))}else y&&(u=y)}return Tn(u.left)&&(u.left+=t),Tn(u.top)&&(u.top+=t),Tn(u.right)&&(u.right-=t),Tn(u.bottom)&&(u.bottom-=t),u}function Uw({width:n,height:e}){return n*e}function Ef(n,e,t,r,i=["top","bottom","right","left"],u="viewport",c=0){var p,y,b,S,M,F,B,G,ne,Ee,Ye,Le;if(-1===n.indexOf("auto"))return n;const Ze=wf(t,r,c,u),ze={top:{width:null!==(p=null==Ze?void 0:Ze.width)&&void 0!==p?p:0,height:(null!==(y=null==e?void 0:e.top)&&void 0!==y?y:0)-(null!==(b=null==Ze?void 0:Ze.top)&&void 0!==b?b:0)},right:{width:(null!==(S=null==Ze?void 0:Ze.right)&&void 0!==S?S:0)-(null!==(M=null==e?void 0:e.right)&&void 0!==M?M:0),height:null!==(F=null==Ze?void 0:Ze.height)&&void 0!==F?F:0},bottom:{width:null!==(B=null==Ze?void 0:Ze.width)&&void 0!==B?B:0,height:(null!==(G=null==Ze?void 0:Ze.bottom)&&void 0!==G?G:0)-(null!==(ne=null==e?void 0:e.bottom)&&void 0!==ne?ne:0)},left:{width:(null!==(Ee=e.left)&&void 0!==Ee?Ee:0)-(null!==(Ye=null==Ze?void 0:Ze.left)&&void 0!==Ye?Ye:0),height:null!==(Le=null==Ze?void 0:Ze.height)&&void 0!==Le?Le:0}},_t=Object.keys(ze).map(vn=>Object.assign(Object.assign({position:vn},ze[vn]),{area:Uw(ze[vn])})).sort((vn,Yt)=>Yt.area-vn.area);let ct=_t.filter(({width:vn,height:Yt})=>vn>=t.clientWidth&&Yt>=t.clientHeight);ct=ct.filter(({position:vn})=>i.some(Yt=>Yt===vn));const Xt=ct.length>0?ct[0].position:_t[0].position,bn=n.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Bu().isBs5?uc[Xt]:Xt}`),Xt+(bn?`-${bn}`:"")}const bf=(n,e=0)=>n?parseFloat(n):e;function A_(n){const e=n.ownerDocument.defaultView,t=null==e?void 0:e.getComputedStyle(n),r=bf(null==t?void 0:t.marginTop)+bf(null==t?void 0:t.marginBottom),i=bf(null==t?void 0:t.marginLeft)+bf(null==t?void 0:t.marginRight);return{width:Number(n.offsetWidth)+i,height:Number(n.offsetHeight)+r}}function $w(n,e,t){return I_(e,t?Fw(n):Id(n,e),t)}function Ag(n,e,t){var r,i,u;const c=t.split(" ")[0],p=A_(n),y={width:p.width,height:p.height},b=-1!==["right","left"].indexOf(c),S=b?"top":"left",M=b?"left":"top",F=b?"height":"width",B=b?"width":"height";return y[S]=(null!==(r=e[S])&&void 0!==r?r:0)+e[F]/2-p[F]/2,y[M]=c===M?(null!==(i=e[M])&&void 0!==i?i:0)-p[B]:null!==(u=e[function jw(n){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,t=>e[t])}(M)])&&void 0!==u?u:0,y}function Hw(n,e){var t;return!!(null===(t=n.modifiers[e])||void 0===t?void 0:t.enabled)}const $C={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Ei(n,e){return!!Bu().isBs5&&$C[e].includes(n)}function qC(n,e,t){!n||!e||Object.keys(e).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function Td(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(e[r])&&(i="px"),t?t.setStyle(n,r,`${String(e[r])}${i}`):n.style[r]=String(e[r])+i})}function qM(n){var e,t,r,i,u,c;let p=n.offsets.target;const y=n.instance.target.querySelector(".arrow");if(!y)return n;const b=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),S=b?"height":"width",M=b?"Top":"Left",F=M.toLowerCase(),B=b?"left":"top",G=b?"bottom":"right",ne=A_(y)[S],Ee=n.placement.split(" ")[1];(null!==(e=n.offsets.host[G])&&void 0!==e?e:0)-ne<(null!==(t=p[F])&&void 0!==t?t:0)&&(p[F]-=(null!==(r=p[F])&&void 0!==r?r:0)-((null!==(i=n.offsets.host[G])&&void 0!==i?i:0)-ne)),Number(n.offsets.host[F])+Number(ne)>(null!==(u=p[G])&&void 0!==u?u:0)&&(p[F]+=Number(n.offsets.host[F])+Number(ne)-Number(p[G])),p=Ga(p);const Ye=lc(n.instance.target),Le=parseFloat(Ye[`margin${M}`])||0,Ze=parseFloat(Ye[`border${M}Width`])||0;let ze;if(Ee){const ct=parseFloat(Ye.borderRadius)||0,Xt=Number(Le+Ze+ct);ze=F===Ee?Number(n.offsets.host[F])+Xt:Number(n.offsets.host[F])+Number(n.offsets.host[S]-Xt)}else ze=Number(n.offsets.host[F])+Number(n.offsets.host[S]/2-ne/2);let _t=ze-(null!==(c=p[F])&&void 0!==c?c:0)-Le-Ze;return _t=Math.max(Math.min(p[S]-(ne+5),_t),0),n.offsets.arrow={[F]:Math.round(_t),[B]:""},n.instance.arrow=y,n}function Gw(n){if(n.offsets.target=Ga(n.offsets.target),!Hw(n.options,"flip"))return n.offsets.target=Object.assign(Object.assign({},n.offsets.target),Ag(n.instance.target,n.offsets.host,n.placement)),n;const e=wf(n.instance.target,n.instance.host,0,"viewport",!1);let t=n.placement.split(" ")[0],r=n.placement.split(" ")[1]||"";const p=Ef("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),y=[t,p];return y.forEach((b,S)=>{var M,F,B,G,ne,Ee,Ye,Le,Ze,ze,_t,ct,Xt,bn,vn,Yt;if(t!==b||y.length===S+1)return;t=n.placement.split(" ")[0];const Dn="left"===t&&Math.floor(null!==(M=n.offsets.target.right)&&void 0!==M?M:0)>Math.floor(null!==(F=n.offsets.host.left)&&void 0!==F?F:0)||"right"===t&&Math.floor(null!==(B=n.offsets.target.left)&&void 0!==B?B:0)<Math.floor(null!==(G=n.offsets.host.right)&&void 0!==G?G:0)||"top"===t&&Math.floor(null!==(ne=n.offsets.target.bottom)&&void 0!==ne?ne:0)>Math.floor(null!==(Ee=n.offsets.host.top)&&void 0!==Ee?Ee:0)||"bottom"===t&&Math.floor(null!==(Ye=n.offsets.target.top)&&void 0!==Ye?Ye:0)<Math.floor(null!==(Le=n.offsets.host.bottom)&&void 0!==Le?Le:0),Ns=Math.floor(null!==(Ze=n.offsets.target.left)&&void 0!==Ze?Ze:0)<Math.floor(null!==(ze=e.left)&&void 0!==ze?ze:0),ml=Math.floor(null!==(_t=n.offsets.target.right)&&void 0!==_t?_t:0)>Math.floor(null!==(ct=e.right)&&void 0!==ct?ct:0),dw=Math.floor(null!==(Xt=n.offsets.target.top)&&void 0!==Xt?Xt:0)<Math.floor(null!==(bn=e.top)&&void 0!==bn?bn:0),hw=Math.floor(null!==(vn=n.offsets.target.bottom)&&void 0!==vn?vn:0)>Math.floor(null!==(Yt=e.bottom)&&void 0!==Yt?Yt:0),st="left"===t&&Ns||"right"===t&&ml||"top"===t&&dw||"bottom"===t&&hw,mt=-1!==["top","bottom"].indexOf(t),At=mt&&"left"===r&&Ns||mt&&"right"===r&&ml||!mt&&"left"===r&&dw||!mt&&"right"===r&&hw;(Dn||st||At)&&((Dn||st)&&(t=y[S+1]),At&&(r=function GM(n){return"right"===n?"left":"left"===n?"right":n}(r)),n.placement=t+(r?` ${r}`:""),n.offsets.target=Object.assign(Object.assign({},n.offsets.target),Ag(n.instance.target,n.offsets.host,n.placement)))}),n}function zC(n){var e;if(!Hw(n.options,"preventOverflow"))return n;const t="transform",r=n.instance.target.style,{top:i,left:u,[t]:c}=r;r.top="",r.left="",r[t]="";const p=wf(n.instance.target,n.instance.host,0,(null===(e=n.options.modifiers.preventOverflow)||void 0===e?void 0:e.boundariesElement)||"scrollParent",!1);r.top=i,r.left=u,r[t]=c;const b={primary(S){var M,F,B,G;let ne=n.offsets.target[S];return(null!==(M=n.offsets.target[S])&&void 0!==M?M:0)<(null!==(F=p[S])&&void 0!==F?F:0)&&(ne=Math.max(null!==(B=n.offsets.target[S])&&void 0!==B?B:0,null!==(G=p[S])&&void 0!==G?G:0)),{[S]:ne}},secondary(S){var M,F,B,G;const ne="right"===S,Ee=ne?"left":"top";let Le=n.offsets.target[Ee];return(null!==(M=n.offsets.target[S])&&void 0!==M?M:0)>(null!==(F=p[S])&&void 0!==F?F:0)&&(Le=Math.min(null!==(B=n.offsets.target[Ee])&&void 0!==B?B:0,(null!==(G=p[S])&&void 0!==G?G:0)-n.offsets.target[ne?"width":"height"])),{[Ee]:Le}}};return["left","right","top","bottom"].forEach(S=>{const M=-1!==["left","top","start"].indexOf(S)?b.primary:b.secondary;n.offsets.target=Object.assign(Object.assign({},n.offsets.target),M(S))}),n}function S_(n){var e;const t=n.placement,r=t.split(" ")[0],i=t.split(" ")[1];if(i){const{host:u,target:c}=n.offsets,p=-1!==["bottom","top"].indexOf(r),y=p?"left":"top",b=p?"width":"height",S={start:{[y]:u[y]},end:{[y]:(null!==(e=u[y])&&void 0!==e?e:0)+u[b]-c[b]}};n.offsets.target=Object.assign(Object.assign({},c),{[y]:y===i?S.start[y]:S.end[y]})}return n}const WC=new class qw{position(e,t){return this.offset(e,t)}offset(e,t){return $w(t,e)}positionElements(e,t,r,i,u){const c=[Gw,S_,zC,qM],y=function zM(n,e,t,r){if(!n||!e)return;const i=$w(n,e);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const u=!!t.match(/auto/g);let c=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const p=c.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return p&&(c=p[1]+(p[2]?` ${p[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(c)&&(c="auto"),c=Ef(c,i,n,e,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:n,host:e,arrow:void 0},offsets:{target:Ag(n,i,c),host:i,arrow:void 0},positionFixed:!1,placement:c,placementAuto:u}}(t,e,vf[r],u);if(y)return c.reduce((b,S)=>S(b),y)}};function KC(n,e,t,r,i,u){const c=WC.positionElements(n,e,t,r,i);if(!c)return;const p=function jC(n){var e,t,r,i;return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(null!==(e=n.offsets.target.left)&&void 0!==e?e:0),top:Math.round(null!==(t=n.offsets.target.top)&&void 0!==t?t:0),bottom:Math.round(null!==(r=n.offsets.target.bottom)&&void 0!==r?r:0),right:Math.floor(null!==(i=n.offsets.target.right)&&void 0!==i?i:0)}}(c);qC(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${p.left}px, ${p.top}px, 0px)`},u),c.instance.arrow&&qC(c.instance.arrow,c.offsets.arrow,u),function GC(n,e){const t=n.instance.target;let r=t.className;const i=Bu().isBs5?uc[n.placement]:n.placement;n.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+function HC(n){return Bu().isBs5?Ei(n,"end")?"ms-2":Ei(n,"start")?"me-2":Ei(n,"top")?"mb-2":Ei(n,"bottom")?"mt-2":"":""}(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),e?e.setAttribute(t,"class",r):t.className=r}(c,u)}let Sg=(()=>{class n{constructor(t,r,i){this.update$$=new lr.x,this.positionElements=new Map,this.isDisabled=!1,Cr(i)&&t.runOutsideAngular(()=>{this.triggerEvent$=(0,Nw.T)(E_(window,"scroll",{passive:!0}),E_(window,"resize",{passive:!0}),yt(0,Ow),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(u=>{KC(Df(u.target),Df(u.element),u.attachment,u.appendToBody,this.options,r.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(Df(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(Df(t))}setOptions(t){this.options=t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b),h.LFG(h.FYo),h.LFG(h.Lbi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Df(n){return"string"==typeof n?document.querySelector(n):n instanceof h.SBq?n.nativeElement:null!=n?n:null}class Ad{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}class ZC{constructor(e,t,r,i,u,c,p,y){this._viewContainerRef=e,this._renderer=t,this._elementRef=r,this._injector=i,this._componentFactoryResolver=u,this._ngZone=c,this._applicationRef=p,this._posService=y,this.onBeforeShow=new h.vpe,this.onShown=new h.vpe,this.onBeforeHide=new h.vpe,this.onHidden=new h.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=h.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof h.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const r=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){var t,r,i,u,c,p;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const y=this._componentRef.location.nativeElement;return null===(t=y.parentNode)||void 0===t||t.removeChild(y),null===(i=null===(r=this._contentRef)||void 0===r?void 0:r.componentRef)||void 0===i||i.destroy(),this._viewContainerRef&&(null===(u=this._contentRef)||void 0===u?void 0:u.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(p=null===(c=this._contentRef)||void 0===c?void 0:c.viewRef)||void 0===p||p.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){var t;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||(null===(t=this._elementRef)||void 0===t?void 0:t.nativeElement);const r=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),i=this._listenOpts.show=c=>{e.show?e.show(c):this.show(c),c()};return this._renderer&&(this._unregisterListenersFn=function Aw(n,e){const t=function f_(n,e=NC){const t=(n||"").trim();if(0===t.length)return[];const r=t.split(/\s+/).map(u=>u.split(":")).map(u=>{const c=e[u[0]]||u;return new RC(c[0],c[1])}),i=r.filter(u=>u.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(e.triggers),r=e.target;if(1===t.length&&t[0].isManual())return Function.prototype;const i=[],u=[],c=()=>{u.forEach(p=>i.push(p())),u.length=0};return t.forEach(p=>{const y=p.open===p.close,b=y?e.toggle:e.show;if(!y&&p.close&&e.hide){const S=n.listen(r,p.close,e.hide);u.push(()=>S)}b&&i.push(n.listen(r,p.open,()=>b(c)))}),()=>{i.forEach(p=>p())}}(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:r,toggle:c=>{this.isShown?r():i(c)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function DM(n,e){return e.outsideClick?n.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function Sw(n,e){return e.outsideEsc?n.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var e;this._posService.position({element:null===(e=this._componentRef)||void 0===e?void 0:e.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,t,r){if(!e)return new Ad([]);if(e instanceof h.Rgc){if(this._viewContainerRef){const c=this._viewContainerRef.createEmbeddedView(e,t);return c.markForCheck(),new Ad([c.rootNodes],c)}const u=e.createEmbeddedView({});return this._applicationRef.attachView(u),new Ad([u.rootNodes],u)}if("function"==typeof e){const u=this._componentFactoryResolver.resolveComponentFactory(e),c=h.zs3.create({providers:this._providers,parent:this._injector}),p=u.create(c);return Object.assign(p.instance,r),this._applicationRef.attachView(p.hostView),new Ad([[p.location.nativeElement]],p.hostView,p)}const i=this._renderer?[this._renderer.createText(`${e}`)]:[];return new Ad([i])}}let Cf=(()=>{class n{constructor(t,r,i,u,c){this._componentFactoryResolver=t,this._ngZone=r,this._injector=i,this._posService=u,this._applicationRef=c}createLoader(t,r,i){return new ZC(r,i,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h._Vd),h.LFG(h.R0b),h.LFG(h.zs3),h.LFG(Sg),h.LFG(h.z2F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zw=function(n){return{dropdown:n}},Ww=["*"],ko=[Cd({height:0,overflow:"hidden"}),function Eg(n,e=null){return{type:4,styles:e,timings:n}}("220ms cubic-bezier(0, 0, 0.2, 1)",Cd({height:"*",overflow:"hidden"}))];let qa=(()=>{class n{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new h.vpe,this.isDisabledChange=new h.vpe,this.toggleClick=new h.vpe,this.counts=0,this.dropdownMenu=new Promise(t=>{this.resolveDropdownMenu=t})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),QC=(()=>{class n{constructor(t,r,i,u,c){this._state=t,this.cd=r,this._renderer=i,this._element=u,this.isOpen=!1,this._factoryDropDownAnimation=c.build(ko),this._subscription=t.isOpenChange.subscribe(p=>{this.isOpen=p;const y=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),y&&!ha()&&(this._renderer.addClass(y,"show"),(y.classList.contains("dropdown-menu-right")||y.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(y,"left","auto"),this._renderer.setStyle(y,"right","0")),"up"===this.direction&&(this._renderer.setStyle(y,"top","auto"),this._renderer.setStyle(y,"transform","translateY(-101%)"))),y&&this._state.isAnimated&&this._factoryDropDownAnimation.create(y).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(t){return this._element.nativeElement.contains(t)}ngOnDestroy(){this._subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(qa),h.Y36(h.sBO),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Dd))},n.\u0275cmp=h.Xpm({type:n,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:Ww,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(t,r){1&t&&(h.F$t(),h.TgZ(0,"div",0),h.Hsn(1),h.qZA()),2&t&&(h.ekj("dropup","up"===r.direction)("show",r.isOpen)("open",r.isOpen),h.Q6J("ngClass",h.VKq(7,zw,"down"===r.direction)))},directives:[Vs],encapsulation:2,changeDetection:0}),n})(),Kw=(()=>{class n{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JC=(()=>{class n{constructor(t,r,i,u,c,p,y){this._elementRef=t,this._renderer=r,this._viewContainerRef=i,this._cis=u,this._state=c,this._config=p,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=y.build(ko),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:qa,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(t){this._state.autoClose=t}get autoClose(){return this._state.autoClose}set isAnimated(t){this._state.isAnimated=t}get isAnimated(){return this._state.isAnimated}set insideClick(t){this._state.insideClick=t}get insideClick(){return this._state.insideClick}set isDisabled(t){this._isDisabled=t,this._state.isDisabledChange.emit(t),t&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(t){t?this.show():this.hide()}get isBs4(){return!ha()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(t=>this.toggle(t))),this._subscriptions.push(this._state.isDisabledChange.pipe(Xi(t=>t)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(t=>{this._dropdown.attachInline(t.viewContainer,t.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(t=>{const r=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=r?"up":"down";const i=this.placement||(r?"top start":"bottom start");this._dropdown.attach(QC).to(this.container).position({attachment:i}).show({content:t.templateRef,placement:i}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){!this.isOpen||(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(t){return this.isOpen||!t?this.hide():this.show()}_contains(t){return this._elementRef.nativeElement.contains(t.target)||this._dropdown.instance&&this._dropdown.instance._contains(t.target)}navigationClick(t){const r=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!r)return;const i=this._elementRef.nativeElement.ownerDocument.activeElement,u=r.querySelectorAll(".dropdown-item");switch(t.keyCode){case 38:this._state.counts>0&&u[--this._state.counts].focus();break;case 40:this._state.counts+1<u.length&&(i.classList!==u[this._state.counts].classList?u[this._state.counts].focus():u[++this._state.counts].focus())}t.preventDefault()}ngOnDestroy(){for(const t of this._subscriptions)t.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){ha()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const t=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",t?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",t?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.s_b),h.Y36(Cf),h.Y36(qa),h.Y36(Kw),h.Y36(Dd))},n.\u0275dir=h.lG2({type:n,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(t,r){1&t&&h.NdJ("keydown.arrowDown",function(u){return r.navigationClick(u)})("keydown.arrowUp",function(u){return r.navigationClick(u)}),2&t&&h.ekj("dropup",r.dropup)("open",r.isOpen)("show",r.isOpen&&r.isBs4)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[h._Bn([qa])]}),n})(),Zw=(()=>{class n{constructor(t,r,i){t.resolveDropdownMenu({templateRef:i,viewContainer:r})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(qa),h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),n})(),XC=(()=>{class n{constructor(t,r,i,u,c){this._changeDetectorRef=t,this._dropdown=r,this._element=i,this._renderer=u,this._state=c,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(p=>{this.isOpen=p,p?(this._documentClickListener=this._renderer.listen("document","click",y=>{this._state.autoClose&&2!==y.button&&!this._element.nativeElement.contains(y.target)&&(!this._state.insideClick||!this._dropdown._contains(y))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(p=>this.isDisabled=p||void 0))}onClick(t){this._state.stopOnClickPropagation&&t.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const t of this._subscriptions)t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO),h.Y36(JC),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(qa))},n.\u0275dir=h.lG2({type:n,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u)}),2&t&&h.uIk("aria-haspopup",!0)("disabled",r.isDisabled)("aria-expanded",r.isOpen)},exportAs:["bs-dropdown-toggle"]}),n})(),eI=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Cf,Sg,qa]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[mr]]}),n})();const Yw=new h.OlP("GETS_ALL_TASK_DTO"),Mg=new h.OlP("REMOVES_TASK_DTO"),Qw=new h.OlP("SETS_TASK_DTO");let Sd,tI=(()=>{class n{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==t);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(t),t._enable()}deregister(t){t._disable();const r=this._focusTrapStack,i=r.indexOf(t);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{Sd="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Sd=!1}let xg=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Cr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Sd)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rg=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Jw(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function M_(n){try{return n.frameElement}catch(e){return null}}(function tE(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===N_(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),u=N_(t);return t.hasAttribute("contenteditable")?-1!==u:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Xw(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==u:"video"===i?-1!==u&&(null!==u||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function eE(n){return!function rI(n){return function ZM(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function nI(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function x_(n){return function iI(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||R_(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(xg))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function R_(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function N_(n){if(!R_(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function ma(n){return null!=n&&"false"!=`${n}`}class Ng{constructor(e,t,r,i,u=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,u||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const t=this._getFirstTabbableElement(e);return null==t||t.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Co.q)(1)).subscribe(e)}}let sI=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new Ng(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Rg),h.LFG(h.R0b),h.LFG(re))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oI=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=ma(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=ma(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const r=t.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(sI),h.Y36(re))},n.\u0275dir=h.lG2({type:n,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[h.TTD]}),n})(),aI=(()=>{class n{static forRoot(){return{ngModule:n,providers:[tI,xg,Rg]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[mr]]}),n})();const O_=["*"];let k_=(()=>{class n{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Md=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Og={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},P_=new h.OlP("override-default-config");let L_=(()=>{class n{constructor(t,r,i){this._element=r,this._renderer=i,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,ha()?"in":"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){var r;this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(null===(r=this.bsModalService)||void 0===r||r.setDismissReason("backdrop-click"),this.hide())}onPopState(){var t;null===(t=this.bsModalService)||void 0===t||t.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){var r,i;!this.isShown||((27===t.keyCode||"Escape"===t.key)&&t.preventDefault(),this.config.keyboard&&this.level===(null===(r=this.bsModalService)||void 0===r?void 0:r.getModalsCount())&&(null===(i=this.bsModalService)||void 0===i||i.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding&&this.isShown){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,ha()?"in":"show"),setTimeout(()=>{var t,r;this.isShown=!1,document&&document.body&&1===(null===(t=this.bsModalService)||void 0===t?void 0:t.getModalsCount())&&(this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","")),null===(r=this.bsModalService)||void 0===r||r.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Md),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275cmp=h.Xpm({type:n,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,r){1&t&&h.NdJ("mousedown",function(u){return r.onClickStarted(u)})("click",function(u){return r.onClickStop(u)})("popstate",function(){return r.onPopState()},!1,h.Jf7)("keydown.esc",function(u){return r.onEsc(u)},!1,h.Jf7),2&t&&h.uIk("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:O_,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(t,r){1&t&&(h.F$t(),h.TgZ(0,"div",0)(1,"div",1),h.Hsn(2),h.qZA()()),2&t&&h.Tol("modal-dialog"+(r.config.class?" "+r.config.class:""))},directives:[oI],encapsulation:2}),n})(),lI=(()=>{class n{constructor(t,r){this._isAnimated=!1,this._isShown=!1,this.element=t,this.renderer=r}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),ha()||(t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),class m_{static reflow(e){}static getStyles(e){let t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=Un),t.getComputedStyle(e)}static stackOverflowConfig(){const e=function Oo(){const n=Bu(),e=Object.keys(n).find(t=>n[t]);return wg[e]}();return{crossorigin:"bs3"!==e?"anonymous":void 0,integrity:"bs5"===e?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"bs4"===e?"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2":void 0,cdnLink:"bs5"===e?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"bs4"===e?"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css":"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"}}}.reflow(this.element.nativeElement)),this.isShown=!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275cmp=h.Xpm({type:n,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),rE=1,V_=(()=>{class n{constructor(t,r,i){this.clf=r,this.modalDefaultOption=i,this.onShow=new h.vpe,this.onShown=new h.vpe,this.onHide=new h.vpe,this.onHidden=new h.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=t.createRenderer(null,null),this.config=i?Object.assign({},Og,i):Og}show(t,r){this.modalsCount++,this._createLoaders();const i=(null==r?void 0:r.id)||rE++;return this.config=this.modalDefaultOption?Object.assign({},Og,this.modalDefaultOption,r):Object.assign({},Og,r),this.config.id=i,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(t)}hide(t){(1===this.modalsCount||null==t)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=!0===this.config.backdrop||"static"===this.config.backdrop,r=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&r&&(this._backdropLoader.attach(lI).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){var r;const i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const p of this.config.providers)i.provide(p);const u=new k_,c=i.provide({provide:Md,useValue:this.config}).provide({provide:k_,useValue:u}).attach(L_).to("body");return u.hide=()=>{var p;return null===(p=c.instance)||void 0===p?void 0:p.hide()},u.setClass=p=>{c.instance&&(c.instance.config.class=p)},u.onHidden=new h.vpe,u.onHide=new h.vpe,this.copyEvent(i.onBeforeHide,u.onHide),this.copyEvent(i.onHidden,u.onHidden),c.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),c.instance&&(c.instance.level=this.getModalsCount(),u.content=i.getInnerComponent(),u.id=null===(r=c.instance.config)||void 0===r?void 0:r.id),u}_hideModal(t){if(null!=t){const r=this.loaders.findIndex(u=>{var c;return(null===(c=u.instance)||void 0===c?void 0:c.config.id)===t}),i=this.loaders[r];i&&i.hide(t)}else this.loaders.forEach(r=>{r.instance&&r.hide(r.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){!document||(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const r=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),r}_createLoaders(){const t=this.clf.createLoader();this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const r=this.loaders.findIndex(i=>{var u;return(null===(u=i.instance)||void 0===u?void 0:u.config.id)===t});r>=0&&(this.loaders.splice(r,1),this.loaders.forEach((i,u)=>{i.instance&&(i.instance.level=u+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,r){t.subscribe(i=>{r.emit(this.lastDismissReason||i)})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(Cf),h.LFG(P_,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();aI.forRoot();let xd=(()=>{class n{static forRoot(){return{ngModule:n,providers:[V_,Cf,Sg]}}static forChild(){return{ngModule:n,providers:[V_,Cf,Sg]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[aI]]}),n})();function dI(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div")(1,"input",9),h.NdJ("change",function(){h.CHM(t);const i=h.oxw().$implicit;return h.oxw(2).onTaskDoneChanged(i)}),h.qZA(),h.TgZ(2,"label",10),h._uU(3),h.qZA()()}if(2&n){const t=h.oxw().$implicit;h.xp6(3),h.Oqu(t.name)}}function hI(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div")(1,"input",11),h.NdJ("change",function(){h.CHM(t);const i=h.oxw().$implicit;return h.oxw(2).onTaskDoneChanged(i)}),h.qZA(),h.TgZ(2,"label"),h._uU(3),h.qZA()()}if(2&n){const t=h.oxw().$implicit;h.xp6(3),h.Oqu(t.name)}}function fI(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"ul",12)(1,"li",13)(2,"button",14),h.NdJ("click",function(){h.CHM(t),h.oxw();const i=h.MAs(8);return h.oxw(2).openModal(i)}),h._uU(3,"Delete task"),h.qZA()()()}}function pI(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",15)(1,"div"),h._uU(2,"DELETE TASK"),h.qZA(),h.TgZ(3,"button",16),h.NdJ("click",function(){return h.CHM(t),h.oxw(3).decline()}),h.TgZ(4,"span",17),h._uU(5,"\xd7"),h.qZA()()(),h.TgZ(6,"div",18),h._uU(7," Are you sure you want to delete this task? "),h.qZA(),h.TgZ(8,"div",19)(9,"button",20),h.NdJ("click",function(){return h.CHM(t),h.oxw(3).decline()}),h._uU(10,"Cancel"),h.qZA(),h.TgZ(11,"button",21),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().$implicit,u=h.oxw().ngIf,c=h.oxw();return c.onDeleteTaskClicked(i,u),c.goHome(u)}),h._uU(12,"Delete task"),h.qZA()()}}function Po(n,e){if(1&n&&(h.TgZ(0,"div",3),h.YNc(1,dI,4,1,"div",4),h.YNc(2,hI,4,1,"div",4),h.TgZ(3,"div",5)(4,"button",6),h._uU(5,"..."),h.qZA(),h.YNc(6,fI,4,0,"ul",7),h.qZA(),h.YNc(7,pI,13,0,"ng-template",null,8,h.W1O),h.qZA()),2&n){const t=e.$implicit;h.xp6(1),h.Q6J("ngIf",t.done),h.xp6(1),h.Q6J("ngIf",!t.done)}}function B_(n,e){if(1&n&&(h.TgZ(0,"div",1),h.YNc(1,Po,9,2,"div",2),h.qZA()),2&n){const t=e.ngIf;h.xp6(1),h.Q6J("ngForOf",t)}}let iE=(()=>{class n{constructor(t,r,i,u,c){this.modalService=t,this.router=r,this._getsAllTaskDto=i,this._removesTaskDto=u,this._setsTaskDto=c,this.tasksList$=this._getsAllTaskDto.getAll().pipe((0,Ot.U)(p=>p.sort((y,b)=>y.date-b.date).reverse()),(0,Ur.b)(p=>this.goHome(p)))}onDeleteTaskClicked(t,r){var i;this._removesTaskDto.remove(""+t.id),null===(i=this.modalRef)||void 0===i||i.hide()}onTaskDoneChanged(t){this._setsTaskDto.set(t.done?{id:t.id,name:t.name,done:!1}:{id:t.id,name:t.name,done:!0})}openModal(t){this.modalRef=this.modalService.show(t,{class:"modal-md"})}decline(){var t;null===(t=this.modalRef)||void 0===t||t.hide()}goHome(t){t.length<1&&this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(V_),h.Y36(Hr),h.Y36(Yw),h.Y36(Mg),h.Y36(Qw))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-tasks-list-view"]],features:[h._Bn([{provide:Kw,useValue:{isAnimated:!0,autoClose:!0}}])],decls:2,vars:3,consts:[["class","py-5 border-bottom",4,"ngIf"],[1,"py-5","border-bottom"],["class","form-check d-flex justify-content-between align-items-center py-3 pe-5",4,"ngFor","ngForOf"],[1,"form-check","d-flex","justify-content-between","align-items-center","py-3","pe-5"],[4,"ngIf"],["dropdown","",1,"btn-group"],["id","button-animated","dropdownToggle","","type","button","aria-controls","dropdown-animated",1,"btn","bg-white","fw-bold"],["id","dropdown-animated","class","dropdown-menu dropdown-menu-right","role","menu","aria-labelledby","button-animated",4,"dropdownMenu"],["template",""],["type","checkbox","value","","checked","",1,"form-check-input","rounded-circle","border-dark","border-2","bg-success",3,"change"],[1,"text-decoration-line-through"],["type","checkbox","value","",1,"form-check-input","rounded-circle","border-dark","border-2","hover",3,"change"],["id","dropdown-animated","role","menu","aria-labelledby","button-animated",1,"dropdown-menu","dropdown-menu-right"],["role","menuitem"],["type","submit",1,"dropdown-item",3,"click"],[1,"d-flex","fw-bold","border-bottom","fs-4","justify-content-between","p-3","bg-light"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"p-3","fs-6","border-bottom","bg-light"],[1,"d-flex","py-3","justify-content-end","bg-light"],["type","button",1,"btn","btn-light","border-dark","me-3",3,"click"],["type","button",1,"btn","bg-delete","text-white","me-3",3,"click"]],template:function(t,r){1&t&&(h.YNc(0,B_,2,1,"div",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,r.tasksList$))},directives:[Yr,ur,JC,XC,Zw],pipes:[Ma],encapsulation:2,changeDetection:0}),n})(),U_=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),$u=(()=>{class n extends U_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const ya=new h.OlP("NgValueAccessor"),mI={provide:ya,useExisting:(0,h.Gpc)(()=>Rd),multi:!0},JM=new h.OlP("CompositionEventMode");let Rd=(()=>{class n extends U_{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function aE(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(JM,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([mI]),h.qOj]}),n})();function Hu(n){return null==n||0===n.length}function uE(n){return null!=n&&"number"==typeof n.length}const Hi=new h.OlP("NgValidators"),hc=new h.OlP("NgAsyncValidators"),j_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lE{static min(e){return function $_(n){return e=>{if(Hu(e.value)||Hu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function H_(n){return e=>{if(Hu(e.value)||Hu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function yI(n){return Hu(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function oo(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function _I(n){return Hu(n.value)||j_.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function vI(n){return e=>Hu(e.value)||!uE(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function G_(n){return e=>uE(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function q_(n){if(!n)return Af;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Hu(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return dE(e)}static composeAsync(e){return hE(e)}}function Af(n){return null}function cE(n){return null!=n}function wI(n){const e=(0,h.QGY)(n)?(0,Ln.D)(n):n;return(0,h.CqO)(e),e}function z_(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function kg(n,e){return e.map(t=>t(n))}function Pg(n){return n.map(e=>function EI(n){return!n.validate}(e)?e:t=>e.validate(t))}function dE(n){if(!n)return null;const e=n.filter(cE);return 0==e.length?null:function(t){return z_(kg(t,e))}}function W_(n){return null!=n?dE(Pg(n)):null}function hE(n){if(!n)return null;const e=n.filter(cE);return 0==e.length?null:function(t){return function sE(...n){const e=(0,Vn.jO)(n),{args:t,keys:r}=ki(n),i=new Vr.y(u=>{const{length:c}=t;if(!c)return void u.complete();const p=new Array(c);let y=c,b=c;for(let S=0;S<c;S++){let M=!1;(0,Do.Xf)(t[S]).subscribe((0,Wn.x)(u,F=>{M||(M=!0,b--),p[S]=F},()=>y--,void 0,()=>{(!y||!M)&&(b||u.next(r?bo(r,p):p),u.complete())}))}});return e?i.pipe(Ll(e)):i}(kg(t,e).map(wI)).pipe((0,Ot.U)(z_))}}function K_(n){return null!=n?hE(Pg(n)):null}function fE(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function pE(n){return n._rawValidators}function Sf(n){return n._rawAsyncValidators}function Gu(n){return n?Array.isArray(n)?n:[n]:[]}function Fg(n,e){return Array.isArray(n)?n.includes(e):n===e}function Nd(n,e){const t=Gu(e);return Gu(n).forEach(i=>{Fg(t,i)||t.push(i)}),t}function gE(n,e){return Gu(e).filter(t=>!Fg(n,t))}class mE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=W_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=K_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class _a extends mE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jn extends mE{get formDirective(){return null}get path(){return null}}class Od{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Pd=(()=>{class n extends Od{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(_a,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[h.qOj]}),n})(),os=(()=>{class n extends Od{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(jn,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[h.qOj]}),n})();function Vd(n,e){Y_(n,e),e.valueAccessor.writeValue(n.value),function bE(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&DE(n,e)})}(n,e),function CE(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function DI(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&DE(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function EE(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ff(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Lf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Lg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Y_(n,e){const t=pE(n);null!==e.validator?n.setValidators(fE(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Sf(n);null!==e.asyncValidator?n.setAsyncValidators(fE(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Lg(e._rawValidators,i),Lg(e._rawAsyncValidators,i)}function Lf(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=pE(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=Sf(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Lg(e._rawValidators,r),Lg(e._rawAsyncValidators,r),t}function DE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ME(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Bd="VALID",X_="INVALID",Ud="PENDING",va="DISABLED";function Vg(n){return(Ug(n)?n.validators:n)||null}function xE(n){return Array.isArray(n)?W_(n):n||null}function Bg(n,e){return(Ug(e)?e.asyncValidators:n)||null}function Bf(n){return Array.isArray(n)?K_(n):n||null}function Ug(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const ev=n=>n instanceof $g,tv=n=>n instanceof jd;function RE(n){return ev(n)?n.value:n.getRawValue()}function NE(n,e){const t=tv(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[e])throw new h.vHH(1001,"")}function OE(n,e){tv(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new h.vHH(1002,"")})}class jg{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=xE(this._rawValidators),this._composedAsyncValidatorFn=Bf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Bd}get invalid(){return this.status===X_}get pending(){return this.status==Ud}get disabled(){return this.status===va}get enabled(){return this.status!==va}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=xE(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Bf(e)}addValidators(e){this.setValidators(Nd(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Nd(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gE(e,this._rawAsyncValidators))}hasValidator(e){return Fg(this._rawValidators,e)}hasAsyncValidator(e){return Fg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ud,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=va,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bd,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bd||this.status===Ud)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?va:Bd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ud,this._hasOwnPendingAsyncValidator=!0;const t=wI(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function TI(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=tv(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof kE)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?va:this.errors?X_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ud)?Ud:this._anyControlsHaveStatus(X_)?X_:Bd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ug(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class $g extends jg{constructor(e=null,t,r){super(Vg(t),Bg(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ug(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ME(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ME(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class jd extends jg{constructor(e,t,r){super(Vg(t),Bg(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){OE(this,e),Object.keys(e).forEach(r=>{NE(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=RE(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class kE extends jg{constructor(e,t,r){super(Vg(t),Bg(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){OE(this,e),e.forEach((r,i)=>{NE(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>RE(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let VE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),sv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const Zg=new h.OlP("NgModelWithFormControlWarning"),UE={provide:jn,useExisting:(0,h.Gpc)(()=>fc)};let fc=(()=>{class n extends jn{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Lf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Vd(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Ff(t.control||null,t,!1),ME(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function AE(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Ff(r||null,t),ev(i)&&(Vd(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function IE(n,e){Y_(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function TE(n,e){return Lf(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Y_(this.form,this),this._oldForm&&Lf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Hi,10),h.Y36(hc,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([UE]),h.qOj,h.TTD]}),n})();const dv={provide:_a,useExisting:(0,h.Gpc)(()=>$f)};let $f=(()=>{class n extends _a{constructor(t,r,i,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function SE(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===Rd?t=u:function Q_(n){return Object.getPrototypeOf(n.constructor)===$u}(u)?r=u:i=u}),i||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Vf(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Pf(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(jn,13),h.Y36(Hi,10),h.Y36(hc,10),h.Y36(ya,10),h.Y36(Zg,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([dv]),h.qOj,h.TTD]}),n})(),Fo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[sv]]}),n})(),vv=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Zg,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Fo]}),n})();const wv=new h.OlP("ADDS_TASK_DTO");function Ev(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div")(1,"div",2)(2,"form",3),h.NdJ("ngSubmit",function(){h.CHM(t);const i=h.oxw();return i.onCreateTaskSubmited(i.createTask)}),h._UZ(3,"input",4),h.TgZ(4,"label",5),h._uU(5,"Write your task here"),h.qZA(),h._UZ(6,"input",6),h.TgZ(7,"button",7),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return i.onCancelClicked(i.showAddBox)}),h._uU(8,"Cancel"),h.qZA()()()()}if(2&n){const t=h.oxw();h.xp6(2),h.Q6J("formGroup",t.createTask),h.xp6(4),h.Q6J("disabled",t.createTask.invalid)}}function Hf(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",8),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return i.onAddTaskButtonClicked(i.showAddBox)}),h._uU(1,"Add task"),h.qZA()}}let LI=(()=>{class n{constructor(t,r){this._addsTaskDto=t,this.router=r,this.createTask=new jd({task:new $g("",[lE.required])}),this.showAddBox=!1}onAddTaskButtonClicked(t){this.showAddBox=!0}onCancelClicked(t){this.showAddBox=!1}onCreateTaskSubmited(t){var r;t.invalid||(this._addsTaskDto.add({name:null===(r=null==t?void 0:t.get("task"))||void 0===r?void 0:r.value,date:(new Date).getTime()}),this.createTask.reset(),this.showAddBox=!1)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(wv),h.Y36(Hr))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-add-task"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["template",""],[1,"pt-5"],[1,"form-floating",3,"formGroup","ngSubmit"],["type","text","formControlName","task","placeholder","Write your task here","id","floatingTextarea2",1,"form-control",2,"height","100px","max-width","350px"],["for","floatingTextarea2"],["type","submit","value","Add task",1,"btn","bg-special","text-white","mt-4","me-4",3,"disabled"],[1,"btn","text-dark","bg-white","border-dark","mt-4",3,"click"],[1,"btn","bg-special","text-white","mt-5",3,"click"]],template:function(t,r){if(1&t&&(h.YNc(0,Ev,9,2,"div",0),h.YNc(1,Hf,2,0,"ng-template",null,1,h.W1O)),2&t){const i=h.MAs(2);h.Q6J("ngIf",r.showAddBox)("ngIfElse",i)}},directives:[Yr,VE,os,fc,Rd,Pd,$f],encapsulation:2,changeDetection:0}),n})(),nb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-my-list-page"]],decls:3,vars:0,template:function(t,r){1&t&&h._UZ(0,"lib-date")(1,"lib-tasks-list-view")(2,"lib-add-task")},directives:[vg,iE,LI],encapsulation:2,changeDetection:0}),n})(),bv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[mr]]}),n})(),Dv=(()=>{class n{getAll(){return yt({currentDate:new Date})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Xg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Dv,{provide:Iw,useExisting:Dv}],imports:[[]]}),n})();var em=k(4986),ni=k(5813);function tm(){return(0,Br.e)((n,e)=>{let t,r=!1;n.subscribe((0,Wn.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function Cv(n,e){return n===e}var rt,Ts=k(2011),ib=(k(4087),k(3942)),ve=k(5861),zu=k(9681),Gf=k(4859),Ka=k(1877),Gt=k(2090),sb="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Za={},Iv=Iv||{},Rt=sb||self;function nm(){}function Tv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function qf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Av="closure_uid_"+(1e9*Math.random()>>>0),UI=0;function jI(n,e,t){return n.call.apply(n.bind,arguments)}function $I(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ri(n,e,t){return(ri=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jI:$I).apply(null,arguments)}function rm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ii(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,u){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[i].apply(r,c)}}function Wu(){this.s=this.s,this.o=this.o}var GI={};Wu.prototype.s=!1,Wu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function BI(n){return Object.prototype.hasOwnProperty.call(n,Av)&&n[Av]||(n[Av]=++UI)}(this);delete GI[n]}},Wu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Sv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Mv=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in i&&e.call(t,i[u],u,n)};function xv(n){return Array.prototype.concat.apply([],arguments)}function im(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function zf(n){return/^[\s\xa0]*$/.test(n)}var Di,Rv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function bi(n,e){return-1!=n.indexOf(e)}function sm(n,e){return n<e?-1:n>e?1:0}e:{var Nv=Rt.navigator;if(Nv){var Ku=Nv.userAgent;if(Ku){Di=Ku;break e}}Di=""}function Ov(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function ab(n){const e={};for(const t in n)e[t]=n[t];return e}var gc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qI(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<gc.length;u++)t=gc[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Wf(n){return Wf[" "](n),n}Wf[" "]=nm;var yc,n,ub=bi(Di,"Opera"),mc=bi(Di,"Trident")||bi(Di,"MSIE"),zI=bi(Di,"Edge"),vt=zI||mc,lb=bi(Di,"Gecko")&&!(bi(Di.toLowerCase(),"webkit")&&!bi(Di,"Edge"))&&!(bi(Di,"Trident")||bi(Di,"MSIE"))&&!bi(Di,"Edge"),WI=bi(Di.toLowerCase(),"webkit")&&!bi(Di,"Edge");function cb(){var n=Rt.document;return n?n.documentMode:void 0}e:{var kv="",Hd=(n=Di,lb?/rv:([^\);]+)(\)|;)/.exec(n):zI?/Edge\/([\d\.]+)/.exec(n):mc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):WI?/WebKit\/(\S+)/.exec(n):ub?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Hd&&(kv=Hd?Hd[1]:""),mc){var Gd=cb();if(null!=Gd&&Gd>parseFloat(kv)){yc=String(Gd);break e}}yc=kv}var er={};var KI=Rt.document&&mc&&(cb()||parseInt(yc,10))||void 0,hb=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",nm,e),Rt.removeEventListener("test",nm,e)}catch(t){}return n}();function si(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function qd(n,e){if(si.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(lb){e:{try{Wf(e.nodeName);var i=!0;break e}catch(u){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:fb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&qd.Z.h.call(this)}}si.prototype.h=function(){this.defaultPrevented=!0},ii(qd,si);var fb={2:"touch",3:"pen",4:"mouse"};qd.prototype.h=function(){qd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Kf="closure_listenable_"+(1e6*Math.random()|0),ZI=0;function YI(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++ZI,this.ca=this.fa=!1}function Zu(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function am(n){this.src=n,this.g={},this.h=0}function Pv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=Sv(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(Zu(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Fv(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return i}return-1}am.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=Fv(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new YI(e,this.src,u,!!r,i)).fa=t,n.push(e)),e};var zd="closure_lm_"+(1e6*Math.random()|0),um={};function Lv(n,e,t,r,i){if(r&&r.once)return Wd(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Lv(n,e[u],t,r,i);return null}return t=dm(t),n&&n[Kf]?n.N(e,t,qf(r)?!!r.capture:!!r,i):Vv(n,e,t,!1,r,i)}function Vv(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=qf(i)?!!i.capture:!!i,p=lm(n);if(p||(n[zd]=p=new am(n)),(t=p.add(e,t,r,c,u)).proxy)return t;if(r=function QI(){var e=JI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)hb||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(pb(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Wd(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Wd(n,e[u],t,r,i);return null}return t=dm(t),n&&n[Kf]?n.O(e,t,qf(r)?!!r.capture:!!r,i):Vv(n,e,t,!0,r,i)}function Kd(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)Kd(n,e[u],t,r,i);else r=qf(r)?!!r.capture:!!r,t=dm(t),n&&n[Kf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Fv(u=n.g[e],t,r,i))&&(Zu(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=lm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Fv(e,t,r,i)),(t=-1<n?e[n]:null)&&Bv(t))}function Bv(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Kf])Pv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(pb(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=lm(e))?(Pv(t,n),0==t.h&&(t.src=null,e[zd]=null)):Zu(n)}}}function pb(n){return n in um?um[n]:um[n]="on"+n}function JI(n,e){if(n.ca)n=!0;else{e=new qd(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Bv(n),n=t.call(r,e)}return n}function lm(n){return(n=n[zd])instanceof am?n:null}var cm="__closure_events_fn_"+(1e9*Math.random()>>>0);function dm(n){return"function"==typeof n?n:(n[cm]||(n[cm]=function(e){return n.handleEvent(e)}),n[cm])}function Gr(){Wu.call(this),this.i=new am(this),this.P=this,this.I=null}function qr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new si(e,n);else if(e instanceof si)e.target=e.target||n;else{var i=e;qI(e=new si(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=hm(c,r,!0,e)&&i}if(i=hm(c=e.g=n,r,!0,e)&&i,i=hm(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=hm(c=e.g=t[u],r,!1,e)&&i}function hm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.ca&&c.capture==t){var p=c.listener,y=c.ia||c.src;c.fa&&Pv(n.i,c),i=!1!==p.call(y,r)&&i}}return i&&!r.defaultPrevented}ii(Gr,Wu),Gr.prototype[Kf]=!0,Gr.prototype.removeEventListener=function(n,e,t,r){Kd(this,n,e,t,r)},Gr.prototype.M=function(){if(Gr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Zu(t[r]);delete n.g[e],n.h--}}this.I=null},Gr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Gr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Uv=Rt.JSON.stringify;function ux(){var n=Yd;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var jv,XI=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new cx,n=>n.reset());class cx{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gb(n){Rt.setTimeout(()=>{throw n},0)}function Zd(n,e){jv||function eT(){var n=Rt.Promise.resolve(void 0);jv=function(){n.then(tT)}}(),fm||(jv(),fm=!0),Yd.add(n,e)}var fm=!1,Yd=new class lx{constructor(){this.h=this.g=null}add(e,t){const r=XI.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function tT(){for(var n;n=ux();){try{n.h.call(n.g)}catch(t){gb(t)}var e=XI;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}fm=!1}function pm(n,e){Gr.call(this),this.h=n||1,this.g=e||Rt,this.j=ri(this.kb,this),this.l=Date.now()}function $v(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Hv(n,e,t){if("function"==typeof n)t&&(n=ri(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ri(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rt.setTimeout(n,e||0)}function mb(n){n.g=Hv(()=>{n.g=null,n.i&&(n.i=!1,mb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ii(pm,Gr),(rt=pm.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qr(this,"tick"),this.da&&($v(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){pm.Z.M.call(this),$v(this),delete this.g};class yb extends Wu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mb(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zf(n){Wu.call(this),this.h=n,this.g={}}ii(Zf,Wu);var _b=[];function _c(n,e,t,r){Array.isArray(t)||(t&&(_b[0]=t.toString()),t=_b);for(var i=0;i<t.length;i++){var u=Lv(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function vb(n){Ov(n.g,function(e,t){this.g.hasOwnProperty(t)&&Bv(e)},n),n.g={}}function Yf(){this.g=!0}function Qd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function rT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return Uv(t)}catch(p){return e}}(n,t)+(r?" "+r:"")})}Zf.prototype.M=function(){Zf.Z.M.call(this),vb(this)},Zf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yf.prototype.Aa=function(){this.g=!1},Yf.prototype.info=function(){};var Ya={},bb=null;function Qf(){return bb=bb||new Gr}function Gv(n){si.call(this,Ya.Ma,n)}function Jf(n){const e=Qf();qr(e,new Gv(e,n))}function Db(n,e){si.call(this,Ya.STAT_EVENT,n),this.stat=e}function qi(n){const e=Qf();qr(e,new Db(e,n))}function gm(n,e){si.call(this,Ya.Na,n),this.size=e}function Xf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},e)}Ya.Ma="serverreachability",ii(Gv,si),Ya.STAT_EVENT="statevent",ii(Db,si),Ya.Na="timingevent",ii(gm,si);var ep={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Cb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qv(){}function Tb(){}qv.prototype.h=null;var Kv,tp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function zv(){si.call(this,"d")}function Wv(){si.call(this,"c")}function np(){}function Jd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Zf(this),this.P=iT,this.W=new pm(n=vt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ab}function Ab(){this.i=null,this.g="",this.h=!1}ii(zv,si),ii(Wv,si),ii(np,qv),np.prototype.g=function(){return new XMLHttpRequest},np.prototype.i=function(){return{}},Kv=new np;var iT=45e3,mm={},ym={};function Zv(n,e,t){n.K=1,n.v=Tm(as(e)),n.s=t,n.U=!0,Sb(n,null)}function Sb(n,e){n.F=Date.now(),vc(n),n.A=as(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),lT(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Ab,n.g=h0(n.l,t?e:null,!n.s),0<n.O&&(n.L=new yb(ri(n.Ia,n,n.g),n.O)),_c(n.V,n.g,"readystatechange",n.gb),e=n.H?ab(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Jf(1),function nT(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",p=u.split("&"),y=0;y<p.length;y++){var b=p[y].split("=");if(1<b.length){var S=b[0];b=b[1];var M=S.split("_");c=2<=M.length&&"type"==M[1]?c+(S+"=")+b+"&":c+(S+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function _m(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function vm(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Mb(n,t),i==ym){4==e&&(n.o=4,qi(14),r=!1),Qd(n.j,n.m,null,"[Incomplete Response]");break}if(i==mm){n.o=4,qi(15),Qd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Qd(n.j,n.m,i,null),Em(n,i)}_m(n)&&i!=ym&&i!=mm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,qi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Om(e),e.L=!0,qi(11))):(Qd(n.j,n.m,t,"[Invalid Chunked Response]"),Ec(n),wc(n))}function Mb(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ym:(t=Number(e.substring(t,r)),isNaN(t)?mm:(r+=1)+t>e.length?ym:(e=e.substr(r,t),n.C=r+t,e))}function vc(n){n.Y=Date.now()+n.P,xb(n,n.P)}function xb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Xf(ri(n.eb,n),e)}function wm(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function wc(n){0==n.l.G||n.I||Wb(n.l,n)}function Ec(n){wm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,$v(n.W),vb(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Em(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||t0(t.i,n)))if(t.I=n.N,!n.J&&t0(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Xf(ri(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;hp(t),oh(t)}Nm(t),qi(18)}if(1>=e0(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else uh(t,11)}else if((n.J||t.g==n)&&hp(t),!zf(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const S=b[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const M=b[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const F=b[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const G=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var u=r.i;!u.g&&(bi(G,"spdy")||bi(G,"quic")||bi(G,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Pb(u,u.h),u.h=null))}if(r.D){const ne=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(r.sa=ne,$n(r.F,r.D,ne))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=Fm(r,r.H?r.la:null,r.W),c.J){n0(r.i,c);var p=c,y=r.K;y&&p.setTimeout(y),p.B&&(wm(p),vc(p)),r.g=c}else zb(r);0<t.l.length&&Rm(t)}else"stop"!=b[0]&&"close"!=b[0]||uh(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?uh(t,7):c0(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}Jf(4)}catch(b){}}function bm(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Tv(n)||"string"==typeof n)Mv(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Tv(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function sT(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Tv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}}function Xd(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Xd)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Dm(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];eh(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)eh(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function eh(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(rt=Jd.prototype).setTimeout=function(n){this.P=n},rt.gb=function(n){n=n.target;const e=this.L;e&&3==Qa(n)?e.l():this.Ia(n)},rt.Ia=function(n){try{if(n==this.g)e:{const S=Qa(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>S)&&(3!=S||vt||this.g&&(this.h.h||this.g.ga()||Gb(this.g)))){this.I||4!=S||7==e||Jf(8==e||0>=M?3:2),wm(this);var t=this.g.ba();this.N=t;t:if(_m(this)){var r=Gb(this.g);n="";var i=r.length,u=4==Qa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ec(this),wc(this);var c="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function wb(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zf(p)){var b=p;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,qi(12),Ec(this),wc(this);break e}Qd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Em(this,t)}this.U?(vm(this,S,c),vt&&this.i&&3==S&&(_c(this.V,this.W,"tick",this.fb),this.W.start())):(Qd(this.j,this.m,c,null),Em(this,c)),4==S&&Ec(this),this.i&&!this.I&&(4==S?Wb(this.l,this):(this.i=!1,vc(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,qi(12)):(this.o=0,qi(13)),Ec(this),wc(this)}}}catch(S){}},rt.fb=function(){if(this.g){var n=Qa(this.g),e=this.g.ga();this.C<e.length&&(wm(this),vm(this,n,e),this.i&&4!=n&&vc(this))}},rt.cancel=function(){this.I=!0,Ec(this)},rt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Eb(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Jf(3),qi(17)),Ec(this),this.o=2,wc(this)):xb(this,this.Y-n)},(rt=Xd.prototype).R=function(){Dm(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},rt.T=function(){return Dm(this),this.g.concat()},rt.get=function(n,e){return eh(this.h,n)?this.h[n]:e},rt.set=function(n,e){eh(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},rt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],u=this.get(i);n.call(e,u,i,this)}};var Rb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof bc){this.g=void 0!==e?e:n.g,Yu(this,n.j),this.s=n.s,Im(this,n.i),Yv(this,n.m),this.l=n.l,e=n.h;var t=new sp;t.i=e.i,e.g&&(t.g=new Xd(e.g),t.h=e.h),Qv(this,t),this.o=n.o}else n&&(t=String(n).match(Rb))?(this.g=!!e,Yu(this,t[1]||"",!0),this.s=th(t[2]||""),Im(this,t[3]||"",!0),Yv(this,t[4]),this.l=th(t[5]||"",!0),Qv(this,t[6]||"",!0),this.o=th(t[7]||"")):(this.g=!!e,this.h=new sp(null,this.g))}function as(n){return new bc(n)}function Yu(n,e,t){n.j=t?th(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Im(n,e,t){n.i=t?th(e,!0):e}function Yv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Qv(n,e,t){e instanceof sp?(n.h=e,function cT(n,e){e&&!n.j&&(Qu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Am(this,r),lT(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=nh(e,Nb)),n.h=new sp(e,n.g))}function $n(n,e,t){n.h.set(e,t)}function Tm(n){return $n(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function th(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function nh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Jv),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Jv(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}bc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(nh(e,rp,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(nh(e,rp,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(nh(t,"/"==t.charAt(0)?uT:ip,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",nh(t,Ob)),n.join("")};var rp=/[#\/\?@]/g,ip=/[#\?:]/g,uT=/[#\?]/g,Nb=/[#\?@]/g,Ob=/#/g;function sp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Qu(n){n.g||(n.g=new Xd,n.h=0,n.i&&function Cm(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Am(n,e){Qu(n),e=rh(n,e),eh(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,eh((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Dm(n)))}function kb(n,e){return Qu(n),e=rh(n,e),eh(n.g.h,e)}function lT(n,e,t){Am(n,e),0<t.length&&(n.i=null,n.g.set(rh(n,e),im(t)),n.h+=t.length)}function rh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Xv(n){this.l=n||sh,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ea&&Rt.g.Ea()&&Rt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=sp.prototype).add=function(n,e){Qu(this),this.i=null,n=rh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rt.forEach=function(n,e){Qu(this),this.g.forEach(function(t,r){Mv(t,function(i){n.call(e,i,r,this)},this)},this)},rt.T=function(){Qu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],u=0;u<i.length;u++)t.push(e[r]);return t},rt.R=function(n){Qu(this);var e=[];if("string"==typeof n)kb(this,n)&&(e=xv(e,this.g.get(rh(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=xv(e,n[t])}return e},rt.set=function(n,e){return Qu(this),this.i=null,kb(this,n=rh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var c=i;""!==r[u]&&(c+="="+encodeURIComponent(String(r[u]))),n.push(c)}}return this.i=n.join("&")};var sh=10;function dT(n){return!!n.h||!!n.g&&n.g.size>=n.j}function e0(n){return n.h?1:n.g?n.g.size:0}function t0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Pb(n,e){n.g?n.g.add(e):n.h=e}function n0(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function hT(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return im(n.i)}function Sm(){}function r0(){this.g=new Sm}function fT(n,e,t){const r=t||"";try{bm(n,function(i,u){let c=i;qf(i)&&(c=Uv(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Mm(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(u){}}function op(n){this.l=n.$b||null,this.j=n.ib||!1}function xm(n,e){Gr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=s0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xv.prototype.cancel=function(){if(this.i=hT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Sm.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},Sm.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},ii(op,qv),op.prototype.g=function(){return new xm(this.l,this.j)},op.prototype.i=function(n){return function(){return n}}({}),ii(xm,Gr);var s0=0;function Lb(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ap(n){n.readyState=4,n.l=null,n.j=null,n.A=null,up(n)}function up(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=xm.prototype).open=function(n,e){if(this.readyState!=s0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,up(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ap(this)),this.readyState=s0},rt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,up(this)),this.g&&(this.readyState=3,up(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Rt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lb(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ap(this):up(this),3==this.readyState&&Lb(this)}},rt.Ua=function(n){this.g&&(this.response=this.responseText=n,ap(this))},rt.Ta=function(n){this.g&&(this.response=n,ap(this))},rt.ha=function(){this.g&&ap(this)},rt.setRequestHeader=function(n,e){this.v.append(n,e)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(xm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var pT=Rt.JSON.parse;function Hn(n){Gr.call(this),this.headers=new Xd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=o0,this.K=this.L=!1}ii(Hn,Gr);var o0="",Vb=/^https?$/i,Bb=["POST","PUT"];function jb(n){return"content-type"==n.toLowerCase()}function a0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,$b(n),lp(n)}function $b(n){n.D||(n.D=!0,qr(n,"complete"),qr(n,"error"))}function u0(n){if(n.h&&void 0!==Iv&&(!n.C[1]||4!=Qa(n)||2!=n.ba()))if(n.v&&4==Qa(n))Hv(n.Fa,0,n);else if(qr(n,"readystatechange"),4==Qa(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(Rb)[1]||null;if(!i&&Rt.self&&Rt.self.location){var u=Rt.self.location.protocol;i=u.substr(0,u.length-1)}r=!Vb.test(i?i.toLowerCase():"")}t=r}if(t)qr(n,"complete"),qr(n,"success");else{n.m=6;try{var c=2<Qa(n)?n.g.statusText:""}catch(y){c=""}n.j=c+" ["+n.ba()+"]",$b(n)}}finally{lp(n)}}}function lp(n,e){if(n.g){Hb(n);const t=n.g,r=n.C[0]?nm:null;n.g=null,n.C=null,e||qr(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function Hb(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function Qa(n){return n.g?n.g.readyState:0}function Gb(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case o0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function l0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function cp(n){let e="";return Ov(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):$n(n,e,t))}function Dc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Lo(n){this.za=0,this.l=[],this.h=new Yf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Dc("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Dc("baseRetryDelayMs",5e3,n),this.$a=Dc("retryDelaySeedMs",1e4,n),this.Ya=Dc("forwardChannelMaxRetries",2,n),this.ra=Dc("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Xv(n&&n.concurrentRequestLimit),this.Ca=new r0,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function c0(n){if(ah(n),3==n.G){var e=n.V++,t=as(n.F);$n(t,"SID",n.J),$n(t,"RID",e),$n(t,"TYPE","terminate"),Ju(n,t),(e=new Jd(n,n.h,e,void 0)).K=2,e.v=Tm(as(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(t=Rt.navigator.sendBeacon(e.v.toString(),"")),!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=h0(e.l,null),e.g.ea(e.v)),e.F=Date.now(),vc(e)}Pm(n)}function oh(n){n.g&&(Om(n),n.g.cancel(),n.g=null)}function ah(n){oh(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),hp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function d0(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Rm(n)}function Rm(n){dT(n.i)||n.m||(n.m=!0,Zd(n.Ha,n),n.C=0)}function dp(n,e){var t;t=e?e.m:n.V++;const r=as(n.F);$n(r,"SID",n.J),$n(r,"RID",t),$n(r,"AID",n.U),Ju(n,r),n.o&&n.s&&l0(r,n.o,n.s),t=new Jd(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=qb(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Pb(n.i,t),Zv(t,r,e)}function Ju(n,e){n.j&&bm({},function(t,r){$n(e,r,t)})}function qb(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ri(n.j.Oa,n.j,n):null;e:{var i=n.l;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let p=!0;for(let y=0;y<t;y++){let b=i[y].h;const S=i[y].g;if(b-=u,0>b)u=Math.max(0,i[y].h-100),p=!1;else try{fT(S,c,"req"+b+"_")}catch(M){r&&r(S)}}if(p){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function zb(n){n.g||n.u||(n.Y=1,Zd(n.Ga,n),n.A=0)}function Nm(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Xf(ri(n.Ga,n),Kb(n,n.A)),n.A++,0))}function Om(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function km(n){n.g=new Jd(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=as(n.oa);$n(e,"RID","rpc"),$n(e,"SID",n.J),$n(e,"CI",n.N?"0":"1"),$n(e,"AID",n.U),Ju(n,e),$n(e,"TYPE","xmlhttp"),n.o&&n.s&&l0(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Tm(as(e)),t.s=null,t.U=!0,Sb(t,n)}function hp(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function Wb(n,e){var t=null;if(n.g==e){hp(n),Om(n),n.g=null;var r=2}else{if(!t0(n.i,e))return;t=e.D,n0(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;qr(r=Qf(),new gm(r,t,e,i)),Rm(n)}else zb(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function gT(n,e){return!(e0(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Xf(ri(n.Ha,n,e),Kb(n,n.C)),n.C++,0)))}(n,e)||2==r&&Nm(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:uh(n,5);break;case 4:uh(n,10);break;case 3:uh(n,6);break;default:uh(n,2)}}function Kb(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function uh(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ri(n.jb,n);t||(t=new bc("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||Yu(t,"https"),Tm(t)),function Fb(n,e){const t=new Yf;if(Rt.Image){const r=new Image;r.onload=rm(Mm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=rm(Mm,t,r,"TestLoadImage: error",!1,e),r.onabort=rm(Mm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=rm(Mm,t,r,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else qi(2);n.G=0,n.j&&n.j.va(e),Pm(n),ah(n)}function Pm(n){n.G=0,n.I=-1,n.j&&((0!=hT(n.i).length||0!=n.l.length)&&(n.i.i.length=0,im(n.l),n.l.length=0),n.j.ua())}function Fm(n,e,t){let r=function oT(n){return n instanceof bc?as(n):new bc(n,void 0)}(t);if(""!=r.i)e&&Im(r,e+"."+r.i),Yv(r,r.m);else{const i=Rt.location;r=function aT(n,e,t,r){var i=new bc(null,void 0);return n&&Yu(i,n),e&&Im(i,e),t&&Yv(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&Ov(n.aa,function(i,u){$n(r,u,i)}),t=n.sa,(e=n.D)&&t&&$n(r,e,t),$n(r,"VER",n.ma),Ju(n,r),r}function h0(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Hn(t&&n.Ba&&!n.qa?new op({ib:!0}):n.qa)).L=n.H,e}function Lm(){}function lh(){if(mc&&!(10<=Number(KI)))throw Error("Environmental error: no available transport.")}function As(n,e){Gr.call(this),this.g=new Lo(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!zf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zf(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ch(this)}function Zb(n){zv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Yb(){Wv.call(this),this.status=1}function ch(n){this.g=n}(rt=Hn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Kv.g(),this.C=function Ib(n){return n.h||(n.h=n.i())}(this.u?this.u:Kv),this.g.onreadystatechange=ri(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void a0(this,u)}n=t||"";const i=new Xd(this.headers);r&&bm(r,function(u,c){i.set(c,u)}),r=function ob(n){e:{var e=jb;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Rt.FormData&&n instanceof Rt.FormData,!(0<=Sv(Bb,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(u,c){this.g.setRequestHeader(c,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Hb(this),0<this.B&&((this.K=function Ub(n){return mc&&function ax(){return function ox(n){var e=er;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Rv(String(yc)).split("."),t=Rv("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",u=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=sm(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||sm(0==i[2].length,0==u[2].length)||sm(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ri(this.pa,this)):this.A=Hv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){a0(this,u)}},rt.pa=function(){void 0!==Iv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qr(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,qr(this,"complete"),qr(this,"abort"),lp(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lp(this,!0)),Hn.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?u0(this):this.cb())},rt.cb=function(){u0(this)},rt.ba=function(){try{return 2<Qa(this)?this.g.status:-1}catch(n){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},rt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),pT(e)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=Lo.prototype).ma=8,rt.G=1,rt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},rt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Jd(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=ab(u),qI(u,this.P)):u=this.P),null===this.o&&(i.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=qb(this,i,e),$n(t=as(this.F),"RID",n),$n(t,"CVER",22),this.D&&$n(t,"X-HTTP-Session-Id",this.D),Ju(this,t),this.o&&u&&l0(t,this.o,u),Pb(this.i,i),this.Ra&&$n(t,"TYPE","init"),this.ja?($n(t,"$req",e),$n(t,"SID","null"),i.$=!0,Zv(i,t,null)):Zv(i,t,e),this.G=2}}else 3==this.G&&(n?dp(this,n):0==this.l.length||dT(this.i)||dp(this))},rt.Ga=function(){if(this.u=null,km(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Xf(ri(this.bb,this),n)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qi(10),oh(this),km(this))},rt.ab=function(){null!=this.v&&(this.v=null,oh(this),Nm(this),qi(19))},rt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),qi(2)):(this.h.info("Failed to ping google.com"),qi(1))},(rt=Lm.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},lh.prototype.g=function(n,e){return new As(n,e)},ii(As,Gr),As.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Zd(ri(n.hb,n,e))),qi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Fm(n,null,n.W),Rm(n)},As.prototype.close=function(){c0(this.g)},As.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,d0(this.g,e)}else this.v?((e={}).__data__=Uv(n),d0(this.g,e)):d0(this.g,n)},As.prototype.M=function(){this.g.j=null,delete this.j,c0(this.g),delete this.g,As.Z.M.call(this)},ii(Zb,zv),ii(Yb,Wv),ii(ch,Lm),ch.prototype.xa=function(){qr(this.g,"a")},ch.prototype.wa=function(n){qr(this.g,new Zb(n))},ch.prototype.va=function(n){qr(this.g,new Yb(n))},ch.prototype.ua=function(){qr(this.g,"b")},lh.prototype.createWebChannel=lh.prototype.g,As.prototype.send=As.prototype.u,As.prototype.open=As.prototype.m,As.prototype.close=As.prototype.close,ep.NO_ERROR=0,ep.TIMEOUT=8,ep.HTTP_ERROR=6,Cb.COMPLETE="complete",Tb.EventType=tp,tp.OPEN="a",tp.CLOSE="b",tp.ERROR="c",tp.MESSAGE="d",Gr.prototype.listen=Gr.prototype.N,Hn.prototype.listenOnce=Hn.prototype.O,Hn.prototype.getLastError=Hn.prototype.La,Hn.prototype.getLastErrorCode=Hn.prototype.Da,Hn.prototype.getStatus=Hn.prototype.ba,Hn.prototype.getResponseJson=Hn.prototype.Qa,Hn.prototype.getResponseText=Hn.prototype.ga,Hn.prototype.send=Hn.prototype.ea;var Qb=Za.createWebChannelTransport=function(){return new lh},f0=Za.getStatEventTarget=function(){return Qf()},Vm=Za.ErrorCode=ep,mT=Za.EventType=Cb,Jb=Za.Event=Ya,p0=Za.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},yT=Za.FetchXmlHttpFactory=op,fp=Za.WebChannel=Tb,Xb=Za.XhrIo=Hn;const eD="@firebase/firestore";class zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zr.UNAUTHENTICATED=new zr(null),zr.GOOGLE_CREDENTIALS=new zr("google-credentials-uid"),zr.FIRST_PARTY=new zr("first-party-uid"),zr.MOCK_USER=new zr("mock-user");let Cc="9.6.10";const tr=new Ka.Yd("@firebase/firestore");function Xu(){return tr.logLevel}function Pe(n,...e){if(tr.logLevel<=Ka.in.DEBUG){const t=e.map(g0);tr.debug(`Firestore (${Cc}): ${n}`,...t)}}function Or(n,...e){if(tr.logLevel<=Ka.in.ERROR){const t=e.map(g0);tr.error(`Firestore (${Cc}): ${n}`,...t)}}function Ja(n,...e){if(tr.logLevel<=Ka.in.WARN){const t=e.map(g0);tr.warn(`Firestore (${Cc}): ${n}`,...t)}}function g0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function it(n="Unexpected state"){const e=`FIRESTORE (${Cc}) INTERNAL ASSERTION FAILED: `+n;throw Or(e),new Error(e)}function Mt(n,e){n||it()}function Ke(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Gt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class m0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bm{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zr.UNAUTHENTICATED))}shutdown(){}}class y0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dx{constructor(e){this.t=e,this.currentUser=zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new kr,e.enqueueRetryable(()=>u(this.currentUser))};const p=()=>{const b=c;e.enqueueRetryable((0,ve.Z)(function*(){yield b.promise,yield u(r.currentUser)}))},y=b=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(b=>y(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?y(b):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new kr)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mt("string"==typeof r.accessToken),new m0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Mt(null===e||"string"==typeof e),new zr(e)}}class nD{constructor(e,t,r){this.type="FirstParty",this.user=zr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class vT{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new nD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Um{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.p;return this.p=u.token,Pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?i(u):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mt("string"==typeof t.token),this.p=t.token,new _0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ss{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function v0(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ss.A=-1;class jm{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=v0(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function dh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function rD(n){return n+"\0"}class nr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nr.fromMillis(Date.now())}static fromDate(e){return nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new nr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new nr(0,0))}static max(){return new Ct(new nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function iD(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function el(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function w0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class pp{constructor(e,t,r){void 0===t?t=0:t>e.length&&it(),void 0===r?r=e.length-t:r>e.length-t&&it(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===pp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nn extends pp{construct(e,t,r){return new nn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new nn(t)}static emptyPath(){return new nn([])}}const sD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wr extends pp{construct(e,t,r){return new Wr(e,t,r)}static isValidIdentifier(e){return sD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Me(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Me(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Me(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(u(),i++)}if(u(),c)throw new Me(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wr(t)}static emptyPath(){return new Wr([])}}class Ic{constructor(e){this.fields=e,e.sort(Wr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new vr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const aD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tl(n){if(Mt(!!n),"string"==typeof n){let e=0;const t=aD.exec(n);if(Mt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rr(n.seconds),nanos:rr(n.nanos)}}function rr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function hh(n){return"string"==typeof n?vr.fromBase64String(n):vr.fromUint8Array(n)}function $m(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ET(n){const e=n.mapValue.fields.__previous_value__;return $m(e)?ET(e):e}function Hm(n){const e=tl(n.mapValue.fields.__local_write_time__.timestampValue);return new nr(e.seconds,e.nanos)}class hx{constructor(e,t,r,i,u,c,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.useFetchStreams=y}}class nl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nl&&e.projectId===this.projectId&&e.database===this.database}}function fh(n){return null==n}function Gm(n){return 0===n&&1/n==-1/0}function bT(n){return"number"==typeof n&&Number.isInteger(n)&&!Gm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class He{constructor(e){this.path=e}static fromPath(e){return new He(nn.fromString(e))}static fromName(e){return new He(nn.fromString(e).popFirst(5))}static empty(){return new He(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new nn(e.slice()))}}const gp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},DT={nullValue:"NULL_VALUE"};function rl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$m(n)?4:IT(n)?9:10:it()}function ao(n,e){if(n===e)return!0;const t=rl(n);if(t!==rl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hm(n).isEqual(Hm(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=tl(r.timestampValue),c=tl(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,hh(n.bytesValue).isEqual(hh(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return rr(r.geoPointValue.latitude)===rr(i.geoPointValue.latitude)&&rr(r.geoPointValue.longitude)===rr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return rr(r.integerValue)===rr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=rr(r.doubleValue),c=rr(i.doubleValue);return u===c?Gm(u)===Gm(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return dh(n.arrayValue.values||[],e.arrayValue.values||[],ao);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(iD(u)!==iD(c))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(void 0===c[p]||!ao(u[p],c[p])))return!1;return!0}(n,e);default:return it()}var i}function ph(n,e){return void 0!==(n.values||[]).find(t=>ao(t,e))}function Xa(n,e){if(n===e)return 0;const t=rl(n),r=rl(e);if(t!==r)return Zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=rr(i.integerValue||i.doubleValue),p=rr(u.integerValue||u.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return CT(n.timestampValue,e.timestampValue);case 4:return CT(Hm(n),Hm(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(i,u){const c=hh(i),p=hh(u);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),p=u.split("/");for(let y=0;y<c.length&&y<p.length;y++){const b=Zt(c[y],p[y]);if(0!==b)return b}return Zt(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=Zt(rr(i.latitude),rr(u.latitude));return 0!==c?c:Zt(rr(i.longitude),rr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],p=u.values||[];for(let y=0;y<c.length&&y<p.length;++y){const b=Xa(c[y],p[y]);if(b)return b}return Zt(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){const c=i.fields||{},p=Object.keys(c),y=u.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let S=0;S<p.length&&S<b.length;++S){const M=Zt(p[S],b[S]);if(0!==M)return M;const F=Xa(c[p[S]],y[b[S]]);if(0!==F)return F}return Zt(p.length,b.length)}(n.mapValue,e.mapValue);default:throw it()}}function CT(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=tl(n),r=tl(e),i=Zt(t.seconds,r.seconds);return 0!==i?i:Zt(t.nanos,r.nanos)}function il(n){return qm(n)}function qm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=tl(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?hh(n.bytesValue).toBase64():"referenceValue"in n?He.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=qm(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const p of i)c?c=!1:u+=",",u+=`${p}:${qm(r.fields[p])}`;return u+"}"}(n.mapValue):it();var e}function Tc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zm(n){return!!n&&"integerValue"in n}function Wm(n){return!!n&&"arrayValue"in n}function E0(n){return!!n&&"nullValue"in n}function uD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gh(n){return!!n&&"mapValue"in n}function mp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return el(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=mp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function IT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function TT(n,e){return void 0===n?e:void 0===e||Xa(n,e)>0?n:e}function AT(n,e){return void 0===n?e:void 0===e||Xa(n,e)<0?n:e}class Ci{constructor(e){this.value=e}static empty(){return new Ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!gh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mp(t)}setAll(e){let t=Wr.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=mp(c):i.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());gh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ao(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];gh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){el(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Ci(mp(this.value))}}function lD(n){const e=[];return el(n.fields,(t,r)=>{const i=new Wr([t]);if(gh(r)){const u=lD(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new Ic(e)}class Nn{constructor(e,t,r,i,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Nn(e,0,Ct.min(),Ct.min(),Ci.empty(),0)}static newFoundDocument(e,t,r){return new Nn(e,1,t,Ct.min(),r,0)}static newNoDocument(e,t){return new Nn(e,2,t,Ct.min(),Ci.empty(),0)}static newUnknownDocument(e,t){return new Nn(e,3,t,Ct.min(),Ci.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class b0{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function D0(n){return n.fields.find(e=>2===e.kind)}function sl(n){return n.fields.filter(e=>2!==e.kind)}b0.UNKNOWN_ID=-1;class Km{constructor(e,t){this.fieldPath=e,this.kind=t}}class zi{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new zi(0,eu.min())}}function cD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ct.fromTimestamp(1e9===r?new nr(t+1,0):new nr(t,r));return new eu(i,He.empty(),e)}function C0(n){return new eu(n.readTime,n.key,-1)}class eu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new eu(Ct.min(),He.empty(),-1)}static max(){return new eu(Ct.max(),He.empty(),-1)}}function ST(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=He.comparator(n.documentKey,e.documentKey),0!==t?t:Zt(n.largestBatchId,e.largestBatchId))}class I0{constructor(e,t=null,r=[],i=[],u=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=p,this.P=null}}function T0(n,e=null,t=[],r=[],i=null,u=null,c=null){return new I0(n,e,t,r,i,u,c)}function ol(n){const e=Ke(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+il(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),fh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>il(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>il(r)).join(",")),e.P=t}return e.P}function mh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!fx(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!ao(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!M0(n.startAt,e.startAt)&&M0(n.endAt,e.endAt)}function yp(n){return He.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Zm(n,e){return n.filters.filter(t=>t instanceof oi&&t.field.isEqual(e))}class oi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new A0(e,t,r):"array-contains"===t?new NT(e,r):"in"===t?new dD(e,r):"not-in"===t?new OT(e,r):"array-contains-any"===t?new kT(e,r):new oi(e,t,r)}static V(e,t,r){return"in"===t?new Vo(e,r):new xT(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Xa(t,this.value)):null!==t&&rl(this.value)===rl(t)&&this.v(Xa(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return it()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class A0 extends oi{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.v(t)}}class Vo extends oi{constructor(e,t){super(e,"in",t),this.keys=RT(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xT extends oi{constructor(e,t){super(e,"not-in",t),this.keys=RT(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function RT(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class NT extends oi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wm(t)&&ph(t.arrayValue,this.value)}}class dD extends oi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ph(this.value.arrayValue,t)}}class OT extends oi{constructor(e,t){super(e,"not-in",t)}matches(e){if(ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ph(this.value.arrayValue,t)}}class kT extends oi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ph(this.value.arrayValue,r))}}class tu{constructor(e,t){this.position=e,this.inclusive=t}}class yh{constructor(e,t="asc"){this.field=e,this.dir=t}}function fx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function S0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?He.comparator(He.fromName(c.referenceValue),t.key):Xa(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function M0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ao(n.position[t],e.position[t]))return!1;return!0}class nu{constructor(e,t=null,r=[],i=[],u=null,c="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=y,this.D=null,this.C=null}}function hD(n,e,t,r,i,u,c,p){return new nu(n,e,t,r,i,u,c,p)}function Ac(n){return new nu(n)}function _h(n){return!fh(n.limit)&&"F"===n.limitType}function vh(n){return!fh(n.limit)&&"L"===n.limitType}function Ym(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function x0(n){for(const e of n.filters)if(e.S())return e.field;return null}function Qm(n){return null!==n.collectionGroup}function Sc(n){const e=Ke(n);if(null===e.D){e.D=[];const t=x0(e),r=Ym(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new yh(t)),e.D.push(new yh(Wr.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new yh(Wr.keyField(),u))}}}return e.D}function uo(n){const e=Ke(n);if(!e.C)if("F"===e.limitType)e.C=T0(e.path,e.collectionGroup,Sc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Sc(e))t.push(new yh(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new tu(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new tu(e.startAt.position,!e.startAt.inclusive):null;e.C=T0(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function fD(n,e,t){return new nu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Jm(n,e){return mh(uo(n),uo(e))&&n.limitType===e.limitType}function PT(n){return`${ol(uo(n))}|lt:${n.limitType}`}function Xm(n){return`Query(target=${function MT(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${il(r.value)}`;var r}).join(", ")}]`),fh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>il(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>il(t)).join(",")),`Target(${e})`}(uo(n))}; limitType=${n.limitType})`}function R0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):He.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const p=S0(i,u,c);return i.inclusive?p<=0:p<0}(t.startAt,Sc(t),r)||t.endAt&&!function(i,u,c){const p=S0(i,u,c);return i.inclusive?p>=0:p>0}(t.endAt,Sc(t),r)));var t,r}function pD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gD(n){return(e,t)=>{let r=!1;for(const i of Sc(n)){const u=px(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function px(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(i,u,c){const p=u.data.field(i),y=c.data.field(i);return null!==p&&null!==y?Xa(p,y):it()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}function FT(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gm(e)?"-0":e}}function LT(n){return{integerValue:""+n}}function VT(n,e){return bT(e)?LT(e):FT(n,e)}class N0{constructor(){this._=void 0}}function BT(n,e,t){return n instanceof wh?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof al?ul(n,e):n instanceof ll?ty(n,e):function(r,i){const u=mD(r,i),c=yD(u)+yD(r.k);return zm(u)&&zm(r.k)?LT(c):FT(r.M,c)}(n,e)}function ey(n,e,t){return n instanceof al?ul(n,e):n instanceof ll?ty(n,e):t}function mD(n,e){return n instanceof cl?zm(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class wh extends N0{}class al extends N0{constructor(e){super(),this.elements=e}}function ul(n,e){const t=ny(e);for(const r of n.elements)t.some(i=>ao(i,r))||t.push(r);return{arrayValue:{values:t}}}class ll extends N0{constructor(e){super(),this.elements=e}}function ty(n,e){let t=ny(e);for(const r of n.elements)t=t.filter(i=>!ao(i,r));return{arrayValue:{values:t}}}class cl extends N0{constructor(e,t){super(),this.M=e,this.k=t}}function yD(n){return rr(n.integerValue||n.doubleValue)}function ny(n){return Wm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Mc{constructor(e,t){this.field=e,this.transform=t}}class gx{constructor(e,t){this.version=e,this.transformResults=t}}class Pr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pr}static exists(e){return new Pr(void 0,e)}static updateTime(e){return new Pr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function O0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class k0{}function _D(n,e,t){n instanceof Eh?function(r,i,u){const c=r.value.clone(),p=ED(r.fieldTransforms,i,u.transformResults);c.setAll(p),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof dl?function(r,i,u){if(!O0(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=ED(r.fieldTransforms,i,u.transformResults),p=i.data;p.setAll(F0(r)),p.setAll(c),i.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function P0(n,e,t){var i;n instanceof Eh?function(r,i,u){if(!O0(r.precondition,i))return;const c=r.value.clone(),p=bD(r.fieldTransforms,u,i);c.setAll(p),i.convertToFoundDocument(wD(i),c).setHasLocalMutations()}(n,e,t):n instanceof dl?function(r,i,u){if(!O0(r.precondition,i))return;const c=bD(r.fieldTransforms,u,i),p=i.data;p.setAll(F0(r)),p.setAll(c),i.convertToFoundDocument(wD(i),p).setHasLocalMutations()}(n,e,t):O0(n.precondition,i=e)&&i.convertToNoDocument(Ct.min())}function UT(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=mD(r.transform,i||null);null!=u&&(null==t&&(t=Ci.empty()),t.set(r.field,u))}return t||null}function vD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&dh(t,r,(i,u)=>function ry(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof al&&r instanceof al||t instanceof ll&&r instanceof ll?dh(t.elements,r.elements,ao):t instanceof cl&&r instanceof cl?ao(t.k,r.k):t instanceof wh&&r instanceof wh);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function wD(n){return n.isFoundDocument()?n.version:Ct.min()}class Eh extends k0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class dl extends k0{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}}function F0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ED(n,e,t){const r=new Map;Mt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,p=e.data.field(u.field);r.set(u.field,ey(c,p,t[i]))}return r}function bD(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,BT(u,c,e))}return r}class bh extends k0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class _p extends k0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class mx{constructor(e){this.count=e}}var cr,Jt;function DD(n){switch(n){default:return it();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function CD(n){if(void 0===n)return Or("GRPC error has no .code"),le.UNKNOWN;switch(n){case cr.OK:return le.OK;case cr.CANCELLED:return le.CANCELLED;case cr.UNKNOWN:return le.UNKNOWN;case cr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case cr.INTERNAL:return le.INTERNAL;case cr.UNAVAILABLE:return le.UNAVAILABLE;case cr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case cr.NOT_FOUND:return le.NOT_FOUND;case cr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case cr.ABORTED:return le.ABORTED;case cr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case cr.DATA_LOSS:return le.DATA_LOSS;default:return it()}}(Jt=cr||(cr={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";class xc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){el(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return w0(this.inner)}size(){return this.innerSize}}class wr{constructor(e,t){this.comparator=e,this.root=t||ai.EMPTY}insert(e,t){return new wr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ai.BLACK,null,null))}remove(e){return new wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ai.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new L0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new L0(this.root,e,this.comparator,!1)}getReverseIterator(){return new L0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new L0(this.root,e,this.comparator,!0)}}class L0{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ai{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=null!=r?r:ai.RED,this.left=null!=i?i:ai.EMPTY,this.right=null!=u?u:ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new ai(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ai.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}ai.EMPTY=null,ai.RED=!0,ai.BLACK=!1,ai.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ai(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class On{constructor(e){this.comparator=e,this.data=new wr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jT(this.data.getIterator())}getIteratorFrom(e){return new jT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof On)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new On(this.comparator);return t.data=e,t}}class jT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vp(n){return n.hasNext()?n.getNext():void 0}const yx=new wr(He.comparator);function Bo(){return yx}const _x=new wr(He.comparator);function V0(){return _x}function iy(){return new xc(n=>n.toString(),(n,e)=>n.isEqual(e))}const vx=new wr(He.comparator),wx=new On(He.comparator);function _n(...n){let e=wx;for(const t of n)e=e.add(t);return e}const s=new On(Zt);function o(){return s}class a{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,l.createSynthesizedTargetChangeForCurrentChange(e,t)),new a(Ct.min(),r,o(),Bo(),_n())}}class l{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new l(vr.EMPTY_BYTE_STRING,t,_n(),_n(),_n())}}class d{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class g{constructor(e,t){this.targetId=e,this.$=t}}class v{constructor(e,t,r=vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class E{constructor(){this.B=0,this.L=x(),this.U=vr.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=_n(),t=_n(),r=_n();return this.L.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:it()}}),new l(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=x()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class D{constructor(e){this.nt=e,this.st=new Map,this.it=Bo(),this.rt=A(),this.ot=new On(Zt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:it()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const u=i.target;if(yp(u))if(0===r){const c=new He(u.path);this.ct(t,c,Nn.newNoDocument(c,Ct.min()))}else Mt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,c)=>{const p=this.wt(c);if(p){if(u.current&&yp(p.target)){const y=new He(p.target.path);null!==this.it.get(y)||this.It(c,y)||this.ct(c,y,Nn.newNoDocument(y,e))}u.j&&(t.set(c,u.H()),u.J())}});let r=_n();this.rt.forEach((u,c)=>{let p=!0;c.forEachWhile(y=>{const b=this.wt(y);return!b||2===b.purpose||(p=!1,!1)}),p&&(r=r.add(u))}),this.it.forEach((u,c)=>c.setReadTime(e));const i=new a(e,t,this.ot,this.it,r);return this.it=Bo(),this.rt=A(),this.ot=new On(Zt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new E,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new On(Zt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new E),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function A(){return new wr(He.comparator)}function x(){return new wr(He.comparator)}const P={asc:"ASCENDING",desc:"DESCENDING"},U={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Z{constructor(e,t){this.databaseId=e,this.N=t}}function ye(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fe(n,e){return n.N?e.toBase64():e.toUint8Array()}function Ge(n,e){return ye(n,e.toTimestamp())}function je(n){return Mt(!!n),Ct.fromTimestamp(function(e){const t=tl(e);return new nr(t.seconds,t.nanos)}(n))}function Ce(n,e){return(t=n,new nn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gt(n){const e=nn.fromString(n);return Mt(Ix(e)),e}function jt(n,e){return Ce(n.databaseId,e.path)}function qt(n,e){const t=gt(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(sy(t))}function Wi(n,e){return Ce(n.databaseId,e)}function hl(n){const e=gt(n);return 4===e.length?nn.emptyPath():sy(e)}function Rc(n){return new nn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sy(n){return Mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function oy(n,e,t){return{name:jt(n,e),fields:t.value.mapValue.fields}}function ay(n,e,t){const r=qt(n,e.name),i=je(e.updateTime),u=new Ci({mapValue:{fields:e.fields}}),c=Nn.newFoundDocument(r,i,u);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Nc(n,e){let t;if(e instanceof Eh)t={update:oy(n,e.key,e.value)};else if(e instanceof bh)t={delete:jt(n,e.key)};else if(e instanceof dl)t={update:oy(n,e.key,e.data),updateMask:vk(e.fieldMask)};else{if(!(e instanceof _p))return it();t={verify:jt(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof wh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof al)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ll)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof cl)return{fieldPath:u.field.canonicalString(),increment:c.k};throw it()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Ge(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:it()),t;var i}function wp(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Pr.updateTime(je(i.updateTime)):void 0!==i.exists?Pr.exists(i.exists):Pr.none():Pr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,c){let p=null;"setToServerValue"in c?(Mt("REQUEST_TIME"===c.setToServerValue),p=new wh):"appendMissingElements"in c?p=new al(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new ll(c.removeAllFromArray.values||[]):"increment"in c?p=new cl(u,c.increment):it();const y=Wr.fromServerFormat(c.fieldPath);return new Mc(y,p)}(n,i)):[];var i;if(e.update){const i=qt(n,e.update.name),u=new Ci({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Ic((e.updateMask.fieldPaths||[]).map(b=>Wr.fromServerFormat(b)));return new dl(i,u,c,t,r)}return new Eh(i,u,t,r)}if(e.delete){const i=qt(n,e.delete);return new bh(i,t)}if(e.verify){const i=qt(n,e.verify);return new _p(i,t)}return it()}function Ex(n,e){return{documents:[Wi(n,e.path)]}}function bx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Wi(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Wi(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const b=y.map(S=>function(M){if("=="===M.op){if(uD(M.value))return{unaryFilter:{field:uy(M.field),op:"IS_NAN"}};if(E0(M.value))return{unaryFilter:{field:uy(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(uD(M.value))return{unaryFilter:{field:uy(M.field),op:"IS_NOT_NAN"}};if(E0(M.value))return{unaryFilter:{field:uy(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uy(M.field),op:mk(M.op),value:M.value}}}(S));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(y){if(0!==y.length)return y.map(b=>{return{field:uy((S=b).field),direction:gk(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=(b=e.limit,n.N||fh(b)?b:{value:b});var b,p,y;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function Dx(n){let e=hl(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Mt(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=Cx(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(S=>{return new yh(ly((M=S).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let p=null;t.limit&&(p=function(S){let M;return M="object"==typeof S?S.value:S,fh(M)?null:M}(t.limit));let y=null;var S;t.startAt&&(y=new tu((S=t.startAt).values||[],!!S.before));let b=null;return t.endAt&&(b=function(S){return new tu(S.values||[],!S.before)}(t.endAt)),hD(e,i,c,u,p,"F",y,b)}function Cx(n){return n?void 0!==n.unaryFilter?[_k(n)]:void 0!==n.fieldFilter?[yk(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Cx(e)).reduce((e,t)=>e.concat(t)):it():[]}function gk(n){return P[n]}function mk(n){return U[n]}function uy(n){return{fieldPath:n.canonicalString()}}function ly(n){return Wr.fromServerFormat(n.fieldPath)}function yk(n){return oi.create(ly(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(n.fieldFilter.op),n.fieldFilter.value)}function _k(n){switch(n.unaryFilter.op){case"IS_NAN":const e=ly(n.unaryFilter.field);return oi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=ly(n.unaryFilter.field);return oi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ly(n.unaryFilter.field);return oi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ly(n.unaryFilter.field);return oi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return it()}}function vk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ix(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ii(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Tx(e)),e=wk(n.get(t),e);return Tx(e)}function wk(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Tx(n){return n+"\x01\x01"}function ru(n){const e=n.length;if(Mt(e>=2),2===e)return Mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),nn.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const c=n.indexOf("\x01",u);switch((c<0||c>t)&&it(),n.charAt(c+1)){case"\x01":const p=n.substring(u,c);let y;0===i.length?y=p:(i+=p,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(u,c),i+="\0";break;case"\x11":i+=n.substring(u,c+1);break;default:it()}u=c+2}return new nn(r)}const Ax=["userId","batchId"];function ID(n,e){return[n,Ii(e)]}function Sx(n,e,t){return[n,Ii(e),t]}const Ek={},bk=["prefixPath","collectionGroup","readTime","documentId"],Dk=["prefixPath","collectionGroup","documentId"],Ck=["collectionGroup","readTime","prefixPath","documentId"],Ik=["canonicalId","targetId"],Tk=["targetId","path"],Ak=["path","targetId"],Sk=["collectionId","parent"],Mk=["indexId","uid"],xk=["uid","sequenceNumber"],Rk=["indexId","uid","arrayValue","directionalValue","documentKey"],Nk=["indexId","uid","documentKey"],Ok=["userId","collectionPath","documentId"],kk=["userId","collectionPath","largestBatchId"],Pk=["userId","collectionGroup","largestBatchId"],Mx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fk=[...Mx,"documentOverlays"],xx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Lk=[...xx,"indexConfiguration","indexState","indexEntries"],Rx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let i=0,u=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++u,c&&u===i&&t()},y=>r(y))}),c=!0,u===i&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(i=>i?pe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}}class TD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new kr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new $0(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=$T(r.target.error);this.At.reject(new $0(e,i))}}static open(e,t,r,i){try{return new TD(t,e.transaction(i,r))}catch(u){throw new $0(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Bk(t)}}class iu{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===iu.Vt((0,Gt.z$)())&&Or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),bp(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Gt.hl)())return!1;if(iu.St())return!0;const e=(0,Gt.z$)(),t=iu.Vt(e),r=0<t&&t<10,i=iu.Dt(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,ve.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=c=>{r(c.target.result)},u.onblocked=()=>{i(new $0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=c=>{const p=c.target.error;i("VersionError"===p.name?new Me(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Me(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new $0(e,p))},u.onupgradeneeded=c=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.Pt.kt(c.target.result,u.transaction,c.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,ve.Z)(function*(){const c="readonly"===t;let p=0;for(;;){++p;try{u.db=yield u.Nt(e);const y=TD.open(u.db,e,c?"readonly":"readwrite",r),b=i(y).next(S=>(y.bt(),S)).catch(S=>(y.abort(S),pe.reject(S))).toPromise();return b.catch(()=>{}),yield y.Rt,b}catch(y){const b="FirebaseError"!==y.name&&p<3;if(Pe("SimpleDb","Transaction failed with error:",y.message,"Retrying:",b),u.close(),!b)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Vk{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return bp(this.Ft.delete())}}class $0 extends Me{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ep(n){return"IndexedDbTransactionError"===n.name}class Bk{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),bp(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),bp(this.store.add(e))}get(e){return bp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),bp(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),bp(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.Gt(i,(c,p)=>{u.push(p)}).next(()=>u)}{const i=this.store.getAll(r.range);return new pe((u,c)=>{i.onerror=p=>{c(p.target.error)},i.onsuccess=p=>{u(p.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new pe((i,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Qt(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Gt(i,(u,c,p)=>p.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Gt(i,t)}zt(e){const t=this.cursor({});return new pe((r,i)=>{t.onerror=u=>{const c=$T(u.target.error);i(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():r()}):r()}})}Gt(e,t){const r=[];return new pe((i,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void i();const y=new Vk(p),b=t(p.primaryKey,p.value,y);if(b instanceof pe){const S=b.catch(M=>(y.done(),pe.reject(M)));r.push(S)}y.isDone?i():null===y.Lt?p.continue():p.continue(y.Lt)}}).next(()=>pe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function bp(n){return new pe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=$T(r.target.error);t(i)}})}let Ox=!1;function $T(n){const e=iu.Vt((0,Gt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ox||(Ox=!0,setTimeout(()=>{throw r},0)),r}}return n}class kx extends Nx{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Ti(n,e){const t=Ke(n);return iu.xt(t.Ht,e)}class HT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&_D(u,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&P0(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&P0(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ct.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_n())}isEqual(e){return this.batchId===e.batchId&&dh(this.mutations,e.mutations,(t,r)=>vD(t,r))&&dh(this.baseMutations,e.baseMutations,(t,r)=>vD(t,r))}}class GT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Mt(e.mutations.length===r.length);let i=vx;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new GT(e,t,r,i)}}class qT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Dh{constructor(e,t,r,i,u=Ct.min(),c=Ct.min(),p=vr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p}withSequenceNumber(e){return new Dh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Dh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Dh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Px{constructor(e){this.Jt=e}}function Fx(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:AD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:jt(i=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:ye(i,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Dp(e.version)};else{if(!e.isUnknownDocument())return it();r.unknownDocument={path:t.path.toArray(),version:Dp(e.version)}}var i,u;return r}function AD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Dp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Cp(n){const e=new nr(n.seconds,n.nanoseconds);return Ct.fromTimestamp(e)}function cy(n,e){const t=(e.baseMutations||[]).map(u=>wp(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const c=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(c.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>wp(n.Jt,u)),i=nr.fromMillis(e.localWriteTimeMs);return new HT(e.batchId,i,t,r)}function H0(n){const e=Cp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Cp(n.lastLimboFreeSnapshotVersion):Ct.min();let r;var i;return void 0!==n.query.documents?(Mt(1===(i=n.query).documents.length),r=uo(Ac(hl(i.documents[0])))):r=uo(Dx(n.query)),new Dh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,vr.fromBase64String(n.resumeToken))}function Lx(n,e){const t=Dp(e.snapshotVersion),r=Dp(e.lastLimboFreeSnapshotVersion);let i;i=yp(e.target)?Ex(n.Jt,e.target):bx(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ol(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function zT(n){const e=Dx({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?fD(e,e.limit,"L"):e}function WT(n,e){return new qT(e.largestBatchId,wp(n.Jt,e.overlayMutation))}function Vx(n,e){const t=e.path.lastSegment();return[n,Ii(e.path.popLast()),t]}class jk{getBundleMetadata(e,t){return Bx(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Cp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Bx(e).put({bundleId:(r=t).id,createTime:Dp(je(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Ux(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:zT(i.bundledQuery),readTime:Cp(i.readTime)};var i})}saveNamedQuery(e,t){return Ux(e).put({name:(r=t).name,readTime:Dp(je(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Bx(n){return Ti(n,"bundles")}function Ux(n){return Ti(n,"namedQueries")}class KT{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new KT(e,t.uid||"")}getOverlay(e,t){return G0(e).get(Vx(this.userId,t)).next(r=>r?WT(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((u,c)=>{const p=new qT(t,c);i.push(this.Xt(e,p))}),pe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Ii(c.getCollectionPath())));const u=[];return i.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(G0(e).Qt("collectionPathOverlayIndex",p))}),pe.waitFor(u)}getOverlaysForCollection(e,t,r){const i=iy(),u=Ii(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return G0(e).qt("collectionPathOverlayIndex",c).next(p=>{for(const y of p){const b=WT(this.M,y);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=iy();let c;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return G0(e).Wt({index:"collectionGroupOverlayIndex",range:p},(y,b,S)=>{const M=WT(this.M,b);u.size()<i||M.largestBatchId===c?(u.set(M.getKey(),M),c=M.largestBatchId):S.done()}).next(()=>u)}Xt(e,t){return G0(e).put(function(r,i,u){const[c,p,y]=Vx(i,u.mutation.key);return{userId:i,collectionPath:p,documentId:y,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Nc(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function G0(n){return Ti(n,"documentOverlays")}class dy{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(rr(e.integerValue));else if("doubleValue"in e){const r=rr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Gm(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(hh(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?IT(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):it()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),He.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function $k(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function jx(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=$k(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}dy.fe=new dy;class Hk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=jx(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=jx(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Gk{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class qk{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class SD{constructor(){this.De=new Hk,this.Ce=new Gk(this.De),this.xe=new qk(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Ch{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ch(this.indexId,this.documentKey,this.arrayValue,r)}}function Ip(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=$x(n.arrayValue,e.arrayValue),0!==t?t:(t=$x(n.directionalValue,e.directionalValue),0!==t?t:He.comparator(n.documentKey,e.documentKey)))}function $x(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class zk{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=D0(e);if(void 0!==t&&!this.Be(t))return!1;const r=sl(e);let i=0,u=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const c=r[i];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[u++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(u>=this.Me.length||!this.Ue(this.Me[u++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Wk{constructor(){this.qe=new ZT}addToCollectionParentIndex(e,t){return this.qe.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getFieldIndex(e,t){return pe.resolve(null)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class ZT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new On(nn.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new On(nn.comparator)).toArray()}}const MD=new Uint8Array(0);class Kk{constructor(e){this.user=e,this.Ge=new ZT,this.Ke=new xc(t=>ol(t),(t,r)=>mh(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const u={collectionId:r,parent:Ii(i)};return Hx(e).put(u)}return pe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[rD(t),""],!1,!0);return Hx(e).qt(i).next(u=>{for(const c of u){if(c.collectionId!==t)break;r.push(ru(c.parent))}return r})}addFieldIndex(e,t){const r=xD(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var u;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=xD(e),i=RD(e),u=q0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=q0(e);let i=!0;const u=new Map;return pe.forEach(this.Qe(t),c=>this.getFieldIndex(e,c).next(p=>{i&&(i=!!p),u.set(c,p)})).next(()=>{if(i){let c=_n();return pe.forEach(u,(p,y)=>{var b;Pe("IndexedDbIndexManager",`Using index ${b=p,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Le=>`${Le.fieldPath}:${Le.kind}`).join(",")}`} to execute ${ol(t)}`);const S=function(Le,Ze){const ze=D0(Ze);if(void 0===ze)return null;for(const _t of Zm(Le,ze.fieldPath))switch(_t.op){case"array-contains-any":return _t.value.arrayValue.values||[];case"array-contains":return[_t.value]}return null}(y,p),M=function(Le,Ze){const ze=new Map;for(const _t of sl(Ze))for(const ct of Zm(Le,_t.fieldPath))switch(ct.op){case"==":case"in":ze.set(_t.fieldPath.canonicalString(),ct.value);break;case"not-in":case"!=":return ze.set(_t.fieldPath.canonicalString(),ct.value),Array.from(ze.values())}return null}(y,p),F=function(Le,Ze){const ze=[];let _t=!0;for(const Xt of sl(Ze)){let bn,vn=!0;for(const Yt of Zm(Le,Xt.fieldPath)){let Dn,Ns=!0;switch(Yt.op){case"<":case"<=":Dn="nullValue"in(ct=Yt.value)?DT:"booleanValue"in ct?{booleanValue:!1}:"integerValue"in ct||"doubleValue"in ct?{doubleValue:NaN}:"timestampValue"in ct?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in ct?{stringValue:""}:"bytesValue"in ct?{bytesValue:""}:"referenceValue"in ct?Tc(nl.empty(),He.empty()):"geoPointValue"in ct?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in ct?{arrayValue:{}}:"mapValue"in ct?{mapValue:{}}:it();break;case"==":case"in":case">=":Dn=Yt.value;break;case">":Dn=Yt.value,Ns=!1;break;case"!=":case"not-in":Dn=DT}TT(bn,Dn)===Dn&&(bn=Dn,vn=Ns)}if(null!==Le.startAt)for(let Yt=0;Yt<Le.orderBy.length;++Yt)if(Le.orderBy[Yt].field.isEqual(Xt.fieldPath)){const Dn=Le.startAt.position[Yt];TT(bn,Dn)===Dn&&(bn=Dn,vn=Le.startAt.inclusive);break}if(void 0===bn)return null;ze.push(bn),_t&&(_t=vn)}var ct;return new tu(ze,_t)}(y,p),B=function(Le,Ze){const ze=[];let _t=!0;for(const Xt of sl(Ze)){let bn,vn=!0;for(const Yt of Zm(Le,Xt.fieldPath)){let Dn,Ns=!0;switch(Yt.op){case">=":case">":Dn="nullValue"in(ct=Yt.value)?{booleanValue:!1}:"booleanValue"in ct?{doubleValue:NaN}:"integerValue"in ct||"doubleValue"in ct?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in ct?{stringValue:""}:"stringValue"in ct?{bytesValue:""}:"bytesValue"in ct?Tc(nl.empty(),He.empty()):"referenceValue"in ct?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in ct?{arrayValue:{}}:"arrayValue"in ct?{mapValue:{}}:"mapValue"in ct?gp:it(),Ns=!1;break;case"==":case"in":case"<=":Dn=Yt.value;break;case"<":Dn=Yt.value,Ns=!1;break;case"!=":case"not-in":Dn=gp}AT(bn,Dn)===Dn&&(bn=Dn,vn=Ns)}if(null!==Le.endAt)for(let Yt=0;Yt<Le.orderBy.length;++Yt)if(Le.orderBy[Yt].field.isEqual(Xt.fieldPath)){const Dn=Le.endAt.position[Yt];AT(bn,Dn)===Dn&&(bn=Dn,vn=Le.endAt.inclusive);break}if(void 0===bn)return null;ze.push(bn),_t&&(_t=vn)}var ct;return new tu(ze,_t)}(y,p),G=this.je(p,y,F),ne=this.je(p,y,B),Ee=this.We(p,y,M),Ye=this.ze(p.indexId,S,G,!!F&&F.inclusive,ne,!!B&&B.inclusive,Ee);return pe.forEach(Ye,Le=>r.Kt(Le,t.limit).next(Ze=>{Ze.forEach(ze=>{c=c.add(new He(ru(ze.documentKey)))})}))}).next(()=>c)}return pe.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,i,u,c,p){const y=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=u?u.length:1),b=y/(null!=t?t.length:1),S=[];for(let M=0;M<y;++M){const F=t?this.He(t[M/b]):MD,B=r?this.Je(e,F,r[M%b],i):this.Ye(e),G=u?this.Xe(e,F,u[M%b],c):this.Ye(e+1);S.push(...this.createRange(B,G,p.map(ne=>this.Je(e,F,ne,!0))))}return S}Je(e,t,r,i){const u=new Ch(e,He.empty(),t,r);return i?u:u.ke()}Xe(e,t,r,i){const u=new Ch(e,He.empty(),t,r);return i?u.ke():u}Ye(e){return new Ch(e,He.empty(),MD,MD)}getFieldIndex(e,t){const r=new zk(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{const c=u.filter(p=>r.$e(p));return c.sort((p,y)=>y.fields.length-p.fields.length),c.length>0?c[0]:null})}Ze(e,t){const r=new SD;for(const i of sl(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const c=r.Ne(i.kind);dy.fe.Zt(u,c)}return r.Se()}He(e){const t=new SD;return dy.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new SD);let u=0;for(const c of sl(e)){const p=r[u++];for(const y of i)if(this.tn(t,c.fieldPath)&&Wm(p))i=this.en(i,c,p);else{const b=y.Ne(c.kind);dy.fe.Zt(p,b)}}return this.nn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const i=[...e],u=[];for(const c of r.arrayValue.values||[])for(const p of i){const y=new SD;y.seed(p.Se()),dy.fe.Zt(c,y.Ne(t.kind)),u.push(y)}return u}tn(e,t){return!!e.filters.find(r=>r instanceof oi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=xD(e),i=RD(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const c=[];return pe.forEach(u,p=>i.get([p.indexId,this.uid]).next(y=>{c.push(function(b,S){const M=S?new zi(S.sequenceNumber,new eu(Cp(S.readTime),new He(ru(S.documentKey)),S.largestBatchId)):zi.empty(),F=b.fields.map(([B,G])=>new Km(Wr.fromServerFormat(B),G));return new b0(b.indexId,b.collectionGroup,F,M)}(p,y))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:Zt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=xD(e),u=RD(e);return this.sn(e).next(c=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>pe.forEach(p,y=>{return u.put({indexId:y.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:Dp((F=r).readTime),documentKey:Ii(F.documentKey.path),largestBatchId:F.largestBatchId});var F})))}updateIndexEntries(e,t){const r=new Map;return pe.forEach(t,(i,u)=>{const c=r.get(i.collectionGroup);return(c?pe.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),pe.forEach(p,y=>this.rn(e,i,y).next(b=>{const S=this.on(u,y);return b.isEqual(S)?pe.resolve():this.un(e,u,b,S)}))))})}an(e,t,r){return q0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:Ii(t.key.path)})}cn(e,t,r){return q0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,Ii(t.key.path)])}rn(e,t,r){const i=q0(e);let u=new On(Ip);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,Ii(t.path)])},(c,p)=>{u=u.add(new Ch(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>u)}on(e,t){let r=new On(Ip);const i=this.Ze(t,e);if(null==i)return r;const u=D0(t);if(null!=u){const c=e.data.field(u.fieldPath);if(Wm(c))for(const p of c.arrayValue.values||[])r=r.add(new Ch(t.indexId,e.key,this.He(p),i))}else r=r.add(new Ch(t.indexId,e.key,MD,i));return r}un(e,t,r,i){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(c,p,y,b,S){const M=c.getIterator(),F=p.getIterator();let B=vp(M),G=vp(F);for(;B||G;){let ne=!1,Ee=!1;if(B&&G){const Ye=y(B,G);Ye<0?Ee=!0:Ye>0&&(ne=!0)}else null!=B?Ee=!0:ne=!0;ne?(b(G),G=vp(F)):Ee?(S(B),B=vp(M)):(B=vp(M),G=vp(F))}}(r,i,Ip,c=>{u.push(this.an(e,t,c))},c=>{u.push(this.cn(e,t,c))}),pe.waitFor(u)}sn(e){let t=1;return RD(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,p)=>Ip(c,p)).filter((c,p,y)=>!p||0!==Ip(c,y[p-1]));const i=[];i.push(e);for(const c of r){const p=Ip(c,e),y=Ip(c,t);if(0===p)i[0]=e.ke();else if(p>0&&y<0)i.push(c),i.push(c.ke());else if(y>0)break}i.push(t);const u=[];for(let c=0;c<i.length;c+=2)u.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,""],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,""]));return u}}function Hx(n){return Ti(n,"collectionParents")}function q0(n){return Ti(n,"indexEntries")}function xD(n){return Ti(n,"indexConfiguration")}function RD(n){return Ti(n,"indexState")}const Gx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class lo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new lo(e,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qx(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],c=IDBKeyRange.only(t.batchId);let p=0;const y=r.Wt({range:c},(S,M,F)=>(p++,F.delete()));u.push(y.next(()=>{Mt(1===p)}));const b=[];for(const S of t.mutations){const M=Sx(e,S.key.path,t.batchId);u.push(i.delete(M)),b.push(S.key)}return pe.waitFor(u).next(()=>b)}function ND(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw it();e=n.noDocument}return JSON.stringify(e).length}lo.DEFAULT_COLLECTION_PERCENTILE=10,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lo.DEFAULT=new lo(41943040,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lo.DISABLED=new lo(-1,0,0);class YT{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.hn={}}static Yt(e,t,r,i){Mt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new YT(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ih(e).Wt({index:"userMutationsIndex",range:r},(i,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=hy(e),c=Ih(e);return c.add({}).next(p=>{Mt("number"==typeof p);const y=new HT(p,t,r,i),b=function(F,B,G){const ne=G.baseMutations.map(Ye=>Nc(F.Jt,Ye)),Ee=G.mutations.map(Ye=>Nc(F.Jt,Ye));return{userId:B,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:ne,mutations:Ee}}(this.M,this.userId,y),S=[];let M=new On((F,B)=>Zt(F.canonicalString(),B.canonicalString()));for(const F of i){const B=Sx(this.userId,F.key.path,p);M=M.add(F.key.path.popLast()),S.push(c.put(b)),S.push(u.put(B,Ek))}return M.forEach(F=>{S.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.hn[p]=y.keys()}),pe.waitFor(S).next(()=>y)})}lookupMutationBatch(e,t){return Ih(e).get(t).next(r=>r?(Mt(r.userId===this.userId),cy(this.M,r)):null)}ln(e,t){return this.hn[t]?pe.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.hn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Ih(e).Wt({index:"userMutationsIndex",range:i},(c,p,y)=>{p.userId===this.userId&&(Mt(p.batchId>=r),u=cy(this.M,p)),y.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ih(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,u,c)=>{r=u.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ih(e).qt("userMutationsIndex",t).next(r=>r.map(i=>cy(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=ID(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return hy(e).Wt({range:i},(c,p,y)=>{const[b,S,M]=c,F=ru(S);if(b===this.userId&&t.path.isEqual(F))return Ih(e).get(M).next(B=>{if(!B)throw it();Mt(B.userId===this.userId),u.push(cy(this.M,B))});y.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new On(Zt);const i=[];return t.forEach(u=>{const c=ID(this.userId,u.path),p=IDBKeyRange.lowerBound(c),y=hy(e).Wt({range:p},(b,S,M)=>{const[F,B,G]=b,ne=ru(B);F===this.userId&&u.path.isEqual(ne)?r=r.add(G):M.done()});i.push(y)}),pe.waitFor(i).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=ID(this.userId,r),c=IDBKeyRange.lowerBound(u);let p=new On(Zt);return hy(e).Wt({range:c},(y,b,S)=>{const[M,F,B]=y,G=ru(F);M===this.userId&&r.isPrefixOf(G)?G.length===i&&(p=p.add(B)):S.done()}).next(()=>this.fn(e,p))}fn(e,t){const r=[],i=[];return t.forEach(u=>{i.push(Ih(e).get(u).next(c=>{if(null===c)throw it();Mt(c.userId===this.userId),r.push(cy(this.M,c))}))}),pe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return qx(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),pe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return pe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return hy(e).Wt({range:r},(u,c,p)=>{if(u[0]===this.userId){const y=ru(u[1]);i.push(y)}else p.done()}).next(()=>{Mt(0===i.length)})})}containsKey(e,t){return zx(e,this.userId,t)}_n(e){return Wx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function zx(n,e,t){const r=ID(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return hy(n).Wt({range:u,jt:!0},(p,y,b)=>{const[S,M,F]=p;S===e&&M===i&&(c=!0),b.done()}).next(()=>c)}function Ih(n){return Ti(n,"mutations")}function hy(n){return Ti(n,"documentMutations")}function Wx(n){return Ti(n,"mutationQueues")}class Tp{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Tp(0)}static gn(){return new Tp(-1)}}class Zk{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new Tp(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>Ct.fromTimestamp(new nr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.pn(e,i)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>fy(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Mt(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return fy(e).Wt((c,p)=>{const y=H0(p);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,u.push(this.removeTargetData(e,y)))}).next(()=>pe.waitFor(u)).next(()=>i)}forEachTarget(e,t){return fy(e).Wt((r,i)=>{const u=H0(i);t(u)})}yn(e){return Kx(e).get("targetGlobalKey").next(t=>(Mt(null!==t),t))}pn(e,t){return Kx(e).put("targetGlobalKey",t)}In(e,t){return fy(e).put(Lx(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=ol(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return fy(e).Wt({range:i,index:"queryTargetsIndex"},(c,p,y)=>{const b=H0(p);mh(t,b.target)&&(u=b,y.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=Th(e);return t.forEach(c=>{const p=Ii(c.path);i.push(u.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,c))}),pe.waitFor(i)}removeMatchingKeys(e,t,r){const i=Th(e);return pe.forEach(t,u=>{const c=Ii(u.path);return pe.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Th(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Th(e);let u=_n();return i.Wt({range:r,jt:!0},(c,p,y)=>{const b=ru(c[1]),S=new He(b);u=u.add(S)}).next(()=>u)}containsKey(e,t){const r=Ii(t.path),i=IDBKeyRange.bound([r],[rD(r)],!1,!0);let u=0;return Th(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([c,p],y,b)=>{0!==c&&(u++,b.done())}).next(()=>u>0)}Et(e,t){return fy(e).get(t).next(r=>r?H0(r):null)}}function fy(n){return Ti(n,"targets")}function Kx(n){return Ti(n,"targetGlobal")}function Th(n){return Ti(n,"targetDocuments")}function Ap(n){return QT.apply(this,arguments)}function QT(){return QT=(0,ve.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==Rx)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),QT.apply(this,arguments)}function Zx([n,e],[t,r]){const i=Zt(n,t);return 0===i?Zt(e,r):i}class Yk{constructor(e){this.En=e,this.buffer=new On(Zx),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Zx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Qk{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ve.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Ep(i)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ap(i)}yield t.vn(e)}))}}class Jk{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return pe.resolve(Ss.A);const r=new Yk(t);return this.Sn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Sn.Cn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(Gx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gx):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,i,u,c,p,y,b;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,c=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,p=Date.now(),this.removeTargets(e,r,t))).next(M=>(u=M,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(b=Date.now(),Xu()<=Ka.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-S}ms\n\tDetermined least recently used ${i} in `+(p-c)+`ms\n\tRemoved ${u} targets in `+(y-p)+`ms\n\tRemoved ${M} documents in `+(b-y)+`ms\nTotal Duration: ${b-S}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:M})))}}class Xk{constructor(e,t){this.db=e,this.garbageCollector=new Jk(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,i)=>t(i))}addReference(e,t,r){return OD(e,r)}removeReference(e,t,r){return OD(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return OD(e,t)}Mn(e,t){return function(r,i){let u=!1;return Wx(r).zt(c=>zx(r,c,i).next(p=>(p&&(u=!0),pe.resolve(!p)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.kn(e,(c,p)=>{if(p<=t){const y=this.Mn(e,c).next(b=>{if(!b)return u++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Ct.min()),Th(e).delete([0,Ii(c.path)])))});i.push(y)}}).next(()=>pe.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return OD(e,t)}kn(e,t){const r=Th(e);let i,u=Ss.A;return r.Wt({index:"documentTargetsIndex"},([c,p],{path:y,sequenceNumber:b})=>{0===c?(u!==Ss.A&&t(new He(ru(i)),u),u=b,i=y):u=Ss.A}).next(()=>{u!==Ss.A&&t(new He(ru(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function OD(n,e){return Th(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ii(e.path),sequenceNumber:r}));var r}class Yx{constructor(){this.changes=new xc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eP{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Sp(e).put(r)}removeEntry(e,t,r){return Sp(e).delete(function(i,u){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],AD(u),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=Nn.newInvalidDocument(t);return Sp(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(z0(t))},(i,u)=>{r=this.Fn(t,u)}).next(()=>r)}$n(e,t){let r={size:0,document:Nn.newInvalidDocument(t)};return Sp(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(z0(t))},(i,u)=>{r={document:this.Fn(t,u),size:ND(u)}}).next(()=>r)}getEntries(e,t){let r=Bo();return this.Bn(e,t,(i,u)=>{const c=this.Fn(i,u);r=r.insert(i,c)}).next(()=>r)}Ln(e,t){let r=Bo(),i=new wr(He.comparator);return this.Bn(e,t,(u,c)=>{const p=this.Fn(u,c);r=r.insert(u,p),i=i.insert(u,ND(c))}).next(()=>({documents:r,Un:i}))}Bn(e,t,r){if(t.isEmpty())return pe.resolve();let i=new On(Xx);t.forEach(y=>i=i.add(y));const u=IDBKeyRange.bound(z0(i.first()),z0(i.last())),c=i.getIterator();let p=c.getNext();return Sp(e).Wt({index:"documentKeyIndex",range:u},(y,b,S)=>{const M=He.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;p&&Xx(p,M)<0;)r(p,null),p=c.getNext();p&&p.isEqual(M)&&(r(p,b),p=c.hasNext()?c.getNext():null),p?S.Ut(z0(p)):S.done()}).next(()=>{for(;p;)r(p,null),p=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),AD(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Sp(e).qt(IDBKeyRange.bound(i,u,!0)).next(c=>{let p=Bo();for(const y of c){const b=this.Fn(He.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);p=p.insert(b.key,b)}return p})}getAllFromCollectionGroup(e,t,r,i){let u=Bo();const c=Jx(t,r),p=Jx(t,eu.max());return Sp(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(y,b,S)=>{const M=this.Fn(He.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);u=u.insert(M.key,M),u.size===i&&S.done()}).next(()=>u)}newChangeBuffer(e){return new tP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Qx(e).get("remoteDocumentGlobalKey").next(t=>(Mt(!!t),t))}On(e,t){return Qx(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function Uk(n,e){let t;if(e.document)t=ay(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=He.fromSegments(e.noDocument.path),i=Cp(e.noDocument.readTime);t=Nn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return it();{const r=He.fromSegments(e.unknownDocument.path),i=Cp(e.unknownDocument.version);t=Nn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new nr(r[0],r[1]);return Ct.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Ct.min()))return r}return Nn.newInvalidDocument(e)}}class tP extends Yx{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new xc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new On((u,c)=>Zt(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const p=this.Gn.get(u);if(t.push(this.qn.removeEntry(e,u,p.readTime)),c.isValidDocument()){const y=Fx(this.qn.M,c);i=i.add(u.path.popLast()),r+=ND(y)-p.size,t.push(this.qn.addEntry(e,u,y))}else if(r-=p.size,this.trackRemovals){const y=Fx(this.qn.M,c.convertToNoDocument(Ct.min()));t.push(this.qn.addEntry(e,u,y))}}),i.forEach(u=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.qn.updateMetadata(e,r)),pe.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:i})=>(i.forEach((u,c)=>{this.Gn.set(u,{size:c,readTime:r.get(u).readTime})}),r))}}function Qx(n){return Ti(n,"remoteDocumentGlobal")}function Sp(n){return Ti(n,"remoteDocumentsV14")}function z0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Jx(n,e){const t=e.documentKey.path.toArray();return[n,AD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Xx(n,e){const t=n.path.length-e.path.length;return 0!==t?t:He.comparator(n,e)}class nP{constructor(e){this.M=e}kt(e,t,r,i){const u=new TD("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ax,{unique:!0}),p.createObjectStore("documentMutations"),eR(e),function(p){p.createObjectStore("remoteDocuments")}(e));let c=pe.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),eR(e)),c=c.next(()=>function(p){const y=p.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ct.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",b)}(u))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(p,y){return y.store("mutations").qt().next(b=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ax,{unique:!0});const S=y.store("mutations"),M=b.map(F=>S.put(F));return pe.waitFor(M)})}(e,u))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Kn(u))),r<6&&i>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(u)))),r<7&&i>=7&&(c=c.next(()=>this.jn(u))),r<8&&i>=8&&(c=c.next(()=>this.Wn(e,u))),r<9&&i>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.zn(u))),r<11&&i>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:Ok});y.createIndex("collectionPathOverlayIndex",kk,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",Pk,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:bk});y.createIndex("documentKeyIndex",Dk),y.createIndex("collectionGroupIndex",Ck)}(e)).next(()=>this.Hn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>{!function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:Mk}).createIndex("sequenceNumberIndex",xk,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:Rk}).createIndex("documentKeyIndex",Nk,{unique:!1})}(e)})),c}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=ND(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>pe.forEach(i,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",c).next(p=>pe.forEach(p,y=>{Mt(y.userId===u.userId);const b=cy(this.M,y);return qx(e,u.userId,b).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Wt((c,p)=>{const y=new nn(c),b=[0,Ii(y)];u.push(t.get(b).next(S=>S?pe.resolve():t.put({targetId:0,path:Ii(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>pe.waitFor(u))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:Sk});const r=t.store("collectionParents"),i=new ZT,u=c=>{if(i.add(c)){const p=c.lastSegment(),y=c.popLast();return r.put({collectionId:p,parent:Ii(y)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,p)=>{const y=new nn(c);return u(y.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,p,y],b)=>{const S=ru(p);return u(S.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,i)=>{const u=H0(i),c=Lx(this.M,u);return t.put(c)})}Hn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((u,c)=>{const p=t.store("remoteDocumentsV14"),y=(b=c,b.document?new He(nn.fromString(b.document.name).popFirst(5)):b.noDocument?He.fromSegments(b.noDocument.path):b.unknownDocument?He.fromSegments(b.unknownDocument.path):it()).path.toArray();var b;const S={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(p.put(S))}).next(()=>pe.waitFor(i))}}function eR(n){n.createObjectStore("targetDocuments",{keyPath:Tk}).createIndex("documentTargetsIndex",Ak,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ik,{unique:!0}),n.createObjectStore("targetGlobal")}const JT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class XT{constructor(e,t,r,i,u,c,p,y,b,S,M=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=u,this.window=c,this.document=p,this.Yn=b,this.Xn=S,this.Zn=M,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=F=>Promise.resolve(),!XT.vt())throw new Me(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xk(this,i),this.cs=t+"main",this.M=new Px(y),this.hs=new iu(this.cs,this.Zn,new nP(this.M)),this.ls=new Zk(this.referenceDelegate,this.M),this.fs=new eP(this.M),this.ds=new jk,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===S&&Or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(le.FAILED_PRECONDITION,JT);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new Ss(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,ve.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>kD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(Ep(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return W0(e).get("owner").next(t=>pe.resolve(this.bs(t)))}Ps(e){return kD(e).delete(this.clientId)}Vs(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ti(r,"clientMetadata");return i.qt().next(u=>{const c=e.Ss(u,18e5),p=u.filter(y=>-1===c.indexOf(y));return pe.forEach(p,y=>i.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?pe.resolve(!0):W0(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Me(le.FAILED_PRECONDITION,JT);return!1}}return!(!this.networkEnabled||!this.inForeground)||kD(e).qt().next(r=>void 0===this.Ss(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new kx(t,Ss.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>kD(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return YT.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new Kk(e)}getDocumentOverlayCache(e){return KT.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=14===(c=this.Zn)?Lk:13===c?xx:12===c?Fk:11===c?Mx:void it();var c;let p;return this.hs.runTransaction(e,i,u,y=>(p=new kx(y,this.ts?this.ts.next():Ss.A),"readwrite-primary"===t?this.Ts(p).next(b=>!!b||this.Es(p)).next(b=>{if(!b)throw Or(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Me(le.FAILED_PRECONDITION,Rx);return r(p)}).next(b=>this.Rs(p).next(()=>b)):this.Fs(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}Fs(e){return W0(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(le.FAILED_PRECONDITION,JT)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return W0(e).put("owner",t)}static vt(){return iu.vt()}As(e){const t=W0(e);return t.get("owner").next(r=>this.bs(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):pe.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(Or(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,Gt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Or("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){Or("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function W0(n){return Ti(n,"owner")}function kD(n){return Ti(n,"clientMetadata")}function eA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class rP{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(i=>{for(const u of r)u.applyToLocalView(i);return i})}Us(e,t){e.forEach((r,i)=>{for(const u of t)u.applyToLocalView(i)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return He.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Qs(e,t.path):Qm(t)?this.js(e,t,r):this.Ws(e,t,r);var i}Qs(e,t){return this.Bs(e,new He(t)).next(r=>{let i=V0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}js(e,t,r){const i=t.collectionGroup;let u=V0();return this.indexManager.getCollectionParents(e,i).next(c=>pe.forEach(c,p=>{const y=(b=t,S=p.child(i),new nu(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,S;return this.Ws(e,y,r).next(b=>{b.forEach((S,M)=>{u=u.insert(S,M)})})}).next(()=>u))}Ws(e,t,r){let i;return this.fs.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const c of u)for(const p of c.mutations){const y=p.key;let b=i.get(y);null==b&&(b=Nn.newInvalidDocument(y),i=i.insert(y,b)),P0(p,b,c.localWriteTime),b.isFoundDocument()||(i=i.remove(y))}}).next(()=>(i.forEach((u,c)=>{R0(t,c)||(i=i.remove(u))}),i))}}class tA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=i}static Js(e,t){let r=_n(),i=_n();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new tA(e,t.fromCache,r,i)}}class tR{Ys(e){this.Xs=e}Ks(e,t,r,i){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(Ct.min())?this.Zs(e,t):this.Xs.qs(e,i).next(u=>{const c=this.ti(t,u);return(_h(t)||vh(t))&&this.ei(t.limitType,c,i,r)?this.Zs(e,t):(Xu()<=Ka.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xm(t)),this.Xs.Ks(e,t,cD(r,-1)).next(p=>(c.forEach(y=>{p=p.insert(y.key,y)}),p)))});var u}ti(e,t){let r=new On(gD(e));return t.forEach((i,u)=>{R0(e,u)&&(r=r.add(u))}),r}ei(e,t,r,i){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Zs(e,t){return Xu()<=Ka.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Xm(t)),this.Xs.Ks(e,t,eu.min())}}class iP{constructor(e,t,r,i){this.persistence=e,this.ni=t,this.M=i,this.si=new wr(Zt),this.ii=new xc(u=>ol(u),mh),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new rP(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function nR(n,e,t,r){return new iP(n,e,t,r)}function rR(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,ve.Z)(function*(n,e){const t=Ke(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.$s.getAllMutationBatches(r).next(u=>(i=u,t.ui(e),t.$s.getAllMutationBatches(r))).next(u=>{const c=[],p=[];let y=_n();for(const b of i){c.push(b.batchId);for(const S of b.mutations)y=y.add(S.key)}for(const b of u){p.push(b.batchId);for(const S of b.mutations)y=y.add(S.key)}return t.ai.qs(r,y).next(b=>({ci:b,removedBatchIds:c,addedBatchIds:p}))})})}),nA.apply(this,arguments)}function sP(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.oi.newChangeBuffer({trackRemovals:!0});return function(c,p,y,b){const S=y.batch,M=S.keys();let F=pe.resolve();return M.forEach(B=>{F=F.next(()=>b.getEntry(p,B)).next(G=>{const ne=y.docVersions.get(B);Mt(null!==ne),G.version.compareTo(ne)<0&&(S.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),b.addEntry(G)))})}),F.next(()=>c.$s.removeMutationBatch(p,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,i))})}function iR(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function oP(n,e){const t=Ke(n),r=e.snapshotVersion;let i=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.oi.newChangeBuffer({trackRemovals:!0});i=t.si;const p=[];e.targetChanges.forEach((b,S)=>{const M=i.get(S);if(!M)return;p.push(t.ls.removeMatchingKeys(u,b.removedDocuments,S).next(()=>t.ls.addMatchingKeys(u,b.addedDocuments,S)));let F=M.withSequenceNumber(u.currentSequenceNumber);var B,G,ne;e.targetMismatches.has(S)?F=F.withResumeToken(vr.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,r)),i=i.insert(S,F),G=F,ne=b,(0===(B=M).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0)&&p.push(t.ls.updateTargetData(u,F))});let y=Bo();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,b))}),p.push(sR(u,c,e.documentUpdates).next(b=>{y=b})),!r.isEqual(Ct.min())){const b=t.ls.getLastRemoteSnapshotVersion(u).next(S=>t.ls.setTargetsMetadata(u,u.currentSequenceNumber,r));p.push(b)}return pe.waitFor(p).next(()=>c.apply(u)).next(()=>t.ai.Gs(u,y)).next(()=>y)}).then(u=>(t.si=i,u))}function sR(n,e,t){let r=_n();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let u=Bo();return t.forEach((c,p)=>{const y=i.get(c);p.isNoDocument()&&p.version.isEqual(Ct.min())?(e.removeEntry(c,p.readTime),u=u.insert(c,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(c,p)):Pe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",y.version," Watch version:",p.version)}),u})}function aP(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function py(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ls.getTargetData(r,e).next(u=>u?(i=u,pe.resolve(i)):t.ls.allocateTargetId(r).next(c=>(i=new Dh(e,c,0,r.currentSequenceNumber),t.ls.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.si.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function gy(n,e,t){return rA.apply(this,arguments)}function rA(){return rA=(0,ve.Z)(function*(n,e,t){const r=Ke(n),i=r.si.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Ep(c))throw c;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.si=r.si.remove(e),r.ii.delete(i.target)}),rA.apply(this,arguments)}function PD(n,e,t){const r=Ke(n);let i=Ct.min(),u=_n();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,y,b){const S=Ke(p),M=S.ii.get(b);return void 0!==M?pe.resolve(S.si.get(M)):S.ls.getTargetData(y,b)}(r,c,uo(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(c,p.targetId).next(y=>{u=y})}).next(()=>r.ni.Ks(c,e,t?i:Ct.min(),t?u:_n())).next(p=>(uR(r,pD(e),p),{documents:p,hi:u})))}function oR(n,e){const t=Ke(n),r=Ke(t.ls),i=t.si.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(c=>c?c.target:null))}function aR(n,e){const t=Ke(n),r=t.ri.get(e)||Ct.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.oi.getAllFromCollectionGroup(i,e,cD(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(uR(t,e,i),i))}function uR(n,e,t){let r=Ct.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.ri.set(e,r)}function iA(){return iA=(0,ve.Z)(function*(n,e,t,r){const i=Ke(n);let u=_n(),c=Bo();for(const b of t){const S=e.li(b.metadata.name);b.document&&(u=u.add(S));const M=e.fi(b);M.setReadTime(e.di(b.metadata.readTime)),c=c.insert(S,M)}const p=i.oi.newChangeBuffer({trackRemovals:!0}),y=yield py(i,(b=r,uo(Ac(nn.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>sR(b,p,c).next(S=>(p.apply(b),S)).next(S=>i.ls.removeMatchingKeysForTargetId(b,y.targetId).next(()=>i.ls.addMatchingKeys(b,u,y.targetId)).next(()=>i.ai.Gs(b,S)).next(()=>S)))}),iA.apply(this,arguments)}function lP(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,ve.Z)(function*(n,e,t=_n()){const r=yield py(n,uo(zT(e.bundledQuery))),i=Ke(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const c=je(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.ds.saveNamedQuery(u,e);const p=r.withResumeToken(vr.EMPTY_BYTE_STRING,c);return i.si=i.si.insert(p.targetId,p),i.ls.updateTargetData(u,p).next(()=>i.ls.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.ls.addMatchingKeys(u,t,r.targetId)).next(()=>i.ds.saveNamedQuery(u,e))})}),sA.apply(this,arguments)}class cP{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return pe.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:je(r.createTime)}),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:zT(r.bundledQuery),readTime:je(r.readTime)}),pe.resolve();var r}}class dP{constructor(){this.overlays=new wr(He.comparator),this.mi=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.Xt(e,t,u)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.mi.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.mi.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const i=iy(),u=t.length+1,c=new He(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const y=p.getNext().value,b=y.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&y.largestBatchId>r&&i.set(y.getKey(),y)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new wr((b,S)=>b-S);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let S=u.get(b.largestBatchId);null===S&&(S=iy(),u=u.insert(b.largestBatchId,S)),S.set(b.getKey(),b)}}const p=iy(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((b,S)=>p.set(b,S)),!(p.size()>=i)););return pe.resolve(p)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const c=this.mi.get(i.largestBatchId).delete(r.key);this.mi.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new qT(t,r));let u=this.mi.get(t);void 0===u&&(u=_n(),this.mi.set(t,u)),this.mi.set(t,u.add(r.key))}}class oA{constructor(){this.gi=new On(Ai.yi),this.pi=new On(Ai.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new Ai(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new Ai(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new He(new nn([])),r=new Ai(t,e),i=new Ai(t,e+1),u=[];return this.pi.forEachInRange([r,i],c=>{this.Ei(c),u.push(c.key)}),u}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new He(new nn([])),r=new Ai(t,e),i=new Ai(t,e+1);let u=_n();return this.pi.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new Ai(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ai{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return He.comparator(e.key,t.key)||Zt(e.Vi,t.Vi)}static Ii(e,t){return Zt(e.Vi,t.Vi)||He.comparator(e.key,t.key)}}class hP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new On(Ai.yi)}checkEmpty(e){return pe.resolve(0===this.$s.length)}addMutationBatch(e,t,r,i){const u=this.vi;this.vi++;const c=new HT(u,t,r,i);this.$s.push(c);for(const p of i)this.Si=this.Si.add(new Ai(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return pe.resolve(c)}lookupMutationBatch(e,t){return pe.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ci(t+1),u=i<0?0:i;return pe.resolve(this.$s.length>u?this.$s[u]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return pe.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ai(t,0),i=new Ai(t,Number.POSITIVE_INFINITY),u=[];return this.Si.forEachInRange([r,i],c=>{const p=this.Di(c.Vi);u.push(p)}),pe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new On(Zt);return t.forEach(i=>{const u=new Ai(i,0),c=new Ai(i,Number.POSITIVE_INFINITY);this.Si.forEachInRange([u,c],p=>{r=r.add(p.Vi)})}),pe.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;He.isDocumentKey(u)||(u=u.child(""));const c=new Ai(new He(u),0);let p=new On(Zt);return this.Si.forEachWhile(y=>{const b=y.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(p=p.add(y.Vi)),!0)},c),pe.resolve(this.xi(p))}xi(e){const t=[];return e.forEach(r=>{const i=this.Di(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Mt(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return pe.forEach(t.mutations,i=>{const u=new Ai(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new Ai(t,0),i=this.Si.firstAfterOrEqual(r);return pe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return pe.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class fP{constructor(e){this.ki=e,this.docs=new wr(He.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(t))}getEntries(e,t){let r=Bo();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Nn.newInvalidDocument(i))}),pe.resolve(r)}getAllFromCollection(e,t,r){let i=Bo();const u=new He(t.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:p,value:{document:y}}=c.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||ST(C0(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return pe.resolve(i)}getAllFromCollectionGroup(e,t,r,i){it()}Mi(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new pP(this)}getSize(e){return pe.resolve(this.size)}}class pP extends Yx{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.qn.addEntry(e,i)):this.qn.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class gP{constructor(e){this.persistence=e,this.Oi=new xc(t=>ol(t),mh),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.Fi=0,this.$i=new oA,this.targetCount=0,this.Bi=Tp.mn()}forEachTarget(e,t){return this.Oi.forEach((r,i)=>t(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),pe.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Tp(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.In(t),pe.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Oi.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Oi.delete(c),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),pe.waitFor(u).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),pe.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.$i.containsKey(t))}}class mP{constructor(e,t){this.Li={},this.overlays={},this.ts=new Ss(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new gP(this),this.indexManager=new Wk,this.fs=new fP(r=>this.referenceDelegate.Ui(r)),this.M=new Px(t),this.ds=new cP(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new hP(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new yP(this.ts.next());return this.referenceDelegate.qi(),r(i).next(u=>this.referenceDelegate.Gi(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ki(e,t){return pe.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class yP extends Nx{constructor(e){super(),this.currentSequenceNumber=e}}class aA{constructor(e){this.persistence=e,this.Qi=new oA,this.ji=null}static Wi(e){return new aA(e)}get zi(){if(this.ji)return this.ji;throw it()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(i=>this.zi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.zi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.zi,r=>{const i=He.fromPath(r);return this.Hi(e,i).next(u=>{u||t.removeEntry(i,Ct.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return pe.or([()=>pe.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function lR(n,e){return`firestore_clients_${n}_${e}`}function cR(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function uA(n,e){return`firestore_targets_${n}_${e}`}class FD{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let u,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(u=new Me(i.error.code,i.error.message))),c?new FD(e,t,i.state,u):(Or("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class K0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Me(r.error.code,r.error.message))),u?new K0(e,r.state,i):(Or("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class LD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=o();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=bT(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return i?new LD(e,u):(Or("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class lA{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new lA(t.clientId,t.onlineState):(Or("SharedClientState",`Failed to parse online state: ${e}`),null)}}class cA{constructor(){this.activeTargetIds=o()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dA{constructor(e,t,r,i,u){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new wr(Zt),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.rr=lR(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new cA),this.ar=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.Os();for(const i of t){if(i===e.tr)continue;const u=e.getItem(lR(e.persistenceKey,i));if(u){const c=LD.Ji(i,u);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(uA(this.persistenceKey,e));if(r){const i=K0.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(uA(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void Or("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const i=t.Vr(r.key,r.newValue);if(i)return t.vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(u){let c=Ss.A;if(null!=u)try{const p=JSON.parse(u);Mt("number"==typeof p),c=p}catch(p){Or("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(r.newValue);i!==Ss.A&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Nr(u)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new FD(this.currentUser,e,t,r),u=cR(this.persistenceKey,this.currentUser,e);this.setItem(u,i.Yi())}pr(e){const t=cR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=uA(this.persistenceKey,e),u=new K0(e,t,r);this.setItem(i,u.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return LD.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),i=Number(r[1]);return FD.Ji(new zr(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return K0.Ji(i,t)}wr(e){return lA.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),u=this.gr(r),c=[],p=[];return u.forEach(y=>{i.has(y)||c.push(y)}),i.forEach(y=>{u.has(y)||p.push(y)}),this.syncEngine.Or(c,p).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=o();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class dR{constructor(){this.Fr=new cA,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new cA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _P{Br(e){}shutdown(){}}class hR{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const vP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class wP{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class EP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,u){const c=this.oo(e,t);Pe("RestConnection","Sending: ",c,r);const p={};return this.uo(p,i,u),this.ao(e,c,p,r).then(y=>(Pe("RestConnection","Received: ",y),y),y=>{throw Ja("RestConnection",`${e} failed with error: `,y,"url: ",c,"request:",r),y})}co(e,t,r,i,u){return this.ro(e,t,r,i,u)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}oo(e,t){return`${this.so}/v1/${t}:${vP[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,i){return new Promise((u,c)=>{const p=new Xb;p.listenOnce(mT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Vm.NO_ERROR:const b=p.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(b)),u(b);break;case Vm.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),c(new Me(le.DEADLINE_EXCEEDED,"Request time out"));break;case Vm.HTTP_ERROR:const S=p.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',S,"response text:",p.getResponseText()),S>0){const M=p.getResponseJson().error;if(M&&M.status&&M.message){const F=function(B){const G=B.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(G)>=0?G:le.UNKNOWN}(M.status);c(new Me(F,M.message))}else c(new Me(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Me(le.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);p.send(t,"POST",y,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Qb(),c=f0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new yT({})),this.uo(p.initMessageHeaders,t,r),(0,Gt.uI)()||(0,Gt.b$)()||(0,Gt.d)()||(0,Gt.w1)()||(0,Gt.Mn)()||(0,Gt.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const y=i.join("");Pe("Connection","Creating WebChannel: "+y,p);const b=u.createWebChannel(y,p);let S=!1,M=!1;const F=new wP({jr:G=>{M?Pe("Connection","Not sending because WebChannel is closed:",G):(S||(Pe("Connection","Opening WebChannel transport."),b.open(),S=!0),Pe("Connection","WebChannel sending:",G),b.send(G))},Wr:()=>b.close()}),B=(G,ne,Ee)=>{G.listen(ne,Ye=>{try{Ee(Ye)}catch(Le){setTimeout(()=>{throw Le},0)}})};return B(b,fp.EventType.OPEN,()=>{M||Pe("Connection","WebChannel transport opened.")}),B(b,fp.EventType.CLOSE,()=>{M||(M=!0,Pe("Connection","WebChannel transport closed"),F.eo())}),B(b,fp.EventType.ERROR,G=>{M||(M=!0,Ja("Connection","WebChannel transport errored:",G),F.eo(new Me(le.UNAVAILABLE,"The operation could not be completed")))}),B(b,fp.EventType.MESSAGE,G=>{var ne;if(!M){const Ee=G.data[0];Mt(!!Ee);const Ye=Ee,Le=Ye.error||(null===(ne=Ye[0])||void 0===ne?void 0:ne.error);if(Le){Pe("Connection","WebChannel received error:",Le);const Ze=Le.status;let ze=function(ct){const Xt=cr[ct];if(void 0!==Xt)return CD(Xt)}(Ze),_t=Le.message;void 0===ze&&(ze=le.INTERNAL,_t="Unknown error status: "+Ze+" with message "+Le.message),M=!0,F.eo(new Me(ze,_t)),b.close()}else Pe("Connection","WebChannel received:",Ee),F.no(Ee)}}),B(c,Jb.STAT_EVENT,G=>{G.stat===p0.PROXY?Pe("Connection","Detected buffering proxy"):G.stat===p0.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.Zr()},0),F}}function fR(){return"undefined"!=typeof window?window:null}function VD(){return"undefined"!=typeof document?document:null}function Z0(n){return new Z(n,!0)}class hA{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=i,this._o=u,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class pR{constructor(e,t,r,i,u,c,p,y){this.Jn=e,this.Ao=r,this.Ro=i,this.bo=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new hA(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,ve.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,ve.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,ve.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(Or(t.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Me(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,ve.Z)(function*(){e.state=0,e.start()}))}qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bP extends pR{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.M=u}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function U0(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:it(),i=e.targetChange.targetIds||[],u=function(y,b){return y.N?(Mt(void 0===b||"string"==typeof b),vr.fromBase64String(b||"")):(Mt(void 0===b||b instanceof Uint8Array),vr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(y){const b=void 0===y.code?le.UNKNOWN:CD(y.code);return new Me(b,y.message||"")}(c);t=new v(r,i,u,p||null)}else if("documentChange"in e){const r=e.documentChange,i=qt(n,r.document.name),u=je(r.document.updateTime),c=new Ci({mapValue:{fields:r.document.fields}}),p=Nn.newFoundDocument(i,u,c);t=new d(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=qt(n,r.document),u=r.readTime?je(r.readTime):Ct.min(),c=Nn.newNoDocument(i,u);t=new d([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=qt(n,r.document);t=new d([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return it();{const r=e.filter,u=new mx(r.count||0);t=new g(r.targetId,u)}}var y;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Ct.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?Ct.min():u.readTime?je(u.readTime):Ct.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=Rc(this.M),t.addTarget=function(i,u){let c;const p=u.target;return c=yp(p)?{documents:Ex(i,p)}:{query:bx(i,p)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=Fe(i,u.resumeToken):u.snapshotVersion.compareTo(Ct.min())>0&&(c.readTime=ye(i,u.snapshotVersion.toTimestamp())),c}(this.M,e);const r=function pk(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return it()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=Rc(this.M),t.removeTarget=e,this.Oo(t)}}class DP extends pR{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.M=u,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function j0(n,e){return n&&n.length>0?(Mt(void 0!==e),n.map(t=>function(r,i){let u=je(r.updateTime?r.updateTime:i);return u.isEqual(Ct.min())&&(u=je(i)),new gx(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=je(e.commitTime);return this.listener.Jo(r,t)}return Mt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Rc(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Nc(this.M,r))};this.Oo(t)}}class CP extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.Zo=!1}tu(){if(this.Zo)throw new Me(le.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.bo.ro(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Me(le.UNKNOWN,i.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.bo.co(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Me(le.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class IP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Or(t),this.su=!1):Pe("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class TP{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=u,this.du.Br(p=>{r.enqueueAndForget((0,ve.Z)(function*(){var y;Ah(c)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,ve.Z)(function*(b){const S=Ke(b);S.lu.add(4),yield my(S),S._u.set("Unknown"),S.lu.delete(4),yield Y0(S)}),function(b){return y.apply(this,arguments)})(c))}))}),this._u=new IP(r,i)}}function Y0(n){return fA.apply(this,arguments)}function fA(){return fA=(0,ve.Z)(function*(n){if(Ah(n))for(const e of n.fu)yield e(!0)}),fA.apply(this,arguments)}function my(n){return pA.apply(this,arguments)}function pA(){return pA=(0,ve.Z)(function*(n){for(const e of n.fu)yield e(!1)}),pA.apply(this,arguments)}function BD(n,e){const t=Ke(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),yA(t)?mA(t):_y(t).Co()&&gA(t,e))}function Q0(n,e){const t=Ke(n),r=_y(t);t.hu.delete(e),r.Co()&&gR(t,e),0===t.hu.size&&(r.Co()?r.ko():Ah(t)&&t._u.set("Unknown"))}function gA(n,e){n.wu.Z(e.targetId),_y(n).Qo(e)}function gR(n,e){n.wu.Z(e),_y(n).jo(e)}function mA(n){n.wu=new D({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),_y(n).start(),n._u.iu()}function yA(n){return Ah(n)&&!_y(n).Do()&&n.hu.size>0}function Ah(n){return 0===Ke(n).lu.size}function mR(n){n.wu=void 0}function AP(n){return _A.apply(this,arguments)}function _A(){return _A=(0,ve.Z)(function*(n){n.hu.forEach((e,t)=>{gA(n,e)})}),_A.apply(this,arguments)}function SP(n,e){return vA.apply(this,arguments)}function vA(){return vA=(0,ve.Z)(function*(n,e){mR(n),yA(n)?(n._u.uu(e),mA(n)):n._u.set("Unknown")}),vA.apply(this,arguments)}function MP(n,e,t){return wA.apply(this,arguments)}function wA(){return wA=(0,ve.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof v&&2===e.state&&e.cause)try{yield(r=(0,ve.Z)(function*(i,u){const c=u.cause;for(const p of u.targetIds)i.hu.has(p)&&(yield i.remoteSyncer.rejectListen(p,c),i.hu.delete(p),i.wu.removeTarget(p))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield UD(n,r)}else if(e instanceof d?n.wu.ut(e):e instanceof g?n.wu._t(e):n.wu.ht(e),!t.isEqual(Ct.min()))try{const r=yield iR(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const c=i.wu.yt(u);return c.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=i.hu.get(y);b&&i.hu.set(y,b.withResumeToken(p.resumeToken,u))}}),c.targetMismatches.forEach(p=>{const y=i.hu.get(p);if(!y)return;i.hu.set(p,y.withResumeToken(vr.EMPTY_BYTE_STRING,y.snapshotVersion)),gR(i,p);const b=new Dh(y.target,p,1,y.sequenceNumber);gA(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield UD(n,r)}var r}),wA.apply(this,arguments)}function UD(n,e,t){return EA.apply(this,arguments)}function EA(){return EA=(0,ve.Z)(function*(n,e,t){if(!Ep(e))throw e;n.lu.add(1),yield my(n),n._u.set("Offline"),t||(t=()=>iR(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Y0(n)}))}),EA.apply(this,arguments)}function yR(n,e){return e().catch(t=>UD(n,t,e))}function yy(n){return bA.apply(this,arguments)}function bA(){return bA=(0,ve.Z)(function*(n){const e=Ke(n),t=Sh(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;xP(e);)try{const i=yield aP(e.localStore,r);if(null===i){0===e.cu.length&&t.ko();break}r=i.batchId,RP(e,i)}catch(i){yield UD(e,i)}_R(e)&&vR(e)}),bA.apply(this,arguments)}function xP(n){return Ah(n)&&n.cu.length<10}function RP(n,e){n.cu.push(e);const t=Sh(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function _R(n){return Ah(n)&&!Sh(n).Do()&&n.cu.length>0}function vR(n){Sh(n).start()}function NP(n){return DA.apply(this,arguments)}function DA(){return DA=(0,ve.Z)(function*(n){Sh(n).Xo()}),DA.apply(this,arguments)}function OP(n){return CA.apply(this,arguments)}function CA(){return CA=(0,ve.Z)(function*(n){const e=Sh(n);for(const t of n.cu)e.Ho(t.mutations)}),CA.apply(this,arguments)}function kP(n,e,t){return IA.apply(this,arguments)}function IA(){return IA=(0,ve.Z)(function*(n,e,t){const r=n.cu.shift(),i=GT.from(r,e,t);yield yR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield yy(n)}),IA.apply(this,arguments)}function PP(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,ve.Z)(function*(n,e){var t;e&&Sh(n).zo&&(yield(t=(0,ve.Z)(function*(r,i){if(DD(u=i.code)&&u!==le.ABORTED){const c=r.cu.shift();Sh(r).No(),yield yR(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield yy(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),_R(n)&&vR(n)}),TA.apply(this,arguments)}function wR(n,e){return AA.apply(this,arguments)}function AA(){return AA=(0,ve.Z)(function*(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Ah(t);t.lu.add(3),yield my(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Y0(t)}),AA.apply(this,arguments)}function SA(n,e){return MA.apply(this,arguments)}function MA(){return MA=(0,ve.Z)(function*(n,e){const t=Ke(n);e?(t.lu.delete(2),yield Y0(t)):e||(t.lu.add(2),yield my(t),t._u.set("Unknown"))}),MA.apply(this,arguments)}function _y(n){return n.mu||(n.mu=function(e,t,r){const i=Ke(e);return i.tu(),new bP(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:AP.bind(null,n),Jr:SP.bind(null,n),Ko:MP.bind(null,n)}),n.fu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.mu.No(),yA(n)?mA(n):n._u.set("Unknown")):(yield n.mu.stop(),mR(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Sh(n){return n.gu||(n.gu=function(e,t,r){const i=Ke(e);return i.tu(),new DP(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:NP.bind(null,n),Jr:PP.bind(null,n),Yo:OP.bind(null,n),Jo:kP.bind(null,n)}),n.fu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.gu.No(),yield yy(n)):(yield n.gu.stop(),n.cu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class xA{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,p=new xA(e,t,c,i,u);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vy(n,e){if(Or("AsyncQueue",`${e}: ${n}`),Ep(n))return new Me(le.UNAVAILABLE,`${e}: ${n}`);throw n}class wy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=V0(),this.sortedSet=new wr(this.comparator)}static emptySet(e){return new wy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new wy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class ER{constructor(){this.yu=new wr(He.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):it():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ey{constructor(e,t,r,i,u,c,p,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new Ey(e,t,wy.emptySet(t),u,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class FP{constructor(){this.Iu=void 0,this.listeners=[]}}class LP{constructor(){this.queries=new xc(e=>PT(e),Jm),this.onlineState="Unknown",this.Tu=new Set}}function RA(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,ve.Z)(function*(n,e){const t=Ke(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new FP),i)try{u.Iu=yield t.onListen(r)}catch(c){const p=vy(c,`Initialization of query '${Xm(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,u),u.listeners.push(e),e.Eu(t.onlineState),u.Iu&&e.Au(u.Iu)&&PA(t)}),NA.apply(this,arguments)}function OA(n,e){return kA.apply(this,arguments)}function kA(){return kA=(0,ve.Z)(function*(n,e){const t=Ke(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),kA.apply(this,arguments)}function VP(n,e){const t=Ke(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.Au(i)&&(r=!0);c.Iu=i}}r&&PA(t)}function BP(n,e,t){const r=Ke(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function PA(n){n.Tu.forEach(e=>{e.next()})}class FA{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ey(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Ey.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class UP{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class bR{constructor(e){this.M=e}li(e){return qt(this.M,e)}fi(e){return e.metadata.exists?ay(this.M,e.document,!1):Nn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return je(e)}}class jP{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=DR(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=nn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new bR(this.M);for(const i of e)if(i.metadata.queries){const u=r.li(i.metadata.name);for(const c of i.metadata.queries){const p=(t.get(c)||_n()).add(u);t.set(c,p)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function uP(n,e,t,r){return iA.apply(this,arguments)}(e.localStore,new bR(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield lP(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function DR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class CR{constructor(e){this.key=e}}class IR{constructor(e){this.key=e}}class TR{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=_n(),this.mutatedKeys=_n(),this.Lu=gD(e),this.Uu=new wy(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new ER,i=t?t.Uu:this.Uu;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const y=_h(this.query)&&i.size===this.query.limit?i.last():null,b=vh(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,M)=>{const F=i.get(S),B=R0(this.query,M)?M:null,G=!!F&&this.mutatedKeys.has(F.key),ne=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Ee=!1;F&&B?F.data.isEqual(B.data)?G!==ne&&(r.track({type:3,doc:B}),Ee=!0):this.Qu(F,B)||(r.track({type:2,doc:B}),Ee=!0,(y&&this.Lu(B,y)>0||b&&this.Lu(B,b)<0)&&(p=!0)):!F&&B?(r.track({type:0,doc:B}),Ee=!0):F&&!B&&(r.track({type:1,doc:F}),Ee=!0,(y||b)&&(p=!0)),Ee&&(B?(c=c.add(B),u=ne?u.add(S):u.delete(S)):(c=c.delete(S),u=u.delete(S)))}),_h(this.query)||vh(this.query))for(;c.size>this.query.limit;){const S=_h(this.query)?c.last():c.first();c=c.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{Uu:c,Ku:r,ei:p,mutatedKeys:u}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const u=e.Ku.pu();u.sort((b,S)=>function(M,F){const B=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return B(M)-B(F)}(b.type,S.type)||this.Lu(b.doc,S.doc)),this.ju(r);const c=t?this.Wu():[],p=0===this.Bu.size&&this.current?1:0,y=p!==this.$u;return this.$u=p,0!==u.length||y?{snapshot:new Ey(this.query,e.Uu,i,u,e.mutatedKeys,0===p,y,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new ER,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=_n(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new IR(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new CR(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=_n();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Ey.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class $P{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class HP{constructor(e){this.key=e,this.Xu=!1}}class GP{constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Zu={},this.ta=new xc(p=>PT(p),Jm),this.ea=new Map,this.na=new Set,this.sa=new wr(He.comparator),this.ia=new Map,this.ra=new oA,this.oa={},this.ua=new Map,this.aa=Tp.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function qP(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,ve.Z)(function*(n,e){const t=oS(n);let r,i;const u=t.ta.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.Yu();else{const c=yield py(t.localStore,uo(e));t.isPrimaryClient&&BD(t.remoteStore,c);const p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield VA(t,e,r,"current"===p)}return i}),LA.apply(this,arguments)}function VA(n,e,t,r){return BA.apply(this,arguments)}function BA(){return BA=(0,ve.Z)(function*(n,e,t,r){n.ha=(S,M,F)=>{return(B=(0,ve.Z)(function*(G,ne,Ee,Ye){let Le=ne.view.Gu(Ee);Le.ei&&(Le=yield PD(G.localStore,ne.query,!1).then(({documents:_t})=>ne.view.Gu(_t,Le)));const Ze=Ye&&Ye.targetChanges.get(ne.targetId),ze=ne.view.applyChanges(Le,G.isPrimaryClient,Ze);return ZA(G,ne.targetId,ze.zu),ze.snapshot}),function(G,ne,Ee,Ye){return B.apply(this,arguments)})(n,S,M,F);var B};const i=yield PD(n.localStore,e,!0),u=new TR(e,i.hi),c=u.Gu(i.documents),p=l.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=u.applyChanges(c,n.isPrimaryClient,p);ZA(n,t,y.zu);const b=new $P(e,t,u);return n.ta.set(e,b),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),y.snapshot}),BA.apply(this,arguments)}function zP(n,e){return UA.apply(this,arguments)}function UA(){return UA=(0,ve.Z)(function*(n,e){const t=Ke(n),r=t.ta.get(e),i=t.ea.get(r.targetId);if(i.length>1)return t.ea.set(r.targetId,i.filter(u=>!Jm(u,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield gy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Q0(t.remoteStore,r.targetId),by(t,r.targetId)}).catch(Ap))):(by(t,r.targetId),yield gy(t.localStore,r.targetId,!0))}),UA.apply(this,arguments)}function jA(){return jA=(0,ve.Z)(function*(n,e,t){const r=aS(n);try{const i=yield function(u,c){const p=Ke(u),y=nr.now(),b=c.reduce((M,F)=>M.add(F.key),_n());let S;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>p.ai.qs(M,b).next(F=>{S=F;const B=[];for(const G of c){const ne=UT(G,S.get(G.key));null!=ne&&B.push(new dl(G.key,ne,lD(ne.value.mapValue),Pr.exists(!0)))}return p.$s.addMutationBatch(M,y,B,c)})).then(M=>(M.applyToLocalDocumentSet(S),{batchId:M.batchId,changes:S}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,p){let y=u.oa[u.currentUser.toKey()];y||(y=new wr(Zt)),y=y.insert(c,p),u.oa[u.currentUser.toKey()]=y}(r,i.batchId,t),yield Oc(r,i.changes),yield yy(r.remoteStore)}catch(i){const u=vy(i,"Failed to persist write");t.reject(u)}}),jA.apply(this,arguments)}function AR(n,e){return $A.apply(this,arguments)}function $A(){return $A=(0,ve.Z)(function*(n,e){const t=Ke(n);try{const r=yield oP(t.localStore,e);e.targetChanges.forEach((i,u)=>{const c=t.ia.get(u);c&&(Mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Xu=!0:i.modifiedDocuments.size>0?Mt(c.Xu):i.removedDocuments.size>0&&(Mt(c.Xu),c.Xu=!1))}),yield Oc(t,r,e)}catch(r){yield Ap(r)}}),$A.apply(this,arguments)}function SR(n,e,t){const r=Ke(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ta.forEach((u,c)=>{const p=c.view.Eu(e);p.snapshot&&i.push(p.snapshot)}),function(u,c){const p=Ke(u);p.onlineState=c;let y=!1;p.queries.forEach((b,S)=>{for(const M of S.listeners)M.Eu(c)&&(y=!0)}),y&&PA(p)}(r.eventManager,e),i.length&&r.Zu.Ko(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function KP(n,e,t){return HA.apply(this,arguments)}function HA(){return HA=(0,ve.Z)(function*(n,e,t){const r=Ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ia.get(e),u=i&&i.key;if(u){let c=new wr(He.comparator);c=c.insert(u,Nn.newNoDocument(u,Ct.min()));const p=_n().add(u),y=new a(Ct.min(),new Map,new On(Zt),c,p);yield AR(r,y),r.sa=r.sa.remove(u),r.ia.delete(e),YA(r)}else yield gy(r.localStore,e,!1).then(()=>by(r,e,t)).catch(Ap)}),HA.apply(this,arguments)}function ZP(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,ve.Z)(function*(n,e){const t=Ke(n),r=e.batch.batchId;try{const i=yield sP(t.localStore,e);KA(t,r,null),WA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Oc(t,i)}catch(i){yield Ap(i)}}),GA.apply(this,arguments)}function YP(n,e,t){return qA.apply(this,arguments)}function qA(){return qA=(0,ve.Z)(function*(n,e,t){const r=Ke(n);try{const i=yield function(u,c){const p=Ke(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return p.$s.lookupMutationBatch(y,c).next(S=>(Mt(null!==S),b=S.keys(),p.$s.removeMutationBatch(y,S))).next(()=>p.$s.performConsistencyCheck(y)).next(()=>p.ai.qs(y,b))})}(r.localStore,e);KA(r,e,t),WA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Oc(r,i)}catch(i){yield Ap(i)}}),qA.apply(this,arguments)}function zA(){return zA=(0,ve.Z)(function*(n,e){const t=Ke(n);Ah(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const c=Ke(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.$s.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ua.get(r)||[];i.push(e),t.ua.set(r,i)}catch(r){const i=vy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),zA.apply(this,arguments)}function WA(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function KA(n,e,t){const r=Ke(n);let i=r.oa[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.oa[r.currentUser.toKey()]=i}}function by(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||MR(n,r)})}function MR(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(Q0(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),YA(n))}function ZA(n,e,t){for(const r of t)r instanceof CR?(n.ra.addReference(r.key,e),JP(n,r)):r instanceof IR?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||MR(n,r.key)):it()}function JP(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.na.add(r),YA(n))}function YA(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new He(nn.fromString(e)),r=n.aa.next();n.ia.set(r,new HP(t)),n.sa=n.sa.insert(t,r),BD(n.remoteStore,new Dh(uo(Ac(t.path)),r,2,Ss.A))}}function Oc(n,e,t){return QA.apply(this,arguments)}function QA(){return QA=(0,ve.Z)(function*(n,e,t){const r=Ke(n),i=[],u=[],c=[];var p;r.ta.isEmpty()||(r.ta.forEach((p,y)=>{c.push(r.ha(y,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,b.fromCache?"not-current":"current"),i.push(b);const S=tA.Js(y.targetId,b);u.push(S)}}))}),yield Promise.all(c),r.Zu.Ko(i),yield(p=(0,ve.Z)(function*(y,b){const S=Ke(y);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>pe.forEach(b,F=>pe.forEach(F.zs,B=>S.persistence.referenceDelegate.addReference(M,F.targetId,B)).next(()=>pe.forEach(F.Hs,B=>S.persistence.referenceDelegate.removeReference(M,F.targetId,B)))))}catch(M){if(!Ep(M))throw M;Pe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const F=M.targetId;if(!M.fromCache){const B=S.si.get(F),ne=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);S.si=S.si.insert(F,ne)}}}),function(y,b){return p.apply(this,arguments)})(r.localStore,u))}),QA.apply(this,arguments)}function XP(n,e){return JA.apply(this,arguments)}function JA(){return JA=(0,ve.Z)(function*(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield rR(t.localStore,e);t.currentUser=e,(i=t).ua.forEach(c=>{c.forEach(p=>{p.reject(new Me(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Oc(t,r.ci)}var i}),JA.apply(this,arguments)}function e1(n,e){const t=Ke(n),r=t.ia.get(e);if(r&&r.Xu)return _n().add(r.key);{let i=_n();const u=t.ea.get(e);if(!u)return i;for(const c of u){const p=t.ta.get(c);i=i.unionWith(p.view.qu)}return i}}function t1(n,e){return XA.apply(this,arguments)}function XA(){return XA=(0,ve.Z)(function*(n,e){const t=Ke(n),r=yield PD(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&ZA(t,e.targetId,i.zu),i}),XA.apply(this,arguments)}function n1(n,e){return eS.apply(this,arguments)}function eS(){return eS=(0,ve.Z)(function*(n,e){const t=Ke(n);return aR(t.localStore,e).then(r=>Oc(t,r))}),eS.apply(this,arguments)}function r1(n,e,t,r){return tS.apply(this,arguments)}function tS(){return tS=(0,ve.Z)(function*(n,e,t,r){const i=Ke(n),u=yield function(c,p){const y=Ke(c),b=Ke(y.$s);return y.persistence.runTransaction("Lookup mutation documents","readonly",S=>b.ln(S,p).next(M=>M?y.ai.qs(S,M):pe.resolve(null)))}(i.localStore,e);var p;null!==u?("pending"===t?yield yy(i.remoteStore):"acknowledged"===t||"rejected"===t?(KA(i,e,r||null),WA(i,e),p=e,Ke(Ke(i.localStore).$s).dn(p)):it(),yield Oc(i,u)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),tS.apply(this,arguments)}function nS(){return nS=(0,ve.Z)(function*(n,e){const t=Ke(n);if(oS(t),aS(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield xR(t,r.toArray());t.ca=!0,yield SA(t.remoteStore,!0);for(const u of i)BD(t.remoteStore,u)}else if(!1===e&&!1!==t.ca){const r=[];let i=Promise.resolve();t.ea.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(by(t,c),gy(t.localStore,c,!0))),Q0(t.remoteStore,c)}),yield i,yield xR(t,r),function(u){const c=Ke(u);c.ia.forEach((p,y)=>{Q0(c.remoteStore,y)}),c.ra.bi(),c.ia=new Map,c.sa=new wr(He.comparator)}(t),t.ca=!1,yield SA(t.remoteStore,!1)}}),nS.apply(this,arguments)}function xR(n,e,t){return rS.apply(this,arguments)}function rS(){return rS=(0,ve.Z)(function*(n,e,t){const r=Ke(n),i=[],u=[];for(const c of e){let p;const y=r.ea.get(c);if(y&&0!==y.length){p=yield py(r.localStore,uo(y[0]));for(const b of y){const S=r.ta.get(b),M=yield t1(r,S);M.snapshot&&u.push(M.snapshot)}}else{const b=yield oR(r.localStore,c);p=yield py(r.localStore,b),yield VA(r,RR(b),c,!1)}i.push(p)}return r.Zu.Ko(u),i}),rS.apply(this,arguments)}function RR(n){return hD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function o1(n){const e=Ke(n);return Ke(Ke(e.localStore).persistence).Os()}function a1(n,e,t,r){return iS.apply(this,arguments)}function iS(){return iS=(0,ve.Z)(function*(n,e,t,r){const i=Ke(n);if(i.ca)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const u=i.ea.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=yield aR(i.localStore,pD(u[0])),p=a.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Oc(i,c,p);break}case"rejected":yield gy(i.localStore,e,!0),by(i,e,r);break;default:it()}}),iS.apply(this,arguments)}function u1(n,e,t){return sS.apply(this,arguments)}function sS(){return sS=(0,ve.Z)(function*(n,e,t){const r=oS(n);if(r.ca){for(const i of e){if(r.ea.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const u=yield oR(r.localStore,i),c=yield py(r.localStore,u);yield VA(r,RR(u),c.targetId,!1),BD(r.remoteStore,c)}for(const i of t)r.ea.has(i)&&(yield gy(r.localStore,i,!1).then(()=>{Q0(r.remoteStore,i),by(r,i)}).catch(Ap))}}),sS.apply(this,arguments)}function oS(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KP.bind(null,e),e.Zu.Ko=VP.bind(null,e.eventManager),e.Zu.la=BP.bind(null,e.eventManager),e}function aS(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YP.bind(null,e),e}class NR{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.M=Z0(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return nR(this.persistence,new tR,e.initialUser,this.M)}_a(e){return new mP(aA.Wi,this.M)}da(e){return new dR}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class OR extends NR{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield aS(r.ga.syncEngine),yield yy(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return nR(this.persistence,new tR,e.initialUser,this.M)}wa(e){return new Qk(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=eA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?lo.withCacheSize(this.cacheSizeBytes):lo.DEFAULT;return new XT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,fR(),VD(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new dR}}class c1 extends OR{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e);const i=r.ga.syncEngine;r.sharedClientState instanceof dA&&(r.sharedClientState.syncEngine={kr:r1.bind(null,i),Mr:a1.bind(null,i),Or:u1.bind(null,i),Os:o1.bind(null,i),Nr:n1.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var u=(0,ve.Z)(function*(c){yield function s1(n,e){return nS.apply(this,arguments)}(r.ga.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return u.apply(this,arguments)}}())})()}da(e){const t=fR();if(!dA.vt(t))throw new Me(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=eA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class uS{initialize(e,t){var r=this;return(0,ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>SR(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=XP.bind(null,r.syncEngine),yield SA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new LP}createDatastore(e){const t=Z0(e.databaseInfo.databaseId),r=new EP(e.databaseInfo);return new CP(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=p=>SR(this.syncEngine,p,0),c=hR.vt()?new hR:new _P,new TP(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,p,y,b){const S=new GP(r,i,u,c,p,y);return b&&(S.ca=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const r=Ke(t);Pe("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield my(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function kR(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class jD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class d1{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new kr,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),i=Number(r);isNaN(i)&&e.Ra(`length string (${r}) is not valid number`);const u=yield e.ba(i);return new UP(JSON.parse(u),t.length+i)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,ve.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class h1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ve.Z)(function*(u,c){const p=Ke(u),y=Rc(p.M)+"/documents",b={documents:c.map(B=>jt(p.M,B))},S=yield p.co("BatchGetDocuments",y,b),M=new Map;S.forEach(B=>{const G=function B0(n,e){return"found"in e?function(t,r){Mt(!!r.found);const i=qt(t,r.found.name),u=je(r.found.updateTime),c=new Ci({mapValue:{fields:r.found.fields}});return Nn.newFoundDocument(i,u,c)}(n,e):"missing"in e?function(t,r){Mt(!!r.missing),Mt(!!r.readTime);const i=qt(t,r.missing),u=je(r.readTime);return Nn.newNoDocument(i,u)}(n,e):it()}(p.M,B);M.set(G.key.toString(),G)});const F=[];return c.forEach(B=>{const G=M.get(B.toString());Mt(!!G),F.push(G)}),F}),function(u,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new bh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=He.fromPath(i);e.mutations.push(new _p(u,e.precondition(u)))}),yield(r=(0,ve.Z)(function*(i,u){const c=Ke(i),p=Rc(c.M)+"/documents",y={writes:u.map(b=>Nc(c.M,b))};yield c.ro("Commit",p,y)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw it();t=Ct.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Me(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Pr.updateTime(t):Pr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ct.min()))throw new Me(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pr.updateTime(t)}return Pr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class f1{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new hA(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,ve.Z)(function*(){const t=new h1(e.datastore),r=e.Da(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Ca(u)}))}).catch(i=>{e.Ca(i)})}))}Da(e){try{const t=this.updateFunction(e);return!fh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!DD(t)}return!1}}class p1{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=zr.UNAUTHENTICATED,this.clientId=jm.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,ve.Z)(function*(p){Pe("FirestoreClient","Received user=",p.uid),yield u.authCredentialListener(p),u.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Pe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=vy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function PR(n,e){return lS.apply(this,arguments)}function lS(){return lS=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ve.Z)(function*(u){r.isEqual(u)||(yield rR(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),lS.apply(this,arguments)}function FR(n,e){return cS.apply(this,arguments)}function cS(){return cS=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield dS(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>wR(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>wR(e.remoteStore,u)),n.onlineComponents=e}),cS.apply(this,arguments)}function dS(n){return hS.apply(this,arguments)}function hS(){return hS=(0,ve.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield PR(n,new NR)),n.offlineComponents}),hS.apply(this,arguments)}function $D(n){return fS.apply(this,arguments)}function fS(){return fS=(0,ve.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield FR(n,new uS)),n.onlineComponents}),fS.apply(this,arguments)}function LR(n){return dS(n).then(e=>e.persistence)}function pS(n){return dS(n).then(e=>e.localStore)}function VR(n){return $D(n).then(e=>e.remoteStore)}function gS(n){return $D(n).then(e=>e.syncEngine)}function Dy(n){return mS.apply(this,arguments)}function mS(){return mS=(0,ve.Z)(function*(n){const e=yield $D(n),t=e.eventManager;return t.onListen=qP.bind(null,e.syncEngine),t.onUnlisten=zP.bind(null,e.syncEngine),t}),mS.apply(this,arguments)}function BR(n,e,t={}){const r=new kr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,u,c,p,y){const b=new jD({next:M=>{u.enqueueAndForget(()=>OA(i,S));const F=M.docs.has(c);!F&&M.fromCache?y.reject(new Me(le.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&p&&"server"===p.source?y.reject(new Me(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new FA(Ac(c.path),b,{includeMetadataChanges:!0,Du:!0});return RA(i,S)}(yield Dy(n),n.asyncQueue,e,t,r)})),r.promise}function UR(n,e,t={}){const r=new kr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,u,c,p,y){const b=new jD({next:M=>{u.enqueueAndForget(()=>OA(i,S)),M.fromCache&&"server"===p.source?y.reject(new Me(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new FA(c,b,{includeMetadataChanges:!0,Du:!0});return RA(i,S)}(yield Dy(n),n.asyncQueue,e,t,r)})),r.promise}const jR=new Map;function yS(n,e,t){if(!t)throw new Me(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $R(n,e,t,r){if(!0===e&&!0===r)throw new Me(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function HR(n){if(!He.isDocumentKey(n))throw new Me(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function GR(n){if(He.isDocumentKey(n))throw new Me(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function HD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":it()}function on(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=HD(n);throw new Me(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function qR(n,e){if(e<=0)throw new Me(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class zR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,$R("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class J0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zR({}),this._settingsFrozen=!1,e instanceof nl?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Me(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(i.options.projectId)}(e))}get app(){if(!this._app)throw new Me(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Bm;switch(t.type){case"gapi":const r=t.client;return Mt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new vT(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Me(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jR.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),jR.delete(e),t.terminate())}(this),Promise.resolve()}}class Zn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class us{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new us(this.firestore,e,this._query)}}class fl extends us{constructor(e,t,r){super(e,t,Ac(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new He(e))}withConverter(e){return new fl(this.firestore,e,this._path)}}function WR(n,e,...t){if(n=(0,Gt.m9)(n),yS("collection","path",e),n instanceof J0){const r=nn.fromString(e,...t);return GR(r),new fl(n,null,r)}{if(!(n instanceof Zn||n instanceof fl))throw new Me(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nn.fromString(e,...t));return GR(r),new fl(n.firestore,null,r)}}function GD(n,e,...t){if(n=(0,Gt.m9)(n),1===arguments.length&&(e=jm.R()),yS("doc","path",e),n instanceof J0){const r=nn.fromString(e,...t);return HR(r),new Zn(n,null,new He(r))}{if(!(n instanceof Zn||n instanceof fl))throw new Me(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nn.fromString(e,...t));return HR(r),new Zn(n.firestore,n instanceof fl?n.converter:null,new He(r))}}function KR(n,e){return n=(0,Gt.m9)(n),e=(0,Gt.m9)(e),(n instanceof Zn||n instanceof fl)&&(e instanceof Zn||e instanceof fl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ZR(n,e){return n=(0,Gt.m9)(n),e=(0,Gt.m9)(e),n instanceof us&&e instanceof us&&n.firestore===e.firestore&&Jm(n._query,e._query)&&n.converter===e.converter}class I1{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new hA(this,"async_queue_retry"),this.Ua=()=>{const t=VD();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=VD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=VD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new kr;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,ve.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!Ep(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,Or("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const i=xA.createAndSchedule(this,e,t,r,u=>this.Qa(u));return this.Oa.push(i),i}qa(){this.Fa&&it()}verifyOperationInProgress(){}ja(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function _S(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class T1{constructor(){this._progressObserver={},this._taskCompletionResolver=new kr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ir extends J0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new I1,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||YR(this),this._firestoreClient.terminate()}}function Kr(n){return n._firestoreClient||YR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function YR(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new hx(n._databaseId,u,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var u,p;n._firestoreClient=new p1(n._authCredentials,n._appCheckCredentials,n._queue,r)}function QR(n,e,t){const r=new kr;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield PR(n,t),yield FR(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(u=i).name?u.code===le.FAILED_PRECONDITION||u.code===le.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var u})).then(()=>r.promise)}function JR(n){if(n._initialized||n._terminated)throw new Me(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class kc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pl(vr.fromBase64String(e))}catch(t){throw new Me(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pl(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Mp{constructor(e){this._methodName=e}}class qD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const F1=/^__.*__$/;class L1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new dl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Eh(e,this.data,t,this.fieldTransforms)}}class XR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new dl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class zD{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===u&&this.Ja(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new zD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.ec(e),i}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.Ja(),i}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return ZD(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(eN(this.Ya)&&F1.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class V1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Z0(e)}uc(e,t,r,i=!1){return new zD({Ya:e,methodName:t,oc:r,path:Wr.emptyPath(),tc:!1,rc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function xp(n){const e=n._freezeSettings(),t=Z0(n._databaseId);return new V1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function WD(n,e,t,r,i,u={}){const c=n.uc(u.merge||u.mergeFields?2:0,e,t,i);bS("Data must be an object, but it was:",c,r);const p=rN(r,c);let y,b;if(u.merge)y=new Ic(c.fieldMask),b=c.fieldTransforms;else if(u.mergeFields){const S=[];for(const M of u.mergeFields){const F=DS(e,M,t);if(!c.contains(F))throw new Me(le.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);sN(S,F)||S.push(F)}y=new Ic(S),b=c.fieldTransforms.filter(M=>y.covers(M.field))}else y=null,b=c.fieldTransforms;return new L1(new Ci(p),y,b)}class X0 extends Mp{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof X0}}function tN(n,e,t){return new zD({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class vS extends Mp{_toFieldTransform(e){return new Mc(e.path,new wh)}isEqual(e){return e instanceof vS}}class B1 extends Mp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=tN(this,e,!0),r=this.ac.map(u=>Rp(u,t)),i=new al(r);return new Mc(e.path,i)}isEqual(e){return this===e}}class U1 extends Mp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=tN(this,e,!0),r=this.ac.map(u=>Rp(u,t)),i=new ll(r);return new Mc(e.path,i)}isEqual(e){return this===e}}class j1 extends Mp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new cl(e.M,VT(e.M,this.cc));return new Mc(e.path,t)}isEqual(e){return this===e}}function wS(n,e,t,r){const i=n.uc(1,e,t);bS("Data must be an object, but it was:",i,r);const u=[],c=Ci.empty();el(r,(y,b)=>{const S=KD(e,y,t);b=(0,Gt.m9)(b);const M=i.nc(S);if(b instanceof X0)u.push(S);else{const F=Rp(b,M);null!=F&&(u.push(S),c.set(S,F))}});const p=new Ic(u);return new XR(c,p,i.fieldTransforms)}function ES(n,e,t,r,i,u){const c=n.uc(1,e,t),p=[DS(e,r,t)],y=[i];if(u.length%2!=0)throw new Me(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<u.length;F+=2)p.push(DS(e,u[F])),y.push(u[F+1]);const b=[],S=Ci.empty();for(let F=p.length-1;F>=0;--F)if(!sN(b,p[F])){const B=p[F];let G=y[F];G=(0,Gt.m9)(G);const ne=c.nc(B);if(G instanceof X0)b.push(B);else{const Ee=Rp(G,ne);null!=Ee&&(b.push(B),S.set(B,Ee))}}const M=new Ic(b);return new XR(S,M,c.fieldTransforms)}function nN(n,e,t,r=!1){return Rp(t,n.uc(r?4:3,e))}function Rp(n,e){if(iN(n=(0,Gt.m9)(n)))return bS("Unsupported field value:",e,n),rN(n,e);if(n instanceof Mp)return function(t,r){if(!eN(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let p=Rp(c,r.sc(u));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Gt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return VT(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=nr.fromDate(t);return{timestampValue:ye(r.M,i)}}if(t instanceof nr){const i=new nr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ye(r.M,i)}}if(t instanceof qD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pl)return{bytesValue:Fe(r.M,t._byteString)};if(t instanceof Zn){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.ic(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ce(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${HD(t)}`)}(n,e)}function rN(n,e){const t={};return w0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):el(n,(r,i)=>{const u=Rp(i,e.Za(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function iN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof nr||n instanceof qD||n instanceof pl||n instanceof Zn||n instanceof Mp)}function bS(n,e,t){if(!iN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=HD(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function DS(n,e,t){if((e=(0,Gt.m9)(e))instanceof kc)return e._internalPath;if("string"==typeof e)return KD(n,e);throw ZD("Field path arguments must be of type string or ",n,!1,void 0,t)}const $1=new RegExp("[~\\*/\\[\\]]");function KD(n,e,t){if(e.search($1)>=0)throw ZD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new kc(...e.split("."))._internalPath}catch(r){throw ZD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ZD(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||c)&&(y+=" (found",u&&(y+=` in field ${r}`),c&&(y+=` in document ${i}`),y+=")"),new Me(le.INVALID_ARGUMENT,p+n+y)}function sN(n,e){return n.some(t=>t.isEqual(e))}class ew{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new H1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(YD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class H1 extends ew{data(){return super.data()}}function YD(n,e){return"string"==typeof e?KD(n,e):e instanceof kc?e._internalPath:e._delegate._internalPath}class Np{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pc extends ew{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new tw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(YD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class tw extends Pc{data(e={}){return super.data(e)}}class Mh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Np(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new tw(this._firestore,this._userDataWriter,r.key,r,new Np(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new tw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Np(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const p=new tw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Np(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,b=-1;return 0!==c.type&&(y=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),b=u.indexOf(c.doc.key)),{type:G1(c.type),doc:p,oldIndex:y,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function G1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function oN(n,e){return n instanceof Pc&&e instanceof Pc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Mh&&e instanceof Mh&&n._firestore===e._firestore&&ZR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function aN(n){if(vh(n)&&0===n.explicitOrderBy.length)throw new Me(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nw{}function xh(n,...e){for(const t of e)n=t._apply(n);return n}class q1 extends nw{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=xp(e.firestore),r=function(i,u,c,p,y,b,S){let M;if(y.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Me(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){fN(S,b);const B=[];for(const G of S)B.push(hN(p,i,G));M={arrayValue:{values:B}}}else M=hN(p,i,S)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||fN(S,b),M=nN(c,"where",S,"in"===b||"not-in"===b);const F=oi.create(y,b,M);return function(B,G){if(G.S()){const Ee=x0(B);if(null!==Ee&&!Ee.isEqual(G.field))throw new Me(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ee.toString()}' and '${G.field.toString()}'`);const Ye=Ym(B);null!==Ye&&pN(0,G.field,Ye)}const ne=function(Ee,Ye){for(const Le of Ee.filters)if(Ye.indexOf(Le.op)>=0)return Le.op;return null}(B,function(Ee){switch(Ee){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(G.op));if(null!==ne)throw new Me(le.INVALID_ARGUMENT,ne===G.op?`Invalid query. You cannot use more than one '${G.op.toString()}' filter.`:`Invalid query. You cannot use '${G.op.toString()}' filters with '${ne.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new us(e.firestore,e.converter,function(i,u){const c=i.filters.concat([u]);return new nu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class W1 extends nw{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Me(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Me(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new yh(i,u);return function(p,y){if(null===Ym(p)){const b=x0(p);null!==b&&pN(0,b,y.field)}}(r,c),c}(e._query,this.hc,this.dc);return new us(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new nu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class uN extends nw{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new us(e.firestore,e.converter,fD(e._query,this._c,this.wc))}}class lN extends nw{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=dN(e,this.type,this.mc,this.gc);return new us(e.firestore,e.converter,(i=t,new nu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class cN extends nw{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=dN(e,this.type,this.mc,this.gc);return new us(e.firestore,e.converter,(i=t,new nu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function dN(n,e,t,r){if(t[0]=(0,Gt.m9)(t[0]),t[0]instanceof ew)return function(i,u,c,p,y){if(!p)throw new Me(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const S of Sc(i))if(S.field.isKeyField())b.push(Tc(u,p.key));else{const M=p.data.field(S.field);if($m(M))throw new Me(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=S.field.canonicalString();throw new Me(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}b.push(M)}return new tu(b,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=xp(n.firestore);return function(u,c,p,y,b,S){const M=u.explicitOrderBy;if(b.length>M.length)throw new Me(le.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<b.length;B++){const G=b[B];if(M[B].field.isKeyField()){if("string"!=typeof G)throw new Me(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof G}`);if(!Qm(u)&&-1!==G.indexOf("/"))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${G}' contains a slash.`);const ne=u.path.child(nn.fromString(G));if(!He.isDocumentKey(ne))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const Ee=new He(ne);F.push(Tc(c,Ee))}else{const ne=nN(p,y,G);F.push(ne)}}return new tu(F,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function hN(n,e,t){if("string"==typeof(t=(0,Gt.m9)(t))){if(""===t)throw new Me(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qm(e)&&-1!==t.indexOf("/"))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(nn.fromString(t));if(!He.isDocumentKey(r))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tc(n,new He(r))}if(t instanceof Zn)return Tc(n,t._key);throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${HD(t)}.`)}function fN(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Me(le.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function pN(n,e,t){if(!t.isEqual(e))throw new Me(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class CS{convertValue(e,t="none"){switch(rl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw it()}}convertObject(e,t){const r={};return el(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new qD(rr(e.latitude),rr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ET(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Hm(e));default:return null}}convertTimestamp(e){const t=tl(e);return new nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nn.fromString(e);Mt(Ix(r));const i=new nl(r.get(1),r.get(3)),u=new He(r.popFirst(5));return i.isEqual(t)||Or(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function QD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class tF extends CS{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}class gN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xp(e)}set(e,t,r){this._verifyNotCommitted();const i=Rh(e,this._firestore),u=QD(i.converter,t,r),c=WD(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Pr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=Rh(e,this._firestore);let c;return c="string"==typeof(t=(0,Gt.m9)(t))||t instanceof kc?ES(this._dataReader,"WriteBatch.update",u._key,t,r,i):wS(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,Pr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Rh(e,this._firestore);return this._mutations=this._mutations.concat(new bh(t._key,Pr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rh(n,e){if((n=(0,Gt.m9)(n)).firestore!==e)throw new Me(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Op extends CS{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}function mN(n,e,t){n=on(n,Zn);const r=on(n.firestore,ir),i=QD(n.converter,e,t);return Cy(r,[WD(xp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Pr.none())])}function yN(n,e,t,...r){n=on(n,Zn);const i=on(n.firestore,ir),u=xp(i);let c;return c="string"==typeof(e=(0,Gt.m9)(e))||e instanceof kc?ES(u,"updateDoc",n._key,e,t,r):wS(u,"updateDoc",n._key,e),Cy(i,[c.toMutation(n._key,Pr.exists(!0))])}function _N(n,...e){var t,r,i;n=(0,Gt.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||_S(e[c])||(u=e[c],c++);const p={includeMetadataChanges:u.includeMetadataChanges};if(_S(e[c])){const M=e[c];e[c]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[c+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[c+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let y,b,S;if(n instanceof Zn)b=on(n.firestore,ir),S=Ac(n._key.path),y={next:M=>{e[c]&&e[c](IS(b,n,M))},error:e[c+1],complete:e[c+2]};else{const M=on(n,us);b=on(M.firestore,ir),S=M._query;const F=new Op(b);y={next:B=>{e[c]&&e[c](new Mh(b,F,M,B))},error:e[c+1],complete:e[c+2]},aN(n._query)}return function(M,F,B,G){const ne=new jD(G),Ee=new FA(F,ne,B);return M.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return RA(yield Dy(M),Ee)})),()=>{ne.pa(),M.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return OA(yield Dy(M),Ee)}))}}(Kr(b),S,p,y)}function Cy(n,e){return function(t,r){const i=new kr;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function WP(n,e,t){return jA.apply(this,arguments)}(yield gS(t),r,i)})),i.promise}(Kr(n),e)}function IS(n,e,t){const r=t.docs.get(e._key),i=new Op(n);return new Pc(n,i,e._key,r,new Np(t.hasPendingWrites,t.fromCache),e.converter)}class dF extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xp(e)}get(e){const t=Rh(e,this._firestore),r=new tF(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return it();const u=i[0];if(u.isFoundDocument())return new ew(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new ew(this._firestore,r,t._key,null,t.converter);throw it()})}set(e,t,r){const i=Rh(e,this._firestore),u=QD(i.converter,t,r),c=WD(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const u=Rh(e,this._firestore);let c;return c="string"==typeof(t=(0,Gt.m9)(t))||t instanceof kc?ES(this._dataReader,"Transaction.update",u._key,t,r,i):wS(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=Rh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Rh(e,this._firestore),r=new Op(this._firestore);return super.get(e).then(i=>new Pc(this._firestore,r,t._key,i._document,new Np(!1,!1),t.converter))}}function TS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function wN(){if("undefined"==typeof Uint8Array)throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function EN(){if(!function oD(){return"undefined"!=typeof atob}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Cc=zu.SDK_VERSION,(0,zu._registerComponent)(new Gf.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),u=new ir(i,new dx(t.getProvider("auth-internal")),new Um(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,zu.registerVersion)(eD,"3.4.7",n),(0,zu.registerVersion)(eD,"3.4.7","esm2017")}();class rw{constructor(e){this._delegate=e}static fromBase64String(e){return EN(),new rw(pl.fromBase64String(e))}static fromUint8Array(e){return wN(),new rw(pl.fromUint8Array(e))}toBase64(){return EN(),this._delegate.toBase64()}toUint8Array(){return wN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function AS(n){return function wF(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class EF{enableIndexedDbPersistence(e,t){return function S1(n,e){JR(n=on(n,ir));const t=Kr(n),r=n._freezeSettings(),i=new uS;return QR(t,i,new OR(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function M1(n){JR(n=on(n,ir));const e=Kr(n),t=n._freezeSettings(),r=new uS;return QR(e,r,new c1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function x1(n){if(n._initialized&&!n._terminated)throw new Me(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new kr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(r){if(!iu.vt())return Promise.resolve();const i=r+"main";yield iu.delete(i)}),function(r){return t.apply(this,arguments)})(eA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class bN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof nl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ja("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function D1(n,e,t,r={}){var i;const u=(n=on(n,J0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Ja("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,p;if("string"==typeof r.mockUserToken)c=r.mockUserToken,p=zr.MOCK_USER;else{c=(0,Gt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Me(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new zr(y)}n._authCredentials=new y0(new m0(c,p))}}(this._delegate,e,t,r)}enableNetwork(){return function N1(n){return function g1(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield LR(n),t=yield VR(n);return e.setNetworkEnabled(!0),function(r){const i=Ke(r);return i.lu.delete(0),Y0(i)}(t)}))}(Kr(n=on(n,ir)))}(this._delegate)}disableNetwork(){return function O1(n){return function m1(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield LR(n),t=yield VR(n);return e.setNetworkEnabled(!1),(r=(0,ve.Z)(function*(i){const u=Ke(i);u.lu.add(0),yield my(u),u._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Kr(n=on(n,ir)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,$R("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function R1(n){return function(e){const t=new kr;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function QP(n,e){return zA.apply(this,arguments)}(yield gS(e),t)})),t.promise}(Kr(n=on(n,ir)))}(this._delegate)}onSnapshotsInSync(e){return function cF(n,e){return function v1(n,e){const t=new jD(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Dy(n),i=t,Ke(r).Tu.add(i),void i.next();var r,i})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Dy(n),i=t,void Ke(r).Tu.delete(i);var r,i}))}}(Kr(n=on(n,ir)),_S(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Iy(this,WR(this._delegate,e))}catch(t){throw Ms(t,"collection()","Firestore.collection()")}}doc(e){try{return new ba(this,GD(this._delegate,e))}catch(t){throw Ms(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xs(this,function C1(n,e){if(n=on(n,J0),yS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new us(n,null,(t=e,new nu(nn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ms(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function hF(n,e){return function w1(n,e){const t=new kr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const r=yield(i=n,$D(i).then(u=>u.datastore));var i;new f1(n.asyncQueue,r,e,t).run()})),t.promise}(Kr(n=on(n,ir)),t=>e(new dF(n,t)))}(this._delegate,t=>e(new DN(this,t)))}batch(){return Kr(this._delegate),new CN(new gN(this._delegate,e=>Cy(this._delegate,e)))}loadBundle(e){return function k1(n,e){const t=Kr(n=on(n,ir)),r=new T1;return function E1(n,e,t,r){const i=function(u,c){let p;return p="string"==typeof u?(new TextEncoder).encode(u):u,y=function(y,b){if(y instanceof Uint8Array)return kR(y,b);if(y instanceof ArrayBuffer)return kR(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new d1(y,c);var y}(t,Z0(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function l1(n,e,t){const r=Ke(n);var i;(i=(0,ve.Z)(function*(u,c,p){try{const y=yield c.getMetadata();if(yield function(F,B){const G=Ke(F),ne=je(B.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",Ee=>G.ds.getBundleMetadata(Ee,B.id)).then(Ee=>!!Ee&&Ee.createTime.compareTo(ne)>=0)}(u.localStore,y))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(F=y).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);p._updateProgress(DR(y));const b=new jP(y,u.localStore,c.M);let S=yield c.fa();for(;S;){const F=yield b.Nu(S);F&&p._updateProgress(F),S=yield c.fa()}const M=yield b.complete();return yield Oc(u,M.Ou,void 0),yield function(F,B){const G=Ke(F);return G.persistence.runTransaction("Save bundle","readwrite",ne=>G.ds.saveBundleMetadata(ne,B))}(u.localStore,y),p._completeWith(M.progress),Promise.resolve(M.Mu)}catch(y){return Ja("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var F}),function(u,c,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield gS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function P1(n,e){return function b1(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,r){const i=Ke(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.ds.getNamedQuery(u,r))}(yield pS(n),e)}))}(Kr(n=on(n,ir)),e).then(t=>t?new us(n,null,t.query):null)}(this._delegate,e).then(t=>t?new xs(this,t):null)}}class JD extends CS{constructor(e){super(),this.firestore=e}convertBytes(e){return new rw(new pl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ba.forKey(t,this.firestore,null)}}class DN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new JD(e)}get(e){const t=Pp(e);return this._delegate.get(t).then(r=>new iw(this._firestore,new Pc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Pp(e);return r?(TS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Pp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Pp(e);return this._delegate.delete(t),this}}class CN{constructor(e){this._delegate=e}set(e,t,r){const i=Pp(e);return r?(TS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Pp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Pp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class kp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new tw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sw(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=kp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new kp(e,new JD(e),t),i.set(t,u)),u}}kp.INSTANCES=new WeakMap;class ba{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new JD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ba(t,new Zn(t._delegate,r,new He(e)))}static forKey(e,t,r){return new ba(t,new Zn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Iy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Iy(this.firestore,WR(this._delegate,e))}catch(t){throw Ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Gt.m9)(e))instanceof Zn&&KR(this._delegate,e)}set(e,t){t=TS("DocumentReference.set",t);try{return t?mN(this._delegate,e,t):mN(this._delegate,e)}catch(r){throw Ms(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?yN(this._delegate,e):yN(this._delegate,e,t,...r)}catch(i){throw Ms(i,"updateDoc()","DocumentReference.update()")}}delete(){return function uF(n){return Cy(on(n.firestore,ir),[new bh(n._key,Pr.none())])}(this._delegate)}onSnapshot(...e){const t=IN(e),r=TN(e,i=>new iw(this.firestore,new Pc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return _N(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function rF(n){n=on(n,Zn);const e=on(n.firestore,ir),t=Kr(e),r=new Op(e);return function y1(n,e){const t=new kr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,u,c){try{const p=yield function(y,b){const S=Ke(y);return S.persistence.runTransaction("read document","readonly",M=>S.ai.Bs(M,b))}(i,u);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Me(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=vy(p,`Failed to get document '${u} from cache`);c.reject(y)}}),function(i,u,c){return r.apply(this,arguments)})(yield pS(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Pc(e,r,n._key,i,new Np(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function iF(n){n=on(n,Zn);const e=on(n.firestore,ir);return BR(Kr(e),n._key,{source:"server"}).then(t=>IS(e,n,t))}(this._delegate):function nF(n){n=on(n,Zn);const e=on(n.firestore,ir);return BR(Kr(e),n._key).then(t=>IS(e,n,t))}(this._delegate),t.then(r=>new iw(this.firestore,new Pc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ba(this.firestore,this._delegate.withConverter(e?kp.getInstance(this.firestore,e):null))}}function Ms(n,e,t){return n.message=n.message.replace(e,t),n}function IN(n){for(const e of n)if("object"==typeof e&&!AS(e))return e;return{}}function TN(n,e){var t,r;let i;return i=AS(n[0])?n[0]:AS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class iw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ba(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return oN(this._delegate,e._delegate)}}class sw extends iw{data(e){const t=this._delegate.data(e);return function tD(n,e){n||it()}(void 0!==t),t}}class xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new JD(e)}where(e,t,r){try{return new xs(this.firestore,xh(this._delegate,function z1(n,e,t){const r=e,i=YD("where",n);return new q1(i,r,t)}(e,t,r)))}catch(i){throw Ms(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xs(this.firestore,xh(this._delegate,function K1(n,e="asc"){const t=e,r=YD("orderBy",n);return new W1(r,t)}(e,t)))}catch(r){throw Ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xs(this.firestore,xh(this._delegate,function Z1(n){return qR("limit",n),new uN("limit",n,"F")}(e)))}catch(t){throw Ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xs(this.firestore,xh(this._delegate,function Y1(n){return qR("limitToLast",n),new uN("limitToLast",n,"L")}(e)))}catch(t){throw Ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xs(this.firestore,xh(this._delegate,function Q1(...n){return new lN("startAt",n,!0)}(...e)))}catch(t){throw Ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xs(this.firestore,xh(this._delegate,function J1(...n){return new lN("startAfter",n,!1)}(...e)))}catch(t){throw Ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xs(this.firestore,xh(this._delegate,function X1(...n){return new cN("endBefore",n,!1)}(...e)))}catch(t){throw Ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xs(this.firestore,xh(this._delegate,function eF(...n){return new cN("endAt",n,!0)}(...e)))}catch(t){throw Ms(t,"endAt()","Query.endAt()")}}isEqual(e){return ZR(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function oF(n){n=on(n,us);const e=on(n.firestore,ir),t=Kr(e),r=new Op(e);return function _1(n,e){const t=new kr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,u,c){try{const p=yield PD(i,u,!0),y=new TR(u,p.hi),b=y.Gu(p.documents),S=y.applyChanges(b,!1);c.resolve(S.snapshot)}catch(p){const y=vy(p,`Failed to execute query '${u} against cache`);c.reject(y)}}),function(i,u,c){return r.apply(this,arguments)})(yield pS(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Mh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function aF(n){n=on(n,us);const e=on(n.firestore,ir),t=Kr(e),r=new Op(e);return UR(t,n._query,{source:"server"}).then(i=>new Mh(e,r,n,i))}(this._delegate):function sF(n){n=on(n,us);const e=on(n.firestore,ir),t=Kr(e),r=new Op(e);return aN(n._query),UR(t,n._query).then(i=>new Mh(e,r,n,i))}(this._delegate),t.then(r=>new SS(this.firestore,new Mh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=IN(e),r=TN(e,i=>new SS(this.firestore,new Mh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return _N(this._delegate,t,r)}withConverter(e){return new xs(this.firestore,this._delegate.withConverter(e?kp.getInstance(this.firestore,e):null))}}class DF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new sw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class SS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new sw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new DF(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new sw(this._firestore,r))})}isEqual(e){return oN(this._delegate,e._delegate)}}class Iy extends xs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ba(this.firestore,e):null}doc(e){try{return new ba(this.firestore,void 0===e?GD(this._delegate):GD(this._delegate,e))}catch(t){throw Ms(t,"doc()","CollectionReference.doc()")}}add(e){return function lF(n,e){const t=on(n.firestore,ir),r=GD(n),i=QD(n.converter,e);return Cy(t,[WD(xp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Pr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ba(this.firestore,t))}isEqual(e){return KR(this._delegate,e._delegate)}withConverter(e){return new Iy(this.firestore,this._delegate.withConverter(e?kp.getInstance(this.firestore,e):null))}}function Pp(n){return on(n,Zn)}class MS{constructor(...e){this._delegate=new kc(...e)}static documentId(){return new MS(Wr.keyField().canonicalString())}isEqual(e){return(e=(0,Gt.m9)(e))instanceof kc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Fp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function pF(){return new vS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Fp(e)}static delete(){const e=function fF(){return new X0("deleteField")}();return e._methodName="FieldValue.delete",new Fp(e)}static arrayUnion(...e){const t=function gF(...n){return new B1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Fp(t)}static arrayRemove(...e){const t=function mF(...n){return new U1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Fp(t)}static increment(e){const t=function yF(n){return new j1("increment",n)}(e);return t._methodName="FieldValue.increment",new Fp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const CF={Firestore:bN,GeoPoint:qD,Timestamp:nr,Blob:rw,Transaction:DN,WriteBatch:CN,DocumentReference:ba,DocumentSnapshot:iw,Query:xs,QueryDocumentSnapshot:sw,QuerySnapshot:SS,CollectionReference:Iy,FieldPath:MS,FieldValue:Fp,setLogLevel:function bF(n){!function _T(n){tr.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function TF(n){(function IF(n,e){n.INTERNAL.registerComponent(new Gf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},CF)))})(n,(e,t)=>new bN(e,t,new EF)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(ib.Z);var XD=k(5363),AF=k(6063);class SF extends lr.x{constructor(e=1/0,t=1/0,r=AF.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let p=0;for(let y=1;y<r.length&&r[y]<=c;y+=2)p=y;p&&r.splice(0,p+1)}}}var MF=k(3099);function AN(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,MF.B)({connector:()=>new SF(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function SN(n,e){return(0,mi.m)(e)?Bn(()=>n,e):Bn(()=>n)}var xS=k(9468);k(5867);const xN=new Map,kF={activated:!1,tokenObservers:[]},PF={initialized:!1,enabled:!1};function Si(n){return xN.get(n)||kF}function su(n,e){xN.set(n,e)}function tC(){return PF}class UF{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new Gt.BH,yield function jF(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Gt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Rs=new Gt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function NN(n){if(!Si(n).activated)throw Rs.create("use-before-activation",{appName:n.name})}function kS(n,e){return PS.apply(this,arguments)}function PS(){return PS=(0,ve.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const M=yield i.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const u={method:"POST",body:JSON.stringify(e),headers:r};let c,p;try{c=yield fetch(n,u)}catch(M){throw Rs.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==c.status)throw Rs.create("fetch-status-error",{httpStatus:c.status});try{p=yield c.json()}catch(M){throw Rs.create("fetch-parse-error",{originalErrorMessage:M.message})}const y=p.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Rs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const b=1e3*Number(y[1]),S=Date.now();return{token:p.attestationToken,expireTimeMillis:S+b,issuedAtTimeMillis:S}}),PS.apply(this,arguments)}function zF(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const ow="firebase-app-check-store";let iC=null;function kN(){return iC||(iC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Rs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ow,{keyPath:"compositeKey"})}}catch(t){e(Rs.create("storage-open",{originalErrorMessage:t.message}))}}),iC)}function FS(){return FS=(0,ve.Z)(function*(n,e){const r=(yield kN()).transaction(ow,"readwrite"),u=r.objectStore(ow).put({compositeKey:n,value:e});return new Promise((c,p)=>{u.onsuccess=y=>{c()},r.onerror=y=>{var b;p(Rs.create("storage-set",{originalErrorMessage:null===(b=y.target.error)||void 0===b?void 0:b.message}))}})}),FS.apply(this,arguments)}const aw=new Ka.Yd("@firebase/app-check");function VN(n,e){return(0,Gt.hl)()?function YF(n,e){return function PN(n,e){return FS.apply(this,arguments)}(function LN(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{aw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function BN(){return tC().enabled}function UN(){return US.apply(this,arguments)}function US(){return US=(0,ve.Z)(function*(){const n=tC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),US.apply(this,arguments)}const nL={error:"UNKNOWN_ERROR"};function rL(n){return Gt.US.encodeString(JSON.stringify(n),!1)}function sC(n){return jS.apply(this,arguments)}function jS(){return jS=(0,ve.Z)(function*(n,e=!1){const t=n.app;NN(t);const r=Si(t);let u,i=r.token;if(!i){const y=yield r.cachedTokenPromise;y&&oC(y)&&(i=y)}if(!e&&i&&oC(i))return{token:i.token};let p,c=!1;if(BN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=kS(zF(t,yield UN()),n.heartbeatServiceProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),c=!0);const y=yield r.exchangeTokenPromise;return yield VN(t,y),su(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),c=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?aw.warn(y.message):aw.error(y),u=y}return i?(p={token:i.token},su(t,Object.assign(Object.assign({},r),{token:i})),yield VN(t,i)):p=sL(u),c&&$N(t,p),p}),jS.apply(this,arguments)}function HS(n,e){const t=Si(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),su(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function jN(n){const{app:e}=n,t=Si(e);let r=t.tokenRefresher;r||(r=function iL(n){const{app:e}=n;return new UF((0,ve.Z)(function*(){let r;if(r=Si(e).token?yield sC(n,!0):yield sC(n),r.error)throw r.error}),()=>!0,()=>{const t=Si(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),su(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function $N(n,e){const t=Si(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function oC(n){return n.expireTimeMillis-Date.now()>0}function sL(n){return{token:rL(nL),error:n}}class oL{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Si(this.app);for(const t of e)HS(this.app,t.next);return Promise.resolve()}}const YN="app-check-internal";!function wL(){(0,zu._registerComponent)(new Gf.wA("app-check",n=>function aL(n,e){return new oL(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(YN).initialize()})),(0,zu._registerComponent)(new Gf.wA(YN,n=>function uL(n){return{getToken:e=>sC(n,e),addTokenListener:e=>function $S(n,e,t,r){const{app:i}=n,u=Si(i),c={next:t,error:r,type:e};if(su(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,c]})),u.token&&oC(u.token)){const p=u.token;Promise.resolve().then(()=>{t({token:p.token}),jN(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>jN(n))}(n,"INTERNAL",e),removeTokenListener:e=>HS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,zu.registerVersion)("@firebase/app-check","0.5.5")}();class WS{constructor(){return(0,ni.vb)("app-check")}}"undefined"!=typeof window&&window;var IL=k(127);const JN=new h.OlP("angularfire2.auth.use-emulator"),XN=new h.OlP("angularfire2.auth.settings"),eO=new h.OlP("angularfire2.auth.tenant-id"),tO=new h.OlP("angularfire2.auth.langugage-code"),nO=new h.OlP("angularfire2.auth.use-device-language"),rO=new h.OlP("angularfire.auth.persistence"),iO=(n,e,t,r,i,u,c,p)=>(0,Ts.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,u&&y.useDeviceLanguage(),c)for(const[b,S]of Object.entries(c))y.settings[b]=S;return p&&y.setPersistence(p),y},[t,r,i,u,c,p]);let sO=(()=>{class n{constructor(t,r,i,u,c,p,y,b,S,M,F,B){const G=new lr.x,ne=yt(void 0).pipe((0,XD.Q)(c.outsideAngular),Bn(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,4087)))),(0,Ot.U)(()=>(0,Ts.on)(t,u,r)),(0,Ot.U)(Ee=>iO(Ee,u,p,b,S,M,y,F)),AN({bufferSize:1,refCount:!1}));if(yr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=yt(null);else{ne.pipe(to()).subscribe();const Ye=ne.pipe(Bn(ze=>ze.getRedirectResult().then(_t=>_t,()=>null)),ni.iC,AN({bufferSize:1,refCount:!1})),Le=ne.pipe(Bn(ze=>new Vr.y(_t=>({unsubscribe:u.runOutsideAngular(()=>ze.onAuthStateChanged(ct=>_t.next(ct),ct=>_t.error(ct),()=>_t.complete()))})))),Ze=ne.pipe(Bn(ze=>new Vr.y(_t=>({unsubscribe:u.runOutsideAngular(()=>ze.onIdTokenChanged(ct=>_t.next(ct),ct=>_t.error(ct),()=>_t.complete()))}))));this.authState=Ye.pipe(SN(Le),(0,xS.R)(c.outsideAngular),(0,XD.Q)(c.insideAngular)),this.user=Ye.pipe(SN(Ze),(0,xS.R)(c.outsideAngular),(0,XD.Q)(c.insideAngular)),this.idToken=this.user.pipe(Bn(ze=>ze?(0,Ln.D)(ze.getIdToken()):yt(null))),this.idTokenResult=this.user.pipe(Bn(ze=>ze?(0,Ln.D)(ze.getIdTokenResult()):yt(null))),this.credential=(0,Nw.T)(Ye,G,this.authState.pipe(Xi(ze=>!ze))).pipe((0,Ot.U)(ze=>(null==ze?void 0:ze.user)?ze:null),(0,xS.R)(c.outsideAngular),(0,XD.Q)(c.insideAngular))}return(0,Ts.pX)(this,ne,u,{spy:{apply:(Ee,Ye,Le)=>{(Ee.startsWith("signIn")||Ee.startsWith("createUser"))&&Le.then(Ze=>G.next(Ze))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ts.Dh),h.LFG(Ts.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(ni.HU),h.LFG(JN,8),h.LFG(XN,8),h.LFG(eO,8),h.LFG(tO,8),h.LFG(nO,8),h.LFG(rO,8),h.LFG(WS,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function oO(n,e){return function AL(n,e=em.z){return new Vr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function ZS(n,e){return oO(n,e).pipe((0,Ot.U)(t=>({payload:t,type:"query"})))}function uC(n,e){return ZS(n,e).pipe(Li(void 0),tm(),(0,Ot.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const y=i.find(S=>S.doc.ref.isEqual(c.ref)),b=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(c.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(c.metadata)||!y&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),u}))}function aO(n,e,t){return uC(n,t).pipe(Sr((r,i)=>function ML(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function xL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return YS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return YS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return YS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function rb(n,e=pi.y){return n=null!=n?n:Cv,(0,Br.e)((t,r)=>{let i,u=!0;t.subscribe((0,Wn.x)(r,c=>{const p=e(c);(u||!n(i,p))&&(u=!1,i=p,r.next(c))}))})}(),(0,Ot.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function YS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function uO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class lO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=uC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ot.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Li(void 0),tm(),Xi(([r,i])=>i.length>0||!r),(0,Ot.U)(([r,i])=>i),ni.iC)}auditTrail(e){return this.stateChanges(e).pipe(Sr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=uO(e);return aO(this.query,t,this.afs.schedulers.outsideAngular).pipe(ni.iC)}valueChanges(e={}){return ZS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ni.iC)}get(e){return(0,Ln.D)(this.query.get(e)).pipe(ni.iC)}add(e){return this.ref.add(e)}doc(e){return new cO(this.ref.doc(e),this.afs)}}class cO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=fO(r,t);return new lO(i,u,this.afs)}snapshotChanges(){return function SL(n,e){return oO(n,e).pipe(Li(void 0),tm(),(0,Ot.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ni.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ot.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ln.D)(this.ref.get(e)).pipe(ni.iC)}}class RL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?uC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Xi(t=>t.length>0),ni.iC):uC(this.query,this.afs.schedulers.outsideAngular).pipe(ni.iC)}auditTrail(e){return this.stateChanges(e).pipe(Sr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=uO(e);return aO(this.query,t,this.afs.schedulers.outsideAngular).pipe(ni.iC)}valueChanges(e={}){return ZS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),ni.iC)}get(e){return(0,Ln.D)(this.query.get(e)).pipe(ni.iC)}}const dO=new h.OlP("angularfire2.enableFirestorePersistence"),hO=new h.OlP("angularfire2.firestore.persistenceSettings"),NL=new h.OlP("angularfire2.firestore.settings"),OL=new h.OlP("angularfire2.firestore.use-emulator");function fO(n,e=(t=>t)){return{query:e(n),ref:n}}let QS=(()=>{class n{constructor(t,r,i,u,c,p,y,b,S,M,F,B,G,ne,Ee,Ye,Le){this.schedulers=y;const Ze=(0,Ts.on)(t,p,r),ze=S;M&&iO(Ze,p,F,G,ne,Ee,B,Ye),[this.firestore,this.persistenceEnabled$]=(0,Ts.cc)(`${Ze.name}.firestore`,"AngularFirestore",Ze.name,()=>{const _t=p.runOutsideAngular(()=>Ze.firestore());if(u&&_t.settings(u),ze&&_t.useEmulator(...ze),i&&!yr(c)){const ct=()=>{try{return(0,Ln.D)(_t.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Xt){return"undefined"!=typeof console&&console.warn(Xt),yt(!1)}};return[_t,p.runOutsideAngular(ct)]}return[_t,yt(!1)]},[u,ze,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=fO(i,r),p=this.schedulers.ngZone.run(()=>u);return new lO(p,c,this)}collectionGroup(t,r){const i=r||(c=>c),u=this.firestore.collectionGroup(t);return new RL(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new cO(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ts.Dh),h.LFG(Ts.xv,8),h.LFG(dO,8),h.LFG(NL,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(ni.HU),h.LFG(hO,8),h.LFG(OL,8),h.LFG(sO,8),h.LFG(JN,8),h.LFG(XN,8),h.LFG(eO,8),h.LFG(tO,8),h.LFG(nO,8),h.LFG(rO,8),h.LFG(WS,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),pO=(()=>{class n{constructor(){IL.Z.registerVersion("angularfire",ni.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:dO,useValue:!0},{provide:hO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[QS]}),n})();const gO=(n,e)=>{if(void 0===e)return n;const t=Object.keys(e);return n.filter(i=>((i,u,c)=>void 0===i.find(p=>u[p]!==c[p]))(t,i,e))};let uw=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("tasks").add(t)}getAll(t){return this._client.collection("tasks").valueChanges({idField:"id"}).pipe((0,Ot.U)(r=>gO(r,t)))}remove(t){this._client.doc("tasks/"+t).delete()}set(t){this._client.doc("tasks/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(QS))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),mO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[uw,{provide:wv,useExisting:uw},{provide:Yw,useExisting:uw},{provide:Mg,useExisting:uw},{provide:Qw,useExisting:uw}],imports:[[pO]]}),n})(),kL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[mr,eI.forRoot(),xd.forRoot()]]}),n})(),yO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[mr,ca,vv]]}),n})(),PL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[mr,ca.forChild([{path:"",component:nb}]),bv,mO,kL,Xg,yO]]}),n})();const _O=new h.OlP("GETS_ALL_IMAGE_DTO");function FL(n,e){if(1&n&&(h.TgZ(0,"div",2),h._UZ(1,"img",3),h.qZA()),2&n){const t=e.$implicit;h.xp6(1),h.Q6J("src",t.imageUrl,h.LSH)("alt",t.alt)}}let vO=(()=>{class n{constructor(t){this._getsAllImageDto=t,this.images$=this._getsAllImageDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(_O))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-photos-list"]],decls:3,vars:3,consts:[[1,"d-flex","justify-content-between","align-items-center","pt-4"],["style","width: 24rem;",4,"ngFor","ngForOf"],[2,"width","24rem"],[1,"card-img-top","p-1",3,"src","alt"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h.YNc(1,FL,2,2,"div",1),h.ALo(2,"async"),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngForOf",h.lcZ(2,1,r.images$)))},directives:[ur],pipes:[Ma],encapsulation:2,changeDetection:0}),n})(),LL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-home-page"]],decls:9,vars:0,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","h-50"],[1,"text-center"],["routerLink","/first-task","role","button",1,"btn","bg-special","text-white"]],template:function(t,r){1&t&&(h._UZ(0,"lib-date"),h.TgZ(1,"div",0)(2,"h1",1),h._uU(3,"Get a clear view of the day ahead"),h.qZA(),h.TgZ(4,"p",1),h._uU(5,"All your tasks that are due today will show up here"),h.qZA(),h.TgZ(6,"a",2),h._uU(7,"Add task"),h.qZA()(),h._UZ(8,"lib-photos-list"))},directives:[vg,wd,vO],encapsulation:2,changeDetection:0}),n})(),wO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[mr]]}),n})(),EO=(()=>{class n{constructor(t){this._client=t}getAll(t){return this._client.collection("images").valueChanges({idField:"id"}).pipe((0,Ot.U)(r=>gO(r,t)))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(QS))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),bO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[EO,{provide:_O,useExisting:EO}],imports:[[pO]]}),n})(),VL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[mr,ca.forChild([{path:"",component:LL}]),bv,wO,bO,Xg]]}),n})(),BL=(()=>{class n{constructor(t,r){this._addsTaskDto=t,this.router=r,this.createTask=new jd({task:new $g("",[lE.required])})}onCreateTaskSubmited(t){var r;t.invalid||(this._addsTaskDto.add({name:null===(r=null==t?void 0:t.get("task"))||void 0===r?void 0:r.value,date:(new Date).getTime()}),this.router.navigate(["/my-list"]),this.createTask.reset())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(wv),h.Y36(Hr))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-add-first-task"]],decls:8,vars:2,consts:[[1,"pt-5"],[1,"form-floating",3,"formGroup","ngSubmit"],["type","text","formControlName","task","placeholder","Write your task here","id","floatingTextarea2",1,"form-control",2,"height","100px","max-width","350px"],["for","floatingTextarea2"],["type","submit","value","Add task",1,"btn","bg-special","text-white","mt-4","me-4",3,"disabled"],["routerLink","/","role","button",1,"btn","text-dark","bg-white","border-dark","mt-4"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"form",1),h.NdJ("ngSubmit",function(){return r.onCreateTaskSubmited(r.createTask)}),h._UZ(2,"input",2),h.TgZ(3,"label",3),h._uU(4,"Write your task here"),h.qZA(),h._UZ(5,"input",4),h.TgZ(6,"a",5),h._uU(7,"Cancel"),h.qZA()()()),2&t&&(h.xp6(1),h.Q6J("formGroup",r.createTask),h.xp6(4),h.Q6J("disabled",r.createTask.invalid))},directives:[VE,os,fc,Rd,Pd,$f,wd],encapsulation:2,changeDetection:0}),n})(),UL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-first-task-page"]],decls:4,vars:0,consts:[[1,"h-50"]],template:function(t,r){1&t&&(h._UZ(0,"lib-date"),h.TgZ(1,"div",0),h._UZ(2,"lib-add-first-task"),h.qZA(),h._UZ(3,"lib-photos-list"))},directives:[vg,BL,vO],encapsulation:2,changeDetection:0}),n})(),jL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[mr,ca,vv]]}),n})(),$L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[mr,ca.forChild([{path:"",component:UL}]),bv,Xg,yO,mO,wO,bO,jL]]}),n})();const HL=[{path:"my-list",loadChildren:()=>PL},{path:"",loadChildren:()=>VL},{path:"first-task",loadChildren:()=>$L}];let GL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[ca.forRoot(HL)],ca]}),n})(),qL=(()=>{class n{constructor(){this.title="ToDoApp"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"d-flex","py-3","fs-5","justify-content-center","bg-special"],[1,"w-75"],["routerLink","/",1,"text-decoration-none","text-white"],[1,"d-flex","justify-content-center","vh-100"]],template:function(t,r){1&t&&(h.TgZ(0,"header",0)(1,"div",1)(2,"a",2),h._uU(3,"RAMOTKA's TO-DO APP"),h.qZA()()(),h.TgZ(4,"div",3)(5,"div",1),h._UZ(6,"router-outlet"),h.qZA()())},directives:[wd,tc],styles:[""]}),n})();const rn=!1;function DO(n){return new h.vHH(3e3,rn)}function IV(){return"undefined"!=typeof window&&void 0!==window.document}function JS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Nh(n){switch(n.length){case 0:return new Dg;case 1:return n[0];default:return new v_(n)}}function CO(n,e,t,r,i={},u={}){const c=[],p=[];let y=-1,b=null;if(r.forEach(S=>{const M=S.offset,F=M==y,B=F&&b||{};Object.keys(S).forEach(G=>{let ne=G,Ee=S[G];if("offset"!==G)switch(ne=e.normalizePropertyName(ne,c),Ee){case"!":Ee=i[G];break;case pa:Ee=u[G];break;default:Ee=e.normalizeStyleValue(G,ne,Ee,c)}B[ne]=Ee}),F||p.push(B),b=B,y=M}),c.length)throw function pV(n){return new h.vHH(3502,rn)}();return p}function XS(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&eM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&eM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&eM(t,"destroy",n)))}}function eM(n,e,t){const r=t.totalTime,u=tM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(u._data=c),u}function tM(n,e,t,r,i="",u=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!c}}function Uo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function IO(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let nM=(n,e)=>!1,TO=(n,e,t)=>[],AO=null;function rM(n){const e=n.parentNode||n.host;return e===AO?null:e}(JS()||"undefined"!=typeof Element)&&(IV()?(AO=(()=>document.documentElement)(),nM=(n,e)=>{for(;e;){if(e===n)return!0;e=rM(e)}return!1}):nM=(n,e)=>n.contains(e),TO=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Lp=null,SO=!1;function MO(n){Lp||(Lp=function AV(){return"undefined"!=typeof document?document.body:null}()||{},SO=!!Lp.style&&"WebkitAppearance"in Lp.style);let e=!0;return Lp.style&&!function TV(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Lp.style,!e&&SO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Lp.style)),e}const xO=nM,RO=TO;let NO=(()=>{class n{validateStyleProperty(t){return MO(t)}matchesElement(t,r){return!1}containsElement(t,r){return xO(t,r)}getParentElement(t){return rM(t)}query(t,r,i){return RO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,c,p=[],y){return new Dg(i,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),iM=(()=>{class n{}return n.NOOP=new NO,n})();const sM="ng-enter",cC="ng-leave",dC="ng-trigger",hC=".ng-trigger",kO="ng-animating",oM=".ng-animating";function Vp(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:aM(parseFloat(e[1]),e[2])}function aM(n,e){return"s"===e?1e3*n:n}function fC(n,e,t){return n.hasOwnProperty("duration")?n:function xV(n,e,t){let i,u=0,c="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(DO()),{duration:0,delay:0,easing:""};i=aM(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(u=aM(parseFloat(y),p[4]));const b=p[5];b&&(c=b)}else i=n;if(!t){let p=!1,y=e.length;i<0&&(e.push(function zL(){return new h.vHH(3100,rn)}()),p=!0),u<0&&(e.push(function WL(){return new h.vHH(3101,rn)}()),p=!0),p&&e.splice(y,0,DO())}return{duration:i,delay:u,easing:c}}(n,e,t)}function Ty(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Oh(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Ty(n,t);return t}function FO(n,e,t){return t?e+":"+t+";":""}function LO(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=FO(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=FO(0,OV(t),n.style[t]));n.setAttribute("style",e)}function gl(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=lM(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),JS()&&LO(n))}function Bp(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=lM(t);n.style[r]=""}),JS()&&LO(n))}function lw(n){return Array.isArray(n)?1==n.length?n[0]:bg(n):n}const uM=new RegExp("{{\\s*(.+?)\\s*}}","g");function VO(n){let e=[];if("string"==typeof n){let t;for(;t=uM.exec(n);)e.push(t[1]);uM.lastIndex=0}return e}function pC(n,e,t){const r=n.toString(),i=r.replace(uM,(u,c)=>{let p=e[c];return e.hasOwnProperty(c)||(t.push(function ZL(n){return new h.vHH(3003,rn)}()),p=""),p.toString()});return i==r?n:i}function gC(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const NV=/-+([a-z0-9])/g;function lM(n){return n.replace(NV,(...e)=>e[1].toUpperCase())}function OV(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function jo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function YL(n){return new h.vHH(3004,rn)}()}}function BO(n,e){return window.getComputedStyle(n)[e]}function BV(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function UV(n,e,t){if(":"==n[0]){const y=function jV(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function cV(n){return new h.vHH(3016,rn)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function lV(n){return new h.vHH(3015,rn)}()),e;const i=r[1],u=r[2],c=r[3];e.push(UO(i,c));"<"==u[0]&&!("*"==i&&"*"==c)&&e.push(UO(c,i))}(r,t,e)):t.push(n),t}const vC=new Set(["true","1"]),wC=new Set(["false","0"]);function UO(n,e){const t=vC.has(n)||wC.has(n),r=vC.has(e)||wC.has(e);return(i,u)=>{let c="*"==n||n==i,p="*"==e||e==u;return!c&&t&&"boolean"==typeof i&&(c=i?vC.has(n):wC.has(n)),!p&&r&&"boolean"==typeof u&&(p=u?vC.has(e):wC.has(e)),c&&p}}const $V=new RegExp("s*:selfs*,?","g");function cM(n,e,t,r){return new HV(n).build(e,t,r)}class HV{constructor(e){this._driver=e}build(e,t,r){const i=new zV(t);this._resetContextStyleTimingState(i);const u=jo(this,lw(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),u}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function JL(){return new h.vHH(3006,rn)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const y=p,b=y.name;b.toString().split(/\s*,\s*/).forEach(S=>{y.name=S,u.push(this.visitState(y,t))}),y.name=b}else if(1==p.type){const y=this.visitTransition(p,t);r+=y.queryCount,i+=y.depCount,c.push(y)}else t.errors.push(function XL(){return new h.vHH(3007,rn)}())}),{type:7,name:e.name,states:u,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,c=i||{};r.styles.forEach(p=>{if(EC(p)){const y=p;Object.keys(y).forEach(b=>{VO(y[b]).forEach(S=>{c.hasOwnProperty(S)||u.add(S)})})}}),u.size&&(gC(u.values()),t.errors.push(function eV(n,e){return new h.vHH(3008,rn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=jo(this,lw(e.animation),t);return{type:1,matchers:BV(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Up(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>jo(this,r,t)),options:Up(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(c=>{t.currentTime=r;const p=jo(this,c,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:u,options:Up(e.options)}}visitAnimate(e,t){const r=function KV(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return dM(fC(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=dM(0,0,"");return u.dynamic=!0,u.strValue=r,u}return t=t||fC(r,e),dM(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:Cd({});if(5==u.type)i=this.visitKeyframes(u,t);else{let c=e.styles,p=!1;if(!c){p=!0;const b={};r.easing&&(b.easing=r.easing),c=Cd(b)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(c,t);y.isEmptyStep=p,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==pa?r.push(c):t.errors.push(function tV(n){return new h.vHH(3002,rn)}()):r.push(c)}):r.push(e.styles);let i=!1,u=null;return r.forEach(c=>{if(EC(c)){const p=c,y=p.easing;if(y&&(u=y,delete p.easing),!i)for(let b in p)if(p[b].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(p=>{if(!this._driver.validateStyleProperty(p))return delete c[p],void t.unsupportedCSSPropertiesFound.add(p);const y=t.collectedStyles[t.currentQuerySelector],b=y[p];let S=!0;b&&(u!=i&&u>=b.startTime&&i<=b.endTime&&(t.errors.push(function nV(n,e,t,r,i){return new h.vHH(3010,rn)}()),S=!1),u=b.startTime),S&&(y[p]={startTime:u,endTime:i}),t.options&&function RV(n,e,t){const r=e.params||{},i=VO(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function KL(n){return new h.vHH(3001,rn)}())})}(c[p],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function rV(){return new h.vHH(3011,rn)}()),r;let u=0;const c=[];let p=!1,y=!1,b=0;const S=e.steps.map(Ye=>{const Le=this._makeStyleAst(Ye,t);let Ze=null!=Le.offset?Le.offset:function WV(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(EC(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(EC(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Le.styles),ze=0;return null!=Ze&&(u++,ze=Le.offset=Ze),y=y||ze<0||ze>1,p=p||ze<b,b=ze,c.push(ze),Le});y&&t.errors.push(function iV(){return new h.vHH(3012,rn)}()),p&&t.errors.push(function sV(){return new h.vHH(3200,rn)}());const M=e.steps.length;let F=0;u>0&&u<M?t.errors.push(function oV(){return new h.vHH(3202,rn)}()):0==u&&(F=1/(M-1));const B=M-1,G=t.currentTime,ne=t.currentAnimateTimings,Ee=ne.duration;return S.forEach((Ye,Le)=>{const Ze=F>0?Le==B?1:F*Le:c[Le],ze=Ze*Ee;t.currentTime=G+ne.delay+ze,ne.duration=ze,this._validateStyleAst(Ye,t),Ye.offset=Ze,r.styles.push(Ye)}),r}visitReference(e,t){return{type:8,animation:jo(this,lw(e.animation),t),options:Up(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Up(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Up(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,c]=function GV(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace($V,"")),n=n.replace(/@\*/g,hC).replace(/@\w+/g,t=>hC+"-"+t.substr(1)).replace(/:animating/g,oM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,Uo(t.collectedStyles,t.currentQuerySelector,{});const p=jo(this,lw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:p,originalSelector:e.selector,options:Up(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function aV(){return new h.vHH(3013,rn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:fC(e.timings,t.errors,!0);return{type:12,animation:jo(this,lw(e.animation),t),timings:r,options:null}}}class zV{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function EC(n){return!Array.isArray(n)&&"object"==typeof n}function Up(n){return n?(n=Ty(n)).params&&(n.params=function qV(n){return n?Ty(n):null}(n.params)):n={},n}function dM(n,e,t){return{duration:n,delay:e,easing:t}}function hM(n,e,t,r,i,u,c=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:c,subTimeline:p}}class bC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const QV=new RegExp(":enter","g"),XV=new RegExp(":leave","g");function fM(n,e,t,r,i,u={},c={},p,y,b=[]){return(new eB).buildKeyframes(n,e,t,r,i,u,c,p,y,b)}class eB{buildKeyframes(e,t,r,i,u,c,p,y,b,S=[]){b=b||new bC;const M=new pM(e,t,b,i,u,S,[]);M.options=y,M.currentTimeline.setStyles([c],null,M.errors,y),jo(this,r,M);const F=M.timelines.filter(B=>B.containsAnimation());if(Object.keys(p).length){let B;for(let G=F.length-1;G>=0;G--){const ne=F[G];if(ne.element===t){B=ne;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([p],null,M.errors,y)}return F.length?F.map(B=>B.buildKeyframes()):[hM(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);u!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const c=null!=r.duration?Vp(r.duration):null,p=null!=r.delay?Vp(r.delay):null;return 0!==c&&e.forEach(y=>{const b=t.appendInstructionToTimeline(y,c,p);u=Math.max(u,b.duration+b.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),jo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=DC);const c=Vp(u.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>jo(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Vp(e.options.delay):0;e.steps.forEach(c=>{const p=t.createSubContext(e.options);u&&p.delayNextStep(u),jo(this,c,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return fC(t.params?pC(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(y=>{p.forwardTime((y.offset||0)*u),p.setStyles(y.styles,y.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?Vp(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=DC);let c=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let y=null;p.forEach((b,S)=>{t.currentQueryIndex=S;const M=t.createSubContext(e.options,b);u&&M.delayNextStep(u),b===t.element&&(y=M.currentTimeline),jo(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,c=Math.abs(u.duration),p=c*(t.currentQueryTotal-1);let y=c*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":y=p-y;break;case"full":y=r.currentStaggerTime}const S=t.currentTimeline;y&&S.delayNextStep(y);const M=S.currentTime;jo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const DC={};class pM{constructor(e,t,r,i,u,c,p,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=c,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=DC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new CC(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Vp(r.duration)),null!=r.delay&&(i.delay=Vp(r.delay));const u=r.params;if(u){let c=i.params;c||(c=this.options.params={}),Object.keys(u).forEach(p=>{(!t||!c.hasOwnProperty(p))&&(c[p]=pC(u[p],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new pM(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=DC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},u=new tB(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,c){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(QV,"."+this._enterClassName)).replace(XV,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),p.push(...b)}return!u&&0==p.length&&c.push(function uV(n){return new h.vHH(3014,rn)}()),p}}class CC{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new CC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||pa,this._currentKeyframe[t]=pa}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const u=i&&i.params||{},c=function nB(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(u=>{t[u]=pa})):Oh(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(p=>{const y=pC(c[p],u,r);this._pendingStyles[p]=y,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:pa),this._updateStyle(p,y)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,y)=>{const b=Oh(p,!0);Object.keys(b).forEach(S=>{const M=b[S];"!"==M?e.add(S):M==pa&&t.add(S)}),r||(b.offset=y/this.duration),i.push(b)});const u=e.size?gC(e.values()):[],c=t.size?gC(t.values()):[];if(r){const p=i[0],y=Ty(p);p.offset=0,y.offset=1,i=[p,y]}return hM(this.element,i,u,c,this.duration,this.startTime,this.easing,!1)}}class tB extends CC{constructor(e,t,r,i,u,c,p=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=p,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],c=r+t,p=t/c,y=Oh(e[0],!1);y.offset=0,u.push(y);const b=Oh(e[0],!1);b.offset=HO(p),u.push(b);const S=e.length-1;for(let M=1;M<=S;M++){let F=Oh(e[M],!1);F.offset=HO((t+F.offset*r)/c),u.push(F)}r=c,t=0,i="",e=u}return hM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function HO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class gM{}class rB extends gM{normalizePropertyName(e,t){return lM(e)}normalizeStyleValue(e,t,r,i){let u="";const c=r.toString().trim();if(iB[t]&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function QL(n,e){return new h.vHH(3005,rn)}())}return c+u}}const iB=(()=>function sB(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function GO(n,e,t,r,i,u,c,p,y,b,S,M,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:c,timelines:p,queriedElements:y,preStyleProps:b,postStyleProps:S,totalTime:M,errors:F}}const mM={};class qO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function oB(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],u=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return u?u.buildStyles(t,r):c}build(e,t,r,i,u,c,p,y,b,S){const M=[],F=this.ast.options&&this.ast.options.params||mM,G=this.buildStyles(r,p&&p.params||mM,M),ne=y&&y.params||mM,Ee=this.buildStyles(i,ne,M),Ye=new Set,Le=new Map,Ze=new Map,ze="void"===i,_t={params:Object.assign(Object.assign({},F),ne)},ct=S?[]:fM(e,t,this.ast.animation,u,c,G,Ee,_t,b,M);let Xt=0;if(ct.forEach(vn=>{Xt=Math.max(vn.duration+vn.delay,Xt)}),M.length)return GO(t,this._triggerName,r,i,ze,G,Ee,[],[],Le,Ze,Xt,M);ct.forEach(vn=>{const Yt=vn.element,Dn=Uo(Le,Yt,{});vn.preStyleProps.forEach(ml=>Dn[ml]=!0);const Ns=Uo(Ze,Yt,{});vn.postStyleProps.forEach(ml=>Ns[ml]=!0),Yt!==t&&Ye.add(Yt)});const bn=gC(Ye.values());return GO(t,this._triggerName,r,i,ze,G,Ee,ct,bn,Le,Ze,Xt)}}class aB{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Ty(this.defaultParams);return Object.keys(e).forEach(u=>{const c=e[u];null!=c&&(i[u]=c)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const c=u;Object.keys(c).forEach(p=>{let y=c[p];y.length>1&&(y=pC(y,i,t));const b=this.normalizer.normalizePropertyName(p,t);y=this.normalizer.normalizeStyleValue(p,b,y,t),r[b]=y})}}),r}}class lB{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new aB(i.style,i.options&&i.options.params||{},r)}),zO(this.states,"true","1"),zO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new qO(e,i,this.states))}),this.fallbackTransition=function cB(n,e,t){return new qO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function zO(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const dB=new bC;class hB{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],u=cM(this._driver,t,r,[]);if(r.length)throw function gV(n){return new h.vHH(3503,rn)}();this._animations[e]=u}_buildPlayer(e,t,r){const i=e.element,u=CO(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations[e];let c;const p=new Map;if(u?(c=fM(this._driver,t,u,sM,cC,{},{},r,dB,i),c.forEach(S=>{const M=Uo(p,S.element,{});S.postStyleProps.forEach(F=>M[F]=null)})):(i.push(function mV(){return new h.vHH(3300,rn)}()),c=[]),i.length)throw function yV(n){return new h.vHH(3504,rn)}();p.forEach((S,M)=>{Object.keys(S).forEach(F=>{S[F]=this._driver.computeStyle(M,F,pa)})});const b=Nh(c.map(S=>{const M=p.get(S.element);return this._buildPlayer(S,{},M)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function _V(n){return new h.vHH(3301,rn)}();return t}listen(e,t,r,i){const u=tM(t,"","","");return XS(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const WO="ng-animate-queued",yM="ng-animate-disabled",yB=[],KO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_B={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Da="__ng_removed";class _M{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function bB(n){return null!=n?n:null}(r?e.value:e),r){const u=Ty(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const cw="void",vM=new _M(cw);class vB{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ca(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function vV(n,e){return new h.vHH(3302,rn)}();if(null==r||0==r.length)throw function wV(n){return new h.vHH(3303,rn)}();if(!function DB(n){return"start"==n||"done"==n}(r))throw function EV(n,e){return new h.vHH(3400,rn)}();const u=Uo(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};u.push(c);const p=Uo(this._engine.statesByElement,e,{});return p.hasOwnProperty(t)||(Ca(e,dC),Ca(e,dC+"-"+t),p[t]=vM),()=>{this._engine.afterFlush(()=>{const y=u.indexOf(c);y>=0&&u.splice(y,1),this._triggers[t]||delete p[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function bV(n){return new h.vHH(3401,rn)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),c=new wM(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(Ca(e,dC),Ca(e,dC+"-"+t),this._engine.statesByElement.set(e,p={}));let y=p[t];const b=new _M(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&b.absorbOptions(y.options),p[t]=b,y||(y=vM),b.value!==cw&&y.value===b.value){if(!function TB(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(y.params,b.params)){const ne=[],Ee=u.matchStyles(y.value,y.params,ne),Ye=u.matchStyles(b.value,b.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{Bp(e,Ee),gl(e,Ye)})}return}const F=Uo(this._engine.playersByElement,e,[]);F.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==t&&ne.queued&&ne.destroy()});let B=u.matchTransition(y.value,b.value,e,b.params),G=!1;if(!B){if(!i)return;B=u.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:y,toState:b,player:c,isFallbackTransition:G}),G||(Ca(e,WO),c.onStart(()=>{Ay(e,WO)})),c.onDone(()=>{let ne=this.players.indexOf(c);ne>=0&&this.players.splice(ne,1);const Ee=this._engine.playersByElement.get(e);if(Ee){let Ye=Ee.indexOf(c);Ye>=0&&Ee.splice(Ye,1)}}),this.players.push(c),F.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,hC,!0);r.forEach(i=>{if(i[Da])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),c=new Map;if(u){const p=[];if(Object.keys(u).forEach(y=>{if(c.set(y,u[y].value),this._triggers[y]){const b=this.trigger(e,y,cw,i);b&&p.push(b)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Nh(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const c=u.name;if(i.has(c))return;i.add(c);const y=this._triggers[c].fallbackTransition,b=r[c]||vM,S=new _M(cw),M=new wM(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:y,fromState:b,toState:S,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[Da];(!u||u===KO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ca(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,c=this._elementListeners.get(u);c&&c.forEach(p=>{if(p.name==r.triggerName){const y=tM(u,r.triggerName,r.fromState.value,r.toState.value);y._data=e,XS(r.player,p.phase,y,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==u||0==c?u-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class wB{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new vB(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,u=r.length-1;if(u>=0){let c=!1;if(void 0!==this.driver.getParentElement){let p=this.driver.getParentElement(t);for(;p;){const y=i.get(p);if(y){const b=r.indexOf(y);r.splice(b+1,0,e),c=!0;break}p=this.driver.getParentElement(p)}}else for(let p=u;p>=0;p--)if(this.driver.containsElement(r[p].hostElement,t)){r.splice(p+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let u=0;u<i.length;u++){const c=r[i[u]].namespaceId;if(c){const p=this._fetchNamespace(c);p&&t.add(p)}}}return t}trigger(e,t,r,i){if(IC(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!IC(t))return;const u=t[Da];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ca(e,yM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ay(e,yM))}removeNode(e,t,r,i){if(IC(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[Da]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return IC(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,hC,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,oM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Nh(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Da];if(r&&r.setForRemoval){if(e[Da]=KO,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(yM))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ca(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Nh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function DV(n){return new h.vHH(3402,rn)}()}_flushAnimations(e,t){const r=new bC,i=[],u=new Map,c=[],p=new Map,y=new Map,b=new Map,S=new Set;this.disabledNodes.forEach(st=>{S.add(st);const mt=this.driver.query(st,".ng-animate-queued",!0);for(let At=0;At<mt.length;At++)S.add(mt[At])});const M=this.bodyNode,F=Array.from(this.statesByElement.keys()),B=QO(F,this.collectedEnterElements),G=new Map;let ne=0;B.forEach((st,mt)=>{const At=sM+ne++;G.set(mt,At),st.forEach(fn=>Ca(fn,At))});const Ee=[],Ye=new Set,Le=new Set;for(let st=0;st<this.collectedLeaveElements.length;st++){const mt=this.collectedLeaveElements[st],At=mt[Da];At&&At.setForRemoval&&(Ee.push(mt),Ye.add(mt),At.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(fn=>Ye.add(fn)):Le.add(mt))}const Ze=new Map,ze=QO(F,Array.from(Ye));ze.forEach((st,mt)=>{const At=cC+ne++;Ze.set(mt,At),st.forEach(fn=>Ca(fn,At))}),e.push(()=>{B.forEach((st,mt)=>{const At=G.get(mt);st.forEach(fn=>Ay(fn,At))}),ze.forEach((st,mt)=>{const At=Ze.get(mt);st.forEach(fn=>Ay(fn,At))}),Ee.forEach(st=>{this.processLeaveNode(st)})});const _t=[],ct=[];for(let st=this._namespaceList.length-1;st>=0;st--)this._namespaceList[st].drainQueuedTransitions(t).forEach(At=>{const fn=At.player,Mi=At.element;if(_t.push(fn),this.collectedEnterElements.length){const Os=Mi[Da];if(Os&&Os.setForMove){if(Os.previousTriggersValues&&Os.previousTriggersValues.has(At.triggerName)){const jp=Os.previousTriggersValues.get(At.triggerName),Ph=this.statesByElement.get(At.element);Ph&&Ph[At.triggerName]&&(Ph[At.triggerName].value=jp)}return void fn.destroy()}}const yl=!M||!this.driver.containsElement(M,Mi),$o=Ze.get(Mi),kh=G.get(Mi),dr=this._buildInstruction(At,r,kh,$o,yl);if(dr.errors&&dr.errors.length)return void ct.push(dr);if(yl)return fn.onStart(()=>Bp(Mi,dr.fromStyles)),fn.onDestroy(()=>gl(Mi,dr.toStyles)),void i.push(fn);if(At.isFallbackTransition)return fn.onStart(()=>Bp(Mi,dr.fromStyles)),fn.onDestroy(()=>gl(Mi,dr.toStyles)),void i.push(fn);const uk=[];dr.timelines.forEach(Os=>{Os.stretchStartingKeyframe=!0,this.disabledNodes.has(Os.element)||uk.push(Os)}),dr.timelines=uk,r.append(Mi,dr.timelines),c.push({instruction:dr,player:fn,element:Mi}),dr.queriedElements.forEach(Os=>Uo(p,Os,[]).push(fn)),dr.preStyleProps.forEach((Os,jp)=>{const Ph=Object.keys(Os);if(Ph.length){let $p=y.get(jp);$p||y.set(jp,$p=new Set),Ph.forEach(bM=>$p.add(bM))}}),dr.postStyleProps.forEach((Os,jp)=>{const Ph=Object.keys(Os);let $p=b.get(jp);$p||b.set(jp,$p=new Set),Ph.forEach(bM=>$p.add(bM))})});if(ct.length){const st=[];ct.forEach(mt=>{st.push(function CV(n,e){return new h.vHH(3505,rn)}())}),_t.forEach(mt=>mt.destroy()),this.reportError(st)}const Xt=new Map,bn=new Map;c.forEach(st=>{const mt=st.element;r.has(mt)&&(bn.set(mt,mt),this._beforeAnimationBuild(st.player.namespaceId,st.instruction,Xt))}),i.forEach(st=>{const mt=st.element;this._getPreviousPlayers(mt,!1,st.namespaceId,st.triggerName,null).forEach(fn=>{Uo(Xt,mt,[]).push(fn),fn.destroy()})});const vn=Ee.filter(st=>XO(st,y,b)),Yt=new Map;YO(Yt,this.driver,Le,b,pa).forEach(st=>{XO(st,y,b)&&vn.push(st)});const Ns=new Map;B.forEach((st,mt)=>{YO(Ns,this.driver,new Set(st),y,"!")}),vn.forEach(st=>{const mt=Yt.get(st),At=Ns.get(st);Yt.set(st,Object.assign(Object.assign({},mt),At))});const ml=[],dw=[],hw={};c.forEach(st=>{const{element:mt,player:At,instruction:fn}=st;if(r.has(mt)){if(S.has(mt))return At.onDestroy(()=>gl(mt,fn.toStyles)),At.disabled=!0,At.overrideTotalTime(fn.totalTime),void i.push(At);let Mi=hw;if(bn.size>1){let $o=mt;const kh=[];for(;$o=$o.parentNode;){const dr=bn.get($o);if(dr){Mi=dr;break}kh.push($o)}kh.forEach(dr=>bn.set(dr,Mi))}const yl=this._buildAnimation(At.namespaceId,fn,Xt,u,Ns,Yt);if(At.setRealPlayer(yl),Mi===hw)ml.push(At);else{const $o=this.playersByElement.get(Mi);$o&&$o.length&&(At.parentPlayer=Nh($o)),i.push(At)}}else Bp(mt,fn.fromStyles),At.onDestroy(()=>gl(mt,fn.toStyles)),dw.push(At),S.has(mt)&&i.push(At)}),dw.forEach(st=>{const mt=u.get(st.element);if(mt&&mt.length){const At=Nh(mt);st.setRealPlayer(At)}}),i.forEach(st=>{st.parentPlayer?st.syncPlayerEvents(st.parentPlayer):st.destroy()});for(let st=0;st<Ee.length;st++){const mt=Ee[st],At=mt[Da];if(Ay(mt,cC),At&&At.hasAnimation)continue;let fn=[];if(p.size){let yl=p.get(mt);yl&&yl.length&&fn.push(...yl);let $o=this.driver.query(mt,oM,!0);for(let kh=0;kh<$o.length;kh++){let dr=p.get($o[kh]);dr&&dr.length&&fn.push(...dr)}}const Mi=fn.filter(yl=>!yl.destroyed);Mi.length?CB(this,mt,Mi):this.processLeaveNode(mt)}return Ee.length=0,ml.forEach(st=>{this.players.push(st),st.onDone(()=>{st.destroy();const mt=this.players.indexOf(st);this.players.splice(mt,1)}),st.play()}),ml}elementContainsData(e,t){let r=!1;const i=t[Da];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let c=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(c=p)}else{const p=this.playersByElement.get(e);if(p){const y=!u||u==cw;p.forEach(b=>{b.queued||!y&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),c}_beforeAnimationBuild(e,t,r){const u=t.element,c=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const b=y.element,S=b!==u,M=Uo(r,b,[]);this._getPreviousPlayers(b,S,c,p,t.toState).forEach(B=>{const G=B.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),B.destroy(),M.push(B)})}Bp(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,c){const p=t.triggerName,y=t.element,b=[],S=new Set,M=new Set,F=t.timelines.map(G=>{const ne=G.element;S.add(ne);const Ee=ne[Da];if(Ee&&Ee.removedBeforeQueried)return new Dg(G.duration,G.delay);const Ye=ne!==y,Le=function IB(n){const e=[];return JO(n,e),e}((r.get(ne)||yB).map(Xt=>Xt.getRealPlayer())).filter(Xt=>!!Xt.element&&Xt.element===ne),Ze=u.get(ne),ze=c.get(ne),_t=CO(0,this._normalizer,0,G.keyframes,Ze,ze),ct=this._buildPlayer(G,_t,Le);if(G.subTimeline&&i&&M.add(ne),Ye){const Xt=new wM(e,p,ne);Xt.setRealPlayer(ct),b.push(Xt)}return ct});b.forEach(G=>{Uo(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function EB(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,G.element,G))}),S.forEach(G=>Ca(G,kO));const B=Nh(F);return B.onDestroy(()=>{S.forEach(G=>Ay(G,kO)),gl(y,t.toStyles)}),M.forEach(G=>{Uo(i,G,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Dg(e.duration,e.delay)}}class wM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Dg,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>XS(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Uo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function IC(n){return n&&1===n.nodeType}function ZO(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function YO(n,e,t,r,i){const u=[];t.forEach(y=>u.push(ZO(y)));const c=[];r.forEach((y,b)=>{const S={};y.forEach(M=>{const F=S[M]=e.computeStyle(b,M,i);(!F||0==F.length)&&(b[Da]=_B,c.push(b))}),n.set(b,S)});let p=0;return t.forEach(y=>ZO(y,u[p++])),c}function QO(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const i=new Set(e),u=new Map;function c(p){if(!p)return 1;let y=u.get(p);if(y)return y;const b=p.parentNode;return y=t.has(b)?b:i.has(b)?1:c(b),u.set(p,y),y}return e.forEach(p=>{const y=c(p);1!==y&&t.get(y).push(p)}),t}function Ca(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Ay(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function CB(n,e,t){Nh(t).onDone(()=>n.processLeaveNode(e))}function JO(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof v_?JO(r.players,e):e.push(r)}}function XO(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class TC{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new wB(e,t,r),this._timelineEngine=new hB(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const c=e+"-"+i;let p=this._triggerCache[c];if(!p){const y=[],S=cM(this._driver,u,y,[]);if(y.length)throw function fV(n,e){return new h.vHH(3404,rn)}();p=function uB(n,e,t){return new lB(n,e,t)}(i,S,this._normalizer),this._triggerCache[c]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,c]=IO(r);this._timelineEngine.command(u,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[c,p]=IO(r);return this._timelineEngine.listen(c,t,p,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let SB=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&gl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gl(this._element,this._initialStyles),this._endStyles&&(gl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Bp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bp(this._element,this._endStyles),this._endStyles=null),gl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function EM(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];MB(i)&&(e=e||{},e[i]=n[i])}return e}function MB(n){return"display"===n||"position"===n}class ek{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:BO(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class xB{validateStyleProperty(e){return MO(e)}matchesElement(e,t){return!1}containsElement(e,t){return xO(e,t)}getParentElement(e){return rM(e)}query(e,t,r){return RO(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,c=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(y.easing=u);const b={},S=c.filter(F=>F instanceof ek);(function kV(n,e){return 0===n||0===e})(r,i)&&S.forEach(F=>{let B=F.currentSnapshot;Object.keys(B).forEach(G=>b[G]=B[G])}),t=function PV(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let u=e[0],c=[];if(r.forEach(p=>{u.hasOwnProperty(p)||c.push(p),u[p]=t[p]}),c.length)for(var i=1;i<e.length;i++){let p=e[i];c.forEach(function(y){p[y]=BO(n,y)})}}return e}(e,t=t.map(F=>Oh(F,!1)),b);const M=function AB(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=EM(e[0]),e.length>1&&(r=EM(e[e.length-1]))):e&&(t=EM(e)),t||r?new SB(n,t,r):null}(e,t);return new ek(e,t,y,M)}}let RB=(()=>{class n extends Dd{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?bg(t):t;return tk(this._renderer,null,r,"register",[i]),new NB(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(re))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class NB extends class NM{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new OB(this._id,e,t||{},this._renderer)}}class OB{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return tk(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function tk(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const nk="@.disabled";let kB=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,c)=>{const p=null==c?void 0:c.parentNode(u);p&&c.removeChild(p,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(u);return S||(S=new rk("",u,this.engine),this._rendererCache.set(u,S)),S}const c=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const y=S=>{Array.isArray(S)?S.forEach(y):this.engine.registerTrigger(c,p,t,S.name,S)};return r.data.animation.forEach(y),new PB(this,p,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[c,p]=u;c(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(TC),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class rk{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==nk?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class PB extends rk{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==nk?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function FB(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),c="";return"@"!=u.charAt(0)&&([u,c]=function LB(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,c,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let VB=(()=>{class n extends TC{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(re),h.LFG(iM),h.LFG(gM))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ik=new h.OlP("AnimationModuleType"),sk=[{provide:Dd,useClass:RB},{provide:gM,useFactory:function BB(){return new rB}},{provide:TC,useClass:VB},{provide:h.FYo,useFactory:function UB(n,e,t){return new kB(n,e,t)},deps:[En,TC,h.R0b]}],ok=[{provide:iM,useFactory:()=>new xB},{provide:ik,useValue:"BrowserAnimations"},...sk],jB=[{provide:iM,useClass:NO},{provide:ik,useValue:"NoopAnimations"},...sk];let $B=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?jB:ok}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:ok,imports:[Zo]}),n})();const ak_firebase={projectId:"to-do-app-ramotka",appId:"1:983135561958:web:67b183d6d2c0dc9c03b327",storageBucket:"to-do-app-ramotka.appspot.com",locationId:"europe-west",apiKey:"AIzaSyCXW3VNnmmF07iVa23HJnznHoasoF7KRCI",authDomain:"to-do-app-ramotka.firebaseapp.com",messagingSenderId:"983135561958"};let HB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[qL]}),n.\u0275inj=h.cJS({providers:[],imports:[[Zo,GL,$B,Ts.hO.initializeApp(ak_firebase)]]}),n})();(0,h.G48)(),Sl().bootstrapModule(HB).catch(n=>console.error(n))},5867:(ut,Ae,k)=>{k.d(Ae,{Mq:()=>h.getApp,C6:()=>h.getApps});var h=k(9681);(0,h.registerVersion)("firebase","9.6.10","app")},127:(ut,Ae,k)=>{k.d(Ae,{Z:()=>h.Z});var h=k(3942);h.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(ut,Ae,k)=>{k.r(Ae);var h=k(5861),Y=k(3942),O=k(2090),ue=k(9681),X=k(655),ge=k(1877),re=k(4859);const Oe=function We(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new ge.Yd("@firebase/auth");function Qe(_,...f){nt.logLevel<=ge.in.ERROR&&nt.error(`Auth (${ue.SDK_VERSION}): ${_}`,...f)}function Ie(_,...f){throw $e(_,...f)}function _e(_,...f){return $e(_,...f)}function we(_,f,m){const w=Object.assign(Object.assign({},Ve()),{[f]:m});return new O.LL("auth","Firebase",w).create(f,{appName:_.name})}function qe(_,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Ie(_,"argument-error"),we(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(_,...f){if("string"!=typeof _){const m=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(m,...w)}return fe.create(_,...f)}function te(_,f,...m){if(!_)throw $e(f,...m)}function W(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Qe(f),new Error(f)}function ie(_,f){_||W(f)}const me=new Map;function se(_){ie(_ instanceof Function,"Expected a class definition");let f=me.get(_);return f?(ie(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,me.set(_,f),f)}function Tt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function en(){return"http:"===kn()||"https:"===kn()}function kn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class dn{constructor(f,m){this.shortDelay=f,this.longDelay=m,ie(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function lt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(en()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hn(_,f){ie(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class xi{static initialize(f,m,w){this.fetchImpl=f,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void W("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void W("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void W("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const an={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ls=new dn(3e4,6e4);function tn(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function zt(_,f,m,w){return hr.apply(this,arguments)}function hr(){return(hr=(0,h.Z)(function*(_,f,m,w,T={}){return ui(_,T,(0,h.Z)(function*(){let N={},z={};w&&("GET"===f?z=w:N={body:JSON.stringify(w)});const oe=(0,O.xO)(Object.assign({key:_.config.apiKey},z)).slice(1),Ue=yield _._getAdditionalHeaders();return Ue["Content-Type"]="application/json",_.languageCode&&(Ue["X-Firebase-Locale"]=_.languageCode),xi.fetch()(Lr(_,_.config.apiHost,m,oe),Object.assign({method:f,headers:Ue,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function ui(_,f,m){return ks.apply(this,arguments)}function ks(){return(ks=(0,h.Z)(function*(_,f,m){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},an),f);try{const T=new cs(_),N=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const z=yield N.json();if("needConfirmation"in z)throw ds(_,"account-exists-with-different-credential",z);if(N.ok&&!("errorMessage"in z))return z;{const oe=N.ok?z.errorMessage:z.error.message,[Ue,tt]=oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw ds(_,"credential-already-in-use",z);if("EMAIL_EXISTS"===Ue)throw ds(_,"email-already-in-use",z);const bt=w[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(tt)throw we(_,bt,tt);Ie(_,bt)}}catch(T){if(T instanceof O.ZR)throw T;Ie(_,"network-request-failed")}})).apply(this,arguments)}function Fr(_,f,m,w){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,h.Z)(function*(_,f,m,w,T={}){const N=yield zt(_,f,m,w,T);return"mfaPendingCredential"in N&&Ie(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Lr(_,f,m,w){const T=`${f}${m}?${w}`;return _.config.emulator?hn(_.config,T):`${_.config.apiScheme}://${T}`}class cs{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(_e(this.auth,"network-request-failed")),ls.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ds(_,f,m){const w={appName:_.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const T=_e(_,f,w);return T.customData._tokenResponse=m,T}function Zr(){return(Zr=(0,h.Z)(function*(_,f){return zt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function sr(_,f){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,h.Z)(function*(_,f){return zt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function li(_,f){return co.apply(this,arguments)}function co(){return(co=(0,h.Z)(function*(_,f){return zt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function wn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Ia(){return(Ia=(0,h.Z)(function*(_,f=!1){const m=(0,O.m9)(_),w=yield m.getIdToken(f),T=ot(w);te(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const N="object"==typeof T.firebase?T.firebase:void 0,z=null==N?void 0:N.sign_in_provider;return{claims:T,token:w,authTime:wn(Wt(T.auth_time)),issuedAtTime:wn(Wt(T.iat)),expirationTime:wn(Wt(T.exp)),signInProvider:z||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function Wt(_){return 1e3*Number(_)}function ot(_){const[f,m,w]=_.split(".");if(void 0===f||void 0===m||void 0===w)return Qe("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,O.tV)(m);return T?JSON.parse(T):(Qe("Failed to decode base64 JWT payload"),null)}catch(T){return Qe("Caught error parsing JWT payload as JSON",T),null}}function fr(_,f){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,h.Z)(function*(_,f,m=!1){if(m)return f;try{return yield f}catch(w){throw w instanceof O.ZR&&Ht(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function Ht({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class ho{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),w)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class Er{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=wn(this.lastLoginAt),this.creationTime=wn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pr(_){return ht.apply(this,arguments)}function ht(){return(ht=(0,h.Z)(function*(_){var f;const m=_.auth,w=yield _.getIdToken(),T=yield fr(_,li(m,{idToken:w}));te(null==T?void 0:T.users.length,m,"internal-error");const N=T.users[0];_._notifyReloadListener(N);const z=(null===(f=N.providerUserInfo)||void 0===f?void 0:f.length)?Te(N.providerUserInfo):[],oe=Je(_.providerData,z),bt=!!_.isAnonymous&&!(_.email&&N.passwordHash||(null==oe?void 0:oe.length)),at={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:oe,metadata:new Er(N.createdAt,N.lastLoginAt),isAnonymous:bt};Object.assign(_,at)})).apply(this,arguments)}function Ut(){return(Ut=(0,h.Z)(function*(_){const f=(0,O.m9)(_);yield pr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Je(_,f){return[..._.filter(w=>!f.some(T=>T.providerId===w.providerId)),...f]}function Te(_){return _.map(f=>{var{providerId:m}=f,w=(0,X._T)(f,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function ft(){return(ft=(0,h.Z)(function*(_,f){const m=yield ui(_,{},(0,h.Z)(function*(){const w=(0,O.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:N}=_.config,z=Lr(_,T,"/v1/token",`key=${N}`),oe=yield _._getAdditionalHeaders();return oe["Content-Type"]="application/x-www-form-urlencoded",xi.fetch()(z,{method:"POST",headers:oe,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class $t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){te(f.idToken,"internal-error"),te(void 0!==f.idToken,"internal-error"),te(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function Dt(_){const f=ot(_);return te(f,"internal-error"),te(void 0!==f.exp,"internal-error"),te(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var w=this;return(0,h.Z)(function*(){return te(!w.accessToken||w.refreshToken,f,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var w=this;return(0,h.Z)(function*(){const{accessToken:T,refreshToken:N,expiresIn:z}=yield function et(_,f){return ft.apply(this,arguments)}(f,m);w.updateTokensAndExpiration(T,N,Number(z))})()}updateTokensAndExpiration(f,m,w){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,m){const{refreshToken:w,accessToken:T,expirationTime:N}=m,z=new $t;return w&&(te("string"==typeof w,"internal-error",{appName:f}),z.refreshToken=w),T&&(te("string"==typeof T,"internal-error",{appName:f}),z.accessToken=T),N&&(te("number"==typeof N,"internal-error",{appName:f}),z.expirationTime=N),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new $t,this.toJSON())}_performRefresh(){return W("not implemented")}}function Vt(_,f){te("string"==typeof _||void 0===_,"internal-error",{appName:f})}class j{constructor(f){var{uid:m,auth:w,stsTokenManager:T}=f,N=(0,X._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ho(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Er(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,h.Z)(function*(){const w=yield fr(m,m.stsTokenManager.getToken(m.auth,f));return te(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(f){return function Ps(_){return Ia.apply(this,arguments)}(this,f)}reload(){return function br(_){return Ut.apply(this,arguments)}(this)}_assign(f){this!==f&&(te(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new j(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var w=this;return(0,h.Z)(function*(){let T=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),T=!0),m&&(yield pr(w)),yield w.auth._persistUserIfCurrent(w),T&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,h.Z)(function*(){const m=yield f.getIdToken();return yield fr(f,function dt(_,f){return Zr.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var w,T,N,z,oe,Ue,tt,bt;const at=null!==(w=m.displayName)&&void 0!==w?w:void 0,Rn=null!==(T=m.email)&&void 0!==T?T:void 0,ss=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,ac=null!==(z=m.photoURL)&&void 0!==z?z:void 0,Lu=null!==(oe=m.tenantId)&&void 0!==oe?oe:void 0,Vu=null!==(Ue=m._redirectEventId)&&void 0!==Ue?Ue:void 0,mf=null!==(tt=m.createdAt)&&void 0!==tt?tt:void 0,n_=null!==(bt=m.lastLoginAt)&&void 0!==bt?bt:void 0,{uid:la,emailVerified:yd,isAnonymous:_d,providerData:yf,stsTokenManager:vd}=m;te(la&&vd,f,"internal-error");const Hr=$t.fromJSON(this.name,vd);te("string"==typeof la,f,"internal-error"),Vt(at,f.name),Vt(Rn,f.name),te("boolean"==typeof yd,f,"internal-error"),te("boolean"==typeof _d,f,"internal-error"),Vt(ss,f.name),Vt(ac,f.name),Vt(Lu,f.name),Vt(Vu,f.name),Vt(mf,f.name),Vt(n_,f.name);const _f=new j({uid:la,auth:f,email:Rn,emailVerified:yd,displayName:at,isAnonymous:_d,photoURL:ac,phoneNumber:ss,tenantId:Lu,stsTokenManager:Hr,createdAt:mf,lastLoginAt:n_});return yf&&Array.isArray(yf)&&(_f.providerData=yf.map(gg=>Object.assign({},gg))),Vu&&(_f._redirectEventId=Vu),_f}static _fromIdTokenResponse(f,m,w=!1){return(0,h.Z)(function*(){const T=new $t;T.updateFromServerResponse(m);const N=new j({uid:m.localId,auth:f,stsTokenManager:T,isAnonymous:w});return yield pr(N),N})()}}const q=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,w){var T=this;return(0,h.Z)(function*(){T.storage[m]=w})()}_get(m){var w=this;return(0,h.Z)(function*(){const T=w.storage[m];return void 0===T?null:T})()}_remove(m){var w=this;return(0,h.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return _.type="NONE",_})();function de(_,f,m){return`firebase:${_}:${f}:${m}`}class Q{constructor(f,m,w){this.persistence=f,this.auth=m,this.userKey=w;const{config:T,name:N}=this.auth;this.fullUserKey=de(this.userKey,T.apiKey,N),this.fullPersistenceKey=de("persistence",T.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?j._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,h.Z)(function*(){if(m.persistence===f)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,w="authUser"){return(0,h.Z)(function*(){if(!m.length)return new Q(se(q),f,w);const T=(yield Promise.all(m.map(function(){var tt=(0,h.Z)(function*(bt){if(yield bt._isAvailable())return bt});return function(bt){return tt.apply(this,arguments)}}()))).filter(tt=>tt);let N=T[0]||se(q);const z=de(w,f.config.apiKey,f.name);let oe=null;for(const tt of m)try{const bt=yield tt._get(z);if(bt){const at=j._fromJSON(f,bt);tt!==N&&(oe=at),N=tt;break}}catch(bt){}const Ue=T.filter(tt=>tt._shouldAllowMigration);return N._shouldAllowMigration&&Ue.length?(N=Ue[0],oe&&(yield N._set(z,oe.toJSON())),yield Promise.all(m.map(function(){var tt=(0,h.Z)(function*(bt){if(bt!==N)try{yield bt._remove(z)}catch(at){}});return function(bt){return tt.apply(this,arguments)}}())),new Q(N,f,w)):new Q(N,f,w)})()}}function Be(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Kt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Et(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Nt(f))return"Blackberry";if(pn(f))return"Webos";if(Qt(f))return"Safari";if((f.includes("chrome/")||Dr(f))&&!f.includes("edge/"))return"Chrome";if(An(f))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Et(_=(0,O.z$)()){return/firefox\//i.test(_)}function Qt(_=(0,O.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Dr(_=(0,O.z$)()){return/crios\//i.test(_)}function Kt(_=(0,O.z$)()){return/iemobile/i.test(_)}function An(_=(0,O.z$)()){return/android/i.test(_)}function Nt(_=(0,O.z$)()){return/blackberry/i.test(_)}function pn(_=(0,O.z$)()){return/webos/i.test(_)}function ar(_=(0,O.z$)()){return/iphone|ipad|ipod/i.test(_)}function hs(_=(0,O.z$)()){return ar(_)||An(_)||pn(_)||Nt(_)||/windows phone/i.test(_)||Kt(_)}function Aa(_,f=[]){let m;switch(_){case"Browser":m=Be((0,O.z$)());break;case"Worker":m=`${Be((0,O.z$)())}-${_}`;break;default:m=_}const w=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ue.SDK_VERSION}/${w}`}class ci{constructor(f,m,w){this.app=f,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pt(this),this.idTokenSubscription=new Pt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(f,m){var w=this;return m&&(this._popupRedirectResolver=se(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var T,N;if(!w._deleted&&(w.persistenceManager=yield Q.create(w,f),!w._deleted)){if(null===(T=w._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(z){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(N=w.currentUser)||void 0===N?void 0:N.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m)}})()}initializeCurrentUser(f){var m=this;return(0,h.Z)(function*(){var w;let T=yield m.assertedPersistence.getCurrentUser();if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const N=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,z=null==T?void 0:T._redirectEventId,oe=yield m.tryRedirectSignIn(f);(!N||N===z)&&(null==oe?void 0:oe.user)&&(T=oe.user)}return T?T._redirectEventId?(te(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===T._redirectEventId?m.directlySetCurrentUser(T):m.reloadAndSetCurrentUserOrClear(T)):m.reloadAndSetCurrentUserOrClear(T):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var m=this;return(0,h.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(T){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,h.Z)(function*(){try{yield pr(f)}catch(w){if("auth/network-request-failed"!==w.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function wt(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,h.Z)(function*(){const w=f?(0,O.m9)(f):null;return w&&te(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(f){var m=this;return(0,h.Z)(function*(){if(!m._deleted)return f&&te(m.tenantId===f.tenantId,m,"tenant-id-mismatch"),m.queue((0,h.Z)(function*(){yield m.directlySetCurrentUser(f),m.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(se(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new O.LL("auth","Firebase",f())}onAuthStateChanged(f,m,w){return this.registerStateListener(this.authStateSubscription,f,m,w)}onIdTokenChanged(f,m,w){return this.registerStateListener(this.idTokenSubscription,f,m,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var w=this;return(0,h.Z)(function*(){const T=yield w.getOrInitRedirectPersistenceManager(m);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const w=f&&se(f)||m._popupRedirectResolver;te(w,m,"argument-error"),m.redirectPersistenceManager=yield Q.create(m,[se(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,h.Z)(function*(){var w,T;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===f?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,h.Z)(function*(){if(f===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,w,T){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),z=this._isInitialized?Promise.resolve():this._initializationPromise;return te(z,this,"internal-error"),z.then(()=>N(this.currentUser)),"function"==typeof m?f.addObserver(m,w,T):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Aa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var m;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return T&&(w["X-Firebase-Client"]=T),w})()}}function ke(_){return(0,O.m9)(_)}class Pt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,O.ne)(m=>this.observer=m)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gr(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Gn(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class un{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return W("not implemented")}_getIdTokenResponse(f){return W("not implemented")}_linkToIdToken(f,m){return W("not implemented")}_getReauthenticationResolver(f){return W("not implemented")}}function Pn(_,f){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,h.Z)(function*(_,f){return zt(_,"POST","/v1/accounts:resetPassword",tn(_,f))})).apply(this,arguments)}function xt(_,f){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,h.Z)(function*(_,f){return zt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Vs(_,f){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,h.Z)(function*(_,f){return zt(_,"POST","/v1/accounts:update",tn(_,f))})).apply(this,arguments)}function ur(){return(ur=(0,h.Z)(function*(_,f){return Fr(_,"POST","/v1/accounts:signInWithPassword",tn(_,f))})).apply(this,arguments)}function fs(_,f){return ps.apply(this,arguments)}function ps(){return(ps=(0,h.Z)(function*(_,f){return zt(_,"POST","/v1/accounts:sendOobCode",tn(_,f))})).apply(this,arguments)}function Yr(_,f){return ln.apply(this,arguments)}function ln(){return(ln=(0,h.Z)(function*(_,f){return fs(_,f)})).apply(this,arguments)}function au(_,f){return uu.apply(this,arguments)}function uu(){return(uu=(0,h.Z)(function*(_,f){return fs(_,f)})).apply(this,arguments)}function Ri(_,f){return di.apply(this,arguments)}function di(){return(di=(0,h.Z)(function*(_,f){return fs(_,f)})).apply(this,arguments)}function Fc(_,f){return Us.apply(this,arguments)}function Us(){return(Us=(0,h.Z)(function*(_,f){return fs(_,f)})).apply(this,arguments)}function Qr(){return(Qr=(0,h.Z)(function*(_,f){return Fr(_,"POST","/v1/accounts:signInWithEmailLink",tn(_,f))})).apply(this,arguments)}function Lc(){return(Lc=(0,h.Z)(function*(_,f){return Fr(_,"POST","/v1/accounts:signInWithEmailLink",tn(_,f))})).apply(this,arguments)}class cu extends un{constructor(f,m,w,T=null){super("password",w),this._email=f,this._password=m,this._tenantId=T}static _fromEmailAndPassword(f,m){return new cu(f,m,"password")}static _fromEmailAndCode(f,m,w=null){return new cu(f,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,h.Z)(function*(){switch(m.signInMethod){case"password":return function Bs(_,f){return ur.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function lu(_,f){return Qr.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Ie(f,"internal-error")}})()}_linkToIdToken(f,m){var w=this;return(0,h.Z)(function*(){switch(w.signInMethod){case"password":return xt(f,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Fh(_,f){return Lc.apply(this,arguments)}(f,{idToken:m,email:w._email,oobCode:w._password});default:Ie(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function qn(_,f){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,h.Z)(function*(_,f){return Fr(_,"POST","/v1/accounts:signInWithIdp",tn(_,f))})).apply(this,arguments)}class gs extends un{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new gs(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Ie("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:T}=m,N=(0,X._T)(m,["providerId","signInMethod"]);if(!w||!T)return null;const z=new gs(w,T);return z.idToken=N.idToken||void 0,z.accessToken=N.accessToken||void 0,z.secret=N.secret,z.nonce=N.nonce,z.pendingToken=N.pendingToken||null,z}_getIdTokenResponse(f){return qn(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,qn(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,qn(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,O.xO)(m)}return f}}function Gp(_,f){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,h.Z)(function*(_,f){return zt(_,"POST","/v1/accounts:sendVerificationCode",tn(_,f))})).apply(this,arguments)}function js(){return(js=(0,h.Z)(function*(_,f){return Fr(_,"POST","/v1/accounts:signInWithPhoneNumber",tn(_,f))})).apply(this,arguments)}function Bc(){return(Bc=(0,h.Z)(function*(_,f){const m=yield Fr(_,"POST","/v1/accounts:signInWithPhoneNumber",tn(_,f));if(m.temporaryProof)throw ds(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const zp={USER_NOT_FOUND:"user-not-found"};function Uc(){return(Uc=(0,h.Z)(function*(_,f){return Fr(_,"POST","/v1/accounts:signInWithPhoneNumber",tn(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),zp)})).apply(this,arguments)}class Go extends un{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Go({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Go({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function _l(_,f){return js.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function qp(_,f){return Bc.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Lh(_,f){return Uc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:w,verificationCode:T}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:w,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:w,phoneNumber:T,temporaryProof:N}=f;return w||m||T||N?new Go({verificationId:m,verificationCode:w,phoneNumber:T,temporaryProof:N}):null}}class po{constructor(f){var m,w,T,N,z,oe;const Ue=(0,O.zd)((0,O.pd)(f)),tt=null!==(m=Ue.apiKey)&&void 0!==m?m:null,bt=null!==(w=Ue.oobCode)&&void 0!==w?w:null,at=function Sy(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ue.mode)&&void 0!==T?T:null);te(tt&&bt&&at,"argument-error"),this.apiKey=tt,this.operation=at,this.code=bt,this.continueUrl=null!==(N=Ue.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(z=Ue.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(oe=Ue.tenantId)&&void 0!==oe?oe:null}static parseLink(f){const m=function du(_){const f=(0,O.zd)((0,O.pd)(_)).link,m=f?(0,O.zd)((0,O.pd)(f)).deep_link_id:null,w=(0,O.zd)((0,O.pd)(_)).deep_link_id;return(w?(0,O.zd)((0,O.pd)(w)).link:null)||w||m||f||_}(f);try{return new po(m)}catch(w){return null}}}let vl=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,w){return cu._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const T=po.parseLink(w);return te(T,"argument-error"),cu._fromEmailAndCode(m,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class $s{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Jr extends $s{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class qo extends Jr{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return te("providerId"in m&&"signInMethod"in m,"argument-error"),gs._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return te(f.idToken||f.accessToken,"argument-error"),gs._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return qo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return qo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:T,pendingToken:N,nonce:z,providerId:oe}=f;if(!w&&!T&&!m&&!N||!oe)return null;try{return new qo(oe)._credential({idToken:m,accessToken:w,nonce:z,pendingToken:N})}catch(Ue){return null}}}let go=(()=>{class _ extends Jr{constructor(){super("facebook.com")}static credential(m){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(w){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),xa=(()=>{class _ extends Jr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:T}=m;if(!w&&!T)return null;try{return _.credential(w,T)}catch(N){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),jc=(()=>{class _ extends Jr{constructor(){super("github.com")}static credential(m){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(w){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class mr extends un{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return qn(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,qn(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,qn(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:T,pendingToken:N}=m;return w&&T&&N&&w===T?new mr(w,N):null}static _create(f,m){return new mr(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hi extends $s{constructor(f){te(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return hi.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return hi.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=mr.fromJSON(f);return te(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:w}=f;if(!m||!w)return null;try{return mr._create(w,m)}catch(T){return null}}}let hu=(()=>{class _ extends Jr{constructor(){super("twitter.com")}static credential(m,w){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:T}=m;if(!w||!T)return null;try{return _.credential(w,T)}catch(N){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function fu(_,f){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,h.Z)(function*(_,f){return Fr(_,"POST","/v1/accounts:signUp",tn(_,f))})).apply(this,arguments)}class yr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,w,T=!1){return(0,h.Z)(function*(){const N=yield j._fromIdTokenResponse(f,w,T),z=Bh(w);return new yr({user:N,providerId:z,_tokenResponse:w,operationType:m})})()}static _forOperation(f,m,w){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const T=Bh(w);return new yr({user:f,providerId:T,_tokenResponse:w,operationType:m})})()}}function Bh(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function $c(){return($c=(0,h.Z)(function*(_){var f;const m=ke(_);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new yr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield fu(m,{returnSecureToken:!0}),T=yield yr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class gu extends O.ZR{constructor(f,m,w,T){var N;super(m.code,m.message),this.operationType=w,this.user=T,Object.setPrototypeOf(this,gu.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,m,w,T){return new gu(f,m,w,T)}}function mu(_,f,m,w){return("reauthenticate"===f?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?gu._fromErrorAndOperation(_,N,f,w):N})}function ms(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function wl(){return(wl=(0,h.Z)(function*(_,f){const m=(0,O.m9)(_);yield Gs(!0,m,f);const{providerUserInfo:w}=yield sr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),T=ms(w||[]);return m.providerData=m.providerData.filter(N=>T.has(N.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function yn(_,f){return zo.apply(this,arguments)}function zo(){return(zo=(0,h.Z)(function*(_,f,m=!1){const w=yield fr(_,f._linkToIdToken(_.auth,yield _.getIdToken()),m);return yr._forOperation(_,"link",w)})).apply(this,arguments)}function Gs(_,f,m){return cn.apply(this,arguments)}function cn(){return(cn=(0,h.Z)(function*(_,f,m){yield pr(f);const T=!1===_?"provider-already-linked":"no-such-provider";te(ms(f.providerData).has(m)===_,f.auth,T)})).apply(this,arguments)}function Hc(_,f){return mo.apply(this,arguments)}function mo(){return(mo=(0,h.Z)(function*(_,f,m=!1){const{auth:w}=_,T="reauthenticate";try{const N=yield fr(_,mu(w,T,f,_),m);te(N.idToken,w,"internal-error");const z=ot(N.idToken);te(z,w,"internal-error");const{sub:oe}=z;return te(_.uid===oe,w,"user-mismatch"),yr._forOperation(_,T,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&Ie(w,"user-mismatch"),N}})).apply(this,arguments)}function yo(_,f){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,h.Z)(function*(_,f,m=!1){const w="signIn",T=yield mu(_,w,f),N=yield yr._fromIdTokenResponse(_,w,T);return m||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Fn(_,f){return Na.apply(this,arguments)}function Na(){return(Na=(0,h.Z)(function*(_,f){return yo(ke(_),f)})).apply(this,arguments)}function Ni(_,f){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,h.Z)(function*(_,f){const m=(0,O.m9)(_);return yield Gs(!1,m,f.providerId),yn(m,f)})).apply(this,arguments)}function qs(_,f){return ys.apply(this,arguments)}function ys(){return(ys=(0,h.Z)(function*(_,f){return Hc((0,O.m9)(_),f)})).apply(this,arguments)}function yu(_,f){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,h.Z)(function*(_,f){return Fr(_,"POST","/v1/accounts:signInWithCustomToken",tn(_,f))})).apply(this,arguments)}function Ws(){return(Ws=(0,h.Z)(function*(_,f){const m=ke(_),w=yield yu(m,{token:f,returnSecureToken:!0}),T=yield yr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class pt{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?_u._fromServerResponse(f,m):Ie(f,"internal-error")}}class _u extends pt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new _u(m)}}function Oa(_,f,m){var w;te((null===(w=m.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),te(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(te(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(te(m.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function wu(){return(wu=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_),T={requestType:"PASSWORD_RESET",email:f};m&&Oa(w,T,m),yield au(w,T)})).apply(this,arguments)}function El(){return(El=(0,h.Z)(function*(_,f,m){yield Pn((0,O.m9)(_),{oobCode:f,newPassword:m})})).apply(this,arguments)}function De(){return(De=(0,h.Z)(function*(_,f){yield Vs((0,O.m9)(_),{oobCode:f})})).apply(this,arguments)}function Bt(_,f){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,h.Z)(function*(_,f){const m=(0,O.m9)(_),w=yield Pn(m,{oobCode:f}),T=w.requestType;switch(te(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(w.mfaInfo,m,"internal-error");default:te(w.email,m,"internal-error")}let N=null;return w.mfaInfo&&(N=pt._fromServerResponse(ke(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:N},operation:T}})).apply(this,arguments)}function Wo(){return(Wo=(0,h.Z)(function*(_,f){const{data:m}=yield Bt((0,O.m9)(_),f);return m.email})).apply(this,arguments)}function ei(){return(ei=(0,h.Z)(function*(_,f,m){const w=ke(_),T=yield fu(w,{returnSecureToken:!0,email:f,password:m}),N=yield yr._fromIdTokenResponse(w,"signIn",T);return yield w._updateCurrentUser(N.user),N})).apply(this,arguments)}function Gc(){return(Gc=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_),T={requestType:"EMAIL_SIGNIN",email:f};te(m.handleCodeInApp,w,"argument-error"),m&&Oa(w,T,m),yield Ri(w,T)})).apply(this,arguments)}function Ks(){return(Ks=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_),T=vl.credentialWithLink(f,m||Tt());return te(T._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Fn(w,T)})).apply(this,arguments)}function _r(_,f){return fi.apply(this,arguments)}function fi(){return(fi=(0,h.Z)(function*(_,f){return zt(_,"POST","/v1/accounts:createAuthUri",tn(_,f))})).apply(this,arguments)}function Zs(){return(Zs=(0,h.Z)(function*(_,f){const w={identifier:f,continueUri:en()?Tt():"http://localhost"},{signinMethods:T}=yield _r((0,O.m9)(_),w);return T||[]})).apply(this,arguments)}function Al(){return(Al=(0,h.Z)(function*(_,f){const m=(0,O.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Oa(m.auth,T,f);const{email:N}=yield Yr(m.auth,T);N!==_.email&&(yield _.reload())})).apply(this,arguments)}function Iu(){return(Iu=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};m&&Oa(w.auth,N,m);const{email:z}=yield Fc(w.auth,N);z!==_.email&&(yield _.reload())})).apply(this,arguments)}function Sl(_,f){return ka.apply(this,arguments)}function ka(){return(ka=(0,h.Z)(function*(_,f){return zt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ml(){return(Ml=(0,h.Z)(function*(_,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const w=(0,O.m9)(_),N={idToken:yield w.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},z=yield fr(w,Sl(w.auth,N));w.displayName=z.displayName||null,w.photoURL=z.photoUrl||null;const oe=w.providerData.find(({providerId:Ue})=>"password"===Ue);oe&&(oe.displayName=w.displayName,oe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(z)})).apply(this,arguments)}function Rl(_,f,m){return _o.apply(this,arguments)}function _o(){return(_o=(0,h.Z)(function*(_,f,m){const{auth:w}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(N.email=f),m&&(N.password=m);const z=yield fr(_,xt(w,N));yield _._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class vo{constructor(f,m,w={}){this.isNewUser=f,this.providerId=m,this.profile=w}}class Wc extends vo{constructor(f,m,w,T){super(f,m,w),this.username=T}}class Kc extends vo{constructor(f,m){super(f,"facebook.com",m)}}class wo extends Wc{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Ys extends vo{constructor(f,m){super(f,"google.com",m)}}class Nl extends Wc{constructor(f,m,w){super(f,"twitter.com",m,w)}}function Ar(_){const{user:f,_tokenResponse:m}=_;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function zc(_){var f,m;if(!_)return null;const{providerId:w}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&(null==_?void 0:_.idToken)){const z=null===(m=null===(f=ot(_.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(z)return new vo(N,"anonymous"!==z&&"custom"!==z?z:null)}if(!w)return null;switch(w){case"facebook.com":return new Kc(N,T);case"github.com":return new wo(N,T);case"google.com":return new Ys(N,T);case"twitter.com":return new Nl(N,T,_.screenName||null);case"custom":case"anonymous":return new vo(N,null);default:return new vo(N,w,T)}}(m)}class _s{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new _s("enroll",f)}static _fromMfaPendingCredential(f){return new _s("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,w;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return _s._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(w=f.multiFactorSession)||void 0===w?void 0:w.idToken)return _s._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Pa{constructor(f,m,w){this.session=f,this.hints=m,this.signInResolver=w}static _fromError(f,m){const w=ke(f),T=m.customData._serverResponse,N=(T.mfaInfo||[]).map(oe=>pt._fromServerResponse(w,oe));te(T.mfaPendingCredential,w,"internal-error");const z=_s._fromMfaPendingCredential(T.mfaPendingCredential);return new Pa(z,N,function(){var oe=(0,h.Z)(function*(Ue){const tt=yield Ue._process(w,z);delete T.mfaInfo,delete T.mfaPendingCredential;const bt=Object.assign(Object.assign({},T),{idToken:tt.idToken,refreshToken:tt.refreshToken});switch(m.operationType){case"signIn":const at=yield yr._fromIdTokenResponse(w,m.operationType,bt);return yield w._updateCurrentUser(at.user),at;case"reauthenticate":return te(m.user,w,"internal-error"),yr._forOperation(m.user,m.operationType,bt);default:Ie(w,"internal-error")}});return function(Ue){return oe.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,h.Z)(function*(){return m.signInResolver(f)})()}}function zn(_,f){return zt(_,"POST","/v2/accounts/mfaEnrollment:start",tn(_,f))}class vs{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>pt._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new vs(f)}getSession(){var f=this;return(0,h.Z)(function*(){return _s._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var w=this;return(0,h.Z)(function*(){const T=f,N=yield w.getSession(),z=yield fr(w.user,T._process(w.user.auth,N,m));return yield w.user._updateTokensIfNecessary(z),w.user.reload()})()}unenroll(f){var m=this;return(0,h.Z)(function*(){const w="string"==typeof f?f:f.uid,T=yield m.user.getIdToken(),N=yield fr(m.user,function Kp(_,f){return zt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",tn(_,f))}(m.user.auth,{idToken:T,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:z})=>z!==w),yield m.user._updateTokensIfNecessary(N);try{yield m.user.reload()}catch(z){if("auth/user-token-expired"!==z.code)throw z}})()}}const Yo=new WeakMap,Pl="__sak";class Eo{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Pl,"1"),this.storage.removeItem(Pl),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vn=(()=>{class _ extends Eo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qc(){const _=(0,O.z$)();return Qt(_)||ar(_)}()&&function Qn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=hs(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const T=this.storage.getItem(w),N=this.localCache[w];T!==N&&m(w,N,T)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((oe,Ue,tt)=>{this.notifyListeners(oe,tt)});const T=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const oe=this.storage.getItem(T);if(m.newValue!==oe)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!w)return}const N=()=>{const oe=this.storage.getItem(T);!w&&this.localCache[T]===oe||this.notifyListeners(T,oe)},z=this.storage.getItem(T);!function Ta(){return(0,O.w1)()&&10===document.documentMode}()||z===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,w){this.localCache[m]=w;const T=this.listeners[m];if(T)for(const N of Array.from(T))N(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var T=()=>super._set,N=this;return(0,h.Z)(function*(){yield T().call(N,m,w),N.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,T=this;return(0,h.Z)(function*(){const N=yield w().call(T,m);return T.localCache[m]=JSON.stringify(N),N})()}_remove(m){var w=()=>super._remove,T=this;return(0,h.Z)(function*(){yield w().call(T,m),delete T.localCache[m]})()}}return _.type="LOCAL",_})(),lr=(()=>{class _ extends Eo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return _.type="SESSION",_})();let Vr=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(N=>N.isListeningto(m));if(w)return w;const T=new _(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,h.Z)(function*(){const T=m,{eventId:N,eventType:z,data:oe}=T.data,Ue=w.handlersMap[z];if(!(null==Ue?void 0:Ue.size))return;T.ports[0].postMessage({status:"ack",eventId:N,eventType:z});const tt=Array.from(Ue).map(function(){var at=(0,h.Z)(function*(Rn){return Rn(T.origin,oe)});return function(Rn){return at.apply(this,arguments)}}()),bt=yield function ti(_){return Promise.all(_.map(function(){var f=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return f.apply(this,arguments)}}()))}(tt);T.ports[0].postMessage({status:"done",eventId:N,eventType:z,response:bt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Qo(_="",f=10){let m="";for(let w=0;w<f;w++)m+=Math.floor(10*Math.random());return _+m}class Jc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,w=50){var T=this;return(0,h.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let z,oe;return new Promise((Ue,tt)=>{const bt=Qo("",20);N.port1.start();const at=setTimeout(()=>{tt(new Error("unsupported_event"))},w);oe={messageChannel:N,onMessage(Rn){const ss=Rn;if(ss.data.eventId===bt)switch(ss.data.status){case"ack":clearTimeout(at),z=setTimeout(()=>{tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Ue(ss.data.response);break;default:clearTimeout(at),clearTimeout(z),tt(new Error("invalid_response"))}}},T.handlers.add(oe),N.port1.addEventListener("message",oe.onMessage),T.target.postMessage({eventType:f,eventId:bt,data:m},[N.port2])}).finally(()=>{oe&&T.removeMessageHandler(oe)})})()}}function mn(){return window}function ki(){return void 0!==mn().WorkerGlobalScope&&"function"==typeof mn().importScripts}function pi(){return(pi=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Fl="firebaseLocalStorageDb",bo="firebaseLocalStorage",Wn="fbase_key";class ws{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Jo(_,f){return _.transaction([bo],f?"readwrite":"readonly").objectStore(bo)}function Js(){const _=indexedDB.open(Fl,1);return new Promise((f,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(bo,{keyPath:Wn})}catch(T){m(T)}}),_.addEventListener("success",(0,h.Z)(function*(){const w=_.result;w.objectStoreNames.contains(bo)?f(w):(w.close(),yield function gi(){const _=indexedDB.deleteDatabase(Fl);return new ws(_).toPromise()}(),f(yield Js()))}))})}function mi(_,f,m){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,h.Z)(function*(_,f,m){const w=Jo(_,!0).put({[Wn]:f,value:m});return new ws(w).toPromise()})).apply(this,arguments)}function Xs(){return(Xs=(0,h.Z)(function*(_,f){const m=Jo(_,!1).get(f),w=yield new ws(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Ji(_,f){const m=Jo(_,!0).delete(f);return new ws(m).toPromise()}const Pi=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield Js()),m.db})()}_withRetries(m){var w=this;return(0,h.Z)(function*(){let T=0;for(;;)try{const N=yield w._openDb();return yield m(N)}catch(N){if(T++>3)throw N;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return ki()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=Vr._getInstance(function Xc(){return ki()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,h.Z)(function*(T,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(T,N){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,h.Z)(function*(T,N){return["keyChanged"]});return function(T,N){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var w,T;if(m.activeServiceWorker=yield function Au(){return pi.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Jc(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);!N||(null===(w=N[0])||void 0===w?void 0:w.fulfilled)&&(null===(T=N[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,h.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Ot(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Js();return yield mi(m,Pl,"1"),yield Ji(m,Pl),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,h.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var T=this;return(0,h.Z)(function*(){return T._withPendingWrite((0,h.Z)(function*(){return yield T._withRetries(N=>mi(N,m,w)),T.localCache[m]=w,T.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,h.Z)(function*(){const T=yield w._withRetries(N=>function Vl(_,f){return Xs.apply(this,arguments)}(N,m));return w.localCache[m]=T,T})()}_remove(m){var w=this;return(0,h.Z)(function*(){return w._withPendingWrite((0,h.Z)(function*(){return yield w._withRetries(T=>Ji(T,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const w=yield m._withRetries(z=>{const oe=Jo(z,!1).getAll();return new ws(oe).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const T=[],N=new Set;for(const{fbase_key:z,value:oe}of w)N.add(z),JSON.stringify(m.localCache[z])!==JSON.stringify(oe)&&(m.notifyListeners(z,oe),T.push(z));for(const z of Object.keys(m.localCache))m.localCache[z]&&!N.has(z)&&(m.notifyListeners(z,null),T.push(z));return T})()}notifyListeners(m,w){this.localCache[m]=w;const T=this.listeners[m];if(T)for(const N of Array.from(T))N(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Xo(_,f){return zt(_,"POST","/v2/accounts/mfaSignIn:start",tn(_,f))}function Fi(){return(Fi=(0,h.Z)(function*(_){return(yield zt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Bn(_){return new Promise((f,m)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=f,w.onerror=T=>{const N=_e("internal-error");N.customData=T,m(N)},w.type="text/javascript",w.charset="UTF-8",function td(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(w)})}function Co(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Sr=1e12;class Xi{constructor(f){this.auth=f,this.counter=Sr,this._widgets=new Map}render(f,m){const w=this.counter;return this._widgets.set(w,new es(f,this.auth.name,m||{})),this.counter++,w}reset(f){var m;const w=f||Sr;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Sr))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,h.Z)(function*(){var w;return null===(w=m._widgets.get(f||Sr))||void 0===w||w.execute(),""})()}}class es{constructor(f,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;te(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Cn(_){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const eo=Co("rcb"),nd=new dn(3e4,6e4);class Yp{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!mn().grecaptcha}load(f,m=""){return te(function Qp(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(mn().grecaptcha):new Promise((w,T)=>{const N=mn().setTimeout(()=>{T(_e(f,"network-request-failed"))},nd.get());mn()[eo]=()=>{mn().clearTimeout(N),delete mn()[eo];const oe=mn().grecaptcha;if(!oe)return void T(_e(f,"internal-error"));const Ue=oe.render;oe.render=(tt,bt)=>{const at=Ue(tt,bt);return this.counter++,at},this.hostLanguage=m,w(oe)},Bn(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:eo,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),T(_e(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!mn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Jp{load(f){return(0,h.Z)(function*(){return new Xi(f)})()}clearedOneInstance(){}}const to="recaptcha",Ur={theme:"light",type:"image"};class Xp{constructor(f,m=Object.assign({},Ur),w){this.parameters=m,this.type=to,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ke(w),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;te(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Jp:new Yp,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(m)||new Promise(N=>{const z=oe=>{!oe||(f.tokenChangeListeners.delete(z),N(oe))};f.tokenChangeListeners.add(z),f.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof f)f(m);else if("string"==typeof f){const w=mn()[f];"function"==typeof w&&w(m)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){te(en()&&!ki(),f.auth,"internal-error"),yield function no(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Br(_){return Fi.apply(this,arguments)}(f.auth);te(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Es{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Go._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function In(){return(In=(0,h.Z)(function*(_,f,m){const w=ke(_),T=yield Mr(w,f,(0,O.m9)(m));return new Es(T,N=>Fn(w,N))})).apply(this,arguments)}function na(){return(na=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_);yield Gs(!1,w,"phone");const T=yield Mr(w.auth,f,(0,O.m9)(m));return new Es(T,N=>Ni(w,N))})).apply(this,arguments)}function jl(){return(jl=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_),T=yield Mr(w.auth,f,(0,O.m9)(m));return new Es(T,N=>qs(w,N))})).apply(this,arguments)}function Mr(_,f,m){return yi.apply(this,arguments)}function yi(){return(yi=(0,h.Z)(function*(_,f,m){var w;const T=yield m.verify();try{let N;if(te("string"==typeof T,_,"argument-error"),te(m.type===to,_,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const z=N.session;if("phoneNumber"in N)return te("enroll"===z.type,_,"internal-error"),(yield zn(_,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{te("signin"===z.type,_,"internal-error");const oe=(null===(w=N.multiFactorHint)||void 0===w?void 0:w.uid)||N.multiFactorUid;return te(oe,_,"missing-multi-factor-info"),(yield Xo(_,{mfaPendingCredential:z.credential,mfaEnrollmentId:oe,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield Gp(_,{phoneNumber:N.phoneNumber,recaptchaToken:T});return z}}finally{m._reset()}})).apply(this,arguments)}function bs(){return(bs=(0,h.Z)(function*(_,f){yield yn((0,O.m9)(_),f)})).apply(this,arguments)}let Vi=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=ke(m)}verifyPhoneNumber(m,w){return Mr(this.auth,m,(0,O.m9)(w))}static credential(m,w){return Go._fromVerification(m,w)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:T}=m;return w&&T?Go._fromTokenResponse(w,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function ts(_,f){return f?se(f):(te(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Fa extends un{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return qn(f,this._buildIdpRequest())}_linkToIdToken(f,m){return qn(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return qn(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Hl(_){return yo(_.auth,new Fa(_),_.bypassAuthState)}function Gl(_){const{auth:f,user:m}=_;return te(m,f,"internal-error"),Hc(m,new Fa(_),_.bypassAuthState)}function Ft(_){return ql.apply(this,arguments)}function ql(){return(ql=(0,h.Z)(function*(_){const{auth:f,user:m}=_;return te(m,f,"internal-error"),yn(m,new Fa(_),_.bypassAuthState)})).apply(this,arguments)}class Jn{constructor(f,m,w,T,N=!1){this.auth=f,this.resolver=w,this.user=T,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,h.Z)(function*(w,T){f.pendingPromise={resolve:w,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(w,T){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,h.Z)(function*(){const{urlResponse:w,sessionId:T,postBody:N,tenantId:z,error:oe,type:Ue}=f;if(oe)return void m.reject(oe);const tt={auth:m.auth,requestUri:w,sessionId:T,tenantId:z||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ue)(tt))}catch(bt){m.reject(bt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Hl;case"linkViaPopup":case"linkViaRedirect":return Ft;case"reauthViaPopup":case"reauthViaRedirect":return Gl;default:Ie(this.auth,"internal-error")}}resolve(f){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zl=new dn(2e3,1e4);function rd(){return(rd=(0,h.Z)(function*(_,f,m){const w=ke(_);qe(_,f,$s);const T=ts(w,m);return new rs(w,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function Mu(){return(Mu=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_);qe(w.auth,f,$s);const T=ts(w.auth,m);return new rs(w.auth,"reauthViaPopup",f,T,w).executeNotNull()})).apply(this,arguments)}function xu(){return(xu=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_);qe(w.auth,f,$s);const T=ts(w.auth,m);return new rs(w.auth,"linkViaPopup",f,T,w).executeNotNull()})).apply(this,arguments)}let rs=(()=>{class _ extends Jn{constructor(m,w,T,N,z){super(m,w,N,z),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const w=yield m.execute();return te(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,h.Z)(function*(){ie(1===m.filter.length,"Popup operations only handle one event");const w=Qo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(_e(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,T;this.pollId=(null===(T=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,zl.get())};m()}}return _.currentPopupAction=null,_})();const is=new Map;class Xn extends Jn{constructor(f,m,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,h.Z)(function*(){let w=is.get(m.auth._key());if(!w){try{const N=(yield function _i(_,f){return Wl.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;w=()=>Promise.resolve(N)}catch(T){w=()=>Promise.reject(T)}is.set(m.auth._key(),w)}return m.bypassAuthState||is.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,w=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(w,f);if("unknown"!==f.type){if(f.eventId){const T=yield w.auth._redirectUserForId(f.eventId);if(T)return w.user=T,m().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Wl(){return(Wl=(0,h.Z)(function*(_,f){const m=I(f),w=C(_);if(!(yield w._isAvailable()))return!1;const T="true"===(yield w._get(m));return yield w._remove(m),T})).apply(this,arguments)}function To(_,f){return ra.apply(this,arguments)}function ra(){return(ra=(0,h.Z)(function*(_,f){return C(_)._set(I(f),"true")})).apply(this,arguments)}function C(_){return se(_._redirectPersistence)}function I(_){return de("pendingRedirect",_.config.apiKey,_.name)}function K(){return(K=(0,h.Z)(function*(_,f,m){const w=ke(_);qe(_,f,$s);const T=ts(w,m);return yield To(T,w),T._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function Re(){return(Re=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_);qe(w.auth,f,$s);const T=ts(w.auth,m);yield To(T,w.auth);const N=yield Ao(w);return T._openRedirect(w.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function kt(){return(kt=(0,h.Z)(function*(_,f,m){const w=(0,O.m9)(_);qe(w.auth,f,$s);const T=ts(w.auth,m);yield Gs(!1,w,f.providerId),yield To(T,w.auth);const N=yield Ao(w);return T._openRedirect(w.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function Kn(){return(Kn=(0,h.Z)(function*(_,f){return yield ke(_)._initializationPromise,xn(_,f,!1)})).apply(this,arguments)}function xn(_,f){return ia.apply(this,arguments)}function ia(){return(ia=(0,h.Z)(function*(_,f,m=!1){const w=ke(_),T=ts(w,f),z=yield new Xn(w,T,m).execute();return z&&!m&&(delete z.user._redirectEventId,yield w._persistUserIfCurrent(z.user),yield w._setRedirectUser(null,f)),z})).apply(this,arguments)}function Ao(_){return jr.apply(this,arguments)}function jr(){return(jr=(0,h.Z)(function*(_){const f=Qo(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Bi{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(m=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Kl(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sd(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var w;if(f.error&&!sd(f)){const T=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(_e(this.auth,T))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const w=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(So(f))}saveEventToCache(f){this.cachedEventUids.add(So(f)),this.lastProcessedEventTime=Date.now()}}function So(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function sd({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Zl(_){return La.apply(this,arguments)}function La(){return(La=(0,h.Z)(function*(_,f={}){return zt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const tg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xy=/^https?/;function Ds(){return(Ds=(0,h.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Zl(_);for(const m of f)try{if(Yl(m))return}catch(w){}Ie(_,"unauthorized-domain")})).apply(this,arguments)}function Yl(_){const f=Tt(),{protocol:m,hostname:w}=new URL(f);if(_.startsWith("chrome-extension://")){const z=new URL(_);return""===z.hostname&&""===w?"chrome-extension:"===m&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&z.hostname===w}if(!xy.test(m))return!1;if(tg.test(_))return w===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(w)}const Ny=new dn(3e4,6e4);function Oy(){const _=mn().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let od=null;function ky(_){return od=od||function ng(_){return new Promise((f,m)=>{var w,T,N;function z(){Oy(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Oy(),m(_e(_,"network-request-failed"))},timeout:Ny.get()})}if(null===(T=null===(w=mn().gapi)||void 0===w?void 0:w.iframes)||void 0===T?void 0:T.Iframe)f(gapi.iframes.getContext());else{if(!(null===(N=mn().gapi)||void 0===N?void 0:N.load)){const oe=Co("iframefcb");return mn()[oe]=()=>{gapi.load?z():m(_e(_,"network-request-failed"))},Bn(`https://apis.google.com/js/api.js?onload=${oe}`).catch(Ue=>m(Ue))}z()}}).catch(f=>{throw od=null,f})}(_),od}const Hh=new dn(5e3,15e3),xo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ad=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Va(_){const f=_.config;te(f.authDomain,_,"auth-domain-config-required");const m=f.emulator?hn(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:_.name,v:ue.SDK_VERSION},T=ad.get(_.config.apiHost);T&&(w.eid=T);const N=_._getFrameworks();return N.length&&(w.fw=N.join(",")),`${m}?${(0,O.xO)(w).slice(1)}`}function sa(){return sa=(0,h.Z)(function*(_){const f=yield ky(_),m=mn().gapi;return te(m,_,"internal-error"),f.open({where:document.body,url:Va(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xo,dontclear:!0},w=>new Promise(function(){var T=(0,h.Z)(function*(N,z){yield w.restyle({setHideOnLeave:!1});const oe=_e(_,"network-request-failed"),Ue=mn().setTimeout(()=>{z(oe)},Hh.get());function tt(){mn().clearTimeout(Ue),N(w)}w.ping(tt).then(tt,()=>{z(oe)})});return function(N,z){return T.apply(this,arguments)}}()))}),sa.apply(this,arguments)}const Fy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cd{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Wh(_,f,m,w,T,N){te(_.config.authDomain,_,"auth-domain-config-required"),te(_.config.apiKey,_,"invalid-api-key");const z={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:w,v:ue.SDK_VERSION,eventId:T};if(f instanceof $s){f.setDefaultLanguage(_.languageCode),z.providerId=f.providerId||"",(0,O.xb)(f.getCustomParameters())||(z.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ue,tt]of Object.entries(N||{}))z[Ue]=tt}if(f instanceof Jr){const Ue=f.getScopes().filter(tt=>""!==tt);Ue.length>0&&(z.scopes=Ue.join(","))}_.tenantId&&(z.tid=_.tenantId);const oe=z;for(const Ue of Object.keys(oe))void 0===oe[Ue]&&delete oe[Ue];return`${function Vy({config:_}){return _.emulator?hn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,O.xO)(oe).slice(1)}`}const io="webStorageSupport";class Kh extends class rg{constructor(f){this.factorId=f}_process(f,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,w);case"signin":return this._finalizeSignIn(f,m.credential);default:return W("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Kh(f)}_finalizeEnroll(f,m,w){return function Zc(_,f){return zt(_,"POST","/v2/accounts/mfaEnrollment:finalize",tn(_,f))}(f,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function ea(_,f){return zt(_,"POST","/v2/accounts/mfaSignIn:finalize",tn(_,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let By=(()=>{class _{constructor(){}static assertion(m){return Kh._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var Uy="@firebase/auth",Zh="0.19.11";class ig{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(w=>{var T;f((null===(T=w)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function so(){return window}function ku(){return(ku=(0,h.Z)(function*(_,f,m){var w;const{BuildInfo:T}=so();ie(f.sessionId,"AuthEvent did not contain a session ID");const N=yield Ba(f.sessionId),z={};return ar()?z.ibi=T.packageName:An()?z.apn=T.packageName:Ie(_,"operation-not-supported-in-this-environment"),T.displayName&&(z.appDisplayName=T.displayName),z.sessionId=N,Wh(_,m,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,z)})).apply(this,arguments)}function Ui(){return(Ui=(0,h.Z)(function*(_){const{BuildInfo:f}=so(),m={};ar()?m.iosBundleId=f.packageName:An()?m.androidPackageName=f.packageName:Ie(_,"operation-not-supported-in-this-environment"),yield Zl(_,m)})).apply(this,arguments)}function hd(){return(hd=(0,h.Z)(function*(_,f,m){const{cordova:w}=so();let T=()=>{};try{yield new Promise((N,z)=>{let oe=null;function Ue(){var at;N();const Rn=null===(at=w.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof Rn&&Rn(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function tt(){oe||(oe=window.setTimeout(()=>{z(_e(_,"redirect-cancelled-by-user"))},2e3))}function bt(){"visible"===(null==document?void 0:document.visibilityState)&&tt()}f.addPassiveListener(Ue),document.addEventListener("resume",tt,!1),An()&&document.addEventListener("visibilitychange",bt,!1),T=()=>{f.removePassiveListener(Ue),document.removeEventListener("resume",tt,!1),document.removeEventListener("visibilitychange",bt,!1),oe&&window.clearTimeout(oe)}})}finally{T()}})).apply(this,arguments)}function Ba(_){return og.apply(this,arguments)}function og(){return(og=(0,h.Z)(function*(_){const f=Pu(_),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Pu(_){if(ie(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),m=new Uint8Array(f);for(let w=0;w<_.length;w++)m[w]=_.charCodeAt(w);return m}!function $y(_){(0,ue._registerComponent)(new re.wA("auth",(f,{options:m})=>{const w=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),{apiKey:N,authDomain:z}=w.options;return((oe,Ue)=>{te(N&&!N.includes(":"),"invalid-api-key",{appName:oe.name}),te(!(null==z?void 0:z.includes(":")),"argument-error",{appName:oe.name});const tt={apiKey:N,authDomain:z,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Aa(_)},bt=new ci(oe,Ue,tt);return function ae(_,f){const m=(null==f?void 0:f.persistence)||[],w=(Array.isArray(m)?m:[m]).map(se);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(w,null==f?void 0:f.popupRedirectResolver)}(bt,m),bt})(w,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,w)=>{f.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new re.wA("auth-internal",f=>{const m=ke(f.getProvider("auth").getImmediate());return new ig(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(Uy,Zh,function jy(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ue.registerVersion)(Uy,Zh,"esm2017")}("Browser");class Xh extends Bi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function Xl(_){return aa.apply(this,arguments)}function aa(){return(aa=(0,h.Z)(function*(_){const f=yield tc()._get(tf(_));return f&&(yield tc()._remove(tf(_))),f})).apply(this,arguments)}function ec(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*f.length);_.push(f.charAt(w))}return _.join("")}function tc(){return se(Vn)}function tf(_){return de("authEvent",_.config.apiKey,_.name)}function pd(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...m]=_.split("?");return(0,O.zd)(m.join("?"))}function of(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function gd(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function ug(_=(0,O.z$)()){return!("file:"!==gd()&&"ionic:"!==gd()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function xr(){try{const _=self.localStorage,f=Qo();if(_)return _.setItem(f,"1"),_.removeItem(f),!function ua(_=(0,O.z$)()){return function Wy(){return(0,O.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ky(_=(0,O.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,O.hl)()}catch(_){return Ro()&&(0,O.hl)()}return!1}function Ro(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ic(){return(function zy(){return"http:"===gd()||"https:"===gd()}()||(0,O.ru)()||ug())&&!function md(){return(0,O.b$)()||(0,O.UG)()}()&&xr()&&!Ro()}function af(){return ug()&&"undefined"!=typeof document}function Ua(){return(Ua=(0,h.Z)(function*(){return!!af()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const ji={LOCAL:"local",NONE:"none",SESSION:"session"},ja=te,lf="persistence";function $a(_){return cf.apply(this,arguments)}function cf(){return(cf=(0,h.Z)(function*(_){yield _._initializationPromise;const f=sc(),m=de(lf,_.config.apiKey,_.name);f&&f.setItem(m,_._getPersistence())})).apply(this,arguments)}function sc(){var _;try{return(null===(_=function uf(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const Zy=te;class wi{constructor(){this.browserResolver=se(class oa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lr,this._completeRedirectFn=xn}_openPopup(f,m,w,T){var N=this;return(0,h.Z)(function*(){var z;ie(null===(z=N.eventManagers[f._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const oe=Wh(f,m,w,Tt(),T);return function dd(_,f,m,w=500,T=600){const N=Math.max((window.screen.availHeight-T)/2,0).toString(),z=Math.max((window.screen.availWidth-w)/2,0).toString();let oe="";const Ue=Object.assign(Object.assign({},Fy),{width:w.toString(),height:T.toString(),top:N,left:z}),tt=(0,O.z$)().toLowerCase();m&&(oe=Dr(tt)?"_blank":m),Et(tt)&&(f=f||"http://localhost",Ue.scrollbars="yes");const bt=Object.entries(Ue).reduce((Rn,[ss,ac])=>`${Rn}${ss}=${ac},`,"");if(function ou(_=(0,O.z$)()){var f;return ar(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(tt)&&"_self"!==oe)return function zh(_,f){const m=document.createElement("a");m.href=_,m.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(f||"",oe),new cd(null);const at=window.open(f||"",oe,bt);te(at,_,"popup-blocked");try{at.focus()}catch(Rn){}return new cd(at)}(f,oe,Qo())})()}_openRedirect(f,m,w,T){var N=this;return(0,h.Z)(function*(){return yield N._originValidation(f),function $h(_){mn().location.href=_}(Wh(f,m,w,Tt(),T)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:T,promise:N}=this.eventManagers[m];return T?Promise.resolve(T):(ie(N,"If manager is not set, promise should be"),N)}const w=this.initAndGetManager(f);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(f){var m=this;return(0,h.Z)(function*(){const w=yield function Py(_){return sa.apply(this,arguments)}(f),T=new Bi(f);return w.register("authEvent",N=>(te(null==N?void 0:N.authEvent,f,"invalid-auth-event"),{status:T.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:T},m.iframes[f._key()]=w,T})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(io,{type:io},T=>{var N;const z=null===(N=null==T?void 0:T[0])||void 0===N?void 0:N[io];void 0!==z&&m(!!z),Ie(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ry(_){return Ds.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return hs()||Qt()||ar()}}),this.cordovaResolver=se(class sf{constructor(){this._redirectPersistence=lr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xn}_initialize(f){var m=this;return(0,h.Z)(function*(){const w=f._key();let T=m.eventManagers.get(w);return T||(T=new Xh(f),m.eventManagers.set(w,T),m.attachCallbackListeners(f,T)),T})()}_openPopup(f){Ie(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,w,T){var N=this;return(0,h.Z)(function*(){!function fd(_){var f,m,w,T,N,z,oe,Ue,tt,bt;const at=so();te("function"==typeof(null===(f=null==at?void 0:at.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(void 0!==(null===(m=null==at?void 0:at.BuildInfo)||void 0===m?void 0:m.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(N=null===(T=null===(w=null==at?void 0:at.cordova)||void 0===w?void 0:w.plugins)||void 0===T?void 0:T.browsertab)||void 0===N?void 0:N.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(Ue=null===(oe=null===(z=null==at?void 0:at.cordova)||void 0===z?void 0:z.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===Ue?void 0:Ue.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(bt=null===(tt=null==at?void 0:at.cordova)||void 0===tt?void 0:tt.InAppBrowser)||void 0===bt?void 0:bt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const z=yield N._initialize(f);yield z.initialized(),z.resetRedirect(),function Ru(){is.clear()}(),yield N._originValidation(f);const oe=function ef(_,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:ec(),postBody:null,tenantId:_.tenantId,error:_e(_,"no-auth-event")}}(f,w,T);yield function mw(_,f){return tc()._set(tf(_),f)}(f,oe);const Ue=yield function Yh(_,f,m){return ku.apply(this,arguments)}(f,oe,m),tt=yield function Jl(_){const{cordova:f}=so();return new Promise(m=>{f.plugins.browsertab.isAvailable(w=>{let T=null;w?f.plugins.browsertab.openUrl(_):T=f.InAppBrowser.open(_,function fo(_=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(T)})})}(Ue);return function sg(_,f,m){return hd.apply(this,arguments)}(f,z,tt)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Qh(_){return Ui.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:w,handleOpenURL:T,BuildInfo:N}=so(),z=setTimeout((0,h.Z)(function*(){yield Xl(f),m.onEvent(of())}),500),oe=function(){var bt=(0,h.Z)(function*(at){clearTimeout(z);const Rn=yield Xl(f);let ss=null;Rn&&(null==at?void 0:at.url)&&(ss=function Gy(_,f){var m,w;const T=function nc(_){const f=pd(_),m=f.link?decodeURIComponent(f.link):void 0,w=pd(m).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return pd(T).link||T||w||m||_}(f);if(T.includes("/__/auth/callback")){const N=pd(T),z=N.firebaseError?function nf(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(N.firebaseError)):null,oe=null===(w=null===(m=null==z?void 0:z.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],Ue=oe?_e(oe):null;return Ue?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:T,postBody:null}}return null}(Rn,at.url)),m.onEvent(ss||of())});return function(Rn){return bt.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,oe);const Ue=T,tt=`${N.packageName.toLowerCase()}://`;so().handleOpenURL=function(){var bt=(0,h.Z)(function*(at){if(at.toLowerCase().startsWith(tt)&&oe({url:at}),"function"==typeof Ue)try{Ue(at)}catch(Rn){console.error(Rn)}});return function(at){return bt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=lr,this._completeRedirectFn=xn}_initialize(f){var m=this;return(0,h.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,w,T){var N=this;return(0,h.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,m,w,T)})()}_openRedirect(f,m,w,T){var N=this;return(0,h.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,m,w,T)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return af()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const m=yield function $r(){return Ua.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function dg(_){return _.unwrap()}function Ha(_){return hg(_)}function hg(_){const{_tokenResponse:f}=_ instanceof O.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof O.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Vi.credentialFromResult(_);const m=f.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=xa;break;case"facebook.com":w=go;break;case"github.com":w=jc;break;case"twitter.com":w=hu;break;default:const{oauthIdToken:T,oauthAccessToken:N,oauthTokenSecret:z,pendingToken:oe,nonce:Ue}=f;return N||z||T||oe?oe?m.startsWith("saml.")?mr._create(m,oe):gs._fromParams({providerId:m,signInMethod:m,pendingToken:oe,idToken:T,accessToken:N}):new qo(m).credential({idToken:T,accessToken:N,rawNonce:Ue}):null}return _ instanceof O.ZR?w.credentialFromError(_):w.credentialFromResult(_)}function Rr(_,f){return f.catch(m=>{throw m instanceof O.ZR&&function Qy(_,f){var m;const w=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Jy(_,function Tu(_,f){var m;const w=(0,O.m9)(_),T=f;return te(f.customData.operationType,w,"argument-error"),te(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Pa._fromError(w,T)}(_,f));else if(w){const T=hg(f),N=f;T&&(N.credential=T,N.tenantId=w.tenantId||void 0,N.email=w.email||void 0,N.phoneNumber=w.phoneNumber||void 0)}}(_,m),m}).then(m=>{const T=m.user;return{operationType:m.operationType,credential:Ha(m),additionalUserInfo:Ar(m),user:No.getOrCreate(T)}})}function df(_,f){return hf.apply(this,arguments)}function hf(){return(hf=(0,h.Z)(function*(_,f){const m=yield f;return{verificationId:m.verificationId,confirm:w=>Rr(_,m.confirm(w))}})).apply(this,arguments)}class Jy{constructor(f,m){this.resolver=m,this.auth=function Yy(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Rr(dg(this.auth),this.resolver.resolveSignIn(f))}}class No{constructor(f){this._delegate=f,this.multiFactor=function Yc(_){const f=(0,O.m9)(_);return Yo.has(f)||Yo.set(f,vs._fromUser(f)),Yo.get(f)}(f)}static getOrCreate(f){return No.USER_MAP.has(f)||No.USER_MAP.set(f,new No(f)),No.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,h.Z)(function*(){return Rr(m.auth,Ni(m._delegate,f))})()}linkWithPhoneNumber(f,m){var w=this;return(0,h.Z)(function*(){return df(w.auth,function Ul(_,f,m){return na.apply(this,arguments)}(w._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,h.Z)(function*(){return Rr(m.auth,function ns(_,f,m){return xu.apply(this,arguments)}(m._delegate,f,wi))})()}linkWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield $a(ke(m.auth)),function Xe(_,f,m){return function It(_,f,m){return kt.apply(this,arguments)}(_,f,m)}(m._delegate,f,wi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,h.Z)(function*(){return Rr(m.auth,qs(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return df(this.auth,function eg(_,f,m){return jl.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return Rr(this.auth,function Io(_,f,m){return Mu.apply(this,arguments)}(this._delegate,f,wi))}reauthenticateWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield $a(ke(m.auth)),function ee(_,f,m){return function xe(_,f,m){return Re.apply(this,arguments)}(_,f,m)}(m._delegate,f,wi)})()}sendEmailVerification(f){return function Oi(_,f){return Al.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,h.Z)(function*(){return yield function Ra(_,f){return wl.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function xl(_,f){return Rl((0,O.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function qc(_,f){return Rl((0,O.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function $l(_,f){return bs.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Zo(_,f){return Ml.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Cu(_,f,m){return Iu.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}No.USER_MAP=new WeakMap;const oc=te;let ff=(()=>{class _{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=m.options;oc(T,"invalid-api-key",{appName:m.name}),oc(T,"invalid-api-key",{appName:m.name});const N="undefined"!=typeof window?wi:void 0;this._delegate=w.initialize({options:{persistence:Xy(T,m.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Oe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?No.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function gn(_,f,m){const w=ke(_);te(w._canInitEmulator,w,"emulator-config-failed"),te(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const T=!!(null==m?void 0:m.disableWarnings),N=gr(f),{host:z,port:oe}=function Fs(_){const f=gr(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(w);if(T){const N=T[1];return{host:N,port:Gn(w.substr(N.length+1))}}{const[N,z]=w.split(":");return{host:N,port:Gn(z)}}}(f);w.config.emulator={url:`${N}//${z}${null===oe?"":`:${oe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:z,port:oe,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Yi(){function _(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,w)}applyActionCode(m){return function bl(_,f){return De.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Bt(this._delegate,m)}confirmPasswordReset(m,w){return function Eu(_,f,m){return El.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var T=this;return(0,h.Z)(function*(){return Rr(T._delegate,function Ko(_,f,m){return ei.apply(this,arguments)}(T._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Du(_,f){return Zs.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Tl(_,f){const m=po.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,h.Z)(function*(){oc(ic(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function St(_,f){return Kn.apply(this,arguments)}(m._delegate,wi);return w?Rr(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function ag(_,f){ke(_)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,w,T){const{next:N,error:z,complete:oe}=pf(m,w,T);return this._delegate.onAuthStateChanged(N,z,oe)}onIdTokenChanged(m,w,T){const{next:N,error:z,complete:oe}=pf(m,w,T);return this._delegate.onIdTokenChanged(N,z,oe)}sendSignInLinkToEmail(m,w){return function Il(_,f,m){return Gc.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function vu(_,f,m){return wu.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,h.Z)(function*(){let T;switch(function lg(_,f){ja(Object.values(ji).includes(f),_,"invalid-persistence-type"),(0,O.b$)()?ja(f!==ji.SESSION,_,"unsupported-persistence-type"):(0,O.UG)()?ja(f===ji.NONE,_,"unsupported-persistence-type"):Ro()?ja(f===ji.NONE||f===ji.LOCAL&&(0,O.hl)(),_,"unsupported-persistence-type"):ja(f===ji.NONE||xr(),_,"unsupported-persistence-type")}(w._delegate,m),m){case ji.SESSION:T=lr;break;case ji.LOCAL:T=(yield se(Pi)._isAvailable())?Pi:Vn;break;case ji.NONE:T=q;break;default:return Ie("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Rr(this._delegate,function pu(_){return $c.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Rr(this._delegate,Fn(this._delegate,m))}signInWithCustomToken(m){return Rr(this._delegate,function zs(_,f){return Ws.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Rr(this._delegate,function Cl(_,f,m){return Fn((0,O.m9)(_),vl.credential(f,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Rr(this._delegate,function bu(_,f,m){return Ks.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return df(this._delegate,function Su(_,f,m){return In.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,h.Z)(function*(){return oc(ic(),w._delegate,"operation-not-supported-in-this-environment"),Rr(w._delegate,function ro(_,f,m){return rd.apply(this,arguments)}(w._delegate,m,wi))})()}signInWithRedirect(m){var w=this;return(0,h.Z)(function*(){return oc(ic(),w._delegate,"operation-not-supported-in-this-environment"),yield $a(w._delegate),function R(_,f,m){return function L(_,f,m){return K.apply(this,arguments)}(_,f,m)}(w._delegate,m,wi)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function En(_,f){return Wo.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=ji,_})();function pf(_,f,m){let w=_;"function"!=typeof _&&({next:w,error:f,complete:m}=_);const T=w;return{next:z=>T(z&&No.getOrCreate(z)),error:f,complete:m}}function Xy(_,f){const m=function cg(_,f){const m=sc();if(!m)return[];const w=de(lf,_,f);switch(m.getItem(w)){case ji.NONE:return[q];case ji.LOCAL:return[Pi,lr];case ji.SESSION:return[lr];default:return[]}}(_,f);if("undefined"!=typeof self&&!m.includes(Pi)&&m.push(Pi),"undefined"!=typeof window)for(const w of[Vn,lr])m.includes(w)||m.push(w);return m.includes(q)||m.push(q),m}class gf{constructor(){this.providerId="phone",this._delegate=new Vi(dg(Y.Z.auth()))}static credential(f,m){return Vi.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}gf.PHONE_SIGN_IN_METHOD=Vi.PHONE_SIGN_IN_METHOD,gf.PROVIDER_ID=Vi.PROVIDER_ID;const e_=te;class t_{constructor(f,m,w=Y.Z.app()){var T;e_(null===(T=w.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Xp(f,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function pg(_){_.INTERNAL.registerComponent(new re.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new ff(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:vl,FacebookAuthProvider:go,GithubAuthProvider:jc,GoogleAuthProvider:xa,OAuthProvider:qo,SAMLAuthProvider:hi,PhoneAuthProvider:gf,PhoneMultiFactorGenerator:By,RecaptchaVerifier:t_,TwitterAuthProvider:hu,Auth:ff,AuthCredential:un,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.11")}(Y.Z)},8306:(ut,Ae,k)=>{k.d(Ae,{y:()=>$});var h=k(2961),Y=k(727),O=k(8822),ue=k(4671);var re=k(2416),he=k(576),ce=k(2806);let $=(()=>{class Se{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const fe=new Se;return fe.source=this,fe.operator=Ve,fe}subscribe(Ve,fe,be){const nt=function We(Se){return Se&&Se instanceof h.Lv||function J(Se){return Se&&(0,he.m)(Se.next)&&(0,he.m)(Se.error)&&(0,he.m)(Se.complete)}(Se)&&(0,Y.Nn)(Se)}(Ve)?Ve:new h.Hp(Ve,fe,be);return(0,ce.x)(()=>{const{operator:Qe,source:Ie}=this;nt.add(Qe?Qe.call(nt,Ie):Ie?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(fe){Ve.error(fe)}}forEach(Ve,fe){return new(fe=H(fe))((be,nt)=>{const Qe=new h.Hp({next:Ie=>{try{Ve(Ie)}catch(_e){nt(_e),Qe.unsubscribe()}},error:nt,complete:be});this.subscribe(Qe)})}_subscribe(Ve){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(Ve)}[O.L](){return this}pipe(...Ve){return function ge(Se){return 0===Se.length?ue.y:1===Se.length?Se[0]:function(Ve){return Se.reduce((fe,be)=>be(fe),Ve)}}(Ve)(this)}toPromise(Ve){return new(Ve=H(Ve))((fe,be)=>{let nt;this.subscribe(Qe=>nt=Qe,Qe=>be(Qe),()=>fe(nt))})}}return Se.create=Oe=>new Se(Oe),Se})();function H(Se){var Oe;return null!==(Oe=null!=Se?Se:re.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(ut,Ae,k)=>{k.d(Ae,{x:()=>re});var h=k(8306),Y=k(727);const ue=(0,k(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=k(8737),ge=k(2806);let re=(()=>{class ce extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const J=new he(this,this);return J.operator=H,J}_throwIfClosed(){if(this.closed)throw new ue}next(H){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(H)}})}error(H){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:J}=this;for(;J.length;)J.shift().error(H)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:J,isStopped:We,observers:Se}=this;return J||We?Y.Lc:(this.currentObservers=null,Se.push(H),new Y.w0(()=>{this.currentObservers=null,(0,X.P)(Se,H)}))}_checkFinalizedStatuses(H){const{hasError:J,thrownError:We,isStopped:Se}=this;J?H.error(We):Se&&H.complete()}asObservable(){const H=new h.y;return H.source=this,H}}return ce.create=($,H)=>new he($,H),ce})();class he extends re{constructor($,H){super(),this.destination=$,this.source=H}next($){var H,J;null===(J=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===J||J.call(H,$)}error($){var H,J;null===(J=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===J||J.call(H,$)}complete(){var $,H;null===(H=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===H||H.call($)}_subscribe($){var H,J;return null!==(J=null===(H=this.source)||void 0===H?void 0:H.subscribe($))&&void 0!==J?J:Y.Lc}}},2961:(ut,Ae,k)=>{k.d(Ae,{Hp:()=>Ve,Lv:()=>J});var h=k(576),Y=k(727),O=k(2416),ue=k(7849);function X(){}const ge=ce("C",void 0,void 0);function ce(Ie,_e,we){return{kind:Ie,value:_e,error:we}}var $=k(3410),H=k(2806);class J extends Y.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,Y.Nn)(_e)&&_e.add(this)):this.destination=Qe}static create(_e,we,qe){return new Ve(_e,we,qe)}next(_e){this.isStopped?nt(function he(Ie){return ce("N",Ie,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?nt(function re(Ie){return ce("E",void 0,Ie)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?nt(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const We=Function.prototype.bind;function Se(Ie,_e){return We.call(Ie,_e)}class Oe{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:we}=this;if(we.next)try{we.next(_e)}catch(qe){fe(qe)}}error(_e){const{partialObserver:we}=this;if(we.error)try{we.error(_e)}catch(qe){fe(qe)}else fe(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(we){fe(we)}}}class Ve extends J{constructor(_e,we,qe){let $e;if(super(),(0,h.m)(_e)||!_e)$e={next:null!=_e?_e:void 0,error:null!=we?we:void 0,complete:null!=qe?qe:void 0};else{let te;this&&O.v.useDeprecatedNextContext?(te=Object.create(_e),te.unsubscribe=()=>this.unsubscribe(),$e={next:_e.next&&Se(_e.next,te),error:_e.error&&Se(_e.error,te),complete:_e.complete&&Se(_e.complete,te)}):$e=_e}this.destination=new Oe($e)}}function fe(Ie){O.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ie):(0,ue.h)(Ie)}function nt(Ie,_e){const{onStoppedNotification:we}=O.v;we&&$.z.setTimeout(()=>we(Ie,_e))}const Qe={closed:!0,next:X,error:function be(Ie){throw Ie},complete:X}},727:(ut,Ae,k)=>{k.d(Ae,{Lc:()=>ge,w0:()=>X,Nn:()=>re});var h=k(576);const O=(0,k(3888).d)(ce=>function(H){ce(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((J,We)=>`${We+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var ue=k(8737);class X{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Se of H)Se.remove(this);else H.remove(this);const{initialTeardown:J}=this;if((0,h.m)(J))try{J()}catch(Se){$=Se instanceof O?Se.errors:[Se]}const{_finalizers:We}=this;if(We){this._finalizers=null;for(const Se of We)try{he(Se)}catch(Oe){$=null!=$?$:[],Oe instanceof O?$=[...$,...Oe.errors]:$.push(Oe)}}if($)throw new O($)}}add($){var H;if($&&$!==this)if(this.closed)he($);else{if($ instanceof X){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push($)}}_hasParent($){const{_parentage:H}=this;return H===$||Array.isArray(H)&&H.includes($)}_addParent($){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push($),H):H?[H,$]:$}_removeParent($){const{_parentage:H}=this;H===$?this._parentage=null:Array.isArray(H)&&(0,ue.P)(H,$)}remove($){const{_finalizers:H}=this;H&&(0,ue.P)(H,$),$ instanceof X&&$._removeParent(this)}}X.EMPTY=(()=>{const ce=new X;return ce.closed=!0,ce})();const ge=X.EMPTY;function re(ce){return ce instanceof X||ce&&"closed"in ce&&(0,h.m)(ce.remove)&&(0,h.m)(ce.add)&&(0,h.m)(ce.unsubscribe)}function he(ce){(0,h.m)(ce)?ce():ce.unsubscribe()}},2416:(ut,Ae,k)=>{k.d(Ae,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ut,Ae,k)=>{k.d(Ae,{E:()=>Y});const Y=new(k(8306).y)(X=>X.complete())},8996:(ut,Ae,k)=>{k.d(Ae,{D:()=>_e});var h=k(8421),Y=k(5363),O=k(9468),ge=k(8306),he=k(2202),ce=k(576),$=k(9672);function J(we,qe){if(!we)throw new Error("Iterable cannot be null");return new ge.y($e=>{(0,$.f)($e,qe,()=>{const te=we[Symbol.asyncIterator]();(0,$.f)($e,qe,()=>{te.next().then(W=>{W.done?$e.complete():$e.next(W.value)})},0,!0)})})}var We=k(3670),Se=k(8239),Oe=k(1144),Ve=k(6495),fe=k(2206),be=k(4532),nt=k(3260);function _e(we,qe){return qe?function Ie(we,qe){if(null!=we){if((0,We.c)(we))return function ue(we,qe){return(0,h.Xf)(we).pipe((0,O.R)(qe),(0,Y.Q)(qe))}(we,qe);if((0,Oe.z)(we))return function re(we,qe){return new ge.y($e=>{let te=0;return qe.schedule(function(){te===we.length?$e.complete():($e.next(we[te++]),$e.closed||this.schedule())})})}(we,qe);if((0,Se.t)(we))return function X(we,qe){return(0,h.Xf)(we).pipe((0,O.R)(qe),(0,Y.Q)(qe))}(we,qe);if((0,fe.D)(we))return J(we,qe);if((0,Ve.T)(we))return function H(we,qe){return new ge.y($e=>{let te;return(0,$.f)($e,qe,()=>{te=we[he.h](),(0,$.f)($e,qe,()=>{let W,ie;try{({value:W,done:ie}=te.next())}catch(me){return void $e.error(me)}ie?$e.complete():$e.next(W)},0,!0)}),()=>(0,ce.m)(null==te?void 0:te.return)&&te.return()})}(we,qe);if((0,nt.L)(we))return function Qe(we,qe){return J((0,nt.Q)(we),qe)}(we,qe)}throw(0,be.z)(we)}(we,qe):(0,h.Xf)(we)}},8421:(ut,Ae,k)=>{k.d(Ae,{Xf:()=>We});var h=k(655),Y=k(1144),O=k(8239),ue=k(8306),X=k(3670),ge=k(2206),re=k(4532),he=k(6495),ce=k(3260),$=k(576),H=k(7849),J=k(8822);function We(Ie){if(Ie instanceof ue.y)return Ie;if(null!=Ie){if((0,X.c)(Ie))return function Se(Ie){return new ue.y(_e=>{const we=Ie[J.L]();if((0,$.m)(we.subscribe))return we.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,Y.z)(Ie))return function Oe(Ie){return new ue.y(_e=>{for(let we=0;we<Ie.length&&!_e.closed;we++)_e.next(Ie[we]);_e.complete()})}(Ie);if((0,O.t)(Ie))return function Ve(Ie){return new ue.y(_e=>{Ie.then(we=>{_e.closed||(_e.next(we),_e.complete())},we=>_e.error(we)).then(null,H.h)})}(Ie);if((0,ge.D)(Ie))return be(Ie);if((0,he.T)(Ie))return function fe(Ie){return new ue.y(_e=>{for(const we of Ie)if(_e.next(we),_e.closed)return;_e.complete()})}(Ie);if((0,ce.L)(Ie))return function nt(Ie){return be((0,ce.Q)(Ie))}(Ie)}throw(0,re.z)(Ie)}function be(Ie){return new ue.y(_e=>{(function Qe(Ie,_e){var we,qe,$e,te;return(0,h.mG)(this,void 0,void 0,function*(){try{for(we=(0,h.KL)(Ie);!(qe=yield we.next()).done;)if(_e.next(qe.value),_e.closed)return}catch(W){$e={error:W}}finally{try{qe&&!qe.done&&(te=we.return)&&(yield te.call(we))}finally{if($e)throw $e.error}}_e.complete()})})(Ie,_e).catch(we=>_e.error(we))})}},6451:(ut,Ae,k)=>{k.d(Ae,{T:()=>ge});var h=k(8189),Y=k(8421),O=k(515),ue=k(7669),X=k(8996);function ge(...re){const he=(0,ue.yG)(re),ce=(0,ue._6)(re,1/0),$=re;return $.length?1===$.length?(0,Y.Xf)($[0]):(0,h.J)(ce)((0,X.D)($,he)):O.E}},5403:(ut,Ae,k)=>{k.d(Ae,{x:()=>Y});var h=k(2961);function Y(ue,X,ge,re,he){return new O(ue,X,ge,re,he)}class O extends h.Lv{constructor(X,ge,re,he,ce,$){super(X),this.onFinalize=ce,this.shouldUnsubscribe=$,this._next=ge?function(H){try{ge(H)}catch(J){X.error(J)}}:super._next,this._error=he?function(H){try{he(H)}catch(J){X.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(H){X.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(ut,Ae,k)=>{k.d(Ae,{U:()=>O});var h=k(4482),Y=k(5403);function O(ue,X){return(0,h.e)((ge,re)=>{let he=0;ge.subscribe((0,Y.x)(re,ce=>{re.next(ue.call(X,ce,he++))}))})}},8189:(ut,Ae,k)=>{k.d(Ae,{J:()=>O});var h=k(5577),Y=k(4671);function O(ue=1/0){return(0,h.z)(Y.y,ue)}},5577:(ut,Ae,k)=>{k.d(Ae,{z:()=>he});var h=k(4004),Y=k(8421),O=k(4482),ue=k(9672),X=k(5403),re=k(576);function he(ce,$,H=1/0){return(0,re.m)($)?he((J,We)=>(0,h.U)((Se,Oe)=>$(J,Se,We,Oe))((0,Y.Xf)(ce(J,We))),H):("number"==typeof $&&(H=$),(0,O.e)((J,We)=>function ge(ce,$,H,J,We,Se,Oe,Ve){const fe=[];let be=0,nt=0,Qe=!1;const Ie=()=>{Qe&&!fe.length&&!be&&$.complete()},_e=qe=>be<J?we(qe):fe.push(qe),we=qe=>{Se&&$.next(qe),be++;let $e=!1;(0,Y.Xf)(H(qe,nt++)).subscribe((0,X.x)($,te=>{null==We||We(te),Se?_e(te):$.next(te)},()=>{$e=!0},void 0,()=>{if($e)try{for(be--;fe.length&&be<J;){const te=fe.shift();Oe?(0,ue.f)($,Oe,()=>we(te)):we(te)}Ie()}catch(te){$.error(te)}}))};return ce.subscribe((0,X.x)($,_e,()=>{Qe=!0,Ie()})),()=>{null==Ve||Ve()}}(J,We,ce,H)))}},5363:(ut,Ae,k)=>{k.d(Ae,{Q:()=>ue});var h=k(9672),Y=k(4482),O=k(5403);function ue(X,ge=0){return(0,Y.e)((re,he)=>{re.subscribe((0,O.x)(he,ce=>(0,h.f)(he,X,()=>he.next(ce),ge),()=>(0,h.f)(he,X,()=>he.complete(),ge),ce=>(0,h.f)(he,X,()=>he.error(ce),ge)))})}},3099:(ut,Ae,k)=>{k.d(Ae,{B:()=>ge});var h=k(8996),Y=k(5698),O=k(7579),ue=k(2961),X=k(4482);function ge(he={}){const{connector:ce=(()=>new O.x),resetOnError:$=!0,resetOnComplete:H=!0,resetOnRefCountZero:J=!0}=he;return We=>{let Se=null,Oe=null,Ve=null,fe=0,be=!1,nt=!1;const Qe=()=>{null==Oe||Oe.unsubscribe(),Oe=null},Ie=()=>{Qe(),Se=Ve=null,be=nt=!1},_e=()=>{const we=Se;Ie(),null==we||we.unsubscribe()};return(0,X.e)((we,qe)=>{fe++,!nt&&!be&&Qe();const $e=Ve=null!=Ve?Ve:ce();qe.add(()=>{fe--,0===fe&&!nt&&!be&&(Oe=re(_e,J))}),$e.subscribe(qe),Se||(Se=new ue.Hp({next:te=>$e.next(te),error:te=>{nt=!0,Qe(),Oe=re(Ie,$,te),$e.error(te)},complete:()=>{be=!0,Qe(),Oe=re(Ie,H),$e.complete()}}),(0,h.D)(we).subscribe(Se))})(We)}}function re(he,ce,...$){return!0===ce?(he(),null):!1===ce?null:ce(...$).pipe((0,Y.q)(1)).subscribe(()=>he())}},9468:(ut,Ae,k)=>{k.d(Ae,{R:()=>Y});var h=k(4482);function Y(O,ue=0){return(0,h.e)((X,ge)=>{ge.add(O.schedule(()=>X.subscribe(ge),ue))})}},5698:(ut,Ae,k)=>{k.d(Ae,{q:()=>ue});var h=k(515),Y=k(4482),O=k(5403);function ue(X){return X<=0?()=>h.E:(0,Y.e)((ge,re)=>{let he=0;ge.subscribe((0,O.x)(re,ce=>{++he<=X&&(re.next(ce),X<=he&&re.complete())}))})}},8505:(ut,Ae,k)=>{k.d(Ae,{b:()=>X});var h=k(576),Y=k(4482),O=k(5403),ue=k(4671);function X(ge,re,he){const ce=(0,h.m)(ge)||re||he?{next:ge,error:re,complete:he}:ge;return ce?(0,Y.e)(($,H)=>{var J;null===(J=ce.subscribe)||void 0===J||J.call(ce);let We=!0;$.subscribe((0,O.x)(H,Se=>{var Oe;null===(Oe=ce.next)||void 0===Oe||Oe.call(ce,Se),H.next(Se)},()=>{var Se;We=!1,null===(Se=ce.complete)||void 0===Se||Se.call(ce),H.complete()},Se=>{var Oe;We=!1,null===(Oe=ce.error)||void 0===Oe||Oe.call(ce,Se),H.error(Se)},()=>{var Se,Oe;We&&(null===(Se=ce.unsubscribe)||void 0===Se||Se.call(ce)),null===(Oe=ce.finalize)||void 0===Oe||Oe.call(ce)}))}):ue.y}},4408:(ut,Ae,k)=>{k.d(Ae,{o:()=>X});var h=k(727);class Y extends h.w0{constructor(re,he){super()}schedule(re,he=0){return this}}const O={setInterval(ge,re,...he){const{delegate:ce}=O;return(null==ce?void 0:ce.setInterval)?ce.setInterval(ge,re,...he):setInterval(ge,re,...he)},clearInterval(ge){const{delegate:re}=O;return((null==re?void 0:re.clearInterval)||clearInterval)(ge)},delegate:void 0};var ue=k(8737);class X extends Y{constructor(re,he){super(re,he),this.scheduler=re,this.work=he,this.pending=!1}schedule(re,he=0){if(this.closed)return this;this.state=re;const ce=this.id,$=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId($,ce,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId($,this.id,he),this}requestAsyncId(re,he,ce=0){return O.setInterval(re.flush.bind(re,this),ce)}recycleAsyncId(re,he,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return he;O.clearInterval(he)}execute(re,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(re,he);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,he){let $,ce=!1;try{this.work(re)}catch(H){ce=!0,$=H||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:re,scheduler:he}=this,{actions:ce}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(ce,this),null!=re&&(this.id=this.recycleAsyncId(he,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(ut,Ae,k)=>{k.d(Ae,{v:()=>O});var h=k(6063);class Y{constructor(X,ge=Y.now){this.schedulerActionCtor=X,this.now=ge}schedule(X,ge=0,re){return new this.schedulerActionCtor(this,X).schedule(re,ge)}}Y.now=h.l.now;class O extends Y{constructor(X,ge=Y.now){super(X,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(X){const{actions:ge}=this;if(this._active)return void ge.push(X);let re;this._active=!0;do{if(re=X.execute(X.state,X.delay))break}while(X=ge.shift());if(this._active=!1,re){for(;X=ge.shift();)X.unsubscribe();throw re}}}},4986:(ut,Ae,k)=>{k.d(Ae,{z:()=>O});var h=k(4408);const O=new(k(7565).v)(h.o)},6063:(ut,Ae,k)=>{k.d(Ae,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(ut,Ae,k)=>{k.d(Ae,{z:()=>h});const h={setTimeout(Y,O,...ue){const{delegate:X}=h;return(null==X?void 0:X.setTimeout)?X.setTimeout(Y,O,...ue):setTimeout(Y,O,...ue)},clearTimeout(Y){const{delegate:O}=h;return((null==O?void 0:O.clearTimeout)||clearTimeout)(Y)},delegate:void 0}},2202:(ut,Ae,k)=>{k.d(Ae,{h:()=>Y});const Y=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ut,Ae,k)=>{k.d(Ae,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ut,Ae,k)=>{k.d(Ae,{_6:()=>ge,jO:()=>ue,yG:()=>X});var h=k(576);function O(re){return re[re.length-1]}function ue(re){return(0,h.m)(O(re))?re.pop():void 0}function X(re){return function Y(re){return re&&(0,h.m)(re.schedule)}(O(re))?re.pop():void 0}function ge(re,he){return"number"==typeof O(re)?re.pop():he}},8737:(ut,Ae,k)=>{function h(Y,O){if(Y){const ue=Y.indexOf(O);0<=ue&&Y.splice(ue,1)}}k.d(Ae,{P:()=>h})},3888:(ut,Ae,k)=>{function h(Y){const ue=Y(X=>{Error.call(X),X.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}k.d(Ae,{d:()=>h})},2806:(ut,Ae,k)=>{k.d(Ae,{x:()=>O,O:()=>ue});var h=k(2416);let Y=null;function O(X){if(h.v.useDeprecatedSynchronousErrorHandling){const ge=!Y;if(ge&&(Y={errorThrown:!1,error:null}),X(),ge){const{errorThrown:re,error:he}=Y;if(Y=null,re)throw he}}else X()}function ue(X){h.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=X)}},9672:(ut,Ae,k)=>{function h(Y,O,ue,X=0,ge=!1){const re=O.schedule(function(){ue(),ge?Y.add(this.schedule(null,X)):this.unsubscribe()},X);if(Y.add(re),!ge)return re}k.d(Ae,{f:()=>h})},4671:(ut,Ae,k)=>{function h(Y){return Y}k.d(Ae,{y:()=>h})},1144:(ut,Ae,k)=>{k.d(Ae,{z:()=>h});const h=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(ut,Ae,k)=>{k.d(Ae,{D:()=>Y});var h=k(576);function Y(O){return Symbol.asyncIterator&&(0,h.m)(null==O?void 0:O[Symbol.asyncIterator])}},576:(ut,Ae,k)=>{function h(Y){return"function"==typeof Y}k.d(Ae,{m:()=>h})},3670:(ut,Ae,k)=>{k.d(Ae,{c:()=>O});var h=k(8822),Y=k(576);function O(ue){return(0,Y.m)(ue[h.L])}},6495:(ut,Ae,k)=>{k.d(Ae,{T:()=>O});var h=k(2202),Y=k(576);function O(ue){return(0,Y.m)(null==ue?void 0:ue[h.h])}},8239:(ut,Ae,k)=>{k.d(Ae,{t:()=>Y});var h=k(576);function Y(O){return(0,h.m)(null==O?void 0:O.then)}},3260:(ut,Ae,k)=>{k.d(Ae,{Q:()=>O,L:()=>ue});var h=k(655),Y=k(576);function O(X){return(0,h.FC)(this,arguments,function*(){const re=X.getReader();try{for(;;){const{value:he,done:ce}=yield(0,h.qq)(re.read());if(ce)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(he)}}finally{re.releaseLock()}})}function ue(X){return(0,Y.m)(null==X?void 0:X.getReader)}},4482:(ut,Ae,k)=>{k.d(Ae,{A:()=>Y,e:()=>O});var h=k(576);function Y(ue){return(0,h.m)(null==ue?void 0:ue.lift)}function O(ue){return X=>{if(Y(X))return X.lift(function(ge){try{return ue(ge,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(ut,Ae,k)=>{k.d(Ae,{h:()=>O});var h=k(2416),Y=k(3410);function O(ue){Y.z.setTimeout(()=>{const{onUnhandledError:X}=h.v;if(!X)throw ue;X(ue)})}},4532:(ut,Ae,k)=>{function h(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ae,{z:()=>h})},655:(ut,Ae,k)=>{function ue(W,ie){var me={};for(var se in W)Object.prototype.hasOwnProperty.call(W,se)&&ie.indexOf(se)<0&&(me[se]=W[se]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(se=Object.getOwnPropertySymbols(W);Ne<se.length;Ne++)ie.indexOf(se[Ne])<0&&Object.prototype.propertyIsEnumerable.call(W,se[Ne])&&(me[se[Ne]]=W[se[Ne]])}return me}function he(W,ie,me,se){return new(me||(me=Promise))(function(ae,Tt){function en(wt){try{lt(se.next(wt))}catch(dn){Tt(dn)}}function kn(wt){try{lt(se.throw(wt))}catch(dn){Tt(dn)}}function lt(wt){wt.done?ae(wt.value):function Ne(ae){return ae instanceof me?ae:new me(function(Tt){Tt(ae)})}(wt.value).then(en,kn)}lt((se=se.apply(W,ie||[])).next())})}function fe(W){return this instanceof fe?(this.v=W,this):new fe(W)}function be(W,ie,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,se=me.apply(W,ie||[]),ae=[];return Ne={},Tt("next"),Tt("throw"),Tt("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function Tt(hn){se[hn]&&(Ne[hn]=function(xi){return new Promise(function(an,ls){ae.push([hn,xi,an,ls])>1||en(hn,xi)})})}function en(hn,xi){try{!function kn(hn){hn.value instanceof fe?Promise.resolve(hn.value.v).then(lt,wt):dn(ae[0][2],hn)}(se[hn](xi))}catch(an){dn(ae[0][3],an)}}function lt(hn){en("next",hn)}function wt(hn){en("throw",hn)}function dn(hn,xi){hn(xi),ae.shift(),ae.length&&en(ae[0][0],ae[0][1])}}function Qe(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,ie=W[Symbol.asyncIterator];return ie?ie.call(W):(W=function J(W){var ie="function"==typeof Symbol&&Symbol.iterator,me=ie&&W[ie],se=0;if(me)return me.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&se>=W.length&&(W=void 0),{value:W&&W[se++],done:!W}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),me={},se("next"),se("throw"),se("return"),me[Symbol.asyncIterator]=function(){return this},me);function se(ae){me[ae]=W[ae]&&function(Tt){return new Promise(function(en,kn){!function Ne(ae,Tt,en,kn){Promise.resolve(kn).then(function(lt){ae({value:lt,done:en})},Tt)}(en,kn,(Tt=W[ae](Tt)).done,Tt.value)})}}}k.d(Ae,{_T:()=>ue,mG:()=>he,qq:()=>fe,FC:()=>be,KL:()=>Qe})},5e3:(ut,Ae,k)=>{k.d(Ae,{deG:()=>Yp,tb:()=>zm,AFp:()=>ph,ip1:()=>rl,CZH:()=>ao,hGG:()=>On,z2F:()=>_h,sBO:()=>R0,Sil:()=>lD,_Vd:()=>Cm,EJc:()=>mp,SBq:()=>Yu,qLn:()=>Rr,vpe:()=>Lo,tBr:()=>jr,XFs:()=>dt,OlP:()=>Mn,zs3:()=>Po,ZZ4:()=>_p,aQg:()=>Jt,soG:()=>gh,YKP:()=>Xv,h0i:()=>ih,PXZ:()=>OT,R0b:()=>zi,FiY:()=>vi,Lbi:()=>Tc,g9A:()=>qm,Qsj:()=>$n,FYo:()=>Qv,JOm:()=>oe,tp0:()=>So,Rgc:()=>ah,dDg:()=>mh,q4F:()=>nh,GfV:()=>th,s_b:()=>Ju,ifc:()=>Wt,eFA:()=>tu,G48:()=>fD,Gpc:()=>H,X6Q:()=>uo,_c5:()=>ai,VLi:()=>oi,c2e:()=>E0,zSh:()=>nE,wAp:()=>vt,vHH:()=>Oe,cg1:()=>Wf,kL8:()=>ub,dqk:()=>Ht,sIi:()=>Nd,CqO:()=>BE,QGY:()=>ov,F4k:()=>av,RDi:()=>ms,AaK:()=>he,qOj:()=>kg,TTD:()=>go,_Bn:()=>Em,xp6:()=>ha,uIk:()=>Mf,Tol:()=>PI,ekj:()=>Jg,Suo:()=>Jb,Xpm:()=>Vt,lG2:()=>Qt,Yz7:()=>an,cJS:()=>tn,oAB:()=>Q,Yjl:()=>Dr,Y36:()=>Gg,_UZ:()=>zg,qZA:()=>jf,TgZ:()=>qg,EpF:()=>sv,n5z:()=>td,LFG:()=>Xe,$8M:()=>Co,$Z:()=>SI,NdJ:()=>Kg,CRH:()=>p0,oxw:()=>jE,ALo:()=>a0,lcZ:()=>u0,xi3:()=>lp,Hsn:()=>Yg,F$t:()=>$E,Q6J:()=>FE,VKq:()=>Fb,iGM:()=>Vm,MAs:()=>Lf,Jf7:()=>fg,CHM:()=>Dl,LSH:()=>Fu,YNc:()=>EE,W1O:()=>Cc,_uU:()=>rb,Oqu:()=>Cv});var h=k(7579),Y=k(727),O=k(8306),ue=k(6451),X=k(3099);function ge(s){for(let o in s)if(s[o]===ge)return o;throw Error("Could not find renamed property on target object.")}function re(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ce(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=ge({__forward_ref__:ge});function H(s){return s.__forward_ref__=H,s.toString=function(){return he(this())},s}function J(s){return We(s)?s():s}function We(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===H}class Oe extends Error{constructor(o,a){super(function Ve(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function fe(s){return"string"==typeof s?s:null==s?"":String(s)}function be(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():fe(s)}function _e(s,o){const a=o?` in ${o}`:"";throw new Oe(-201,`No provider for ${be(s)} found${a}`)}function lt(s,o){null==s&&function wt(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function an(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function tn(s){return{providers:s.providers||[],imports:s.imports||[]}}function zt(s){return hr(s,Ki)||hr(s,cs)}function hr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Fr(s){return s&&(s.hasOwnProperty(Lr)||s.hasOwnProperty(ds))?s[Lr]:null}const Ki=ge({\u0275prov:ge}),Lr=ge({\u0275inj:ge}),cs=ge({ngInjectableDef:ge}),ds=ge({ngInjectorDef:ge});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let Zr;function Yn(s){const o=Zr;return Zr=s,o}function li(s,o,a){const l=zt(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&dt.Optional?null:void 0!==o?o:void _e(he(s),"Injector")}function wn(s){return{toString:s}.toString()}var or=(()=>((or=or||{})[or.OnPush=0]="OnPush",or[or.Default=1]="Default",or))(),Wt=(()=>{return(s=Wt||(Wt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Wt;var s})();const ot="undefined"!=typeof globalThis&&globalThis,Dt="undefined"!=typeof window&&window,fr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ht=ot||"undefined"!=typeof global&&global||Dt||fr,pr={},ht=[],br=ge({\u0275cmp:ge}),Ut=ge({\u0275dir:ge}),Je=ge({\u0275pipe:ge}),Te=ge({\u0275mod:ge}),et=ge({\u0275fac:ge}),ft=ge({__NG_ELEMENT_ID__:ge});let $t=0;function Vt(s){return wn(()=>{const a={},l={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===or.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ht,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Wt.Emulated,id:"c",styles:s.styles||ht,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,g=s.features,v=s.pipes;return l.id+=$t++,l.inputs=Et(s.inputs,a),l.outputs=Et(s.outputs),g&&g.forEach(E=>E(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(V):null,l.pipeDefs=v?()=>("function"==typeof v?v():v).map(q):null,l})}function V(s){return Kt(s)||function An(s){return s[Ut]||null}(s)}function q(s){return function Nt(s){return s[Je]||null}(s)}const de={};function Q(s){return wn(()=>{const o={type:s.type,bootstrap:s.bootstrap||ht,declarations:s.declarations||ht,imports:s.imports||ht,exports:s.exports||ht,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(de[s.id]=s.type),o})}function Et(s,o){if(null==s)return pr;const a={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=l,o&&(o[d]=g)}return a}const Qt=Vt;function Dr(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Kt(s){return s[br]||null}function pn(s,o){const a=s[Te]||null;if(!a&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return a}function Ri(s){return Array.isArray(s)&&"object"==typeof s[1]}function di(s){return Array.isArray(s)&&!0===s[1]}function Fc(s){return 0!=(8&s.flags)}function Us(s){return 2==(2&s.flags)}function lu(s){return 1==(1&s.flags)}function Qr(s){return null!==s.template}function Fh(s){return 0!=(512&s[2])}function Jr(s,o){return s.hasOwnProperty(et)?s[et]:null}class qo{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function go(){return xa}function xa(s){return s.type.prototype.ngOnChanges&&(s.setInput=Wp),jc}function jc(){const s=Hs(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===pr)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Wp(s,o,a,l){const d=Hs(s)||function hi(s,o){return s[mr]=o}(s,{previous:pr,current:null}),g=d.current||(d.current={}),v=d.previous,E=this.declaredInputs[a],D=v[E];g[E]=new qo(D&&D.currentValue,o,v===pr),s[l]=o}go.ngInherit=!0;const mr="__ngSimpleChanges__";function Hs(s){return s[mr]||null}let mu;function ms(s){mu=s}function yn(s){return!!s.listen}const zo={createRenderer:(s,o)=>function Ra(){return void 0!==mu?mu:"undefined"!=typeof document?document:void 0}()};function cn(s){for(;Array.isArray(s);)s=s[0];return s}function yo(s,o){return cn(o[s])}function Ir(s,o){return cn(o[s.index])}function Na(s,o){return s.data[o]}function Ni(s,o){return s[o]}function Tr(s,o){const a=o[s];return Ri(a)?a:a[0]}function qs(s){return 4==(4&s[2])}function ys(s){return 128==(128&s[2])}function Xr(s,o){return null==o?null:s[o]}function zs(s){s[18]=0}function Ws(s,o){s[5]+=o;let a=s,l=s[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const pt={lFrame:vo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Eu(){return pt.bindingsEnabled}function De(){return pt.lFrame.lView}function Bt(){return pt.lFrame.tView}function Dl(s){return pt.lFrame.contextLView=s,s[8]}function En(){let s=Wo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Wo(){return pt.lFrame.currentTNode}function ei(s,o){const a=pt.lFrame;a.currentTNode=s,a.isParent=o}function Cl(){return pt.lFrame.isParent}function Il(){pt.lFrame.isParent=!1}function bu(){return pt.isInCheckNoChangesMode}function Ks(s){pt.isInCheckNoChangesMode=s}function _r(){const s=pt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Zs(){return pt.lFrame.bindingIndex++}function Oi(s){const o=pt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Iu(s,o){const a=pt.lFrame;a.bindingIndex=a.bindingRootIndex=s,ka(o)}function ka(s){pt.lFrame.currentDirectiveIndex=s}function Ml(){return pt.lFrame.currentQueryIndex}function xl(s){pt.lFrame.currentQueryIndex=s}function qc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Rl(s,o,a){if(a&dt.SkipSelf){let d=o,g=s;for(;!(d=d.parent,null!==d||a&dt.Host||(d=qc(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,s=g}const l=pt.lFrame=zc();return l.currentTNode=o,l.lView=s,!0}function _o(s){const o=zc(),a=s[1];pt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function zc(){const s=pt.lFrame,o=null===s?null:s.child;return null===o?vo(s):o}function vo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Wc(){const s=pt.lFrame;return pt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Kc=Wc;function wo(){const s=Wc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ar(){return pt.lFrame.selectedIndex}function Qs(s){pt.lFrame.selectedIndex=s}function Sn(){const s=pt.lFrame;return Na(s.tView,s.selectedIndex)}function _s(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const g=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:A,ngOnDestroy:x}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),E&&((s.contentHooks||(s.contentHooks=[])).push(a,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,E)),D&&(s.viewHooks||(s.viewHooks=[])).push(-a,D),A&&((s.viewHooks||(s.viewHooks=[])).push(a,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,A)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(a,x)}}function Pa(s,o,a){Zc(s,o,3,a)}function Tu(s,o,a,l){(3&s[2])===a&&Zc(s,o,a,l)}function zn(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Zc(s,o,a,l){const g=null!=l?l:-1,v=o.length-1;let E=0;for(let D=void 0!==l?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(E=o[D],null!=l&&E>=l)break}else o[D]<0&&(s[18]+=65536),(E<g||-1==g)&&(Kp(s,a,o,D),s[18]=(4294901760&s[18])+D+2),D++}function Kp(s,o,a,l){const d=a[l]<0,g=a[l+1],E=s[d?-a[l]:a[l]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class Yo{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function yt(s,o,a){const l=yn(s);let d=0;for(;d<a.length;){const g=a[d];if("number"==typeof g){if(0!==g)break;d++;const v=a[d++],E=a[d++],D=a[d++];l?s.setAttribute(o,E,D,v):o.setAttributeNS(v,E,D)}else{const v=g,E=a[++d];ti(v)?l&&s.setProperty(o,v,E):l?s.setAttribute(o,v,E):o.setAttribute(v,E),d++}}return d}function lr(s){return 3===s||4===s||6===s}function ti(s){return 64===s.charCodeAt(0)}function Vr(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||Qo(s,a,d,null,-1===a||2===a?o[++l]:null)}}return s}function Qo(s,o,a,l,d){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===a){if(null===l)return void(null!==d&&(s[g+1]=d));if(l===s[g+1])return void(s[g+2]=d)}g++,null!==l&&g++,null!==d&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,a),null!==l&&s.splice(g++,0,l),null!==d&&s.splice(g++,0,d)}function Jc(s){return-1!==s}function mn(s){return 32767&s}function ki(s,o){let a=function $h(s){return s>>16}(s),l=o;for(;a>0;)l=l[15],a--;return l}let Au=!0;function pi(s){const o=Au;return Au=s,o}let Ll=0;function Wn(s,o){const a=Jo(s,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,ws(l.data,s),ws(o,null),ws(l.blueprint,null));const d=gi(s,o),g=s.injectorIndex;if(Jc(d)){const v=mn(d),E=ki(d,o),D=E[1].data;for(let A=0;A<8;A++)o[g+A]=E[v+A]|D[v+A]}return o[g+8]=d,g}function ws(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Jo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function gi(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){const g=d[1],v=g.type;if(l=2===v?g.declTNode:1===v?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Js(s,o,a){!function bo(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(ft)&&(l=a[ft]),null==l&&(l=a[ft]=Ll++);const d=255&l;o.data[s+(d>>5)]|=1<<d}(s,o,a)}function Qi(s,o,a){if(a&dt.Optional)return s;_e(o,"NodeInjector")}function Vl(s,o,a,l){if(a&dt.Optional&&void 0===l&&(l=null),0==(a&(dt.Self|dt.Host))){const d=s[9],g=Yn(void 0);try{return d?d.get(o,l,a&dt.Optional):li(o,l,a&dt.Optional)}finally{Yn(g)}}return Qi(l,o,a)}function Xs(s,o,a,l=dt.Default,d){if(null!==s){const g=function Xo(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ft)?s[ft]:void 0;return"number"==typeof o?o>=0?255&o:Bl:o}(a);if("function"==typeof g){if(!Rl(o,s,l))return l&dt.Host?Qi(d,a,l):Vl(o,a,l,d);try{const v=g(l);if(null!=v||l&dt.Optional)return v;_e(a)}finally{Kc()}}else if("number"==typeof g){let v=null,E=Jo(s,o),D=-1,A=l&dt.Host?o[16][6]:null;for((-1===E||l&dt.SkipSelf)&&(D=-1===E?gi(s,o):o[E+8],-1!==D&&Br(l,!1)?(v=o[1],E=mn(D),o=ki(D,o)):E=-1);-1!==E;){const x=o[1];if(ea(g,E,x.data)){const P=ed(E,o,a,v,l,A);if(P!==Ji)return P}D=o[E+8],-1!==D&&Br(l,o[1].data[E+8]===A)&&ea(g,E,o)?(v=x,E=mn(D),o=ki(D,o)):E=-1}}}return Vl(o,a,l,d)}const Ji={};function Bl(){return new Fi(En(),De())}function ed(s,o,a,l,d,g){const v=o[1],E=v.data[s+8],x=Do(E,v,a,null==l?Us(E)&&Au:l!=v&&0!=(3&E.type),d&dt.Host&&g===E);return null!==x?Pi(o,v,x,E):Ji}function Do(s,o,a,l,d){const g=s.providerIndexes,v=o.data,E=1048575&g,D=s.directiveStart,x=g>>20,U=d?E+x:s.directiveEnd;for(let Z=l?E:E+x;Z<U;Z++){const ye=v[Z];if(Z<D&&a===ye||Z>=D&&ye.type===a)return Z}if(d){const Z=v[D];if(Z&&Qr(Z)&&Z.type===a)return D}return null}function Pi(s,o,a,l){let d=s[a];const g=o.data;if(function Yc(s){return s instanceof Yo}(d)){const v=d;v.resolving&&function nt(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${s}${a}`)}(be(g[a]));const E=pi(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Yn(v.injectImpl):null;Rl(s,l,dt.Default);try{d=s[a]=v.factory(void 0,g,s,l),o.firstCreatePass&&a>=l.directiveStart&&function kl(s,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(l){const v=xa(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,g))}(a,g[a],o)}finally{null!==D&&Yn(D),pi(E),v.resolving=!1,Kc()}}return d}function ea(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Br(s,o){return!(s&dt.Self||s&dt.Host&&o)}class Fi{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Xs(this._tNode,this._lView,o,l,a)}}function td(s){return wn(()=>{const o=s.prototype.constructor,a=o[et]||Bn(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const g=d[et]||Bn(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Bn(s){return We(s)?()=>{const o=Bn(J(s));return o&&o()}:Jr(s)}function Co(s){return function mi(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const g=a[d];if(lr(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(g===o)return a[d+1];d+=2}}}return null}(En(),s)}const ta="__parameters__";function Cn(s,o,a){return wn(()=>{const l=function es(s){return function(...a){if(s){const l=s(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...g){if(this instanceof d)return l.apply(this,g),this;const v=new d(...g);return E.annotation=v,E;function E(D,A,x){const P=D.hasOwnProperty(ta)?D[ta]:Object.defineProperty(D,ta,{value:[]})[ta];for(;P.length<=x;)P.push(null);return(P[x]=P[x]||[]).push(v),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class Mn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=an({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Yp=new Mn("AnalyzeForEntryComponents");function Mr(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let l=s[a];Array.isArray(l)?(o===s&&(o=s.slice(0,a)),Mr(l,o)):o!==s&&o.push(l)}return o}function yi(s,o){s.forEach(a=>Array.isArray(a)?yi(a,o):o(a))}function $l(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function bs(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Vi(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}function Jn(s,o,a){let l=ro(s,o);return l>=0?s[1|l]=a:(l=~l,function Hl(s,o,a,l){let d=s.length;if(d==o)s.push(a,l);else if(1===d)s.push(l,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function zl(s,o){const a=ro(s,o);if(a>=0)return s[1|a]}function ro(s,o){return function Io(s,o,a){let l=0,d=s.length>>a;for(;d!==l;){const g=l+(d-l>>1),v=s[g<<a];if(o===v)return g<<a;v>o?d=g:l=g+1}return~(d<<a)}(s,o,1)}const To={},ra="__NG_DI_FLAG__",Ru="ngTempTokenPath",I=/\n/gm,L="__source",K=ge({provide:String,useValue:ge});let ee;function xe(s){const o=ee;return ee=s,o}function Re(s,o=dt.Default){if(void 0===ee)throw new Oe(203,"");return null===ee?li(s,void 0,o):ee.get(s,o&dt.Optional?null:void 0,o)}function Xe(s,o=dt.Default){return(function sr(){return Zr}()||Re)(J(s),o)}const kt=Xe;function St(s){const o=[];for(let a=0;a<s.length;a++){const l=J(s[a]);if(Array.isArray(l)){if(0===l.length)throw new Oe(900,"");let d,g=dt.Default;for(let v=0;v<l.length;v++){const E=l[v],D=xn(E);"number"==typeof D?-1===D?d=E.token:g|=D:d=E}o.push(Xe(d,g))}else o.push(Xe(l))}return o}function Kn(s,o){return s[ra]=o,s.prototype[ra]=o,s}function xn(s){return s[ra]}const jr=Kn(Cn("Inject",s=>({token:s})),-1),vi=Kn(Cn("Optional"),8),So=Kn(Cn("SkipSelf"),4);class dd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function io(s){return s instanceof dd?s.changingThisBreaksApplicationSecurity:s}const so=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var sn=(()=>((sn=sn||{})[sn.NONE=0]="NONE",sn[sn.HTML=1]="HTML",sn[sn.STYLE=2]="STYLE",sn[sn.SCRIPT=3]="SCRIPT",sn[sn.URL=4]="URL",sn[sn.RESOURCE_URL=5]="RESOURCE_URL",sn))();function Fu(s){const o=function ua(){const s=De();return s&&s[12]}();return o?o.sanitize(sn.URL,s)||"":function oa(s,o){const a=function Ou(s){return s instanceof dd&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?io(s):function ku(s){return(s=String(s)).match(so)||s.match(Yh)?s:"unsafe:"+s}(fe(s))}const af="__ngContext__";function $r(s,o){s[af]=o}function uf(s){const o=function Ua(s){return s[af]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Ha(s){return s.ngOriginalError}function hg(s,...o){s.error(...o)}class Rr{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),l=function Qy(s){return s&&s.ngErrorLogger||hg}(o);l(this._console,"ERROR",o),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Ha(o);for(;a&&Ha(a);)a=Ha(a);return a||null}}const t_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ht))();function fg(s){return s.ownerDocument.defaultView}function m(s){return s instanceof Function?s():s}var oe=(()=>((oe=oe||{})[oe.Important=1]="Important",oe[oe.DashCase=2]="DashCase",oe))();function tt(s,o){return undefined(s,o)}function Rn(s){const o=s[3];return di(o)?o[3]:o}function Lu(s){return mf(s[13])}function Vu(s){return mf(s[4])}function mf(s){for(;null!==s&&!di(s);)s=s[4];return s}function la(s,o,a,l,d){if(null!=l){let g,v=!1;di(l)?g=l:Ri(l)&&(v=!0,l=l[0]);const E=cn(l);0===s&&null!==a?null==d?a_(o,a,E):Cs(o,a,E,d||null,!0):1===s&&null!==a?Cs(o,a,E,d||null,!0):2===s?function d_(s,o,a){const l=ca(s,o);l&&function MC(s,o,a,l){yn(s)?s.removeChild(o,a,l):o.removeChild(a)}(s,l,o,a)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function RC(s,o,a,l,d){const g=a[7];g!==cn(a)&&la(o,s,l,g,d);for(let E=10;E<a.length;E++){const D=a[E];_g(D[1],D,s,o,l,g)}}(o,s,g,a,d)}}function vd(s,o,a){if(yn(s))return s.createElement(o,a);{const l=null!==a?function gu(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?s.createElement(o):s.createElementNS(l,o)}}function yw(s,o){const a=s[9],l=a.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Ws(d,-1)),a.splice(l,1)}function i_(s,o){if(s.length<=10)return;const a=10+o,l=s[a];if(l){const d=l[17];null!==d&&d!==s&&yw(d,l),o>0&&(s[a-1][4]=l[4]);const g=bs(s,10+o);!function Hr(s,o){_g(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const v=g[19];null!==v&&v.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function s_(s,o){if(!(256&o[2])){const a=o[11];yn(a)&&a.destroyNode&&_g(s,o,a,3,null,null),function r_(s){let o=s[13];if(!o)return o_(s[1],s);for(;o;){let a=null;if(Ri(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==s;)Ri(o)&&o_(o[1],o),o=o[3];null===o&&(o=s),Ri(o)&&o_(o[1],o),a=o&&o[4]}o=a}}(o)}}function o_(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function vw(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof Yo)){const g=a[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=d[g[v]],D=g[v+1];try{D.call(E)}finally{}}else try{g.call(d)}finally{}}}}(s,o),function _w(s,o){const a=s.cleanup,l=o[7];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],E="function"==typeof v?v(o):cn(o[v]),D=l[d=a[g+2]],A=a[g+3];"boolean"==typeof A?E.removeEventListener(a[g],D,A):A>=0?l[d=A]():l[d=-A].unsubscribe(),g+=2}else{const v=l[d=a[g+1]];a[g].call(v)}if(null!==l){for(let g=d+1;g<l.length;g++)l[g]();o[7]=null}}(s,o),1===o[1].type&&yn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&di(o[3])){a!==o[3]&&yw(a,o);const l=o[19];null!==l&&l.detachView(s)}}}function mg(s,o,a){return function SC(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const d=s.data[l.directiveStart].encapsulation;if(d===Wt.None||d===Wt.Emulated)return null}return Ir(l,a)}(s,o.parent,a)}function Cs(s,o,a,l,d){yn(s)?s.insertBefore(o,a,l,d):o.insertBefore(a,l,d)}function a_(s,o,a){yn(s)?s.appendChild(o,a):o.appendChild(a)}function ww(s,o,a,l,d){null!==l?Cs(s,o,a,l,d):a_(s,o,a)}function ca(s,o){return yn(s)?s.parentNode(o):o.parentNode}function Ew(s,o,a){return u_(s,o,a)}let u_=function bw(s,o,a){return 40&s.type?Ir(s,a):null};function yg(s,o,a,l){const d=mg(s,l,o),g=o[11],E=Ew(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)ww(g,d,a[D],E,!1);else ww(g,d,a,E,!1)}function bd(s,o){if(null!==o){const a=o.type;if(3&a)return Ir(o,s);if(4&a)return c_(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return bd(s,l);{const d=s[o.index];return di(d)?c_(-1,d):cn(d)}}if(32&a)return tt(o,s)()||cn(s[o.index]);{const l=Cw(s,o);return null!==l?Array.isArray(l)?l[0]:bd(Rn(s[16]),l):bd(s,o.next)}}return null}function Cw(s,o){return null!==o?s[16][6].projection[o.projection]:null}function c_(s,o){const a=10+s+1;if(a<o.length){const l=o[a],d=l[1].firstChild;if(null!==d)return bd(l,d)}return o[7]}function h_(s,o,a,l,d,g,v){for(;null!=a;){const E=l[a.index],D=a.type;if(v&&0===o&&(E&&$r(cn(E),l),a.flags|=4),64!=(64&a.flags))if(8&D)h_(s,o,a.child,l,d,g,!1),la(o,s,d,E,g);else if(32&D){const A=tt(a,l);let x;for(;x=A();)la(o,s,d,x,g);la(o,s,d,E,g)}else 16&D?vg(s,o,l,a,d,g):la(o,s,d,E,g);a=v?a.projectionNext:a.next}}function _g(s,o,a,l,d,g){h_(a,l,s.firstChild,o,d,g,!1)}function vg(s,o,a,l,d,g){const v=a[16],D=v[6].projection[l.projection];if(Array.isArray(D))for(let A=0;A<D.length;A++)la(o,s,d,D[A],g);else h_(s,o,D,v[3],d,g,!0)}function f_(s,o,a){yn(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function Tw(s,o,a){yn(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function Aw(s,o,a){let l=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const g=o.length;if(d+g===l||s.charCodeAt(d+g)<=32)return d}a=d+1}}const Sw="ng-template";function Un(s,o,a){let l=0;for(;l<s.length;){let d=s[l++];if(a&&"class"===d){if(d=s[l],-1!==Aw(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<s.length&&"string"==typeof(d=s[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function OC(s){return 4===s.type&&s.value!==Sw}function CM(s,o,a){return o===(4!==s.type||a?s.value:Sw)}function IM(s,o,a){let l=4;const d=s.attrs||[],g=function SM(s){for(let o=0;o<s.length;o++)if(lr(s[o]))return o;return s.length}(d);let v=!1;for(let E=0;E<o.length;E++){const D=o[E];if("number"!=typeof D){if(!v)if(4&l){if(l=2|1&l,""!==D&&!CM(s,D,a)||""===D&&1===o.length){if(da(l))return!1;v=!0}}else{const A=8&l?D:o[++E];if(8&l&&null!==s.attrs){if(!Un(s.attrs,A,a)){if(da(l))return!1;v=!0}continue}const P=TM(8&l?"class":D,d,OC(s),a);if(-1===P){if(da(l))return!1;v=!0;continue}if(""!==A){let U;U=P>g?"":d[P+1].toLowerCase();const Z=8&l?U:null;if(Z&&-1!==Aw(Z,A,0)||2&l&&A!==U){if(da(l))return!1;v=!0}}}}else{if(!v&&!da(l)&&!da(D))return!1;if(v&&da(D))continue;v=!1,l=D|1&l}}return da(l)||v}function da(s){return 0==(1&s)}function TM(s,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let g=!1;for(;d<o.length;){const v=o[d];if(v===s)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++d];for(;"string"==typeof E;)E=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function MM(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function kC(s,o,a=!1){for(let l=0;l<o.length;l++)if(IM(s,o[l],a))return!0;return!1}function xM(s,o){e:for(let a=0;a<o.length;a++){const l=o[a];if(s.length===l.length){for(let d=0;d<s.length;d++)if(s[d]!==l[d])continue e;return!0}}return!1}function PC(s,o){return s?":not("+o.trim()+")":o}function wg(s){let o=s[0],a=1,l=2,d="",g=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&l){const E=s[++a];d+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?d+="."+v:4&l&&(d+=" "+v);else""!==d&&!da(v)&&(o+=PC(g,d),d=""),l=v,g=g||!da(l);a++}return""!==d&&(o+=PC(g,d)),o}const Lt={};function ha(s){g_(Bt(),De(),Ar()+s,bu())}function g_(s,o,a,l){if(!l)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Pa(o,g,a)}else{const g=s.preOrderHooks;null!==g&&Tu(o,g,0,a)}Qs(a)}function Bu(s,o){return s<<17|o<<2}function Oo(s){return s>>17&32767}function m_(s){return 2|s}function fa(s){return(131068&s)>>2}function y_(s,o){return-131069&s|o<<2}function Dd(s){return 1|s}function C_(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],g=a[l+1];if(-1!==g){const v=s.data[g];xl(d),v.contentQueries(2,o[g],g)}}}function Ga(s,o,a,l,d,g,v,E,D,A){const x=o.blueprint.slice();return x[0]=d,x[2]=140|l,zs(x),x[3]=x[15]=s,x[8]=a,x[10]=v||s&&s[10],x[11]=E||s&&s[11],x[12]=D||s&&s[12]||null,x[9]=A||s&&s[9]||null,x[6]=g,x[16]=2==o.type?s[16]:x,x}function Td(s,o,a,l,d){let g=s.data[o];if(null===g)g=function Tn(s,o,a,l,d){const g=Wo(),v=Cl(),D=s.data[o]=function $w(s,o,a,l,d,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,o,l,d);return null===s.firstChild&&(s.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(s,o,a,l,d),function Al(){return pt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=d;const v=function Ko(){const s=pt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return ei(g,!0),g}function cc(s,o,a,l){if(0===a)return-1;const d=o.length;for(let g=0;g<a;g++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function dc(s,o,a){_o(o);try{const l=s.viewQuery;null!==l&&x_(1,l,a);const d=s.template;null!==d&&T_(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&C_(s,o),s.staticViewQueries&&x_(2,s.viewQuery,a);const g=s.components;null!==g&&function Vw(s,o){for(let a=0;a<o.length;a++)Qw(s,o[a])}(o,g)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,wo()}}function ju(s,o,a,l){const d=o[2];if(256==(256&d))return;_o(o);const g=bu();try{zs(o),function Du(s){return pt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&T_(s,o,a,2,l);const v=3==(3&d);if(!g)if(v){const A=s.preOrderCheckHooks;null!==A&&Pa(o,A,null)}else{const A=s.preOrderHooks;null!==A&&Tu(o,A,0,null),zn(o,0)}if(function eI(s){for(let o=Lu(s);null!==o;o=Vu(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const d=a[l],g=d[3];0==(1024&d[2])&&Ws(g,1),d[2]|=1024}}}(o),function XC(s){for(let o=Lu(s);null!==o;o=Vu(o))for(let a=10;a<o.length;a++){const l=o[a],d=l[1];ys(l)&&ju(d,l,d.template,l[8])}}(o),null!==s.contentQueries&&C_(s,o),!g)if(v){const A=s.contentCheckHooks;null!==A&&Pa(o,A)}else{const A=s.contentHooks;null!==A&&Tu(o,A,1),zn(o,1)}!function Fw(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)Qs(~d);else{const g=d,v=a[++l],E=a[++l];Iu(v,g),E(2,o[g])}}}finally{Qs(-1)}}(s,o);const E=s.components;null!==E&&function Lw(s,o){for(let a=0;a<o.length;a++)Yw(s,o[a])}(o,E);const D=s.viewQuery;if(null!==D&&x_(2,D,l),!g)if(v){const A=s.viewCheckHooks;null!==A&&Pa(o,A)}else{const A=s.viewHooks;null!==A&&Tu(o,A,2),zn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Ws(o[3],-1))}finally{wo()}}function I_(s,o,a,l){const d=o[10],g=!bu(),v=qs(o);try{g&&!v&&d.begin&&d.begin(),v&&dc(s,o,l),ju(s,o,a,l)}finally{g&&!v&&d.end&&d.end()}}function T_(s,o,a,l,d){const g=Ar(),v=2&l;try{Qs(-1),v&&o.length>20&&g_(s,o,20,bu()),a(l,d)}finally{Qs(g)}}function Tg(s,o,a){!Eu()||(function KC(s,o,a,l){const d=a.directiveStart,g=a.directiveEnd;s.firstCreatePass||Wn(a,o),$r(l,o);const v=a.initialInputs;for(let E=d;E<g;E++){const D=s.data[E],A=Qr(D);A&&YC(o,a,D);const x=Pi(o,s,E,a);$r(x,o),null!==v&&QC(0,E-d,x,D,0,v),A&&(Tr(a.index,o)[8]=x)}}(s,o,a,Ir(a,o)),128==(128&a.flags)&&function Sg(s,o,a){const l=a.directiveStart,d=a.directiveEnd,v=a.index,E=function Sl(){return pt.lFrame.currentDirectiveIndex}();try{Qs(v);for(let D=l;D<d;D++){const A=s.data[D],x=o[D];ka(D),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Df(A,x)}}finally{Qs(-1),ka(E)}}(s,o,a))}function wf(s,o,a=Ir){const l=o.localNames;if(null!==l){let d=o.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],E=-1===v?a(o,s):s[v];s[d++]=E}}}function Uw(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Ef(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Ef(s,o,a,l,d,g,v,E,D,A){const x=20+l,P=x+d,U=function jC(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:Lt);return a}(x,P),Z="function"==typeof A?A():A;return U[1]={type:s,blueprint:U,template:a,queries:null,viewQuery:E,declTNode:o,data:U.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:Z,incompleteFirstPass:!1}}function A_(s,o,a,l){const d=R_(o);null===a?d.push(l):(d.push(a),s.firstCreatePass&&N_(s).push(l,d.length-1))}function Ag(s,o,a){for(let l in s)if(s.hasOwnProperty(l)){const d=s[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,d):a[l]=[o,d]}return a}function S_(s,o,a,l){let d=!1;if(Eu()){const g=function WM(s,o,a){const l=s.directiveRegistry;let d=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];kC(a,v.selectors,!1)&&(d||(d=[]),Js(Wn(a,o),s,v.type),Qr(v)?(Ad(s,a),d.unshift(v)):d.push(v))}return d}(s,o,a),v=null===l?null:{"":-1};if(null!==g){d=!0,zw(a,s.data.length,g.length);for(let x=0;x<g.length;x++){const P=g[x];P.providersResolver&&P.providersResolver(P)}let E=!1,D=!1,A=cc(s,o,g.length,null);for(let x=0;x<g.length;x++){const P=g[x];a.mergedAttrs=Vr(a.mergedAttrs,P.hostAttrs),Ww(s,a,o,A,P),Cf(A,P,v),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const U=P.type.prototype;!E&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),E=!0),!D&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),D=!0),A++}!function Hw(s,o){const l=o.directiveEnd,d=s.data,g=o.attrs,v=[];let E=null,D=null;for(let A=o.directiveStart;A<l;A++){const x=d[A],P=x.inputs,U=null===g||OC(o)?null:Kw(P,g);v.push(U),E=Ag(P,A,E),D=Ag(x.outputs,A,D)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=D}(s,a)}v&&function ZC(s,o,a){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const g=a[o[d+1]];if(null==g)throw new Oe(-301,!1);l.push(o[d],g)}}}(a,l,v)}return a.mergedAttrs=Vr(a.mergedAttrs,a.attrs),d}function qw(s,o,a,l,d,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const D=~o.index;(function WC(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(E)!=D&&E.push(D),E.push(l,d,v)}}function Df(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Ad(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Cf(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;Qr(o)&&(a[""]=s)}}function zw(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function Ww(s,o,a,l,d){s.data[l]=d;const g=d.factory||(d.factory=Jr(d.type)),v=new Yo(g,Qr(d),null);s.blueprint[l]=v,a[l]=v,qw(s,o,0,l,cc(s,a,d.hostVars,Lt),d)}function YC(s,o,a){const l=Ir(o,s),d=Uw(a),g=s[10],v=Sd(s,Ga(s,d,null,a.onPush?64:16,l,o,g,g.createRenderer(l,a),null,null));s[o.index]=v}function ko(s,o,a,l,d,g){const v=Ir(s,o);!function qa(s,o,a,l,d,g,v){if(null==g)yn(s)?s.removeAttribute(o,d,a):o.removeAttribute(d);else{const E=null==v?fe(g):v(g,l||"",d);yn(s)?s.setAttribute(o,d,E,a):a?o.setAttributeNS(a,d,E):o.setAttribute(d,E)}}(o[11],v,g,s.value,a,l,d)}function QC(s,o,a,l,d,g){const v=g[o];if(null!==v){const E=l.setInput;for(let D=0;D<v.length;){const A=v[D++],x=v[D++],P=v[D++];null!==E?l.setInput(a,P,A,x):a[x]=P}}}function Kw(s,o){let a=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,s[d],o[l+1])),l+=2}else l+=2;else l+=4}return a}function Zw(s,o,a,l){return new Array(s,!0,!1,o,null,0,l,a,null,null)}function Yw(s,o){const a=Tr(o,s);if(ys(a)){const l=a[1];80&a[2]?ju(l,a,l.template,a[8]):a[5]>0&&Mg(a)}}function Mg(s){for(let l=Lu(s);null!==l;l=Vu(l))for(let d=10;d<l.length;d++){const g=l[d];if(1024&g[2]){const v=g[1];ju(v,g,v.template,g[8])}else g[5]>0&&Mg(g)}const a=s[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=Tr(a[l],s);ys(d)&&d[5]>0&&Mg(d)}}function Qw(s,o){const a=Tr(o,s),l=a[1];(function tI(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),dc(l,a,a[8])}function Sd(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function xg(s){for(;s;){s[2]|=64;const o=Rn(s);if(Fh(s)&&!o)return s;s=o}return null}function M_(s,o,a){const l=o[10];l.begin&&l.begin();try{ju(s,o,s.template,a)}catch(d){throw eE(o,d),d}finally{l.end&&l.end()}}function Jw(s){!function Rg(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],l=uf(a),d=l[1];I_(d,l,d.template,a)}}(s[8])}function x_(s,o,a){xl(0),o(s,a)}const iI=(()=>Promise.resolve(null))();function R_(s){return s[7]||(s[7]=[])}function N_(s){return s.cleanup||(s.cleanup=[])}function eE(s,o){const a=s[9],l=a?a.get(Rr,null):null;l&&l.handleError(o)}function tE(s,o,a,l,d){for(let g=0;g<a.length;){const v=a[g++],E=a[g++],D=o[v],A=s.data[v];null!==A.setInput?A.setInput(D,d,l,E):D[E]=d}}function ma(s,o,a){const l=yo(o,s);!function _d(s,o,a){yn(s)?s.setValue(o,a):o.textContent=a}(s[11],l,a)}function Ng(s,o,a){let l=a?s.styles:null,d=a?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?d=ce(d,E):2==g&&(l=ce(l,E+": "+o[++v]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=d:s.classesWithoutHost=d}const O_=new Mn("INJECTOR",-1);class k_{get(o,a=To){if(a===To){const l=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw l.name="NullInjectorError",l}return a}}const nE=new Mn("Set Injector scope."),Md={},Og={};let P_;function $i(){return void 0===P_&&(P_=new k_),P_}function uI(s,o=null,a=null,l){const d=If(s,o,a,l);return d._resolveInjectorDefTypes(),d}function If(s,o=null,a=null,l){return new F_(s,a,o||$i(),l)}class F_{constructor(o,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&yi(a,E=>this.processProvider(E,o,a)),yi([o],E=>this.processInjectorType(E,[],g)),this.records.set(O_,Tf(void 0,this));const v=this.records.get(nE);this.scope=null!=v?v.value:null,this.source=d||("object"==typeof o?null:he(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=To,l=dt.Default){this.assertNotDestroyed();const d=xe(this),g=Yn(void 0);try{if(!(l&dt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const D=function pI(s){return"function"==typeof s||"object"==typeof s&&s instanceof Mn}(o)&&zt(o);E=D&&this.injectableDefInScope(D)?Tf(L_(o),Md):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(l&dt.Self?$i():this.parent).get(o,a=l&dt.Optional&&a===To?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Ru]=v[Ru]||[]).unshift(he(o)),d)throw v;return function ia(s,o,a,l){const d=s[Ru];throw o[L]&&d.unshift(o[L]),s.message=function Ao(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=he(o);if(Array.isArray(o))d=o.map(he).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):he(E)))}d=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${s.replace(I,"\n  ")}`}("\n"+s.message,d,a,l),s.ngTokenPath=d,s[Ru]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Yn(g),xe(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((l,d)=>o.push(he(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processInjectorType(o,a,l){if(!(o=J(o)))return!1;let d=Fr(o);const g=null==d&&o.ngModule||void 0,v=void 0===g?o:g,E=-1!==l.indexOf(v);if(void 0!==g&&(d=Fr(g)),null==d)return!1;if(null!=d.imports&&!E){let x;l.push(v);try{yi(d.imports,P=>{this.processInjectorType(P,a,l)&&(void 0===x&&(x=[]),x.push(P))})}finally{}if(void 0!==x)for(let P=0;P<x.length;P++){const{ngModule:U,providers:Z}=x[P];yi(Z,ye=>this.processProvider(ye,U,Z||ht))}}this.injectorDefTypes.add(v);const D=Jr(v)||(()=>new v);this.records.set(v,Tf(D,Md));const A=d.providers;if(null!=A&&!E){const x=o;yi(A,P=>this.processProvider(P,x,A))}return void 0!==g&&void 0!==o.providers}processProvider(o,a,l){let d=xd(o=J(o))?o:J(o&&o.provide);const g=function YM(s,o,a){return rE(s)?Tf(void 0,s.useValue):Tf(cI(s),Md)}(o);if(xd(o)||!0!==o.multi)this.records.get(d);else{let v=this.records.get(d);v||(v=Tf(void 0,Md,!0),v.factory=()=>St(v.multi),this.records.set(d,v)),d=o,v.multi.push(o)}this.records.set(d,g)}hydrate(o,a){return a.value===Md&&(a.value=Og,a.value=a.factory()),"object"==typeof a.value&&a.value&&function fI(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=J(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function L_(s){const o=zt(s),a=null!==o?o.factory:Jr(s);if(null!==a)return a;if(s instanceof Mn)throw new Oe(204,!1);if(s instanceof Function)return function lI(s){const o=s.length;if(o>0)throw Vi(o,"?"),new Oe(204,!1);const a=function ui(s){const o=s&&(s[Ki]||s[cs]);if(o){const a=function ks(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Oe(204,!1)}function cI(s,o,a){let l;if(xd(s)){const d=J(s);return Jr(d)||L_(d)}if(rE(s))l=()=>J(s.useValue);else if(function QM(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...St(s.deps||[]));else if(function V_(s){return!(!s||!s.useExisting)}(s))l=()=>Xe(J(s.useExisting));else{const d=J(s&&(s.useClass||s.provide));if(!function hI(s){return!!s.deps}(s))return Jr(d)||L_(d);l=()=>new d(...St(s.deps))}return l}function Tf(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function rE(s){return null!==s&&"object"==typeof s&&K in s}function xd(s){return"function"==typeof s}let Po=(()=>{class s{static create(a,l){var d;if(Array.isArray(a))return uI({name:""},l,a,"");{const g=null!==(d=a.name)&&void 0!==d?d:"";return uI({name:g},a.parent,a.providers,g)}}}return s.THROW_IF_NOT_FOUND=To,s.NULL=new k_,s.\u0275prov=an({token:s,providedIn:"any",factory:()=>Xe(O_)}),s.__NG_ELEMENT_ID__=-1,s})();function cE(s,o){_s(uf(s)[1],En())}function kg(s){let o=function z_(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let d;if(Qr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Oe(903,"");d=o.\u0275dir}if(d){if(a){l.push(d);const v=s;v.inputs=Pg(s.inputs),v.declaredInputs=Pg(s.declaredInputs),v.outputs=Pg(s.outputs);const E=d.hostBindings;E&&hE(s,E);const D=d.viewQuery,A=d.contentQueries;if(D&&dE(s,D),A&&W_(s,A),re(s.inputs,d.inputs),re(s.declaredInputs,d.declaredInputs),re(s.outputs,d.outputs),Qr(d)&&d.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===kg&&(a=!1)}}o=Object.getPrototypeOf(o)}!function EI(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Vr(d.hostAttrs,a=Vr(a,d.hostAttrs))}}(l)}function Pg(s){return s===pr?{}:s===ht?[]:s}function dE(s,o){const a=s.viewQuery;s.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function W_(s,o){const a=s.contentQueries;s.contentQueries=a?(l,d,g)=>{o(l,d,g),a(l,d,g)}:o}function hE(s,o){const a=s.hostBindings;s.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}let Sf=null;function Gu(){if(!Sf){const s=Ht.Symbol;if(s&&s.iterator)Sf=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Sf=l)}}}return Sf}function Nd(s){return!!_a(s)&&(Array.isArray(s)||!(s instanceof Map)&&Gu()in s)}function _a(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function jn(s,o,a){return s[o]=a}function Gi(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Mf(s,o,a,l){const d=De();return Gi(d,Zs(),o)&&(Bt(),ko(Sn(),d,s,o,a,l)),Mf}function EE(s,o,a,l,d,g,v,E){const D=De(),A=Bt(),x=s+20,P=A.firstCreatePass?function Lg(s,o,a,l,d,g,v,E,D){const A=o.consts,x=Td(o,s,4,v||null,Xr(A,E));S_(o,a,x,Xr(A,D)),_s(o,x);const P=x.tViews=Ef(2,x,l,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,x),P.queries=o.queries.embeddedTView(x)),x}(x,A,D,o,a,l,d,g,v):A.data[x];ei(P,!1);const U=D[11].createComment("");yg(A,D,U,P),$r(U,D),Sd(D,D[x]=Zw(U,D,U,P)),lu(P)&&Tg(A,D,P),null!=v&&wf(D,P,E)}function Lf(s){return Ni(function Tl(){return pt.lFrame.contextLView}(),20+s)}function Gg(s,o=dt.Default){const a=De();return null===a?Xe(s,o):Xs(En(),a,J(s),o)}function SI(){throw new Error("invalid")}function FE(s,o,a){const l=De();return Gi(l,Zs(),o)&&function Ei(s,o,a,l,d,g,v,E){const D=Ir(o,a);let x,A=o.inputs;!E&&null!=A&&(x=A[l])?(tE(s,a,x,l,d),Us(o)&&function HC(s,o){const a=Tr(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(l=function $C(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=v?v(d,o.value||"",l):d,yn(g)?g.setProperty(D,l,d):ti(l)||(D.setProperty?D.setProperty(l,d):D[l]=d))}(Bt(),Sn(),l,s,o,l[11],a,!1),FE}function rv(s,o,a,l,d){const v=d?"class":"style";tE(s,a,o.inputs[v],v,l)}function qg(s,o,a,l){const d=De(),g=Bt(),v=20+s,E=d[11],D=d[v]=vd(E,o,function My(){return pt.lFrame.currentNamespace}()),A=g.firstCreatePass?function LE(s,o,a,l,d,g,v){const E=o.consts,A=Td(o,s,2,d,Xr(E,g));return S_(o,a,A,Xr(E,v)),null!==A.attrs&&Ng(A,A.attrs,!1),null!==A.mergedAttrs&&Ng(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(v,g,d,0,o,a,l):g.data[v];ei(A,!0);const x=A.mergedAttrs;null!==x&&yt(E,D,x);const P=A.classes;null!==P&&Tw(E,D,P);const U=A.styles;return null!==U&&f_(E,D,U),64!=(64&A.flags)&&yg(g,d,D,A),0===function Oa(){return pt.lFrame.elementDepthCount}()&&$r(D,d),function vu(){pt.lFrame.elementDepthCount++}(),lu(A)&&(Tg(g,d,A),function Bw(s,o,a){if(Fc(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}(g,A,d)),null!==l&&wf(d,A),qg}function jf(){let s=En();Cl()?Il():(s=s.parent,ei(s,!1));const o=s;!function wu(){pt.lFrame.elementDepthCount--}();const a=Bt();return a.firstCreatePass&&(_s(a,s),Fc(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function jh(s){return 0!=(16&s.flags)}(o)&&rv(a,o,De(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Zp(s){return 0!=(32&s.flags)}(o)&&rv(a,o,De(),o.stylesWithoutHost,!1),jf}function zg(s,o,a,l){return qg(s,o,a,l),jf(),zg}function sv(){return De()}function ov(s){return!!s&&"function"==typeof s.then}function av(s){return!!s&&"function"==typeof s.subscribe}const BE=av;function Kg(s,o,a,l){const d=De(),g=Bt(),v=En();return function uv(s,o,a,l,d,g,v,E){const D=lu(l),x=s.firstCreatePass&&N_(s),P=o[8],U=R_(o);let Z=!0;if(3&l.type||E){const Ge=Ir(l,o),je=E?E(Ge):Ge,Ce=U.length,gt=E?jt=>E(cn(jt[l.index])):l.index;if(yn(a)){let jt=null;if(!E&&D&&(jt=function RI(s,o,a,l){const d=s.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===a&&d[g+1]===l){const E=o[7],D=d[g+2];return E.length>D?E[D]:null}"string"==typeof v&&(g+=2)}return null}(s,o,d,l.index)),null!==jt)(jt.__ngLastListenerFn__||jt).__ngNextListenerFn__=g,jt.__ngLastListenerFn__=g,Z=!1;else{g=fc(l,o,P,g,!1);const qt=a.listen(je,d,g);U.push(g,qt),x&&x.push(d,gt,Ce,Ce+1)}}else g=fc(l,o,P,g,!0),je.addEventListener(d,g,v),U.push(g),x&&x.push(d,gt,Ce,v)}else g=fc(l,o,P,g,!1);const ye=l.outputs;let Fe;if(Z&&null!==ye&&(Fe=ye[d])){const Ge=Fe.length;if(Ge)for(let je=0;je<Ge;je+=2){const Wi=o[Fe[je]][Fe[je+1]].subscribe(g),hl=U.length;U.push(g,Wi),x&&x.push(d,l.index,hl,-(hl+1))}}}(g,d,d[11],v,s,o,!!a,l),Kg}function UE(s,o,a,l){try{return!1!==a(l)}catch(d){return eE(s,d),!1}}function fc(s,o,a,l,d){return function g(v){if(v===Function)return l;const E=2&s.flags?Tr(s.index,o):o;0==(32&o[2])&&xg(E);let D=UE(o,0,l,v),A=g.__ngNextListenerFn__;for(;A;)D=UE(o,0,A,v)&&D,A=A.__ngNextListenerFn__;return d&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function jE(s=1){return function Ys(s){return(pt.lFrame.contextLView=function Nl(s,o){for(;s>0;)o=o[15],s--;return o}(s,pt.lFrame.contextLView))[8]}(s)}function lv(s,o){let a=null;const l=function AM(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let d=0;d<o.length;d++){const g=o[d];if("*"!==g){if(null===l?kC(s,g,!0):xM(l,g))return d}else a=d}return a}function $E(s){const o=De()[16][6];if(!o.projection){const l=o.projection=Vi(s?s.length:1,null),d=l.slice();let g=o.child;for(;null!==g;){const v=s?lv(g,s):0;null!==v&&(d[v]?d[v].projectionNext=g:l[v]=g,d[v]=g),g=g.next}}}function Yg(s,o=0,a){const l=De(),d=Bt(),g=Td(d,20+s,16,null,a||null);null===g.projection&&(g.projection=o),Il(),64!=(64&g.flags)&&function Iw(s,o,a){vg(o[11],0,o,a,mg(s,a,o),Ew(a.parent||o[6],a,o))}(d,l,g)}function WE(s,o,a,l,d){const g=s[a+1],v=null===o;let E=l?Oo(g):fa(g),D=!1;for(;0!==E&&(!1===D||v);){const x=s[E+1];KE(s[E],o)&&(D=!0,s[E+1]=l?Dd(x):m_(x)),E=l?Oo(x):fa(x)}D&&(s[a+1]=l?m_(g):Dd(g))}function KE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ro(s,o)>=0}const Nr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gv(s){return s.substring(Nr.key,Nr.keyEnd)}function mv(s,o){const a=Nr.textEnd;return a===o?-1:(o=Nr.keyEnd=function _v(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Nr.key=o,a),$d(s,o,a))}function $d(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Jg(s,o){return function Ea(s,o,a,l){const d=De(),g=Bt(),v=Oi(2);g.firstUpdatePass&&vv(g,s,v,l),o!==Lt&&Gi(d,v,o)&&Dv(g,g.data[Ar()],d,d[11],s,d[v+1]=function ni(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(io(s)))),s}(o,a),l,v)}(s,o,null,!0),Jg}function PI(s){!function Fo(s,o,a,l){const d=Bt(),g=Oi(2);d.firstUpdatePass&&vv(d,null,g,l);const v=De();if(a!==Lt&&Gi(v,g,a)){const E=d.data[Ar()];if(tm(E,l)&&!FI(d,g)){let D=l?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(a=ce(D,a||"")),rv(d,E,v,a,l)}else!function bv(s,o,a,l,d,g,v,E){d===Lt&&(d=ht);let D=0,A=0,x=0<d.length?d[0]:null,P=0<g.length?g[0]:null;for(;null!==x||null!==P;){const U=D<d.length?d[D+1]:void 0,Z=A<g.length?g[A+1]:void 0;let Fe,ye=null;x===P?(D+=2,A+=2,U!==Z&&(ye=P,Fe=Z)):null===P||null!==x&&x<P?(D+=2,ye=x):(A+=2,ye=P,Fe=Z),null!==ye&&Dv(s,o,a,l,ye,Fe,v,E),x=D<d.length?d[D]:null,P=A<g.length?g[A]:null}}(d,E,v,v[11],v[g+1],v[g+1]=function LI(s,o,a){if(null==a||""===a)return ht;const l=[],d=io(a);if(Array.isArray(d))for(let g=0;g<d.length;g++)s(l,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&s(l,g,d[g]);else"string"==typeof d&&o(l,d);return l}(s,o,a),l,g)}}(Jn,Wa,s,!0)}function Wa(s,o){for(let a=function NI(s){return function ZE(s){Nr.key=0,Nr.keyEnd=0,Nr.value=0,Nr.valueEnd=0,Nr.textEnd=s.length}(s),mv(s,$d(s,0,Nr.textEnd))}(o);a>=0;a=mv(o,a))Jn(s,gv(o),!0)}function FI(s,o){return o>=s.expandoStartIndex}function vv(s,o,a,l){const d=s.data;if(null===d[a+1]){const g=d[Ar()],v=FI(s,a);tm(g,l)&&null===o&&!v&&(o=!1),o=function rx(s,o,a,l){const d=function Zo(s){const o=pt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=Hf(a=Ev(null,s,o,a,l),o.attrs,l),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==d)if(a=Ev(d,s,o,a,l),null===g){let D=function ix(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==fa(l))return s[Oo(l)]}(s,o,l);void 0!==D&&Array.isArray(D)&&(D=Ev(null,s,o,D[1],l),D=Hf(D,o.attrs,l),function sx(s,o,a,l){s[Oo(a?o.classBindings:o.styleBindings)]=l}(s,o,l,D))}else g=function wv(s,o,a){let l;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)l=Hf(l,s[g].hostAttrs,a);return Hf(l,o.attrs,a)}(s,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),a}(d,g,o,l),function nx(s,o,a,l,d,g){let v=g?o.classBindings:o.styleBindings,E=Oo(v),D=fa(v);s[l]=a;let x,A=!1;if(Array.isArray(a)){const P=a;x=P[1],(null===x||ro(P,x)>0)&&(A=!0)}else x=a;if(d)if(0!==D){const U=Oo(s[E+1]);s[l+1]=Bu(U,E),0!==U&&(s[U+1]=y_(s[U+1],l)),s[E+1]=function RM(s,o){return 131071&s|o<<17}(s[E+1],l)}else s[l+1]=Bu(E,0),0!==E&&(s[E+1]=y_(s[E+1],l)),E=l;else s[l+1]=Bu(D,0),0===E?E=l:s[D+1]=y_(s[D+1],l),D=l;A&&(s[l+1]=m_(s[l+1])),WE(s,x,l,!0),WE(s,x,l,!1),function pv(s,o,a,l,d){const g=d?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&ro(g,o)>=0&&(a[l+1]=Dd(a[l+1]))}(o,x,s,l,g),v=Bu(E,D),g?o.classBindings=v:o.styleBindings=v}(d,g,o,a,v,l)}}function Ev(s,o,a,l,d){let g=null;const v=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<v&&(g=o[E],l=Hf(l,g.hostAttrs,d),g!==s);)E++;return null!==s&&(a.directiveStylingLast=E),l}function Hf(s,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?d=v:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Jn(s,v,!!a||o[++g]))}return void 0===s?null:s}function Dv(s,o,a,l,d,g,v,E){if(!(3&o.type))return;const D=s.data,A=D[E+1];em(function LC(s){return 1==(1&s)}(A)?Xg(D,o,a,d,fa(A),v):void 0)||(em(g)||function FC(s){return 2==(2&s)}(A)&&(g=Xg(D,null,a,d,E,v)),function NC(s,o,a,l,d){const g=yn(s);if(o)d?g?s.addClass(a,l):a.classList.add(l):g?s.removeClass(a,l):a.classList.remove(l);else{let v=-1===l.indexOf("-")?void 0:oe.DashCase;if(null==d)g?s.removeStyle(a,l,v):a.style.removeProperty(l);else{const E="string"==typeof d&&d.endsWith("!important");E&&(d=d.slice(0,-10),v|=oe.Important),g?s.setStyle(a,l,d,v):a.style.setProperty(l,d,E?"important":"")}}}(l,v,yo(Ar(),a),d,g))}function Xg(s,o,a,l,d,g){const v=null===o;let E;for(;d>0;){const D=s[d],A=Array.isArray(D),x=A?D[1]:D,P=null===x;let U=a[d+1];U===Lt&&(U=P?ht:void 0);let Z=P?zl(U,l):x===l?U:void 0;if(A&&!em(Z)&&(Z=zl(D,l)),em(Z)&&(E=Z,v))return E;const ye=s[d+1];d=v?Oo(ye):fa(ye)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(E=zl(D,l))}return E}function em(s){return void 0!==s}function tm(s,o){return 0!=(s.flags&(o?16:32))}function rb(s,o=""){const a=De(),l=Bt(),d=s+20,g=l.firstCreatePass?Td(l,d,1,o,null):l.data[d],v=a[d]=function yd(s,o){return yn(s)?s.createText(o):s.createTextNode(o)}(a[11],o);yg(l,a,v,g),ei(g,!1)}function Cv(s){return Ts("",s,""),Cv}function Ts(s,o,a){const l=De(),d=function Fd(s,o,a,l){return Gi(s,Zs(),a)?o+fe(a)+l:Lt}(l,s,o,a);return d!==Lt&&ma(l,Ar(),d),Ts}const Ku=void 0;var ab=["en",[["a","p"],["AM","PM"],Ku],[["AM","PM"],Ku,Ku],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ku,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ku,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ku,"{1} 'at' {0}",Ku],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ov(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let gc={};function Wf(s){const o=function lb(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=mc(o);if(a)return a;const l=o.split("-")[0];if(a=mc(l),a)return a;if("en"===l)return ab;throw new Error(`Missing locale data for the locale "${s}".`)}function ub(s){return Wf(s)[vt.PluralCase]}function mc(s){return s in gc||(gc[s]=Ht.ng&&Ht.ng.common&&Ht.ng.common.locales&&Ht.ng.common.locales[s]),gc[s]}var vt=(()=>((vt=vt||{})[vt.LocaleId=0]="LocaleId",vt[vt.DayPeriodsFormat=1]="DayPeriodsFormat",vt[vt.DayPeriodsStandalone=2]="DayPeriodsStandalone",vt[vt.DaysFormat=3]="DaysFormat",vt[vt.DaysStandalone=4]="DaysStandalone",vt[vt.MonthsFormat=5]="MonthsFormat",vt[vt.MonthsStandalone=6]="MonthsStandalone",vt[vt.Eras=7]="Eras",vt[vt.FirstDayOfWeek=8]="FirstDayOfWeek",vt[vt.WeekendRange=9]="WeekendRange",vt[vt.DateFormat=10]="DateFormat",vt[vt.TimeFormat=11]="TimeFormat",vt[vt.DateTimeFormat=12]="DateTimeFormat",vt[vt.NumberSymbols=13]="NumberSymbols",vt[vt.NumberFormats=14]="NumberFormats",vt[vt.CurrencyCode=15]="CurrencyCode",vt[vt.CurrencySymbol=16]="CurrencySymbol",vt[vt.CurrencyName=17]="CurrencyName",vt[vt.Currencies=18]="Currencies",vt[vt.Directionality=19]="Directionality",vt[vt.PluralCase=20]="PluralCase",vt[vt.ExtraData=21]="ExtraData",vt))();const yc="en-US";let om=yc;function _m(s,o,a,l,d){if(s=J(s),Array.isArray(s))for(let g=0;g<s.length;g++)_m(s[g],o,a,l,d);else{const g=Bt(),v=De();let E=xd(s)?s:J(s.provide),D=cI(s);const A=En(),x=1048575&A.providerIndexes,P=A.directiveStart,U=A.providerIndexes>>20;if(xd(s)||!s.multi){const Z=new Yo(D,d,Gg),ye=vc(E,o,d?x:x+U,P);-1===ye?(Js(Wn(A,v),g,E),vm(g,s,o.length),o.push(E),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(Z),v.push(Z)):(a[ye]=Z,v[ye]=Z)}else{const Z=vc(E,o,x+U,P),ye=vc(E,o,x,x+U),Fe=Z>=0&&a[Z],Ge=ye>=0&&a[ye];if(d&&!Ge||!d&&!Fe){Js(Wn(A,v),g,E);const je=function Ec(s,o,a,l,d){const g=new Yo(s,a,Gg);return g.multi=[],g.index=o,g.componentProviders=0,Mb(g,d,l&&!a),g}(d?wm:xb,a.length,d,l,D);!d&&Ge&&(a[ye].providerFactory=je),vm(g,s,o.length,0),o.push(E),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(je),v.push(je)}else vm(g,s,Z>-1?Z:ye,Mb(a[d?ye:Z],D,!d&&l));!d&&l&&Ge&&a[ye].componentProviders++}}}function vm(s,o,a,l){const d=xd(o),g=function dI(s){return!!s.useClass}(o);if(d||g){const D=(g?J(o.useClass):o).prototype.ngOnDestroy;if(D){const A=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const x=A.indexOf(a);-1===x?A.push(a,[l,D]):A[x+1].push(l,D)}else A.push(a,D)}}}function Mb(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function vc(s,o,a,l){for(let d=a;d<l;d++)if(o[d]===s)return d;return-1}function xb(s,o,a,l){return wc(this.multi,[])}function wm(s,o,a,l){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Pi(a,a[1],this.providerFactory.index,l);g=E.slice(0,v),wc(d,g);for(let D=v;D<E.length;D++)g.push(E[D])}else g=[],wc(d,g);return g}function wc(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Em(s,o=[]){return a=>{a.providersResolver=(l,d)=>function Sb(s,o,a){const l=Bt();if(l.firstCreatePass){const d=Qr(s);_m(a,l.data,l.blueprint,d,!0),_m(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class bm{}class Rb{resolveComponentFactory(o){throw function Xd(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Cm=(()=>{class s{}return s.NULL=new Rb,s})();function bc(){return as(En(),De())}function as(s,o){return new Yu(Ir(s,o))}let Yu=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=bc,s})();function Im(s){return s instanceof Yu?s.nativeElement:s}class Qv{}let $n=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function oT(){const s=De(),a=Tr(En().index,s);return function Tm(s){return s[11]}(Ri(a)?a:s)}(),s})(),aT=(()=>{class s{}return s.\u0275prov=an({token:s,providedIn:"root",factory:()=>null}),s})();class th{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const nh=new th("13.2.7"),Jv={};function rp(s,o,a,l,d=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&l.push(cn(g)),di(g))for(let E=10;E<g.length;E++){const D=g[E],A=D[1].firstChild;null!==A&&rp(D[1],D,A,l)}const v=a.type;if(8&v)rp(s,o,a.child,l);else if(32&v){const E=tt(a,o);let D;for(;D=E();)l.push(D)}else if(16&v){const E=Cw(o,a);if(Array.isArray(E))l.push(...E);else{const D=Rn(o[16]);rp(D[1],D,E,l,!0)}}a=d?a.projectionNext:a.next}return l}class ip{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return rp(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(di(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(i_(o,l),bs(a,l))}this._attachedToViewContainer=!1}s_(this._lView[1],this._lView)}onDestroy(o){A_(this._lView[1],this._lView,null,o)}markForCheck(){xg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){M_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function nI(s,o,a){Ks(!0);try{M_(s,o,a)}finally{Ks(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gg(s,o){_g(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Oe(902,"");this._appRef=o}}class uT extends ip{constructor(o){super(o),this._view=o}detectChanges(){Jw(this._view)}checkNoChanges(){!function rI(s){Ks(!0);try{Jw(s)}finally{Ks(!1)}}(this._view)}get context(){return null}}class Nb extends Cm{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Kt(o);return new Am(a,this.ngModule)}}function Ob(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Am extends bm{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Is(s){return s.map(wg).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Ob(this.componentDef.inputs)}get outputs(){return Ob(this.componentDef.outputs)}create(o,a,l,d){const g=(d=d||this.ngModule)?function Qu(s,o){return{get:(a,l,d)=>{const g=s.get(a,Jv,d);return g!==Jv||l===Jv?g:o.get(a,l,d)}}}(o,d.injector):o,v=g.get(Qv,zo),E=g.get(aT,null),D=v.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=l?function bf(s,o,a){if(yn(s))return s.selectRootElement(o,a===Wt.ShadowDom);let l="string"==typeof o?s.querySelector(o):o;return l.textContent="",l}(D,l,this.componentDef.encapsulation):vd(v.createRenderer(null,this.componentDef),A,function sp(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),P=this.componentDef.onPush?576:528,U=function Af(s,o){return{components:[],scheduler:s||t_,clean:iI,playerHandler:o||null,flags:0}}(),Z=Ef(0,null,null,1,0,null,null,null,null,null),ye=Ga(null,Z,U,P,null,null,v,D,E,g);let Fe,Ge;_o(ye);try{const je=function G_(s,o,a,l,d,g){const v=a[1];a[20]=s;const D=Td(v,20,2,"#host",null),A=D.mergedAttrs=o.hostAttrs;null!==A&&(Ng(D,A,!0),null!==s&&(yt(d,s,A),null!==D.classes&&Tw(d,s,D.classes),null!==D.styles&&f_(d,s,D.styles)));const x=l.createRenderer(s,o),P=Ga(a,Uw(o),null,o.onPush?64:16,a[20],D,l,x,g||null,null);return v.firstCreatePass&&(Js(Wn(D,a),v,o.type),Ad(v,D),zw(D,a.length,1)),Sd(a,P),a[20]=P}(x,this.componentDef,ye,v,D);if(x)if(l)yt(D,x,["ng-version",nh.full]);else{const{attrs:Ce,classes:gt}=function p_(s){const o=[],a=[];let l=1,d=2;for(;l<s.length;){let g=s[l];if("string"==typeof g)2===d?""!==g&&o.push(g,s[++l]):8===d&&a.push(g);else{if(!da(d))break;d=g}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ce&&yt(D,x,Ce),gt&&gt.length>0&&Tw(D,x,gt.join(" "))}if(Ge=Na(Z,20),void 0!==a){const Ce=Ge.projection=[];for(let gt=0;gt<this.ngContentSelectors.length;gt++){const jt=a[gt];Ce.push(null!=jt?Array.from(jt):null)}}Fe=function q_(s,o,a,l,d){const g=a[1],v=function zC(s,o,a){const l=En();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Ww(s,l,o,cc(s,o,1,null),a));const d=Pi(o,s,l.directiveStart,l);$r(d,o);const g=Ir(l,o);return g&&$r(g,o),d}(g,a,o);if(l.components.push(v),s[8]=v,d&&d.forEach(D=>D(v,o)),o.contentQueries){const D=En();o.contentQueries(1,v,D.directiveStart)}const E=En();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Qs(E.index),qw(a[1],E,0,E.directiveStart,E.directiveEnd,o),Df(o,v)),v}(je,this.componentDef,ye,U,[cE]),dc(Z,ye,null)}finally{wo()}return new rh(this.componentType,Fe,as(Ge,ye),ye,Ge)}}class rh extends class sT{}{constructor(o,a,l,d,g){super(),this.location=l,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new uT(d),this.componentType=o}get injector(){return new Fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class ih{}class Xv{}const sh=new Map;class Sm extends ih{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Nb(this);const l=pn(o);this._bootstrapComponents=m(l.bootstrap),this._r3Injector=If(o,a,[{provide:ih,useValue:this},{provide:Cm,useValue:this.componentFactoryResolver}],he(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=Po.THROW_IF_NOT_FOUND,l=dt.Default){return o===Po||o===ih||o===O_?this:this._r3Injector.get(o,a,l)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class r0 extends Xv{constructor(o){super(),this.moduleType=o,null!==pn(o)&&function t0(s){const o=new Set;!function a(l){const d=pn(l,!0),g=d.id;null!==g&&(function e0(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${he(o)} vs ${he(o.name)}`)}(g,sh.get(g),l),sh.set(g,l));const v=m(d.imports);for(const E of v)o.has(E)||(o.add(E),a(E))}(s)}(o)}create(o){return new Sm(this.moduleType,o)}}function Fb(s,o,a,l){return o0(De(),_r(),s,o,a,l)}function Hn(s,o){const a=s[o];return a===Lt?void 0:a}function o0(s,o,a,l,d,g){const v=o+a;return Gi(s,v,d)?jn(s,v+1,g?l.call(g,d):l(d)):Hn(s,v+1)}function Vb(s,o,a,l,d,g,v){const E=o+a;return function kd(s,o,a,l){const d=Gi(s,o,a);return Gi(s,o+1,l)||d}(s,E,d,g)?jn(s,E+2,v?l.call(v,d,g):l(d,g)):Hn(s,E+2)}function a0(s,o){const a=Bt();let l;const d=s+20;a.firstCreatePass?(l=function $b(s,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(s===l.name)return l}}(o,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const g=l.factory||(l.factory=Jr(l.type)),v=Yn(Gg);try{const E=pi(!1),D=g();return pi(E),function Y_(s,o,a,l){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=l}(a,De(),d,D),D}finally{Yn(v)}}function u0(s,o,a){const l=s+20,d=De(),g=Ni(d,l);return cp(d,l)?o0(d,_r(),o,g.transform,a,g):g.transform(a)}function lp(s,o,a,l){const d=s+20,g=De(),v=Ni(g,d);return cp(g,d)?Vb(g,_r(),o,v.transform,a,l,v):v.transform(a,l)}function cp(s,o){return s[1].data[o].pure}function Dc(s){return o=>{setTimeout(s,void 0,o)}}const Lo=class l0 extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){var d,g,v;let E=o,D=a||(()=>null),A=l;if(o&&"object"==typeof o){const P=o;E=null===(d=P.next)||void 0===d?void 0:d.bind(P),D=null===(g=P.error)||void 0===g?void 0:g.bind(P),A=null===(v=P.complete)||void 0===v?void 0:v.bind(P)}this.__isAsync&&(D=Dc(D),E&&(E=Dc(E)),A&&(A=Dc(A)));const x=super.subscribe({next:E,error:D,complete:A});return o instanceof Y.w0&&o.add(x),x}};function c0(){return this._results[Gu()]()}class oh{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Gu(),l=oh.prototype;l[a]||(l[a]=c0)}get changes(){return this._changes||(this._changes=new Lo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const d=Mr(o);(this._changesDetected=!function jl(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],g=o[l];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ah=(()=>{class s{}return s.__NG_ELEMENT_ID__=gT,s})();const d0=ah,Rm=class extends d0{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o){const a=this._declarationTContainer.tViews,l=Ga(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(a)),dc(a,l,o),new ip(l)}};function gT(){return dp(En(),De())}function dp(s,o){return 4&s.type?new Rm(o,s,as(s,o)):null}let Ju=(()=>{class s{}return s.__NG_ELEMENT_ID__=qb,s})();function qb(){return hp(En(),De())}const zb=Ju,Nm=class extends zb{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return as(this._hostTNode,this._hostLView)}get injector(){return new Fi(this._hostTNode,this._hostLView)}get parentInjector(){const o=gi(this._hostTNode,this._hostLView);if(Jc(o)){const a=ki(o,this._hostLView),l=mn(o);return new Fi(a[1].data[l+8],a)}return new Fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Om(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){const d=o.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(o,a,l,d,g){const v=o&&!function na(s){return"function"==typeof s}(o);let E;if(v)E=a;else{const P=a||{};E=P.index,l=P.injector,d=P.projectableNodes,g=P.ngModuleRef}const D=v?o:new Am(Kt(o)),A=l||this.parentInjector;if(!g&&null==D.ngModule){const U=(v?A:this.parentInjector).get(ih,null);U&&(g=U)}const x=D.create(A,d,void 0,g);return this.insert(x.hostView,E),x}insert(o,a){const l=o._lView,d=l[1];if(function yu(s){return di(s[3])}(l)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const P=l[3],U=new Nm(P,P[6],P[3]);U.detach(U.indexOf(o))}}const g=this._adjustIndex(a),v=this._lContainer;!function wd(s,o,a,l){const d=10+l,g=a.length;l>0&&(a[d-1][4]=o),l<g-10?(o[4]=a[d],$l(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function Ed(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(d,l,v,g);const E=c_(g,v),D=l[11],A=ca(D,v[7]);return null!==A&&function _f(s,o,a,l,d,g){l[0]=d,l[6]=o,_g(s,l,a,1,d,g)}(d,v[6],D,l,A,E),o.attachToViewContainerRef(),$l(km(v),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Om(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=i_(this._lContainer,a);l&&(bs(km(this._lContainer),a),s_(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=i_(this._lContainer,a);return l&&null!=bs(km(this._lContainer),a)?new ip(l):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Om(s){return s[8]}function km(s){return s[8]||(s[8]=[])}function hp(s,o){let a;const l=o[s.index];if(di(l))a=l;else{let d;if(8&s.type)d=cn(l);else{const g=o[11];d=g.createComment("");const v=Ir(s,o);Cs(g,ca(g,v),d,function xC(s,o){return yn(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=a=Zw(l,o,d,s),Sd(o,a)}return new Nm(a,s,o)}class Pm{constructor(o){this.queryList=o,this.matches=null}clone(){return new Pm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let g=0;g<l;g++){const v=a.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new Fm(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==zr(o,a).matches&&this.queries[a].setDirty()}}class h0{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class Lm{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(o,d);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new Lm(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class lh{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new lh(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(o,a,As(a,g)),this.matchTNodeWithReadOption(o,a,Do(a,o,g,!1,!1))}else l===ah?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Do(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Yu||d===Ju||d===ah&&4&a.type)this.addMatch(a.index,-2);else{const g=Do(a,o,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function As(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function Yb(s,o,a,l){return-1===a?function Zb(s,o){return 11&s.type?as(s,o):4&s.type?dp(s,o):null}(o,s):-2===a?function ch(s,o,a){return a===Yu?as(o,s):a===ah?dp(o,s):a===Ju?hp(o,s):void 0}(s,o,l):Pi(s,s[1],a,o)}function Qb(s,o,a,l){const d=o[19].queries[l];if(null===d.matches){const g=s.data,v=a.matches,E=[];for(let D=0;D<v.length;D+=2){const A=v[D];E.push(A<0?null:Yb(o,g[A],v[D+1],a.metadata.read))}d.matches=E}return d.matches}function f0(s,o,a,l){const d=s.queries.getByIndex(a),g=d.matches;if(null!==g){const v=Qb(s,o,d,a);for(let E=0;E<g.length;E+=2){const D=g[E];if(D>0)l.push(v[E/2]);else{const A=g[E+1],x=o[-D];for(let P=10;P<x.length;P++){const U=x[P];U[17]===U[3]&&f0(U[1],U,A,l)}if(null!==x[9]){const P=x[9];for(let U=0;U<P.length;U++){const Z=P[U];f0(Z[1],Z,A,l)}}}}}return l}function Vm(s){const o=De(),a=Bt(),l=Ml();xl(l+1);const d=zr(a,l);if(s.dirty&&qs(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const g=d.crossesNgTemplate?f0(a,o,l,[]):Qb(a,o,d,l);s.reset(g,Im),s.notifyOnChanges()}return!0}return!1}function Jb(s,o,a,l){const d=Bt();if(d.firstCreatePass){const g=En();(function Xb(s,o,a){null===s.queries&&(s.queries=new Lm),s.queries.track(new lh(o,a))})(d,new h0(o,a,l),g.index),function eD(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}!function fp(s,o,a){const l=new oh(4==(4&a));A_(s,o,l,l.destroy),null===o[19]&&(o[19]=new Fm),o[19].queries.push(new Pm(l))}(d,De(),a)}function p0(){return function yT(s,o){return s[19].queries[o].queryList}(De(),Ml())}function zr(s,o){return s.queries.getByIndex(o)}function Cc(s,o){return dp(s,o)}function gp(...s){}const rl=new Mn("Application Initializer");let ao=(()=>{class s{constructor(a){this.appInits=a,this.resolve=gp,this.reject=gp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(ov(g))a.push(g);else if(BE(g)){const v=new Promise((E,D)=>{g.subscribe({complete:E,error:D})});a.push(v)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Xe(rl,8))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ph=new Mn("AppId",{providedIn:"root",factory:function Xa(){return`${il()}${il()}${il()}`}});function il(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qm=new Mn("Platform Initializer"),Tc=new Mn("Platform ID"),zm=new Mn("appBootstrapListener");let E0=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})();const gh=new Mn("LocaleId",{providedIn:"root",factory:()=>kt(gh,dt.Optional|dt.SkipSelf)||function uD(){return"undefined"!=typeof $localize&&$localize.locale||yc}()}),mp=new Mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ci{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let lD=(()=>{class s{compileModuleSync(a){return new r0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=m(pn(a).declarations).reduce((v,E)=>{const D=Kt(E);return D&&v.push(new Am(D)),v},[]);return new Ci(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const D0=(()=>Promise.resolve(0))();function sl(s){"undefined"==typeof Zone?D0.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class zi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Lo(!1),this.onMicrotaskEmpty=new Lo(!1),this.onStable=new Lo(!1),this.onError=new Lo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Km(){let s=Ht.requestAnimationFrame,o=Ht.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function ST(s){const o=()=>{!function eu(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ht,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,I0(s),s.isCheckStableRunning=!0,C0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),I0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,g,v,E)=>{try{return T0(s),a.invokeTask(d,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),ol(s)}},onInvoke:(a,l,d,g,v,E,D)=>{try{return T0(s),a.invoke(d,g,v,E,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),ol(s)}},onHasTask:(a,l,d,g)=>{a.hasTask(d,g),l===d&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,I0(s),C0(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,d,g)=>(a.handleError(d,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(zi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,o,cD,gp,gp);try{return g.runTask(v,a,l)}finally{g.cancelTask(v)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const cD={};function C0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function I0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function T0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function ol(s){s._nesting--,C0(s)}class MT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lo,this.onMicrotaskEmpty=new Lo,this.onStable=new Lo,this.onError=new Lo}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}let mh=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zi.assertNotInAngularZone(),sl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sl(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(Xe(zi))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})(),yp=(()=>{class s{constructor(){this._applications=new Map,A0.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return A0.findTestabilityInTree(this,a,l)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})();class Zm{addToWindow(o){}findTestabilityInTree(o,a,l){return null}}function oi(s){A0=s}let Vo,A0=new Zm;const dD=new Mn("AllowMultipleToken");class OT{constructor(o,a){this.name=o,this.token=a}}function tu(s,o,a=[]){const l=`Platform: ${o}`,d=new Mn(l);return(g=[])=>{let v=S0();if(!v||v.injector.get(dD,!1))if(s)s(a.concat(g).concat({provide:d,useValue:!0}));else{const E=a.concat(g).concat({provide:d,useValue:!0},{provide:nE,useValue:"platform"});!function kT(s){if(Vo&&!Vo.destroyed&&!Vo.injector.get(dD,!1))throw new Oe(400,"");Vo=s.get(M0);const o=s.get(qm,null);o&&o.forEach(a=>a())}(Po.create({providers:E,name:l}))}return function yh(s){const o=S0();if(!o)throw new Oe(401,"");return o}()}}function S0(){return Vo&&!Vo.destroyed?Vo:null}let M0=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const E=function nu(s,o){let a;return a="noop"===s?new MT:("zone.js"===s?void 0:s)||new zi({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),D=[{provide:zi,useValue:E}];return E.run(()=>{const A=Po.create({providers:D,parent:this.injector,name:a.moduleType.name}),x=a.create(A),P=x.injector.get(Rr,null);if(!P)throw new Oe(402,"");return E.runOutsideAngular(()=>{const U=E.onError.subscribe({next:Z=>{P.handleError(Z)}});x.onDestroy(()=>{vh(this._modules,x),U.unsubscribe()})}),function hD(s,o,a){try{const l=a();return ov(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(P,E,()=>{const U=x.injector.get(ao);return U.runInitializers(),U.donePromise.then(()=>(function db(s){lt(s,"Expected localeId to be defined"),"string"==typeof s&&(om=s.toLowerCase().replace(/_/g,"-"))}(x.injector.get(gh,yc)||yc),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,l=[]){const d=Ac({},l);return function xT(s,o,a){const l=new r0(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const l=a.injector.get(_h);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Oe(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Xe(Po))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})();function Ac(s,o){return Array.isArray(o)?o.reduce(Ac,s):Object.assign(Object.assign({},s),o)}let _h=(()=>{class s{constructor(a,l,d,g,v){this._zone=a,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new O.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),D=new O.y(A=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{zi.assertNotInAngularZone(),sl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{zi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{x.unsubscribe(),P.unsubscribe()}});this.isStable=(0,ue.T)(E,D.pipe((0,X.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Oe(405,"");let d;d=a instanceof bm?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const g=function NT(s){return s.isBoundToModule}(d)?void 0:this._injector.get(ih),E=d.create(Po.NULL,[],l||d.selector,g),D=E.location.nativeElement,A=E.injector.get(mh,null),x=A&&E.injector.get(yp);return A&&x&&x.registerApplication(D,A),E.onDestroy(()=>{this.detachView(E.hostView),vh(this.components,E),x&&x.unregisterApplication(D)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Oe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;vh(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(zm,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(Xe(zi),Xe(Po),Xe(Rr),Xe(Cm),Xe(ao))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function vh(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Qm=!0,Sc=!1;function uo(){return Sc=!0,Qm}function fD(){if(Sc)throw new Error("Cannot enable prod mode after platform setup.");Qm=!1}let R0=(()=>{class s{}return s.__NG_ELEMENT_ID__=pD,s})();function pD(s){return function gD(s,o,a){if(Us(s)&&!a){const l=Tr(s.index,o);return new ip(l,l)}return 47&s.type?new ip(o[16],o):null}(En(),De(),16==(16&s))}class _D{constructor(){}supports(o){return Nd(o)}create(o){return new UT(o)}}const P0=(s,o)=>o;class UT{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||P0}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,g=null;for(;a||l;){const v=!l||a&&a.currentIndex<dl(l,d,g)?a:l,E=dl(v,d,g),D=v.currentIndex;if(v===l)d--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{g||(g=[]);const A=E-d,x=D-d;if(A!=x){for(let U=0;U<A;U++){const Z=U<g.length?g[U]:g[U]=0,ye=Z+U;x<=ye&&ye<A&&(g[U]=Z+1)}g[v.previousIndex]=x-A}}E!==D&&o(v,E,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Nd(o))throw new Oe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,v,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,g,v,E)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,E),l=!0),a=a._next}else d=0,function mE(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Gu()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,E=>{v=this._trackByFn(d,E),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,E,v,d)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,v,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,d)):o=this._addAfter(new vD(a,l),g,d),o}_verifyReinsertion(o,a,l,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Eh),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Eh),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class vD{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wD{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Eh{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new wD,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dl(s,o,a){const l=s.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class F0{constructor(){}supports(o){return o instanceof Map||_a(o)}create(){return new ED}}class ED{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||_a(o)))throw new Oe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const l=new bD(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class bD{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bh(){return new _p([new _D])}let _p=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||bh()),deps:[[s,new So,new vi]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Oe(901,"")}}return s.\u0275prov=an({token:s,providedIn:"root",factory:bh}),s})();function cr(){return new Jt([new F0])}let Jt=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||cr()),deps:[[s,new So,new vi]]}}find(a){const l=this.factories.find(g=>g.supports(a));if(l)return l;throw new Oe(901,"")}}return s.\u0275prov=an({token:s,providedIn:"root",factory:cr}),s})();const ai=tu(null,"core",[{provide:Tc,useValue:"unknown"},{provide:M0,deps:[Po]},{provide:yp,deps:[]},{provide:E0,deps:[]}]);let On=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Xe(_h))},s.\u0275mod=Q({type:s}),s.\u0275inj=tn({}),s})()},3942:(ut,Ae,k)=>{k.d(Ae,{Z:()=>Oe});var h=k(2090),Y=k(4859),O=k(9681),ue=k(1877);class X{constructor(fe,be){this._delegate=fe,this.firebase=be,(0,O._addComponent)(fe,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(fe,be=O._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(fe);return!Qe.isInitialized()&&"EXPLICIT"===(null===(nt=Qe.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:be})}_removeServiceInstance(fe,be=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(be)}_addComponent(fe){(0,O._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,O._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ce(){const Ve=function he(Ve){const fe={},be={__esModule:!0,initializeApp:function Ie($e,te={}){const W=O.initializeApp($e,te);if((0,h.r3)(fe,W.name))return fe[W.name];const ie=new Ve(W,be);return fe[W.name]=ie,ie},app:Qe,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function we($e){const te=$e.name,W=te.replace("-compat","");if(O._registerComponent($e)&&"PUBLIC"===$e.type){const ie=(me=Qe())=>{if("function"!=typeof me[W])throw re.create("invalid-app-argument",{appName:te});return me[W]()};void 0!==$e.serviceProps&&(0,h.ZB)(ie,$e.serviceProps),be[W]=ie,Ve.prototype[W]=function(...me){return this._getService.bind(this,te).apply(this,$e.multipleInstances?me:[])}}return"PUBLIC"===$e.type?be[W]:null},removeApp:function nt($e){delete fe[$e]},useAsService:function qe($e,te){return"serverAuth"===te?null:te},modularAPIs:O}};function Qe($e){if(!(0,h.r3)(fe,$e=$e||O._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:$e});return fe[$e]}return be.default=be,Object.defineProperty(be,"apps",{get:function _e(){return Object.keys(fe).map($e=>fe[$e])}}),Qe.App=Ve,be}(X);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function fe(be){(0,h.ZB)(Ve,be)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Ve}(),H=new ue.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Oe=$;!function Se(Ve){(0,O.registerVersion)("@firebase/app-compat","0.1.21",Ve)}()},9681:(ut,Ae,k)=>{k.r(Ae),k.d(Ae,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>Fr,_DEFAULT_ENTRY_NAME:()=>kn,_addComponent:()=>hn,_addOrOverwriteComponent:()=>xi,_apps:()=>wt,_clearComponents:()=>zt,_components:()=>dn,_getProvider:()=>ls,_registerComponent:()=>an,_removeServiceInstance:()=>tn,deleteApp:()=>ds,getApp:()=>Lr,getApps:()=>cs,initializeApp:()=>Ki,onLog:()=>sr,registerVersion:()=>Zr,setLogLevel:()=>Yn});var h=k(5861),Y=k(4859),O=k(1877),ue=k(2090);class X{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function ge(Je){const Te=Je.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(et)){const ft=et.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(et=>et).join(" ")}}const re="@firebase/app",ce=new O.Yd("@firebase/app"),kn="[DEFAULT]",lt={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wt=new Map,dn=new Map;function hn(Je,Te){try{Je.container.addComponent(Te)}catch(et){ce.debug(`Component ${Te.name} failed to register with FirebaseApp ${Je.name}`,et)}}function xi(Je,Te){Je.container.addOrOverwriteComponent(Te)}function an(Je){const Te=Je.name;if(dn.has(Te))return ce.debug(`There were multiple attempts to register component ${Te}.`),!1;dn.set(Te,Je);for(const et of wt.values())hn(et,Je);return!0}function ls(Je,Te){const et=Je.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),Je.container.getProvider(Te)}function tn(Je,Te,et=kn){ls(Je,Te).clearInstance(et)}function zt(){dn.clear()}const ui=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class ks{constructor(Te,et,ft){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}const Fr="9.6.10";function Ki(Je,Te={}){"object"!=typeof Te&&(Te={name:Te});const et=Object.assign({name:kn,automaticDataCollectionEnabled:!1},Te),ft=et.name;if("string"!=typeof ft||!ft)throw ui.create("bad-app-name",{appName:String(ft)});const $t=wt.get(ft);if($t){if((0,ue.vZ)(Je,$t.options)&&(0,ue.vZ)(et,$t.config))return $t;throw ui.create("duplicate-app",{appName:ft})}const Vt=new Y.H0(ft);for(const V of dn.values())Vt.addComponent(V);const j=new ks(Je,et,Vt);return wt.set(ft,j),j}function Lr(Je=kn){const Te=wt.get(Je);if(!Te)throw ui.create("no-app",{appName:Je});return Te}function cs(){return Array.from(wt.values())}function ds(Je){return dt.apply(this,arguments)}function dt(){return(dt=(0,h.Z)(function*(Je){const Te=Je.name;wt.has(Te)&&(wt.delete(Te),yield Promise.all(Je.container.getProviders().map(et=>et.delete())),Je.isDeleted=!0)})).apply(this,arguments)}function Zr(Je,Te,et){var ft;let $t=null!==(ft=lt[Je])&&void 0!==ft?ft:Je;et&&($t+=`-${et}`);const Vt=$t.match(/\s|\//),j=Te.match(/\s|\//);if(Vt||j){const V=[`Unable to register library "${$t}" with version "${Te}":`];return Vt&&V.push(`library name "${$t}" contains illegal characters (whitespace or "/")`),Vt&&j&&V.push("and"),j&&V.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void ce.warn(V.join(" "))}an(new Y.wA(`${$t}-version`,()=>({library:$t,version:Te}),"VERSION"))}function sr(Je,Te){if(null!==Je&&"function"!=typeof Je)throw ui.create("invalid-log-argument");(0,O.Am)(Je,Te)}function Yn(Je){(0,O.Ub)(Je)}const wn="firebase-heartbeat-store";let or=null;function Ps(){return or||(or=(0,ue.X3)("firebase-heartbeat-database",1,(Je,Te)=>{0===Te&&Je.createObjectStore(wn)}).catch(Je=>{throw ui.create("storage-open",{originalErrorMessage:Je.message})})),or}function Wt(){return(Wt=(0,h.Z)(function*(Je){try{return(yield Ps()).transaction(wn).objectStore(wn).get(fr(Je))}catch(Te){throw ui.create("storage-get",{originalErrorMessage:Te.message})}})).apply(this,arguments)}function ot(Je,Te){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,h.Z)(function*(Je,Te){try{const ft=(yield Ps()).transaction(wn,"readwrite");return yield ft.objectStore(wn).put(Te,fr(Je)),ft.complete}catch(et){throw ui.create("storage-set",{originalErrorMessage:et.message})}})).apply(this,arguments)}function fr(Je){return`${Je.name}!${Je.options.appId}`}class ho{constructor(Te){this.container=Te,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new ht(et),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var Te=this;return(0,h.Z)(function*(){const ft=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$t=Er();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==$t&&!Te._heartbeatsCache.heartbeats.some(Vt=>Vt.date===$t))return Te._heartbeatsCache.heartbeats.push({date:$t,agent:ft}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Vt=>{const j=new Date(Vt.date).valueOf();return Date.now()-j<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,h.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const et=Er(),{heartbeatsToSend:ft,unsentEntries:$t}=function pr(Je,Te=1024){const et=[];let ft=Je.slice();for(const $t of Je){const Vt=et.find(j=>j.agent===$t.agent);if(Vt){if(Vt.dates.push($t.date),br(et)>Te){Vt.dates.pop();break}}else if(et.push({agent:$t.agent,dates:[$t.date]}),br(et)>Te){et.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:et,unsentEntries:ft}}(Te._heartbeatsCache.heartbeats),Vt=(0,ue.L)(JSON.stringify({version:2,heartbeats:ft}));return Te._heartbeatsCache.lastSentHeartbeatDate=et,$t.length>0?(Te._heartbeatsCache.heartbeats=$t,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Vt})()}}function Er(){return(new Date).toISOString().substring(0,10)}class ht{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,h.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function Ia(Je){return Wt.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var et=this;return(0,h.Z)(function*(){var ft;if(yield et._canUseIndexedDBPromise){const Vt=yield et.read();return ot(et.app,{lastSentHeartbeatDate:null!==(ft=Te.lastSentHeartbeatDate)&&void 0!==ft?ft:Vt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var et=this;return(0,h.Z)(function*(){var ft;if(yield et._canUseIndexedDBPromise){const Vt=yield et.read();return ot(et.app,{lastSentHeartbeatDate:null!==(ft=Te.lastSentHeartbeatDate)&&void 0!==ft?ft:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...Te.heartbeats]})}})()}}function br(Je){return(0,ue.L)(JSON.stringify({version:2,heartbeats:Je})).length}!function Ut(Je){an(new Y.wA("platform-logger",Te=>new X(Te),"PRIVATE")),an(new Y.wA("heartbeat",Te=>new ho(Te),"PRIVATE")),Zr(re,"0.7.20",Je),Zr(re,"0.7.20","esm2017"),Zr("fire-js","")}("")},4859:(ut,Ae,k)=>{k.d(Ae,{wA:()=>O,H0:()=>he});var h=k(5861),Y=k(2090);class O{constructor($,H,J){this.name=$,this.instanceFactory=H,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ue="[DEFAULT]";class X{constructor($,H){this.name=$,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const H=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(H)){const J=new Y.BH;if(this.instancesDeferred.set(H,J),this.isInitialized(H)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:H});We&&J.resolve(We)}catch(We){}}return this.instancesDeferred.get(H).promise}getImmediate($){var H;const J=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),We=null!==(H=null==$?void 0:$.optional)&&void 0!==H&&H;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Se){if(We)return null;throw Se}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function re(ce){return"EAGER"===ce.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(H){}for(const[H,J]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(H);try{const Se=this.getOrInitializeService({instanceIdentifier:We});J.resolve(Se)}catch(Se){}}}}clearInstance($=ue){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,h.Z)(function*(){const H=Array.from($.instances.values());yield Promise.all([...H.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...H.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ue){return this.instances.has($)}getOptions($=ue){return this.instancesOptions.get($)||{}}initialize($={}){const{options:H={}}=$,J=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:J,options:H});for(const[Se,Oe]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Se)&&Oe.resolve(We);return We}onInit($,H){var J;const We=this.normalizeInstanceIdentifier(H),Se=null!==(J=this.onInitCallbacks.get(We))&&void 0!==J?J:new Set;Se.add($),this.onInitCallbacks.set(We,Se);const Oe=this.instances.get(We);return Oe&&$(Oe,We),()=>{Se.delete($)}}invokeOnInitCallbacks($,H){const J=this.onInitCallbacks.get(H);if(J)for(const We of J)try{We($,H)}catch(Se){}}getOrInitializeService({instanceIdentifier:$,options:H={}}){let J=this.instances.get($);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=$,ce===ue?void 0:ce),options:H}),this.instances.set($,J),this.instancesOptions.set($,H),this.invokeOnInitCallbacks(J,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,J)}catch(We){}var ce;return J||null}normalizeInstanceIdentifier($=ue){return this.component?this.component.multipleInstances?$:ue:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor($){this.name=$,this.providers=new Map}addComponent($){const H=this.getProvider($.name);if(H.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);H.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const H=new X($,this);return this.providers.set($,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(ut,Ae,k)=>{k.d(Ae,{in:()=>Y,Yd:()=>re,Ub:()=>he,Am:()=>ce});const h=[];var Y=(()=>{return($=Y||(Y={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",Y;var $})();const O={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},ue=Y.INFO,X={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},ge=($,H,...J)=>{if(H<$.logLevel)return;const We=(new Date).toISOString(),Se=X[H];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Se](`[${We}]  ${$.name}:`,...J)};class re{constructor(H){this.name=H,this._logLevel=ue,this._logHandler=ge,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in Y))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?O[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...H),this._logHandler(this,Y.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...H),this._logHandler(this,Y.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...H),this._logHandler(this,Y.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...H),this._logHandler(this,Y.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...H),this._logHandler(this,Y.ERROR,...H)}}function he($){h.forEach(H=>{H.setLogLevel($)})}function ce($,H){for(const J of h){let We=null;H&&H.level&&(We=O[H.level]),J.userLogHandler=null===$?null:(Se,Oe,...Ve)=>{const fe=Ve.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch(nt){return null}}).filter(be=>be).join(" ");Oe>=(null!=We?We:Se.logLevel)&&$({level:Y[Oe].toLowerCase(),message:fe,args:Ve,type:Se.name})}}}},5861:(ut,Ae,k)=>{function h(O,ue,X,ge,re,he,ce){try{var $=O[he](ce),H=$.value}catch(J){return void X(J)}$.done?ue(H):Promise.resolve(H).then(ge,re)}function Y(O){return function(){var ue=this,X=arguments;return new Promise(function(ge,re){var he=O.apply(ue,X);function ce(H){h(he,ge,re,ce,$,"next",H)}function $(H){h(he,ge,re,ce,$,"throw",H)}ce(void 0)})}}k.d(Ae,{Z:()=>Y})}},ut=>{ut(ut.s=6070)}]);