"use strict";(self.webpackChunkToDoApp=self.webpackChunkToDoApp||[]).push([[179],{2011:(ut,Se,P)=>{P.d(Se,{hO:()=>We,xv:()=>de,Dh:()=>fe,GT:()=>me,cc:()=>Ae,on:()=>$,pX:()=>X});var f=P(5e3),Y=P(127),O=P(5813);ut=P.hmd(ut);const le=["ngOnDestroy"],X=(De,nt,Ye,Ie={})=>new Proxy(De,{get:(ve,we)=>Ye.runOutsideAngular(()=>{var Ge;if(De[we])return(null===(Ge=null==Ie?void 0:Ie.spy)||void 0===Ge?void 0:Ge.get)&&Ie.spy.get(we,De[we]),De[we];if(le.indexOf(we)>-1)return()=>{};const $e=nt.toPromise().then(te=>{const W=te&&te[we];return"function"==typeof W?W.bind(te):W&&W.then?W.then(ie=>Ye.run(()=>ie)):Ye.run(()=>W)});return new Proxy(()=>{},{get:(te,W)=>$e[W],apply:(te,W,ie)=>$e.then(ye=>{var se;const Oe=ye&&ye(...ie);return(null===(se=null==Ie?void 0:Ie.spy)||void 0===se?void 0:se.apply)&&Ie.spy.apply(we,ie,Oe),Oe})})})}),me=(De,nt)=>{nt.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(Ie=>{Object.defineProperty(De.prototype,Ie,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,Ie))})})};class re{constructor(nt){return nt}}const fe=new f.OlP("angularfire2.app.options"),de=new f.OlP("angularfire2.app.name");function $(De,nt,Ye){const ve="object"==typeof Ye&&Ye||{};ve.name=ve.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const Ge=Y.Z.apps.filter($e=>$e&&$e.name===ve.name)[0]||nt.runOutsideAngular(()=>Y.Z.initializeApp(De,ve));try{JSON.stringify(De)!==JSON.stringify(Ge.options)&&H("error",`${Ge.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch($e){}return new re(Ge)}const H=(De,...nt)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[De](...nt)},J={provide:re,useFactory:$,deps:[fe,f.R0b,[new f.FiY,de]]};let We=(()=>{class De{constructor(Ye){Y.Z.registerVersion("angularfire",O.q4.full,"core"),Y.Z.registerVersion("angularfire",O.q4.full,"app-compat"),Y.Z.registerVersion("angular",f.q4F.full,Ye.toString())}static initializeApp(Ye,Ie){return{ngModule:De,providers:[{provide:fe,useValue:Ye},{provide:de,useValue:Ie}]}}}return De.\u0275fac=function(Ye){return new(Ye||De)(f.LFG(f.Lbi))},De.\u0275mod=f.oAB({type:De}),De.\u0275inj=f.cJS({providers:[J]}),De})();function Ae(De,nt,Ye,Ie,ve){const[,we,Ge]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===De)||[];if(we)return function ke(De,nt){try{return De.toString()===nt.toString()}catch(Ye){return De===nt}}(ve,Ge)||(pe("error",`${nt} was already initialized on the ${Ye} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:ve,was:Ge})),we;{const $e=Ie();return globalThis.\u0275AngularfireInstanceCache.push([De,$e,ve]),$e}}const Ve=!!ut.hot,pe=(De,...nt)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[De](...nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ut,Se,P)=>{P.d(Se,{q4:()=>jl,iC:()=>zl,HU:()=>ku,vb:()=>od,JM:()=>no});var f=P(5e3),Y=P(5867),O=P(5861),le=P(9681),X=P(2090),me=P(4859),re=P(1877);const fe="@firebase/installations",H="w:0.5.7",J="FIS_v2",De=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(C){return C instanceof X.ZR&&C.code.includes("request-failed")}function Ye({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Ie(C){return{token:C.token,requestStatus:2,expiresIn:ie(C.expiresIn),creationTime:Date.now()}}function ve(C,I){return we.apply(this,arguments)}function we(){return(we=(0,O.Z)(function*(C,I){const L=(yield I.json()).error;return De.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ge({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function $e(C,{refreshToken:I}){const R=Ge(C);return R.append("Authorization",function ye(C){return`${J} ${C}`}(I)),R}function te(C){return W.apply(this,arguments)}function W(){return(W=(0,O.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function ie(C){return Number(C.replace("s","000"))}function se(C,I){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:I},{fid:R}){const L=Ye(C),K=Ge(C),ee=I.getImmediate({optional:!0});if(ee){const It=yield ee.getHeartbeatsHeader();It&&K.append("x-firebase-client",It)}const Re={method:"POST",headers:K,body:JSON.stringify({fid:R,authVersion:J,appId:C.appId,sdkVersion:H})},Xe=yield te(()=>fetch(L,Re));if(Xe.ok){const It=yield Xe.json();return{fid:It.fid||R,registrationStatus:2,refreshToken:It.refreshToken,authToken:Ie(It.authToken)}}throw yield ve("Create Installation",Xe)})).apply(this,arguments)}function ue(C){return new Promise(I=>{setTimeout(I,C)})}const en=/^[cdef][\w-]{21}$/;function lt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const R=function vt(C){return function St(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return en.test(R)?R:""}catch(C){return""}}function dn(C){return`${C.appName}!${C.appId}`}const hn=new Map;function Ni(C,I){const R=dn(C);tn(R,I),function Gt(C,I){const R=function ai(){return!dr&&"BroadcastChannel"in self&&(dr=new BroadcastChannel("[Firebase] FID Change"),dr.onmessage=C=>{tn(C.data.key,C.data.fid)}),dr}();R&&R.postMessage({key:C,fid:I}),function Os(){0===hn.size&&dr&&(dr.close(),dr=null)}()}(R,I)}function tn(C,I){const R=hn.get(C);if(R)for(const L of R)L(I)}let dr=null;const Pr="firebase-installations-store";let cs=null;function ds(){return cs||(cs=(0,X.X3)("firebase-installations-database",1,(C,I)=>{0===I&&C.createObjectStore(Pr)})),cs}function dt(C,I){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,O.Z)(function*(C,I){const R=dn(C),K=(yield ds()).transaction(Pr,"readwrite"),ee=K.objectStore(Pr),xe=yield ee.get(R);return yield ee.put(I,R),yield K.complete,(!xe||xe.fid!==I.fid)&&Ni(C,I.fid),I})).apply(this,arguments)}function rr(C){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,O.Z)(function*(C){const I=dn(C),L=(yield ds()).transaction(Pr,"readwrite");yield L.objectStore(Pr).delete(I),yield L.complete})).apply(this,arguments)}function ui(C,I){return co.apply(this,arguments)}function co(){return(co=(0,O.Z)(function*(C,I){const R=dn(C),K=(yield ds()).transaction(Pr,"readwrite"),ee=K.objectStore(Pr),xe=yield ee.get(R),Re=I(xe);return void 0===Re?yield ee.delete(R):yield ee.put(Re,R),yield K.complete,Re&&(!xe||xe.fid!==Re.fid)&&Ni(C,Re.fid),Re})).apply(this,arguments)}function En(C){return ir.apply(this,arguments)}function ir(){return(ir=(0,O.Z)(function*(C){let I;const R=yield ui(C.appConfig,L=>{const K=ks(L),ee=xa(C,K);return I=ee.registrationPromise,ee.installationEntry});return""===R.fid?{installationEntry:yield I}:{installationEntry:R,registrationPromise:I}})).apply(this,arguments)}function ks(C){return $t(C||{fid:lt(),registrationStatus:0})}function xa(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(De.create("app-offline"))};const R={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function qt(C,I){return ot.apply(this,arguments)}(C,R);return{installationEntry:R,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Dt(C)}:{installationEntry:I}}function ot(){return(ot=(0,O.Z)(function*(C,I){try{const R=yield se(C,I);return dt(C.appConfig,R)}catch(R){throw nt(R)&&409===R.customData.serverCode?yield rr(C.appConfig):yield dt(C.appConfig,{fid:I.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Dt(C){return hr.apply(this,arguments)}function hr(){return(hr=(0,O.Z)(function*(C){let I=yield Wi(C.appConfig);for(;1===I.registrationStatus;)yield ue(100),I=yield Wi(C.appConfig);if(0===I.registrationStatus){const{installationEntry:R,registrationPromise:L}=yield En(C);return L||R}return I})).apply(this,arguments)}function Wi(C){return ui(C,I=>{if(!I)throw De.create("installation-not-found");return $t(I)})}function $t(C){return function ho(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Er(C,I){return fr.apply(this,arguments)}function fr(){return(fr=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:I},R){const L=ft(C,R),K=$e(C,R),ee=I.getImmediate({optional:!0});if(ee){const It=yield ee.getHeartbeatsHeader();It&&K.append("x-firebase-client",It)}const Re={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:H,appId:C.appId}})},Xe=yield te(()=>fetch(L,Re));if(Xe.ok)return Ie(yield Xe.json());throw yield ve("Generate Auth Token",Xe)})).apply(this,arguments)}function ft(C,{fid:I}){return`${Ye(C)}/${I}/authTokens:generate`}function wr(C){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,O.Z)(function*(C,I=!1){let R;const L=yield ui(C.appConfig,ee=>{if(!Vt(ee))throw De.create("not-registered");const xe=ee.authToken;if(!I&&j(xe))return ee;if(1===xe.requestStatus)return R=Qe(C,I),ee;{if(!navigator.onLine)throw De.create("app-offline");const Re=q(ee);return R=pt(C,Re),Re}});return R?yield R:L.authToken})).apply(this,arguments)}function Qe(C,I){return Te.apply(this,arguments)}function Te(){return(Te=(0,O.Z)(function*(C,I){let R=yield et(C.appConfig);for(;1===R.authToken.requestStatus;)yield ue(100),R=yield et(C.appConfig);const L=R.authToken;return 0===L.requestStatus?wr(C,I):L})).apply(this,arguments)}function et(C){return ui(C,I=>{if(!Vt(I))throw De.create("not-registered");return function he(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function pt(C,I){return jt.apply(this,arguments)}function jt(){return(jt=(0,O.Z)(function*(C,I){try{const R=yield Er(C,I),L=Object.assign(Object.assign({},I),{authToken:R});return yield dt(C.appConfig,L),R}catch(R){if(!nt(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield dt(C.appConfig,L)}else yield rr(C.appConfig);throw R}})).apply(this,arguments)}function Vt(C){return void 0!==C&&2===C.registrationStatus}function j(C){return 2===C.requestStatus&&!function V(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+36e5}(C)}function q(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}function Be(){return(Be=(0,O.Z)(function*(C){const I=C,{installationEntry:R,registrationPromise:L}=yield En(I);return L?L.catch(console.error):wr(I).catch(console.error),R.fid})).apply(this,arguments)}function Yt(){return(Yt=(0,O.Z)(function*(C,I=!1){const R=C;return yield br(R),(yield wr(R,I)).token})).apply(this,arguments)}function br(C){return zt.apply(this,arguments)}function zt(){return(zt=(0,O.Z)(function*(C){const{registrationPromise:I}=yield En(C);I&&(yield I)})).apply(this,arguments)}function Jn(C){return De.create("missing-app-config-values",{valueName:C})}const Na="installations",Pe=C=>{const I=C.getProvider("app").getImmediate(),R=function hs(C){if(!C||!C.options)throw Jn("App Configuration");if(!C.name)throw Jn("App Name");const I=["projectId","apiKey","appId"];for(const R of I)if(!C.options[R])throw Jn(R);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:R,heartbeatServiceProvider:(0,le._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Pt=C=>{const I=C.getProvider("app").getImmediate(),R=(0,le._getProvider)(I,Na).getImmediate();return{getId:()=>function Q(C){return Be.apply(this,arguments)}(R),getToken:K=>function Et(C){return Yt.apply(this,arguments)}(R,K)}};(function gn(){(0,le._registerComponent)(new me.wA(Na,Pe,"PUBLIC")),(0,le._registerComponent)(new me.wA("installations-internal",Pt,"PRIVATE"))})(),(0,le.registerVersion)(fe,"0.5.7"),(0,le.registerVersion)(fe,"0.5.7","esm2017");const pr="@firebase/remote-config",kn=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Mh{constructor(I,R,L,K){this.client=I,this.storage=R,this.storageCache=L,this.logger=K}isCachedDataFresh(I,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-R,K=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${K}.`),K}fetch(I){var R=this;return(0,O.Z)(function*(){const[L,K]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(K&&R.isCachedDataFresh(I.cacheMaxAgeMillis,L))return K;I.eTag=K&&K.eTag;const ee=yield R.client.fetch(I),xe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&xe.push(R.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(xe),ee})()}}function Uc(C=navigator){return C.languages&&C.languages[0]||C.language}class pu{constructor(I,R,L,K,ee,xe){this.firebaseInstallations=I,this.sdkVersion=R,this.namespace=L,this.projectId=K,this.apiKey=ee,this.appId=xe}fetch(I){var R=this;return(0,O.Z)(function*(){const[L,K]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Re={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Xe={sdk_version:R.sdkVersion,app_instance_id:L,app_instance_id_token:K,app_id:R.appId,language_code:Uc()},It={method:"POST",headers:Re,body:JSON.stringify(Xe)},kt=fetch(xe,It),Mt=new Promise((vi,ji)=>{I.signal.addEventListener(()=>{const Ao=new Error("The operation was aborted.");Ao.name="AbortError",ji(Ao)})});let Wn;try{yield Promise.race([kt,Mt]),Wn=yield kt}catch(vi){let ji="fetch-client-network";throw"AbortError"===vi.name&&(ji="fetch-timeout"),kn.create(ji,{originalErrorMessage:vi.message})}let xn=Wn.status;const ua=Wn.headers.get("ETag")||void 0;let So,Vr;if(200===Wn.status){let vi;try{vi=yield Wn.json()}catch(ji){throw kn.create("fetch-client-parse",{originalErrorMessage:ji.message})}So=vi.entries,Vr=vi.state}if("INSTANCE_STATE_UNSPECIFIED"===Vr?xn=500:"NO_CHANGE"===Vr?xn=304:("NO_TEMPLATE"===Vr||"EMPTY_CONFIG"===Vr)&&(So={}),304!==xn&&200!==xn)throw kn.create("fetch-status",{httpStatus:xn});return{status:xn,eTag:ua,config:So}})()}}class Gp{constructor(I,R){this.client=I,this.storage=R}fetch(I){var R=this;return(0,O.Z)(function*(){const L=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:R,backoffCount:L}){var K=this;return(0,O.Z)(function*(){yield function Gn(C,I){return new Promise((R,L)=>{const K=Math.max(I-Date.now(),0),ee=setTimeout(R,K);C.addEventListener(()=>{clearTimeout(ee),L(kn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,R);try{const ee=yield K.client.fetch(I);return yield K.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function jc(C){if(!(C instanceof X.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ee))throw ee;const xe={throttleEndTimeMillis:Date.now()+(0,X.$s)(L),backoffCount:L+1};return yield K.storage.setThrottleMetadata(xe),K.attemptFetch(I,xe)}})()}}class ka{constructor(I,R,L,K,ee){this.app=I,this._client=R,this._storageCache=L,this._storage=K,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yl(C,I){const R=C.target.error||void 0;return kn.create(I,{originalErrorMessage:R&&R.message})}const Us="app_namespace_store";class xh{constructor(I,R,L,K=function Wp(){return new Promise((C,I)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=L=>{I(yl(L,"storage-open"))},R.onsuccess=L=>{C(L.target.result)},R.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Us,{keyPath:"compositeKey"})}}catch(R){I(kn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=I,this.appName=R,this.namespace=L,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var R=this;return(0,O.Z)(function*(){const L=yield R.openDbPromise;return new Promise((K,ee)=>{const Re=L.transaction([Us],"readonly").objectStore(Us),Xe=R.createCompositeKey(I);try{const It=Re.get(Xe);It.onerror=kt=>{ee(yl(kt,"storage-get"))},It.onsuccess=kt=>{const Mt=kt.target.result;K(Mt?Mt.value:void 0)}}catch(It){ee(kn.create("storage-get",{originalErrorMessage:It&&It.message}))}})})()}set(I,R){var L=this;return(0,O.Z)(function*(){const K=yield L.openDbPromise;return new Promise((ee,xe)=>{const Xe=K.transaction([Us],"readwrite").objectStore(Us),It=L.createCompositeKey(I);try{const kt=Xe.put({compositeKey:It,value:R});kt.onerror=Mt=>{xe(yl(Mt,"storage-set"))},kt.onsuccess=()=>{ee()}}catch(kt){xe(kn.create("storage-set",{originalErrorMessage:kt&&kt.message}))}})})()}delete(I){var R=this;return(0,O.Z)(function*(){const L=yield R.openDbPromise;return new Promise((K,ee)=>{const Re=L.transaction([Us],"readwrite").objectStore(Us),Xe=R.createCompositeKey(I);try{const It=Re.delete(Xe);It.onerror=kt=>{ee(yl(kt,"storage-delete"))},It.onsuccess=()=>{K()}}catch(It){ee(kn.create("storage-delete",{originalErrorMessage:It&&It.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Hc{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,O.Z)(function*(){const R=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),K=I.storage.getActiveConfig(),ee=yield R;ee&&(I.lastFetchStatus=ee);const xe=yield L;xe&&(I.lastSuccessfulFetchTimestampMillis=xe);const Re=yield K;Re&&(I.activeConfig=Re)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function po(){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,O.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}!function Ko(){(0,le._registerComponent)(new me.wA("remote-config",function C(I,{instanceIdentifier:R}){const L=I.getProvider("app").getImmediate(),K=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw kn.create("registration-window");if(!(0,X.hl)())throw kn.create("indexed-db-unavailable");const{projectId:ee,apiKey:xe,appId:Re}=L.options;if(!ee)throw kn.create("registration-project-id");if(!xe)throw kn.create("registration-api-key");if(!Re)throw kn.create("registration-app-id");const Xe=new xh(Re,L.name,R=R||"firebase"),It=new Hc(Xe),kt=new re.Yd(pr);kt.logLevel=re.in.ERROR;const Mt=new pu(K,le.SDK_VERSION,R,ee,xe,Re),Wn=new Gp(Mt,Xe),xn=new Mh(Wn,Xe,It,kt),ua=new ka(L,xn,It,Xe,kt);return function ci(C){const I=(0,X.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ua),ua},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(pr,"0.3.6"),(0,le.registerVersion)(pr,"0.3.6","esm2017")}();const _l="/firebase-messaging-sw.js",js="/firebase-cloud-messaging-push-scope",Qr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",go="google.c.a.c_id",Pa="google.c.a.c_l",Gc="google.c.a.ts",Kp="google.c.a.e";var $s=(()=>{return(C=$s||($s={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",$s;var C})();function hi(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mu(C){const R=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(R),K=new Uint8Array(L.length);for(let ee=0;ee<L.length;++ee)K[ee]=L.charCodeAt(ee);return K}const yu="fcm_token_details_db",mr="fcm_token_object_Store";function Nh(C){return _u.apply(this,arguments)}function _u(){return _u=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(yu))return null;let I=null;return(yield(0,X.X3)(yu,5,function(){var L=(0,O.Z)(function*(K,ee,xe,Re){var Xe;if(ee<2||!K.objectStoreNames.contains(mr))return;const It=Re.objectStore(mr),kt=yield It.index("fcmSenderId").get(C);if(yield It.clear(),kt)if(2===ee){const Mt=kt;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;I={token:Mt.fcmToken,createTime:null!==(Xe=Mt.createTime)&&void 0!==Xe?Xe:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:hi(Mt.vapidKey)}}}else if(3===ee){const Mt=kt;I={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:hi(Mt.auth),p256dh:hi(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:hi(Mt.vapidKey)}}}else if(4===ee){const Mt=kt;I={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:hi(Mt.auth),p256dh:hi(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:hi(Mt.vapidKey)}}}});return function(K,ee,xe,Re){return L.apply(this,arguments)}}())).close(),yield(0,X.Lj)(yu),yield(0,X.Lj)("fcm_vapid_details_db"),yield(0,X.Lj)("undefined"),qc(I)?I:null}),_u.apply(this,arguments)}function qc(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const ms="firebase-messaging-store";let Fa=null;function vl(){return Fa||(Fa=(0,X.X3)("firebase-messaging-database",1,(C,I)=>{0===I&&C.createObjectStore(ms)})),Fa}function yn(C){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,O.Z)(function*(C){const I=yo(C),L=yield(yield vl()).transaction(ms).objectStore(ms).get(I);if(L)return L;{const K=yield Nh(C.appConfig.senderId);if(K)return yield Hs(C,K),K}})).apply(this,arguments)}function Hs(C,I){return cn.apply(this,arguments)}function cn(){return(cn=(0,O.Z)(function*(C,I){const R=yo(C),K=(yield vl()).transaction(ms,"readwrite");return yield K.objectStore(ms).put(I,R),yield K.complete,I})).apply(this,arguments)}function zc(C){return mo.apply(this,arguments)}function mo(){return(mo=(0,O.Z)(function*(C){const I=yo(C),L=(yield vl()).transaction(ms,"readwrite");yield L.objectStore(ms).delete(I),yield L.complete})).apply(this,arguments)}function yo({appConfig:C}){return C.appId}const Pn=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function La(C,I){return ki.apply(this,arguments)}function ki(){return(ki=(0,O.Z)(function*(C,I){const R=yield qs(C),L=gt(I),K={method:"POST",headers:R,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(Jr(C.appConfig),K)).json()}catch(xe){throw Pn.create("token-subscribe-failed",{errorInfo:xe})}if(ee.error)throw Pn.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw Pn.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function Ir(C,I){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,O.Z)(function*(C,I){const R=yield qs(C),L=gt(I.subscriptionOptions),K={method:"PATCH",headers:R,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(`${Jr(C.appConfig)}/${I.token}`,K)).json()}catch(xe){throw Pn.create("token-update-failed",{errorInfo:xe})}if(ee.error)throw Pn.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw Pn.create("token-update-no-token");return ee.token})).apply(this,arguments)}function ys(C,I){return wu.apply(this,arguments)}function wu(){return(wu=(0,O.Z)(function*(C,I){const L={method:"DELETE",headers:yield qs(C)};try{const ee=yield(yield fetch(`${Jr(C.appConfig)}/${I}`,L)).json();if(ee.error)throw Pn.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(K){throw Pn.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function Jr({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function qs(C){return zs.apply(this,arguments)}function zs(){return(zs=(0,O.Z)(function*({appConfig:C,installations:I}){const R=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function gt({p256dh:C,auth:I,endpoint:R,vapidKey:L}){const K={web:{endpoint:R,auth:I,p256dh:C}};return L!==Qr&&(K.web.applicationPubKey=L),K}const bu=6048e5;function Va(C){return Du.apply(this,arguments)}function Du(){return(Du=(0,O.Z)(function*(C){const I=yield bl(C.swRegistration,C.vapidKey),R={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:hi(I.getKey("auth")),p256dh:hi(I.getKey("p256dh"))},L=yield yn(C.firebaseDependencies);if(L){if(Qo(L.subscriptionOptions,R))return Date.now()>=L.createTime+bu?El(C,{token:L.token,createTime:Date.now(),subscriptionOptions:R}):L.token;try{yield ys(C.firebaseDependencies,L.token)}catch(K){console.warn(K)}return Ce(C.firebaseDependencies,R)}return Ce(C.firebaseDependencies,R)})).apply(this,arguments)}function Cu(C){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,O.Z)(function*(C){const I=yield yn(C.firebaseDependencies);I&&(yield ys(C.firebaseDependencies,I.token),yield zc(C.firebaseDependencies));const R=yield C.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function El(C,I){return wl.apply(this,arguments)}function wl(){return(wl=(0,O.Z)(function*(C,I){try{const R=yield Ir(C.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:R,createTime:Date.now()});return yield Hs(C.firebaseDependencies,L),R}catch(R){throw yield Cu(C),R}})).apply(this,arguments)}function Ce(C,I){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,O.Z)(function*(C,I){const L={token:yield La(C,I),createTime:Date.now(),subscriptionOptions:I};return yield Hs(C,L),L.token})).apply(this,arguments)}function bl(C,I){return wn.apply(this,arguments)}function wn(){return(wn=(0,O.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mu(I)})})).apply(this,arguments)}function Qo(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}function Jo(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Xr(C,I){if(!I.notification)return;C.notification={};const R=I.notification.title;R&&(C.notification.title=R);const L=I.notification.body;L&&(C.notification.body=L);const K=I.notification.image;K&&(C.notification.image=K)}(I,C),function Dl(C,I){!I.data||(C.data=I.data)}(I,C),function Cl(C,I){if(!I.fcmOptions)return;C.fcmOptions={};const R=I.fcmOptions.link;R&&(C.fcmOptions.link=R);const L=I.fcmOptions.analytics_label;L&&(C.fcmOptions.analyticsLabel=L)}(I,C),I}function Wc(C){return"object"==typeof C&&!!C&&go in C}function Il(C,I){const R=[];for(let L=0;L<C.length;L++)R.push(C.charAt(L)),L<I.length&&R.push(I.charAt(L));return R.join("")}function Ws(C){return Pn.create("missing-app-config-values",{valueName:C})}Il("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Il("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class yr{constructor(I,R,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function Tu(C){if(!C||!C.options)throw Ws("App Configuration Object");if(!C.name)throw Ws("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:R}=C;for(const L of I)if(!R[L])throw Ws(L);return{appName:C.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:K,installations:R,analyticsProvider:L}}_delete(){return Promise.resolve()}}function fi(C){return Su.apply(this,arguments)}function Su(){return(Su=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(_l,{scope:js}),C.swRegistration.update().catch(()=>{})}catch(I){throw Pn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function Ks(C,I){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,O.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield fi(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Pn.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function Tl(C,I){return Au.apply(this,arguments)}function Au(){return(Au=(0,O.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=Qr)})).apply(this,arguments)}function Sl(){return(Sl=(0,O.Z)(function*(C,I){if(!navigator)throw Pn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Pn.create("permission-blocked");return yield Tl(C,null==I?void 0:I.vapidKey),yield Ks(C,null==I?void 0:I.serviceWorkerRegistration),Va(C)})).apply(this,arguments)}function Ba(C,I,R){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,O.Z)(function*(C,I,R){const L=Al(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:R[go],message_name:R[Pa],message_time:R[Gc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Al(C){switch(C){case $s.NOTIFICATION_CLICKED:return"notification_open";case $s.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Kc(){return(Kc=(0,O.Z)(function*(C,I){const R=I.data;if(!R.isFirebaseMessaging)return;C.onMessageHandler&&R.messageType===$s.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Jo(R)):C.onMessageHandler.next(Jo(R)));const L=R.data;Wc(L)&&"1"===L[Kp]&&(yield Ba(C,R.messageType,L))})).apply(this,arguments)}const xl="@firebase/messaging",Zc=C=>{const I=new yr(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Ml(C,I){return Kc.apply(this,arguments)}(I,R)),I},vo=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:L=>function Mu(C,I){return Sl.apply(this,arguments)}(I,L)}};function Qc(){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,O.Z)(function*(){try{yield(0,X.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Yc(){(0,le._registerComponent)(new me.wA("messaging",Zc,"PUBLIC")),(0,le._registerComponent)(new me.wA("messaging-internal",vo,"PRIVATE")),(0,le.registerVersion)(xl,"0.9.11"),(0,le.registerVersion)(xl,"0.9.11","esm2017")}();const Nl="analytics",yy="firebase_id",Ua="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xu="https://www.googletagmanager.com/gtag/js",qn=new re.Yd("@firebase/analytics");function Jc(C){return Promise.all(C.map(I=>I.catch(R=>R)))}function Zp(C,I){const R=document.createElement("script");R.src=`${xu}?l=${C}&id=${I}`,R.async=!0,document.head.appendChild(R)}function ea(C,I,R,L,K,ee){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,O.Z)(function*(C,I,R,L,K,ee){const xe=L[K];try{if(xe)yield I[xe];else{const Xe=(yield Jc(R)).find(It=>It.measurementId===K);Xe&&(yield I[Xe.appId])}}catch(Re){qn.error(Re)}C("config",K,ee)})).apply(this,arguments)}function kl(C,I,R,L,K){return wo.apply(this,arguments)}function wo(){return(wo=(0,O.Z)(function*(C,I,R,L,K){try{let ee=[];if(K&&K.send_to){let xe=K.send_to;Array.isArray(xe)||(xe=[xe]);const Re=yield Jc(R);for(const Xe of xe){const It=Re.find(Mt=>Mt.measurementId===Xe),kt=It&&I[It.appId];if(!kt){ee=[];break}ee.push(kt)}}0===ee.length&&(ee=Object.values(I)),yield Promise.all(ee),C("event",L,K||{})}catch(ee){qn.error(ee)}})).apply(this,arguments)}function Yp(){const C=window.document.getElementsByTagName("script");for(const I of Object.values(C))if(I.src&&I.src.includes(xu))return I;return null}const Ln=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Fr=new class ei{constructor(I={},R=1e3){this.throttleMetadata=I,this.intervalMillis=R}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,R){this.throttleMetadata[I]=R}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function ta(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function td(C){return mn.apply(this,arguments)}function mn(){return(mn=(0,O.Z)(function*(C){var I;const{appId:R,apiKey:L}=C,K={method:"GET",headers:ta(L)},ee=Ua.replace("{app-id}",R),xe=yield fetch(ee,K);if(200!==xe.status&&304!==xe.status){let Re="";try{const Xe=yield xe.json();(null===(I=Xe.error)||void 0===I?void 0:I.message)&&(Re=Xe.error.message)}catch(Xe){}throw Ln.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:Re})}return xe.json()})).apply(this,arguments)}function Ph(C){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,O.Z)(function*(C,I=Fr,R){const{appId:L,apiKey:K,measurementId:ee}=C.options;if(!L)throw Ln.create("no-app-id");if(!K){if(ee)return{measurementId:ee,appId:L};throw Ln.create("no-api-key")}const xe=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Re=new Pl;return setTimeout((0,O.Z)(function*(){Re.abort()}),void 0!==R?R:6e4),Ru({appId:L,apiKey:K,measurementId:ee},xe,Re,I)})).apply(this,arguments)}function Ru(C,I,R){return pi.apply(this,arguments)}function pi(){return(pi=(0,O.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:R},L,K=Fr){const{appId:ee,measurementId:xe}=C;try{yield Ot(L,I)}catch(Re){if(xe)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${Re.message}]`),{appId:ee,measurementId:xe};throw Re}try{const Re=yield td(C);return K.deleteThrottleMetadata(ee),Re}catch(Re){if(!nd(Re)){if(K.deleteThrottleMetadata(ee),xe)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${Re.message}]`),{appId:ee,measurementId:xe};throw Re}const Xe=503===Number(Re.customData.httpStatus)?(0,X.$s)(R,K.intervalMillis,30):(0,X.$s)(R,K.intervalMillis),It={throttleEndTimeMillis:Date.now()+Xe,backoffCount:R+1};return K.setThrottleMetadata(ee,It),qn.debug(`Calling attemptFetch again in ${Xe} millis`),Ru(C,It,L,K)}})).apply(this,arguments)}function Ot(C,I){return new Promise((R,L)=>{const K=Math.max(I-Date.now(),0),ee=setTimeout(R,K);C.addEventListener(()=>{clearTimeout(ee),L(Ln.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function nd(C){if(!(C instanceof X.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Pl{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Fl(){return bo.apply(this,arguments)}function bo(){return(bo=(0,O.Z)(function*(){if(!(0,X.hl)())return qn.warn(Ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(C){return qn.warn(Ln.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function Es(){return(Es=(0,O.Z)(function*(C,I,R,L,K,ee,xe){var Re;const Xe=Ph(C);Xe.then(xn=>{R[xn.measurementId]=xn.appId,C.options.measurementId&&xn.measurementId!==C.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${xn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(xn=>qn.error(xn)),I.push(Xe);const It=Fl().then(xn=>{if(xn)return L.getId()}),[kt,Mt]=yield Promise.all([Xe,It]);Yp()||Zp(ee,kt.measurementId),K("js",new Date);const Wn=null!==(Re=null==xe?void 0:xe.config)&&void 0!==Re?Re:{};return Wn.origin="firebase",Wn.update=!0,null!=Mt&&(Wn[yy]=Mt),K("config",kt.measurementId,Wn),kt.measurementId})).apply(this,arguments)}class na{constructor(I){this.app=I}_delete(){return delete gi[this.app.options.appId],Promise.resolve()}}let gi={},Qs=[];const mi={};let Js,Yi,Zi="dataLayer",Vl=!1;function Li(C,I,R){!function Do(){const C=[];if((0,X.ru)()&&C.push("This is a browser extension environment."),(0,X.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((L,K)=>`(${K+1}) ${L}`).join(" "),R=Ln.create("invalid-analytics-context",{errorInfo:I});qn.warn(R.message)}}();const L=C.options.appId;if(!L)throw Ln.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Ln.create("no-api-key");qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=gi[L])throw Ln.create("already-exists",{id:L});if(!Vl){!function vs(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(Zi);const{wrappedGtag:ee,gtagCore:xe}=function kh(C,I,R,L,K){let ee=function(...xe){window[L].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ee=window[K]),window[K]=function ed(C,I,R,L){function ee(){return(ee=(0,O.Z)(function*(xe,Re,Xe){try{"event"===xe?yield kl(C,I,R,Re,Xe):"config"===xe?yield ea(C,I,R,L,Re,Xe):C("set",Re)}catch(It){qn.error(It)}})).apply(this,arguments)}return function K(xe,Re,Xe){return ee.apply(this,arguments)}}(ee,C,I,R),{gtagCore:ee,wrappedGtag:window[K]}}(gi,Qs,mi,Zi,"gtag");Yi=ee,Js=xe,Vl=!0}return gi[L]=function zn(C,I,R,L,K,ee,xe){return Es.apply(this,arguments)}(C,Qs,mi,I,Js,Zi,R),new na(C)}function ia(){return(ia=(0,O.Z)(function*(C,I,R,L,K){if(K&&K.global)C("event",R,L);else{const ee=yield I;C("event",R,Object.assign(Object.assign({},L),{send_to:ee}))}})).apply(this,arguments)}function Cn(){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,O.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}const eo="@firebase/analytics";!function eg(){(0,le._registerComponent)(new me.wA(Nl,(I,{options:R})=>Li(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,le._registerComponent)(new me.wA("analytics-internal",function C(I){try{const R=I.getProvider(Nl).getImmediate();return{logEvent:(L,K,ee)=>function Xp(C,I,R,L){C=(0,X.m9)(C),function ra(C,I,R,L,K){return ia.apply(this,arguments)}(Yi,gi[C.app.options.appId],I,R,L).catch(K=>qn.error(K))}(R,L,K,ee)}}catch(R){throw Ln.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,le.registerVersion)(eo,"0.7.7"),(0,le.registerVersion)(eo,"0.7.7","esm2017")}();var to=P(4408),Nu=P(7565);const Bl=new class In extends Nu.v{}(class ws extends to.o{constructor(I,R){super(I,R),this.scheduler=I,this.work=R}schedule(I,R=0){return R>0?super.schedule(I,R):(this.delay=R,this.state=I,this.scheduler.flush(this),this)}execute(I,R){return R>0||this.closed?super.execute(I,R):this._execute(I,R)}requestAsyncId(I,R,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,R,L):I.flush(this)}});var tg=P(4986),Ul=P(8505),Ar=P(9468),yi=P(5363);const jl=new f.GfV("7.3.0"),bs="__angularfire_symbol__analyticsIsSupportedValue",Ui="__angularfire_symbol__analyticsIsSupported",Xi="__angularfire_symbol__remoteConfigIsSupportedValue",ja="__angularfire_symbol__remoteConfigIsSupported",$l="__angularfire_symbol__messagingIsSupportedValue",Hl="__angularfire_symbol__messagingIsSupported";function no(C,I,R){if(I){if(1===I.length)return I[0];const ee=I.filter(xe=>xe.app===R);if(1===ee.length)return ee[0]}return R.container.getProvider(C).getImmediate({optional:!0})}globalThis[Ui]||(globalThis[Ui]=Cn().then(C=>globalThis[bs]=C).catch(()=>globalThis[bs]=!1)),globalThis[Hl]||(globalThis[Hl]=Qc().then(C=>globalThis[$l]=C).catch(()=>globalThis[$l]=!1)),globalThis[ja]||(globalThis[ja]=po().then(C=>globalThis[Xi]=C).catch(()=>globalThis[Xi]=!1));const od=(C,I)=>{const R=I?[I]:(0,Y.C6)(),L=[];return R.forEach(K=>{K.container.getProvider(C).instances.forEach(xe=>{L.includes(xe)||L.push(xe)})}),L};function Io(){}class Ou{constructor(I,R=Bl){this.zone=I,this.delegate=R}now(){return this.delegate.now()}schedule(I,R,L){const K=this.zone;return this.delegate.schedule(function(xe){K.runGuarded(()=>{I.apply(this,[xe])})},R,L)}}class es{constructor(I){this.zone=I,this.task=null}call(I,R){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Io,{},Io,Io)),R.pipe((0,Ul.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ku=(()=>{class C{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Ou(Zone.current)),this.insideAngular=R.run(()=>new Ou(Zone.current,tg.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(R){return new(R||C)(f.LFG(f.R0b))},C.\u0275prov=f.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function ts(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function zl(C){return ts(),function To(C){return function(R){return(R=R.lift(new es(C.ngZone))).pipe((0,Ar.R)(C.outsideAngular),(0,yi.Q)(C.insideAngular))}}(ts())(C)}},2090:(ut,Se,P)=>{P.d(Se,{BH:()=>Ae,LL:()=>St,ZR:()=>ue,zI:()=>ye,US:()=>re,tV:()=>$,L:()=>de,$s:()=>ho,r3:()=>tn,Sg:()=>ke,ne:()=>dt,vZ:()=>Os,ZB:()=>J,Lj:()=>jt,pd:()=>cs,m9:()=>ft,z$:()=>Ve,jU:()=>nt,ru:()=>Ye,d:()=>ve,xb:()=>dr,w1:()=>we,hl:()=>W,uI:()=>pe,UG:()=>De,b$:()=>Ie,G6:()=>te,Mn:()=>Ge,X3:()=>pt,xO:()=>zi,zd:()=>Pr,eu:()=>ie});var f=P(5861);const X=function(j){const V=[];let q=0;for(let he=0;he<j.length;he++){let Q=j.charCodeAt(he);Q<128?V[q++]=Q:Q<2048?(V[q++]=Q>>6|192,V[q++]=63&Q|128):55296==(64512&Q)&&he+1<j.length&&56320==(64512&j.charCodeAt(he+1))?(Q=65536+((1023&Q)<<10)+(1023&j.charCodeAt(++he)),V[q++]=Q>>18|240,V[q++]=Q>>12&63|128,V[q++]=Q>>6&63|128,V[q++]=63&Q|128):(V[q++]=Q>>12|224,V[q++]=Q>>6&63|128,V[q++]=63&Q|128)}return V},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,V){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[];for(let Q=0;Q<j.length;Q+=3){const Be=j[Q],Et=Q+1<j.length,Yt=Et?j[Q+1]:0,br=Q+2<j.length,zt=br?j[Q+2]:0;let pn=(15&Yt)<<2|zt>>6,sr=63&zt;br||(sr=64,Et||(pn=64)),he.push(q[Be>>2],q[(3&Be)<<4|Yt>>4],q[pn],q[sr])}return he.join("")},encodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(j):this.encodeByteArray(X(j),V)},decodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(j):function(j){const V=[];let q=0,he=0;for(;q<j.length;){const Q=j[q++];if(Q<128)V[he++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const Be=j[q++];V[he++]=String.fromCharCode((31&Q)<<6|63&Be)}else if(Q>239&&Q<365){const br=((7&Q)<<18|(63&j[q++])<<12|(63&j[q++])<<6|63&j[q++])-65536;V[he++]=String.fromCharCode(55296+(br>>10)),V[he++]=String.fromCharCode(56320+(1023&br))}else{const Be=j[q++],Et=j[q++];V[he++]=String.fromCharCode((15&Q)<<12|(63&Be)<<6|63&Et)}}return V.join("")}(this.decodeStringToByteArray(j,V))},decodeStringToByteArray(j,V){this.init_();const q=V?this.charToByteMapWebSafe_:this.charToByteMap_,he=[];for(let Q=0;Q<j.length;){const Be=q[j.charAt(Q++)],Yt=Q<j.length?q[j.charAt(Q)]:0;++Q;const zt=Q<j.length?q[j.charAt(Q)]:64;++Q;const Nt=Q<j.length?q[j.charAt(Q)]:64;if(++Q,null==Be||null==Yt||null==zt||null==Nt)throw Error();he.push(Be<<2|Yt>>4),64!==zt&&(he.push(Yt<<4&240|zt>>2),64!==Nt&&he.push(zt<<6&192|Nt))}return he},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},de=function(j){return function(j){const V=X(j);return re.encodeByteArray(V,!0)}(j).replace(/\./g,"")},$=function(j){try{return re.decodeString(j,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function J(j,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return V}for(const q in V)!V.hasOwnProperty(q)||!We(q)||(j[q]=J(j[q],V[q]));return j}function We(j){return"__proto__"!==j}class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,q)=>{this.resolve=V,this.reject=q})}wrapCallback(V){return(q,he)=>{q?this.reject(q):this.resolve(he),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(q):V(q,he))}}}function ke(j,V){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const he=V||"demo-project",Q=j.iat||0,Be=j.sub||j.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${he}`,aud:he,iat:Q,exp:Q+3600,auth_time:Q,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},j);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Et)),""].join(".")}function Ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function nt(){return"object"==typeof self&&self.self===self}function Ye(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){return Ve().indexOf("Electron/")>=0}function we(){const j=Ve();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Ge(){return Ve().indexOf("MSAppHost/")>=0}function te(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W(){return"object"==typeof indexedDB}function ie(){return new Promise((j,V)=>{try{let q=!0;const he="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(he);Q.onsuccess=()=>{Q.result.close(),q||self.indexedDB.deleteDatabase(he),j(!0)},Q.onupgradeneeded=()=>{q=!1},Q.onerror=()=>{var Be;V((null===(Be=Q.error)||void 0===Be?void 0:Be.message)||"")}}catch(q){V(q)}})}function ye(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ue extends Error{constructor(V,q,he){super(q),this.code=V,this.customData=he,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,St.prototype.create)}}class St{constructor(V,q,he){this.service=V,this.serviceName=q,this.errors=he}create(V,...q){const he=q[0]||{},Q=`${this.service}/${V}`,Be=this.errors[V],Et=Be?function en(j,V){return j.replace(On,(q,he)=>{const Q=V[he];return null!=Q?String(Q):`<${he}?>`})}(Be,he):"Error";return new ue(Q,`${this.serviceName}: ${Et} (${Q}).`,he)}}const On=/\{\$([^}]+)}/g;function tn(j,V){return Object.prototype.hasOwnProperty.call(j,V)}function dr(j){for(const V in j)if(Object.prototype.hasOwnProperty.call(j,V))return!1;return!0}function Os(j,V){if(j===V)return!0;const q=Object.keys(j),he=Object.keys(V);for(const Q of q){if(!he.includes(Q))return!1;const Be=j[Q],Et=V[Q];if(kr(Be)&&kr(Et)){if(!Os(Be,Et))return!1}else if(Be!==Et)return!1}for(const Q of he)if(!q.includes(Q))return!1;return!0}function kr(j){return null!==j&&"object"==typeof j}function zi(j){const V=[];for(const[q,he]of Object.entries(j))Array.isArray(he)?he.forEach(Q=>{V.push(encodeURIComponent(q)+"="+encodeURIComponent(Q))}):V.push(encodeURIComponent(q)+"="+encodeURIComponent(he));return V.length?"&"+V.join("&"):""}function Pr(j){const V={};return j.replace(/^\?/,"").split("&").forEach(he=>{if(he){const[Q,Be]=he.split("=");V[decodeURIComponent(Q)]=decodeURIComponent(Be)}}),V}function cs(j){const V=j.indexOf("?");if(!V)return"";const q=j.indexOf("#",V);return j.substring(V,q>0?q:void 0)}function dt(j,V){const q=new Zr(j,V);return q.subscribe.bind(q)}class Zr{constructor(V,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{V(this)}).catch(he=>{this.error(he)})}next(V){this.forEachObserver(q=>{q.next(V)})}error(V){this.forEachObserver(q=>{q.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,q,he){let Q;if(void 0===V&&void 0===q&&void 0===he)throw new Error("Missing Observer.");Q=function Qn(j,V){if("object"!=typeof j||null===j)return!1;for(const q of V)if(q in j&&"function"==typeof j[q])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:q,complete:he},void 0===Q.next&&(Q.next=ui),void 0===Q.error&&(Q.error=ui),void 0===Q.complete&&(Q.complete=ui);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(Et){}}),this.observers.push(Q),Be}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,V)}sendOne(V,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{q(this.observers[V])}catch(he){"undefined"!=typeof console&&console.error&&console.error(he)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ui(){}function ho(j,V=1e3,q=2){const he=V*Math.pow(q,j),Q=Math.round(.5*he*(Math.random()-.5)*2);return Math.min(144e5,he+Q)}function ft(j){return j&&j._delegate?j._delegate:j}function wr(j,V){return new Promise((q,he)=>{j.onsuccess=Q=>{q(Q.target.result)},j.onerror=Q=>{var Be;he(`${V}: ${null===(Be=Q.target.error)||void 0===Be?void 0:Be.message}`)}})}class Ut{constructor(V){this._db=V,this.objectStoreNames=this._db.objectStoreNames}transaction(V,q){return new Qe(this._db.transaction.call(this._db,V,q))}createObjectStore(V,q){return new Te(this._db.createObjectStore(V,q))}close(){this._db.close()}}class Qe{constructor(V){this._transaction=V,this.complete=new Promise((q,he)=>{this._transaction.oncomplete=function(){q()},this._transaction.onerror=()=>{he(this._transaction.error)},this._transaction.onabort=()=>{he(this._transaction.error)}})}objectStore(V){return new Te(this._transaction.objectStore(V))}}class Te{constructor(V){this._store=V}index(V){return new et(this._store.index(V))}createIndex(V,q,he){return new et(this._store.createIndex(V,q,he))}get(V){return wr(this._store.get(V),"Error reading from IndexedDB")}put(V,q){return wr(this._store.put(V,q),"Error writing to IndexedDB")}delete(V){return wr(this._store.delete(V),"Error deleting from IndexedDB")}clear(){return wr(this._store.clear(),"Error clearing IndexedDB object store")}}class et{constructor(V){this._index=V}get(V){return wr(this._index.get(V),"Error reading from IndexedDB")}}function pt(j,V,q){return new Promise((he,Q)=>{try{const Be=indexedDB.open(j,V);Be.onsuccess=Et=>{he(new Ut(Et.target.result))},Be.onerror=Et=>{var Yt;Q(`Error opening indexedDB: ${null===(Yt=Et.target.error)||void 0===Yt?void 0:Yt.message}`)},Be.onupgradeneeded=Et=>{q(new Ut(Be.result),Et.oldVersion,Et.newVersion,new Qe(Be.transaction))}}catch(Be){Q(`Error opening indexedDB: ${Be.message}`)}})}function jt(j){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,f.Z)(function*(j){return new Promise((V,q)=>{try{const he=indexedDB.deleteDatabase(j);he.onsuccess=()=>{V()},he.onerror=Q=>{var Be;q(`Error deleting indexedDB database "${j}": ${null===(Be=Q.target.error)||void 0===Be?void 0:Be.message}`)}}catch(he){q(`Error deleting indexedDB database "${j}": ${he.message}`)}})})).apply(this,arguments)}},9957:(ut,Se,P)=>{var f=P(5e3);let Y=null;function O(){return Y}const re=new f.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function de(){return(0,f.LFG)(H)}()},providedIn:"platform"}),n})();const $=new f.OlP("Location Initialized");let H=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){J()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){J()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function We(){return new H((0,f.LFG)(re))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ke(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function De(n){const e=(0,f.LFG)(re).location;return new Ye((0,f.LFG)(fe),e&&e.origin||"")}()},providedIn:"root"}),n})();const nt=new f.OlP("appBaseHref");let Ye=(()=>{class n extends pe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ve(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+Ve(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+Ve(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(fe),f.LFG(nt,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends pe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ae(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+Ve(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+Ve(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(fe),f.LFG(nt,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n{constructor(t,r){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ke($e(i)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ve(r))}normalize(t){return n.stripTrailingSlash(function Ge(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,$e(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=Ae,n.stripTrailingSlash=ke,n.\u0275fac=function(t){return new(t||n)(f.LFG(pe),f.LFG(fe))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function we(){return new ve((0,f.LFG)(pe),(0,f.LFG)(fe))}()},providedIn:"root"}),n})();function $e(n){return n.replace(/\/index.html$/,"")}var ye=(()=>((ye=ye||{})[ye.Format=0]="Format",ye[ye.Standalone=1]="Standalone",ye))(),se=(()=>((se=se||{})[se.Narrow=0]="Narrow",se[se.Abbreviated=1]="Abbreviated",se[se.Wide=2]="Wide",se[se.Short=3]="Short",se))(),Oe=(()=>((Oe=Oe||{})[Oe.Short=0]="Short",Oe[Oe.Medium=1]="Medium",Oe[Oe.Long=2]="Long",Oe[Oe.Full=3]="Full",Oe))(),ue=(()=>((ue=ue||{})[ue.Decimal=0]="Decimal",ue[ue.Group=1]="Group",ue[ue.List=2]="List",ue[ue.PercentSign=3]="PercentSign",ue[ue.PlusSign=4]="PlusSign",ue[ue.MinusSign=5]="MinusSign",ue[ue.Exponential=6]="Exponential",ue[ue.SuperscriptingExponent=7]="SuperscriptingExponent",ue[ue.PerMille=8]="PerMille",ue[ue.Infinity=9]="Infinity",ue[ue.NaN=10]="NaN",ue[ue.TimeSeparator=11]="TimeSeparator",ue[ue.CurrencyDecimal=12]="CurrencyDecimal",ue[ue.CurrencyGroup=13]="CurrencyGroup",ue))();function an(n,e){return rr((0,f.cg1)(n)[f.wAp.DateFormat],e)}function ls(n,e){return rr((0,f.cg1)(n)[f.wAp.TimeFormat],e)}function tn(n,e){return rr((0,f.cg1)(n)[f.wAp.DateTimeFormat],e)}function Gt(n,e){const t=(0,f.cg1)(n),r=t[f.wAp.NumberSymbols][e];if(void 0===r){if(e===ue.CurrencyDecimal)return t[f.wAp.NumberSymbols][ue.Decimal];if(e===ue.CurrencyGroup)return t[f.wAp.NumberSymbols][ue.Group]}return r}function cs(n){if(!n[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rr(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Qn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const ir=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ks={},xa=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var qt=(()=>((qt=qt||{})[qt.Short=0]="Short",qt[qt.ShortGMT=1]="ShortGMT",qt[qt.Long=2]="Long",qt[qt.Extended=3]="Extended",qt))(),ot=(()=>((ot=ot||{})[ot.FullYear=0]="FullYear",ot[ot.Month=1]="Month",ot[ot.Date=2]="Date",ot[ot.Hours=3]="Hours",ot[ot.Minutes=4]="Minutes",ot[ot.Seconds=5]="Seconds",ot[ot.FractionalSeconds=6]="FractionalSeconds",ot[ot.Day=7]="Day",ot))(),Dt=(()=>((Dt=Dt||{})[Dt.DayPeriods=0]="DayPeriods",Dt[Dt.Days=1]="Days",Dt[Dt.Months=2]="Months",Dt[Dt.Eras=3]="Eras",Dt))();function hr(n,e,t,r){let i=function Yt(n){if(zt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,u=1,c=1]=n.split("-").map(p=>+p);return Wi(i,u-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(ir))return function br(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,p=Number(n[5]||0)-r,y=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,c,p,y,b),e}(r)}const e=new Date(n);if(!zt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=$t(t,e)||e;let p,c=[];for(;e;){if(p=xa.exec(e),!p){c.push(e);break}{c=c.concat(p.slice(1));const A=c.pop();if(!A)break;e=A}}let y=i.getTimezoneOffset();r&&(y=Q(r,y),i=function Et(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Be(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Q(e,i)-i))}(i,r,!0));let b="";return c.forEach(A=>{const M=function he(n){if(q[n])return q[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ut(Dt.Eras,se.Abbreviated);break;case"GGGG":e=Ut(Dt.Eras,se.Wide);break;case"GGGGG":e=Ut(Dt.Eras,se.Narrow);break;case"y":e=ft(ot.FullYear,1,0,!1,!0);break;case"yy":e=ft(ot.FullYear,2,0,!0,!0);break;case"yyy":e=ft(ot.FullYear,3,0,!1,!0);break;case"yyyy":e=ft(ot.FullYear,4,0,!1,!0);break;case"Y":e=V(1);break;case"YY":e=V(2,!0);break;case"YYY":e=V(3);break;case"YYYY":e=V(4);break;case"M":case"L":e=ft(ot.Month,1,1);break;case"MM":case"LL":e=ft(ot.Month,2,1);break;case"MMM":e=Ut(Dt.Months,se.Abbreviated);break;case"MMMM":e=Ut(Dt.Months,se.Wide);break;case"MMMMM":e=Ut(Dt.Months,se.Narrow);break;case"LLL":e=Ut(Dt.Months,se.Abbreviated,ye.Standalone);break;case"LLLL":e=Ut(Dt.Months,se.Wide,ye.Standalone);break;case"LLLLL":e=Ut(Dt.Months,se.Narrow,ye.Standalone);break;case"w":e=j(1);break;case"ww":e=j(2);break;case"W":e=j(1,!0);break;case"d":e=ft(ot.Date,1);break;case"dd":e=ft(ot.Date,2);break;case"c":case"cc":e=ft(ot.Day,1);break;case"ccc":e=Ut(Dt.Days,se.Abbreviated,ye.Standalone);break;case"cccc":e=Ut(Dt.Days,se.Wide,ye.Standalone);break;case"ccccc":e=Ut(Dt.Days,se.Narrow,ye.Standalone);break;case"cccccc":e=Ut(Dt.Days,se.Short,ye.Standalone);break;case"E":case"EE":case"EEE":e=Ut(Dt.Days,se.Abbreviated);break;case"EEEE":e=Ut(Dt.Days,se.Wide);break;case"EEEEE":e=Ut(Dt.Days,se.Narrow);break;case"EEEEEE":e=Ut(Dt.Days,se.Short);break;case"a":case"aa":case"aaa":e=Ut(Dt.DayPeriods,se.Abbreviated);break;case"aaaa":e=Ut(Dt.DayPeriods,se.Wide);break;case"aaaaa":e=Ut(Dt.DayPeriods,se.Narrow);break;case"b":case"bb":case"bbb":e=Ut(Dt.DayPeriods,se.Abbreviated,ye.Standalone,!0);break;case"bbbb":e=Ut(Dt.DayPeriods,se.Wide,ye.Standalone,!0);break;case"bbbbb":e=Ut(Dt.DayPeriods,se.Narrow,ye.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ut(Dt.DayPeriods,se.Abbreviated,ye.Format,!0);break;case"BBBB":e=Ut(Dt.DayPeriods,se.Wide,ye.Format,!0);break;case"BBBBB":e=Ut(Dt.DayPeriods,se.Narrow,ye.Format,!0);break;case"h":e=ft(ot.Hours,1,-12);break;case"hh":e=ft(ot.Hours,2,-12);break;case"H":e=ft(ot.Hours,1);break;case"HH":e=ft(ot.Hours,2);break;case"m":e=ft(ot.Minutes,1);break;case"mm":e=ft(ot.Minutes,2);break;case"s":e=ft(ot.Seconds,1);break;case"ss":e=ft(ot.Seconds,2);break;case"S":e=ft(ot.FractionalSeconds,1);break;case"SS":e=ft(ot.FractionalSeconds,2);break;case"SSS":e=ft(ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Te(qt.Short);break;case"ZZZZZ":e=Te(qt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Te(qt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Te(qt.Long);break;default:return null}return q[n]=e,e}(A);b+=M?M(i,t,y):"''"===A?"'":A.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function Wi(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function $t(n,e){const t=function en(n){return(0,f.cg1)(n)[f.wAp.LocaleId]}(n);if(ks[t]=ks[t]||{},ks[t][e])return ks[t][e];let r="";switch(e){case"shortDate":r=an(n,Oe.Short);break;case"mediumDate":r=an(n,Oe.Medium);break;case"longDate":r=an(n,Oe.Long);break;case"fullDate":r=an(n,Oe.Full);break;case"shortTime":r=ls(n,Oe.Short);break;case"mediumTime":r=ls(n,Oe.Medium);break;case"longTime":r=ls(n,Oe.Long);break;case"fullTime":r=ls(n,Oe.Full);break;case"short":const i=$t(n,"shortTime"),u=$t(n,"shortDate");r=ho(tn(n,Oe.Short),[i,u]);break;case"medium":const c=$t(n,"mediumTime"),p=$t(n,"mediumDate");r=ho(tn(n,Oe.Medium),[c,p]);break;case"long":const y=$t(n,"longTime"),b=$t(n,"longDate");r=ho(tn(n,Oe.Long),[y,b]);break;case"full":const A=$t(n,"fullTime"),M=$t(n,"fullDate");r=ho(tn(n,Oe.Full),[A,M])}return r&&(ks[t][e]=r),r}function ho(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Er(n,e,t="-",r,i){let u="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,u=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.substr(c.length-e)),u+c}function ft(n,e,t=0,r=!1,i=!1){return function(u,c){let p=function wr(n,e){switch(n){case ot.FullYear:return e.getFullYear();case ot.Month:return e.getMonth();case ot.Date:return e.getDate();case ot.Hours:return e.getHours();case ot.Minutes:return e.getMinutes();case ot.Seconds:return e.getSeconds();case ot.FractionalSeconds:return e.getMilliseconds();case ot.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||p>-t)&&(p+=t),n===ot.Hours)0===p&&-12===t&&(p=12);else if(n===ot.FractionalSeconds)return function fr(n,e){return Er(n,3).substr(0,e)}(p,e);const y=Gt(c,ue.MinusSign);return Er(p,e,y,r,i)}}function Ut(n,e,t=ye.Format,r=!1){return function(i,u){return function Qe(n,e,t,r,i,u){switch(t){case Dt.Months:return function vt(n,e,t){const r=(0,f.cg1)(n),u=rr([r[f.wAp.MonthsFormat],r[f.wAp.MonthsStandalone]],e);return rr(u,t)}(e,i,r)[n.getMonth()];case Dt.Days:return function lt(n,e,t){const r=(0,f.cg1)(n),u=rr([r[f.wAp.DaysFormat],r[f.wAp.DaysStandalone]],e);return rr(u,t)}(e,i,r)[n.getDay()];case Dt.DayPeriods:const c=n.getHours(),p=n.getMinutes();if(u){const b=function ds(n){const e=(0,f.cg1)(n);return cs(e),(e[f.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Qn(r):[Qn(r[0]),Qn(r[1])])}(e),A=function dt(n,e,t){const r=(0,f.cg1)(n);cs(r);const u=rr([r[f.wAp.ExtraData][0],r[f.wAp.ExtraData][1]],e)||[];return rr(u,t)||[]}(e,i,r),M=b.findIndex(F=>{if(Array.isArray(F)){const[B,G]=F,ne=c>=B.hours&&p>=B.minutes,be=c<G.hours||c===G.hours&&p<G.minutes;if(B.hours<G.hours){if(ne&&be)return!0}else if(ne||be)return!0}else if(F.hours===c&&F.minutes===p)return!0;return!1});if(-1!==M)return A[M]}return function On(n,e,t){const r=(0,f.cg1)(n),u=rr([r[f.wAp.DayPeriodsFormat],r[f.wAp.DayPeriodsStandalone]],e);return rr(u,t)}(e,i,r)[c<12?0:1];case Dt.Eras:return function dn(n,e){return rr((0,f.cg1)(n)[f.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,u,n,e,t,r)}}function Te(n){return function(e,t,r){const i=-1*r,u=Gt(t,ue.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case qt.Short:return(i>=0?"+":"")+Er(c,2,u)+Er(Math.abs(i%60),2,u);case qt.ShortGMT:return"GMT"+(i>=0?"+":"")+Er(c,1,u);case qt.Long:return"GMT"+(i>=0?"+":"")+Er(c,2,u)+":"+Er(Math.abs(i%60),2,u);case qt.Extended:return 0===r?"Z":(i>=0?"+":"")+Er(c,2,u)+":"+Er(Math.abs(i%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function Vt(n){return Wi(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function j(n,e=!1){return function(t,r){let i;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+u)/7)}else{const u=Vt(t),c=function jt(n){const e=Wi(n,0,1).getDay();return Wi(n,0,1+(e<=4?4:11)-e)}(u.getFullYear()),p=u.getTime()-c.getTime();i=1+Math.round(p/6048e5)}return Er(i,n,Gt(r,ue.MinusSign))}}function V(n,e=!1){return function(t,r){return Er(Vt(t).getFullYear(),n,Gt(r,ue.MinusSign),e)}}const q={};function Q(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function zt(n){return n instanceof Date&&!isNaN(n.valueOf())}let Ls=(()=>{class n{constructor(t,r,i,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Vs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let or=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Vs(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const p=r.get(u);r.move(p,c),fs(p,i)}});for(let i=0,u=r.length;i<u;i++){const p=r.get(i).context;p.index=i,p.count=u,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{fs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function fs(n,e){n.context.$implicit=e.item}let ci=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ln,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){du("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){du("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ln{constructor(){this.$implicit=null,this.ngIf=null}}function du(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}function Gn(n,e){return new f.vHH(2100,"")}class jc{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Gp{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const gs=new Gp,qp=new jc;let ka=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,f.QGY)(t))return gs;if((0,f.F4k)(t))return qp;throw Gn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.sBO,16))},n.\u0275pipe=f.Yjl({name:"async",type:n,pure:!1}),n})();const Wp=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let xh=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,u){var c;if(null==t||""===t||t!=t)return null;try{return hr(t,r,u||this.locale,null!==(c=null!=i?i:this.defaultTimezone)&&void 0!==c?c:void 0)}catch(p){throw Gn()}}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.soG,16),f.Y36(Wp,24))},n.\u0275pipe=f.Yjl({name:"date",type:n,pure:!0}),n})(),gr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const $s="browser";function Dr(n){return n===$s}function mr(n){return"server"===n}let vu=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new Eu((0,f.LFG)(re),window)}),n})();class Eu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Fa(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ms(this.window.history)||ms(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ms(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Hs extends class Yo extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(n){Y||(Y=n)}(new Hs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function zc(){return cn=cn||document.querySelector("base"),cn?cn.getAttribute("href"):null}();return null==t?null:function yo(n){mo=mo||document.createElement("a"),mo.setAttribute("href",n);const e=mo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){cn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Wo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let mo,cn=null;const Cr=new f.OlP("TRANSITION_ID"),La=[{provide:f.ip1,useFactory:function Pn(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[Cr,re,f.zs3],multi:!0}];class ki{static init(){(0,f.VLi)(new ki)}addToWindow(e){f.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const i=f.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const p=function(y){c=c||y,u--,0==u&&r(c)};i.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ir=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Gs=new f.OlP("EventManagerPlugins");let ys=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Gs),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class wu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Jr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),qs=(()=>{class n extends Jr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const c=this._doc.createElement("style");c.textContent=u,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(zs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(zs))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function zs(n){O().remove(n)}const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bu=/%COMP%/g;function Ce(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ce(n,i,t):(i=i.replace(bu,n),t.push(i))}return t}function Bt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let wn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Qo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case f.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Dl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case f.ifc.ShadowDom:return new Cl(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ce(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ys),f.LFG(qs),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Qo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(gt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=gt[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=gt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,i&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Bt(r)):this.eventManager.addEventListener(e,t,Bt(r))}}class Dl extends Qo{constructor(e,t,r,i){super(e),this.component=r;const u=Ce(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function El(n){return"_ngcontent-%COMP%".replace(bu,n)}(i+"-"+r.id),this.hostAttr=function wl(n){return"_nghost-%COMP%".replace(bu,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Cl extends Qo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Ce(i.id,i.styles,[]);for(let c=0;c<u.length;c++){const p=document.createElement("style");p.textContent=u[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Wc=(()=>{class n extends wu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Il=["alt","control","meta","shift"],Ws={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},fi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Su=(()=>{class n extends wu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="";if(Il.forEach(y=>{const b=r.indexOf(y);b>-1&&(r.splice(b,1),c+=y+".")}),c+=u,0!=r.length||0===u.length)return null;const p={};return p.domEventName=i,p.fullKey=c,p}static getEventFullKey(t){let r="",i=function Ks(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&yr.hasOwnProperty(e)&&(e=yr[e]))}return Ws[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Il.forEach(u=>{u!=i&&fi[u](t)&&(r+=u+".")}),r+=i,r}static eventCallback(t,r,i){return u=>{n.getEventFullKey(u)===t&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Sl=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:$s},{provide:f.g9A,useValue:function Pi(){Hs.makeCurrent(),ki.init()},multi:!0},{provide:re,useFactory:function Au(){return(0,f.RDi)(document),document},deps:[]}]),Ba=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Tl(){return new f.qLn},deps:[]},{provide:Gs,useClass:Wc,multi:!0,deps:[re,f.R0b,f.Lbi]},{provide:Gs,useClass:Su,multi:!0,deps:[re]},{provide:wn,useClass:wn,deps:[ys,qs,f.AFp]},{provide:f.FYo,useExisting:wn},{provide:Jr,useExisting:qs},{provide:qs,useClass:qs,deps:[re]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:ys,useClass:ys,deps:[Gs,f.R0b]},{provide:class yn{},useClass:Ir,deps:[]}];let Xo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:Cr,useExisting:f.AFp},La]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(n,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:Ba,imports:[gr,f.hGG]}),n})();"undefined"!=typeof window&&window;var Fn=P(8996),Ln=P(7669);function yt(...n){const e=(0,Ln.yG)(n);return(0,Fn.D)(n,e)}var ar=P(7579);class ei extends ar.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Fr=P(8306);const{isArray:ta}=Array,{getPrototypeOf:td,prototype:mn,keys:Ph}=Object;function Fi(n){if(1===n.length){const e=n[0];if(ta(e))return{args:e,keys:null};if(function Ru(n){return n&&"object"==typeof n&&td(n)===mn}(e)){const t=Ph(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var pi=P(4671),Ot=P(4004);const{isArray:nd}=Array;function Fl(n){return(0,Ot.U)(e=>function Pl(n,e){return nd(e)?n(...e):n(e)}(n,e))}function bo(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var zn=P(5403),Es=P(9672);function Qs(n,e,t){n?(0,Es.f)(t,n,e):e()}var mi=P(576);function Zi(n,e){const t=(0,mi.m)(n)?n:()=>n,r=i=>i.error(t());return new Fr.y(e?i=>e.schedule(r,0,i):r)}const Js=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Yi=P(8189);function rd(...n){return function Vl(){return(0,Yi.J)(1)}()((0,Fn.D)(n,(0,Ln.yG)(n)))}var Do=P(8421);function Li(n){return new Fr.y(e=>{(0,Do.Xf)(n()).subscribe(e)})}var ra=P(515),ia=P(727),Lr=P(4482);function Vi(){return(0,Lr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,zn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class id extends Fr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Lr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ia.w0;const t=this.getSubject();e.add(this.source.subscribe((0,zn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ia.w0.EMPTY)}return e}refCount(){return Vi()(this)}}function Vn(n,e){return(0,Lr.e)((t,r)=>{let i=null,u=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe((0,zn.x)(r,y=>{null==i||i.unsubscribe();let b=0;const A=u++;(0,Do.Xf)(n(y,A)).subscribe(i=(0,zn.x)(r,M=>r.next(e?e(y,M,A,b++):M),()=>{i=null,p()}))},()=>{c=!0,p()}))})}var Co=P(5698);function Bi(...n){const e=(0,Ln.yG)(n);return(0,Lr.e)((t,r)=>{(e?rd(n,t,e):rd(n,t)).subscribe(r)})}function sa(n,e,t,r,i){return(u,c)=>{let p=t,y=e,b=0;u.subscribe((0,zn.x)(c,A=>{const M=b++;y=p?n(y,A,M):(p=!0,A),r&&c.next(y)},i&&(()=>{p&&c.next(y),c.complete()})))}}function Sr(n,e){return(0,Lr.e)(sa(n,e,arguments.length>=2,!0))}function Qi(n,e){return(0,Lr.e)((t,r)=>{let i=0;t.subscribe((0,zn.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}function Ji(n){return(0,Lr.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,zn.x)(t,void 0,void 0,c=>{u=(0,Do.Xf)(n(c,Ji(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Cn=P(5577);function Xs(n,e){return(0,mi.m)(e)?(0,Cn.z)(n,e,1):(0,Cn.z)(n,1)}function sd(n){return n<=0?()=>ra.E:(0,Lr.e)((e,t)=>{let r=[];e.subscribe((0,zn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Mn(n=Qp){return(0,Lr.e)((e,t)=>{let r=!1;e.subscribe((0,zn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Qp(){return new Js}function Jp(n){return(0,Lr.e)((e,t)=>{let r=!1;e.subscribe((0,zn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function eo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Qi((i,u)=>n(i,u,r)):pi.y,(0,Co.q)(1),t?Jp(e):Mn(()=>new Js))}var ti=P(8505);class to{constructor(e,t){this.id=e,this.url=t}}class ws extends to{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Nu extends to{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class In extends to{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bl extends to{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oa extends to{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tg extends to{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ul extends to{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ar extends to{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yi extends to{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jl{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bs{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ui{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xi{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ja{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $l{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ft="primary";class Gl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Xn(n){return new Gl(n)}const ql="ngNavigationCancelingError";function no(n){const e=Error("NavigationCancelingError: "+n);return e[ql]=!0,e}function Io(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],p=n[u];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function es(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!ku(n[i],e[i]))return!1;return!0}function ku(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function ts(n){return Array.prototype.concat.apply([],n)}function ad(n){return n.length>0?n[n.length-1]:null}function er(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function _i(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,Fn.D)(Promise.resolve(n)):yt(n)}const To={exact:function I(n,e,t){if(!kt(n.segments,e.segments)||!ee(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!I(n.children[r],e.children[r],t))return!1;return!0},subset:L},aa={exact:function C(n,e){return es(n,e)},subset:function R(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ku(n[t],e[t]))},ignored:()=>!0};function Pu(n,e,t){return To[t.paths](n.root,e.root,t.matrixParams)&&aa[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function L(n,e,t){return K(n,e,e.segments,t)}function K(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!kt(i,t)||e.hasChildren()||!ee(i,t,r))}if(n.segments.length===t.length){if(!kt(n.segments,t)||!ee(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!L(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(kt(n.segments,i)&&ee(n.segments,i,r)&&n.children[Ft])&&K(n.children[Ft],e,u,r)}}function ee(n,e,t){return e.every((r,i)=>aa[t](n[i].parameters,r.parameters))}class xe{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xn(this.queryParams)),this._queryParamMap}toString(){return ua.serialize(this)}}class Re{constructor(e,t){this.segments=e,this.children=t,this.parent=null,er(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return So(this)}}class Xe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Xn(this.parameters)),this._parameterMap}toString(){return $a(this)}}function kt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Wn{}class xn{parse(e){const t=new ld(e);return new xe(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Vr(e.root,!0)}`,r=function _y(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ji(t)}=${ji(i)}`).join("&"):`${ji(t)}=${ji(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Ao(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ua=new xn;function So(n){return n.segments.map(e=>$a(e)).join("/")}function Vr(n,e){if(!n.hasChildren())return So(n);if(e){const t=n.children[Ft]?Vr(n.children[Ft],!1):"",r=[];return er(n.children,(i,u)=>{u!==Ft&&r.push(`${u}:${Vr(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Mt(n,e){let t=[];return er(n.children,(r,i)=>{i===Ft&&(t=t.concat(e(r,i)))}),er(n.children,(r,i)=>{i!==Ft&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ft?[Vr(n.children[Ft],!1)]:[`${i}:${Vr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${So(n)}/${t[0]}`:`${So(n)}/(${t.join("//")})`}}function vi(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ji(n){return vi(n).replace(/%3B/gi,";")}function ud(n){return vi(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wl(n){return decodeURIComponent(n)}function Kl(n){return Wl(n.replace(/\+/g,"%20"))}function $a(n){return`${ud(n.path)}${function ng(n){return Object.keys(n).map(e=>`;${ud(e)}=${ud(n[e])}`).join("")}(n.parameters)}`}const vy=/^[^\/()?;=#]+/;function Ds(n){const e=n.match(vy);return e?e[0]:""}const Zl=/^[^=?&#]+/,wy=/^[^&#]+/;class ld{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ft]=new Re(e,t)),r}parseSegment(){const e=Ds(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Xe(Wl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ds(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Ds(this.remaining);i&&(r=i,this.capture(r))}e[Wl(t)]=Wl(r)}parseQueryParam(e){const t=function Ey(n){const e=n.match(Zl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function rg(n){const e=n.match(wy);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Kl(t),u=Kl(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ds(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ft);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[Ft]:new Re([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class by{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Fh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Fh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Lh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Lh(e,this._root).map(t=>t.value)}}function Fh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Fh(n,t);if(r)return r}return null}function Lh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Lh(n,t);if(r.length)return r.unshift(e),r}return[]}class Mo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function xo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class cd extends by{constructor(e,t){super(e),this.snapshot=t,hd(this,e)}toString(){return this.snapshot.toString()}}function Ha(n,e){const t=function Dy(n,e){const c=new Fu([],{},{},"",{},Ft,e,null,n.root,-1,{});return new Vh("",new Mo(c,[]))}(n,e),r=new ei([new Xe("",{})]),i=new ei({}),u=new ei({}),c=new ei({}),p=new ei(""),y=new la(r,i,c,p,u,Ft,e,t.root);return y.snapshot=t.root,new cd(new Mo(y,[]),t)}class la{constructor(e,t,r,i,u,c,p,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ot.U)(e=>Xn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ot.U)(e=>Xn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cy(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function dd(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Fu{constructor(e,t,r,i,u,c,p,y,b,A,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this.routeConfig=y,this._urlSegment=b,this._lastPathIndex=A,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vh extends by{constructor(e,t){super(t),this.url=e,hd(this,t)}toString(){return fd(this._root)}}function hd(n,e){e.value._routerState=n,e.children.forEach(t=>hd(n,t))}function fd(n){const e=n.children.length>0?` { ${n.children.map(fd).join(", ")} } `:"";return`${n.value}${e}`}function pd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,es(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),es(e.params,t.params)||n.params.next(t.params),function Ou(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!es(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),es(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Bh(n,e){const t=es(n.params,e.params)&&function It(n,e){return kt(n,e)&&n.every((t,r)=>es(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Bh(n.parent,e.parent))}function Yl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Uh(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Yl(n,r,i);return Yl(n,r)})}(n,e,t);return new Mo(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>Yl(n,p)),c}}const r=function Ty(n){return new la(new ei(n.url),new ei(n.params),new ei(n.queryParams),new ei(n.fragment),new ei(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Yl(n,u));return new Mo(r,i)}}function ca(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Lu(n){return"object"==typeof n&&null!=n&&n.outlets}function ig(n,e,t,r,i){let u={};if(r&&er(r,(p,y)=>{u[y]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),n===e)return new xe(t,u,i);const c=jh(n,e,t);return new xe(c,u,i)}function jh(n,e,t){const r={};return er(n.children,(i,u)=>{r[u]=i===e?t:jh(i,e,t)}),new Re(n.segments,r)}class Sy{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ca(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Lu);if(i&&i!==ad(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $h{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ry(n,e,t){if(n||(n=new Re([],{})),0===n.segments.length&&n.hasChildren())return io(n,e,t);const r=function cE(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],p=t[r];if(Lu(p))break;const y=`${p}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&b&&"object"==typeof b&&void 0===b.outlets){if(!$i(y,b,c))return u;r+=2}else{if(!$i(y,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Re(n.segments.slice(0,r.pathIndex),{});return u.children[Ft]=new Re(n.segments.slice(r.pathIndex),n.children),io(u,0,i)}return r.match&&0===i.length?new Re(n.segments,{}):r.match&&!n.hasChildren()?Hh(n,e,t):r.match?io(n,0,i):Hh(n,e,t)}function io(n,e,t){if(0===t.length)return new Re(n.segments,{});{const r=function xy(n){return Lu(n[0])?n[0].outlets:{[Ft]:n}}(t),i={};return er(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=Ry(n.children[c],e,u))}),er(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new Re(n.segments,i)}}function Hh(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(Lu(u)){const y=Vu(u.outlets);return new Re(r,y)}if(0===i&&ca(t[0])){r.push(new Xe(n.segments[e].path,Gh(t[0]))),i++;continue}const c=Lu(u)?u.outlets[Ft]:`${u}`,p=i<t.length-1?t[i+1]:null;c&&p&&ca(p)?(r.push(new Xe(c,Gh(p))),i+=2):(r.push(new Xe(c,{})),i++)}return new Re(r,{})}function Vu(n){const e={};return er(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Hh(new Re([],{}),0,t))}),e}function Gh(n){const e={};return er(n,(t,r)=>e[r]=`${t}`),e}function $i(n,e,t){return n==t.path&&es(e,t.parameters)}class og{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),pd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=xo(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),er(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=xo(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=xo(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=xo(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new $l(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Xi(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(pd(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),pd(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=function gd(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),y=p?p.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=y,c.outlet&&c.outlet.activateWith(i,y),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class md{constructor(e,t){this.routes=e,this.module=t}}function Ga(n){return"function"==typeof n}function Bu(n){return n instanceof xe}const Jl=Symbol("INITIAL_VALUE");function da(){return Vn(n=>function na(...n){const e=(0,Ln.yG)(n),t=(0,Ln.jO)(n),{args:r,keys:i}=Fi(n);if(0===r.length)return(0,Fn.D)([],e);const u=new Fr.y(function gi(n,e,t=pi.y){return r=>{Qs(e,()=>{const{length:i}=n,u=new Array(i);let c=i,p=i;for(let y=0;y<i;y++)Qs(e,()=>{const b=(0,Fn.D)(n[y],e);let A=!1;b.subscribe((0,zn.x)(r,M=>{u[y]=M,A||(A=!0,p--),p||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>bo(i,c):pi.y));return t?u.pipe(Fl(t)):u}(n.map(e=>e.pipe((0,Co.q)(1),Bi(Jl)))).pipe(Sr((e,t)=>{let r=!1;return t.reduce((i,u,c)=>i!==Jl?i:(u===Jl&&(r=!0),r||!1!==u&&c!==t.length-1&&!Bu(u)?i:u),e)},Jl),Qi(e=>e!==Jl),(0,Ot.U)(e=>Bu(e)?e:!0===e),(0,Co.q)(1)))}class Ny{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xl,this.attachRef=null}}class Xl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ny,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let ec=(()=>{class n{constructor(t,r,i,u,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=u||Ft,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,y=new Kh(t,p,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Xl),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Kh{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===la?this.route:e===Xl?this.childContexts:this.parent.get(e,t)}}let Zh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},directives:[ec],encapsulation:2}),n})();function tc(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];yd(r,Yh(e,r))}}function yd(n,e){n.children&&tc(n.children,e)}function Yh(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Qh(n){const e=n.children&&n.children.map(Qh),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ft&&(t.component=Zh),t}function sn(n){return n.outlet||Ft}function Jh(n,e){const t=n.filter(r=>sn(r)===e);return t.push(...n.filter(r=>sn(r)!==e)),t}const ug={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uu(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},ug):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||Io)(t,n,e);if(!u)return Object.assign({},ug);const c={};er(u.posParams,(y,b)=>{c[b]=y.path});const p=u.consumed.length>0?Object.assign(Object.assign({},c),u.consumed[u.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:p,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function nc(n,e,t,r,i="corrected"){if(t.length>0&&function ky(n,e,t){return t.some(r=>vd(n,e,r)&&sn(r)!==Ft)}(n,t,r)){const c=new Re(e,function _d(n,e,t,r){const i={};i[Ft]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&sn(u)!==Ft){const c=new Re([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[sn(u)]=c}return i}(n,e,r,new Re(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function lg(n,e,t){return t.some(r=>vd(n,e,r))}(n,t,r)){const c=new Re(n.segments,function Oy(n,e,t,r,i,u){const c={};for(const p of r)if(vd(n,t,p)&&!i[sn(p)]){const y=new Re([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===u?n.segments.length:e.length,c[sn(p)]=y}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const u=new Re(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function vd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Py(n,e,t,r){return!!(sn(n)===r||r!==Ft&&vd(e,t,n))&&("**"===n.path||Uu(e,n,t).matched)}function Fy(n,e,t){return 0===e.length&&!n.children[t]}class ha{constructor(e){this.segmentGroup=e||null}}class Mr{constructor(e){this.urlTree=e}}function Ro(n){return Zi(new ha(n))}function rc(n){return Zi(new Mr(n))}class ef{constructor(e,t,r,i,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(f.h0i)}apply(){const e=nc(this.urlTree.root,[],[],this.config).segmentGroup,t=new Re(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ft).pipe((0,Ot.U)(u=>this.createUrlTree(za(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ji(u=>{if(u instanceof Mr)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof ha?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ft).pipe((0,Ot.U)(i=>this.createUrlTree(za(i),e.queryParams,e.fragment))).pipe(Ji(i=>{throw i instanceof ha?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Re([],{[Ft]:e}):e;return new xe(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ot.U)(u=>new Re([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,Fn.D)(i).pipe(Xs(u=>{const c=r.children[u],p=Jh(t,u);return this.expandSegmentGroup(e,p,c,u).pipe((0,Ot.U)(y=>({segment:y,outlet:u})))}),Sr((u,c)=>(u[c.outlet]=c.segment,u),{}),function Xp(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Qi((i,u)=>n(i,u,r)):pi.y,sd(1),t?Jp(e):Mn(()=>new Js))}())}expandSegment(e,t,r,i,u,c){return(0,Fn.D)(r).pipe(Xs(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,u,c).pipe(Ji(b=>{if(b instanceof ha)return yt(null);throw b}))),eo(p=>!!p),Ji((p,y)=>{if(p instanceof Js||"EmptyError"===p.name)return Fy(t,i,u)?yt(new Re([],{})):Ro(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,u,c,p){return Py(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):Ro(t):Ro(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?rc(u):this.lineralizeSegments(r,u).pipe((0,Cn.z)(c=>{const p=new Re(c,{});return this.expandSegment(e,p,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:p,consumedSegments:y,remainingSegments:b,positionalParamSegments:A}=Uu(t,i,u);if(!p)return Ro(t);const M=this.applyRedirectCommands(y,i.redirectTo,A);return i.redirectTo.startsWith("/")?rc(M):this.lineralizeSegments(i,M).pipe((0,Cn.z)(F=>this.expandSegment(e,t,r,F.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?yt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Ot.U)(M=>(r._loadedConfig=M,new Re(i,{})))):yt(new Re(i,{}));const{matched:c,consumedSegments:p,remainingSegments:y}=Uu(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,Cn.z)(A=>{const M=A.module,F=A.routes,{segmentGroup:B,slicedSegments:G}=nc(t,p,y,F),ne=new Re(B.segments,B.children);if(0===G.length&&ne.hasChildren())return this.expandChildren(M,F,ne).pipe((0,Ot.U)(Ke=>new Re(p,Ke)));if(0===F.length&&0===G.length)return yt(new Re(p,{}));const be=sn(r)===u;return this.expandSegment(M,ne,F,G,be?Ft:u,!0).pipe((0,Ot.U)(Le=>new Re(p.concat(Le.segments),Le.children)))})):Ro(t)}getChildConfig(e,t,r){return t.children?yt(new md(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?yt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Cn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Ot.U)(u=>(t._loadedConfig=u,u))):function Br(n){return Zi(no(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):yt(new md([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?yt(i.map(c=>{const p=e.get(c);let y;if(function qh(n){return n&&Ga(n.canLoad)}(p))y=p.canLoad(t,r);else{if(!Ga(p))throw new Error("Invalid CanLoad guard");y=p(t,r)}return _i(y)})).pipe(da(),(0,ti.b)(c=>{if(!Bu(c))return;const p=no(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw p.url=c,p}),(0,Ot.U)(c=>!0===c)):yt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return yt(r);if(i.numberOfChildren>1||!i.children[Ft])return Zi(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Ft]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new xe(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return er(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[u]=t[p]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return er(t.children,(p,y)=>{c[y]=this.createSegmentGroup(e,p,r,i)}),new Re(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function za(n){const e={};for(const r of Object.keys(n.children)){const u=za(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Hi(n){if(1===n.numberOfChildren&&n.children[Ft]){const e=n.children[Ft];return new Re(n.segments.concat(e.segments),e.children)}return n}(new Re(n.segments,e))}class cg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Wa{constructor(e,t){this.component=e,this.route=t}}function nf(n,e,t){const r=n._root;return Ei(r,e?e._root:null,t,[r.value])}function ic(n,e,t){const r=function Ly(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Ei(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=xo(e);return n.children.forEach(c=>{(function hg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const y=function Vy(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!kt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!kt(n.url,e.url)||!es(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bh(n,e)||!es(n.queryParams,e.queryParams);default:return!Bh(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new cg(r)):(u.data=c.data,u._resolvedData=c._resolvedData),Ei(n,e,u.component?p?p.children:null:t,r,i),y&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new Wa(p.outlet.component,c))}else c&&Ka(e,p,i),i.canActivateChecks.push(new cg(r)),Ei(n,null,u.component?p?p.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),er(u,(c,p)=>Ka(c,t.getContext(p),i)),i}function Ka(n,e,t){const r=xo(n),i=n.value;er(r,(u,c)=>{Ka(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Wa(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class of{}function af(n){return new Fr.y(e=>e.error(n))}class uf{constructor(e,t,r,i,u,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=c}recognize(){const e=nc(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ft);if(null===t)return null;const r=new Fu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Mo(r,t),u=new Vh(this.url,i);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=Cy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const c=t.children[u],p=Jh(e,u),y=this.processSegmentGroup(p,c,u);if(null===y)return null;r.push(...y)}const i=gg(r);return function $y(n){n.sort((e,t)=>e.value.outlet===Ft?-1:t.value.outlet===Ft?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const u of e){const c=this.processSegmentAgainstRoute(u,t,r,i);if(null!==c)return c}return Fy(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Py(e,t,r,i))return null;let u,c=[],p=[];if("**"===e.path){const B=r.length>0?ad(r).parameters:{};u=new Fu(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,E(e),sn(e),e.component,e,h(t),m(t)+r.length,T(e))}else{const B=Uu(t,e,r);if(!B.matched)return null;c=B.consumedSegments,p=B.remainingSegments,u=new Fu(c,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,E(e),sn(e),e.component,e,h(t),m(t)+c.length,T(e))}const y=function Hy(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:A}=nc(t,c,p,y.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===A.length&&b.hasChildren()){const B=this.processChildren(y,b);return null===B?null:[new Mo(u,B)]}if(0===y.length&&0===A.length)return[new Mo(u,[])];const M=sn(e)===i,F=this.processSegment(y,b,A,M?Ft:i);return null===F?null:[new Mo(u,F)]}}function pg(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function gg(n){const e=[],t=new Set;for(const r of n){if(!pg(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=gg(r.children);e.push(new Mo(r.value,i))}return e.filter(r=>!t.has(r))}function h(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function m(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function E(n){return n.data||{}}function T(n){return n.resolve||{}}function tt(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function at(n){return Vn(e=>{const t=n(e);return t?(0,Fn.D)(t).pipe((0,Ot.U)(()=>e)):yt(e)})}class oc extends class rs{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ju=new f.OlP("ROUTES");class $u{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Ot.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=u.create(e);return new md(ts(c.injector.get(ju,void 0,f.XFs.Self|f.XFs.Optional)).map(Qh),c)}),Ji(u=>{throw t._loader$=void 0,u}));return t._loader$=new id(i,()=>new ar.x).pipe(Vi()),t._loader$}loadModuleFactory(e){return _i(e()).pipe((0,Cn.z)(t=>t instanceof f.YKP?yt(t):(0,Fn.D)(this.compiler.compileModuleAsync(t))))}}class Gy{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function fa(n){throw n}function Ed(n,e,t){return e.parse("/")}function wd(n,e){return yt(null)}const cf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ni=(()=>{class n{constructor(t,r,i,u,c,p,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ar.x,this.errorHandler=fa,this.malformedUriErrorHandler=Ed,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:wd,afterPreactivation:wd},this.urlHandlingStrategy=new Gy,this.routeReuseStrategy=new oc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(f.h0i),this.console=c.get(f.c2e);const M=c.get(f.R0b);this.isNgZoneEnabled=M instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function zl(){return new xe(new Re([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $u(c,p,F=>this.triggerEvent(new jl(F)),F=>this.triggerEvent(new bs(F))),this.routerState=Ha(this.currentUrlTree,this.rootComponentType),this.transitions=new ei({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Qi(i=>0!==i.id),(0,Ot.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Vn(i=>{let u=!1,c=!1;return yt(i).pipe((0,ti.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vn(p=>{const y=this.browserUrlTree.toString(),b=!this.navigated||p.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return mg(p.source)&&(this.browserUrlTree=p.extractedUrl),yt(p).pipe(Vn(M=>{const F=this.transitions.getValue();return r.next(new ws(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),F!==this.transitions.getValue()?ra.E:Promise.resolve(M)}),function tf(n,e,t,r){return Vn(i=>function qa(n,e,t,r,i){return new ef(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Ot.U)(u=>Object.assign(Object.assign({},i),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ti.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function N(n,e,t,r,i){return(0,Cn.z)(u=>function jy(n,e,t,r,i="emptyOnly",u="legacy"){try{const c=new uf(n,e,t,r,i,u).recognize();return null===c?af(new of):yt(c)}catch(c){return af(c)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,i).pipe((0,Ot.U)(c=>Object.assign(Object.assign({},u),{targetSnapshot:c}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ti.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(B,M)}this.browserUrlTree=M.urlAfterRedirects}const F=new oa(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(F)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:B,source:G,restoredState:ne,extras:be}=p,Ze=new ws(F,this.serializeUrl(B),G,ne);r.next(Ze);const Le=Ha(B,this.rootComponentType).snapshot;return yt(Object.assign(Object.assign({},p),{targetSnapshot:Le,urlAfterRedirects:B,extras:Object.assign(Object.assign({},be),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),ra.E}),at(p=>{const{targetSnapshot:y,id:b,extractedUrl:A,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:B}}=p;return this.hooks.beforePreactivation(y,{navigationId:b,appliedUrlTree:A,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!B})}),(0,ti.b)(p=>{const y=new tg(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),(0,Ot.U)(p=>Object.assign(Object.assign({},p),{guards:nf(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function By(n,e){return(0,Cn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?yt(Object.assign(Object.assign({},t),{guardsResult:!0})):function fg(n,e,t,r){return(0,Fn.D)(n).pipe((0,Cn.z)(i=>function sc(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?yt(u.map(p=>{const y=ic(p,e,i);let b;if(function dE(n){return n&&Ga(n.canDeactivate)}(y))b=_i(y.canDeactivate(n,e,t,r));else{if(!Ga(y))throw new Error("Invalid CanDeactivate guard");b=_i(y(n,e,t,r))}return b.pipe(eo())})).pipe(da()):yt(!0)}(i.component,i.route,t,e,r)),eo(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Cn.z)(p=>p&&function ag(n){return"boolean"==typeof n}(p)?function xr(n,e,t,r){return(0,Fn.D)(e).pipe(Xs(i=>rd(function sf(n,e){return null!==n&&e&&e(new Ui(n)),yt(!0)}(i.route.parent,r),function rf(n,e){return null!==n&&e&&e(new ja(n)),yt(!0)}(i.route,r),function No(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function dg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Li(()=>yt(c.guards.map(y=>{const b=ic(y,c.node,t);let A;if(function Wh(n){return n&&Ga(n.canActivateChild)}(b))A=_i(b.canActivateChild(r,n));else{if(!Ga(b))throw new Error("Invalid CanActivateChild guard");A=_i(b(r,n))}return A.pipe(eo())})).pipe(da())));return yt(u).pipe(da())}(n,i.path,t),function Uy(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return yt(!0);const i=r.map(u=>Li(()=>{const c=ic(u,e,t);let p;if(function zh(n){return n&&Ga(n.canActivate)}(c))p=_i(c.canActivate(e,n));else{if(!Ga(c))throw new Error("Invalid CanActivate guard");p=_i(c(e,n))}return p.pipe(eo())}));return yt(i).pipe(da())}(n,i.route,t))),eo(i=>!0!==i,!0))}(r,u,n,e):yt(p)),(0,Ot.U)(p=>Object.assign(Object.assign({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,ti.b)(p=>{if(Bu(p.guardsResult)){const b=no(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw b.url=p.guardsResult,b}const y=new Ul(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(y)}),Qi(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),at(p=>{if(p.guards.canActivateChecks.length)return yt(p).pipe((0,ti.b)(y=>{const b=new Ar(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}),Vn(y=>{let b=!1;return yt(y).pipe(function z(n,e){return(0,Cn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return yt(t);let u=0;return(0,Fn.D)(i).pipe(Xs(c=>function ae(n,e,t,r){return function Ue(n,e,t,r){const i=tt(n);if(0===i.length)return yt({});const u={};return(0,Fn.D)(i).pipe((0,Cn.z)(c=>function wt(n,e,t,r){const i=ic(n,e,r);return _i(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,ti.b)(p=>{u[c]=p}))),sd(1),(0,Cn.z)(()=>tt(u).length===i.length?yt(u):ra.E))}(n._resolve,n,e,r).pipe((0,Ot.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),Cy(n,t).resolve),null)))}(c.route,r,n,e)),(0,ti.b)(()=>u++),sd(1),(0,Cn.z)(c=>u===i.length?yt(t):ra.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ti.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),(0,ti.b)(y=>{const b=new yi(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}))}),at(p=>{const{targetSnapshot:y,id:b,extractedUrl:A,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:B}}=p;return this.hooks.afterPreactivation(y,{navigationId:b,appliedUrlTree:A,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!B})}),(0,Ot.U)(p=>{const y=function Iy(n,e,t){const r=Yl(n,e._root,t?t._root:void 0);return new cd(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:y})}),(0,ti.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,Ot.U)(r=>(new og(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,ti.b)({next(){u=!0},complete(){u=!0}}),function eg(n){return(0,Lr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var p;u||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===i.id&&(this.currentNavigation=null)}),Ji(p=>{if(c=!0,function od(n){return n&&n[ql]}(p)){const y=Bu(p.url);y||(this.navigated=!0,this.restoreHistory(i,!0));const b=new In(i.id,this.serializeUrl(i.extractedUrl),p.message);r.next(b),y?setTimeout(()=>{const A=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),M={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||mg(i.source)};this.scheduleNavigation(A,"imperative",null,M,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new Bl(i.id,this.serializeUrl(i.extractedUrl),p);r.next(y);try{i.resolve(this.errorHandler(p))}catch(b){i.reject(b)}}return ra.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const u={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const y=Object.assign({},c);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(u.state=y)}const p=this.parseUrl(t.url);this.scheduleNavigation(p,r,c,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){tc(t),this.config=t.map(Qh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:p,preserveFragment:y}=r,b=i||this.routerState.root,A=y?this.currentUrlTree.fragment:c;let M=null;switch(p){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}return null!==M&&(M=this.removeEmptyProps(M)),function ro(n,e,t,r,i){if(0===t.length)return ig(e.root,e.root,e.root,r,i);const u=function Ay(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Sy(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const p={};return er(u.outlets,(y,b)=>{p[b]="string"==typeof y?y.split("/"):y}),[...i,{outlets:p}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,u]},[]);return new Sy(t,e,r)}(t);if(u.toRoot())return ig(e.root,e.root,new Re([],{}),r,i);const c=function sg(n,e,t){if(n.isAbsolute)return new $h(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new $h(u,u===e.root,0)}const r=ca(n.commands[0])?0:1;return function My(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new $h(r,!1,i-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),p=c.processChildren?io(c.segmentGroup,c.index,u.commands):Ry(c.segmentGroup,c.index,u.commands);return ig(e.root,c.segmentGroup,p,r,i)}(b,this.currentUrlTree,t,M,null!=A?A:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Bu(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function df(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},cf):!1===r?Object.assign({},bd):r,Bu(t))return Pu(this.currentUrlTree,t,i);const u=this.parseUrl(t);return Pu(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Nu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,c){var p,y;if(this.disposed)return Promise.resolve(!1);let b,A,M;c?(b=c.resolve,A=c.reject,M=c.promise):M=new Promise((G,ne)=>{b=G,A=ne});const F=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):B=0,this.setTransition({id:F,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:b,reject:A,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(G=>Promise.reject(G))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){var i,u;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new In(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function mg(n){return"imperative"!==n}let ac=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new ar.x,this.subscription=t.events.subscribe(u=>{u instanceof Nu&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,u,c){if(0!==t||r||i||u||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const p={skipLocationChange:Dd(this.skipLocationChange),replaceUrl:Dd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,p),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Dd(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(ni),f.Y36(la),f.Y36(pe))},n.\u0275dir=f.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&f.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&f.uIk("target",r.target)("href",r.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),n})();function Dd(n){return""===n||!!n}class Wy{}class fE{preload(e,t){return yt(null)}}let pE=(()=>{class n{constructor(t,r,i,u){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=new $u(i,r,y=>t.triggerEvent(new jl(y)),y=>t.triggerEvent(new bs(y)))}setUpPreloading(){this.subscription=this.router.events.pipe(Qi(t=>t instanceof Nu),Xs(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(f.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const c=u._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else u.loadChildren&&!u.canLoad?i.push(this.preloadConfig(t,u)):u.children&&i.push(this.processRoutes(t,u.children));return(0,Fn.D)(i).pipe((0,Yi.J)(),(0,Ot.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?yt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Cn.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ni),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(Wy))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),yg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ws?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Nu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Hl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Hl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Cs=new f.OlP("ROUTER_CONFIGURATION"),Zy=new f.OlP("ROUTER_FORROOT_GUARD"),gE=[ve,{provide:Wn,useClass:xn},{provide:ni,useFactory:function Qy(n,e,t,r,i,u,c={},p,y){const b=new ni(null,n,e,t,r,i,ts(u));return p&&(b.urlHandlingStrategy=p),y&&(b.routeReuseStrategy=y),function _E(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,b),c.enableTracing&&b.events.subscribe(A=>{var M,F;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(F=console.groupEnd)||void 0===F||F.call(console)}),b},deps:[Wn,Xl,ve,f.zs3,f.Sil,ju,Cs,[class lf{},new f.FiY],[class Rn{},new f.FiY]]},Xl,{provide:la,useFactory:function _g(n){return n.routerState.root},deps:[ni]},pE,fE,class Ky{preload(e,t){return t().pipe(Ji(()=>yt(null)))}},{provide:Cs,useValue:{enableTracing:!1}}];function DC(){return new f.PXZ("Router",ni)}let pa=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[gE,Yy(t),{provide:Zy,useFactory:yE,deps:[[ni,new f.FiY,new f.tp0]]},{provide:Cs,useValue:r||{}},{provide:pe,useFactory:mE,deps:[fe,[new f.tBr(nt),new f.FiY],Cs]},{provide:yg,useFactory:CC,deps:[ni,vu,Cs]},{provide:Wy,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:fE},{provide:f.PXZ,multi:!0,useFactory:DC},[Cd,{provide:f.ip1,multi:!0,useFactory:vE,deps:[Cd]},{provide:Xy,useFactory:Jy,deps:[Cd]},{provide:f.tb,multi:!0,useExisting:Xy}]]}}static forChild(t){return{ngModule:n,providers:[Yy(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Zy,8),f.LFG(ni,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function CC(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new yg(n,e,t)}function mE(n,e,t={}){return t.useHash?new Ie(n,e):new Ye(n,e)}function yE(n){return"guarded"}function Yy(n){return[{provide:f.deG,multi:!0,useValue:n},{provide:ju,multi:!0,useValue:n}]}let Cd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ar.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(p=>r=p),u=this.injector.get(ni),c=this.injector.get(Cs);return"disabled"===c.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?yt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Cs),i=this.injector.get(pE),u=this.injector.get(yg),c=this.injector.get(ni),p=this.injector.get(f.z2F);t===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),u.init(),c.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function vE(n){return n.appInitializer.bind(n)}function Jy(n){return n.bootstrapListener.bind(n)}const Xy=new f.OlP("Router Initializer"),EE=new f.OlP("GETS_ALL_DATE_DTO");let hf=(()=>{class n{constructor(t){this._getsAllDateDto=t,this.currentDate$=this._getsAllDateDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(EE))},n.\u0275cmp=f.Xpm({type:n,selectors:[["lib-date"]],decls:7,vars:6,consts:[[1,"border-bottom","py-4"],[1,"d-inline","fs-3","fw-bold"],[1,"d-inline","fs-5"]],template:function(t,r){if(1&t&&(f.TgZ(0,"div",0)(1,"p",1),f._uU(2,"TODAY "),f.qZA(),f.TgZ(3,"p",2),f._uU(4),f.ALo(5,"date"),f.ALo(6,"async"),f.qZA()()),2&t){let i;f.xp6(4),f.Oqu(f.xi3(5,1,null==(i=f.lcZ(6,4,r.currentDate$))?null:i.currentDate,"E d MMM"))}},pipes:[xh,ka],encapsulation:2,changeDetection:0}),n})();class IC{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const TC={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const Bn="undefined"!=typeof window&&window||{};var Eg=(()=>{return(n=Eg||(Eg={})).isBs3="bs3",n.isBs4="bs4",n.isBs5="bs5",Eg;var n})();let Is;function n_(){if(void 0===Bn.document)return"bs4";const n=Bn.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),Bn.document.head.appendChild(n);const e=n.getBoundingClientRect(),t=Bn.getComputedStyle(n).paddingLeft;return!e||e&&0!==e.top?(Bn.document.head.removeChild(n),"bs3"):t&&parseFloat(t)?(Bn.document.head.removeChild(n),"bs4"):(Bn.document.head.removeChild(n),"bs5")}function ma(){return void 0===Bn||(void 0===Bn.__theme?(Is||(Is=n_()),"bs3"===Is):"bs3"===Bn.__theme)}function r_(){return!ma()&&(Is||(Is=n_()),"bs4"===Is)}function Hu(){return{isBs3:ma(),isBs4:r_(),isBs5:!ma()&&!r_()&&(Is||(Is=n_()),"bs5"===Is)}}"undefined"==typeof console||console;class Id{}const _a="*";function bg(n,e=null){return{type:2,steps:n,options:e}}function Td(n){return{type:6,styles:n,offset:null}}function TE(n){Promise.resolve(null).then(n)}class Dg{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){TE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class a_{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?TE(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==u&&this._onFinish()}),c.onDestroy(()=>{++r==u&&this._onDestroy()}),c.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((c,p)=>Math.max(c,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}var SE=P(6451),u_=P(1144);const VM=["addListener","removeListener"],BM=["addEventListener","removeEventListener"],UM=["on","off"];function l_(n,e,t,r){if((0,mi.m)(t)&&(r=t,t=void 0),r)return l_(n,e,t).pipe(Fl(r));const[i,u]=function HM(n){return(0,mi.m)(n.addEventListener)&&(0,mi.m)(n.removeEventListener)}(n)?BM.map(c=>p=>n[c](e,p,t)):function jM(n){return(0,mi.m)(n.addListener)&&(0,mi.m)(n.removeListener)}(n)?VM.map(OC(n,e)):function $M(n){return(0,mi.m)(n.on)&&(0,mi.m)(n.off)}(n)?UM.map(OC(n,e)):[];if(!i&&(0,u_.z)(n))return(0,Cn.z)(c=>l_(c,e,t))((0,Do.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Fr.y(c=>{const p=(...y)=>c.next(1<y.length?y:y[0]);return i(p),()=>u(p)})}function OC(n,e){return t=>r=>n[t](e,r)}var GM=P(4408);const Ig={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Ig;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(u=>{t=void 0,n(u)});return new ia.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Ig;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Ig;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var c_=P(7565);const AE=new class kC extends c_.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Gu extends GM.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Ig.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(Ig.cancelAnimationFrame(t),e._scheduled=void 0)}});var ff=(()=>{return(n=ff||(ff={})).top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",ff;var n})(),uc=(()=>{return(n=uc||(uc={})).top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",uc;var n})();function lc(n,e){if(1!==n.nodeType)return[];const t=n.ownerDocument.defaultView,r=null==t?void 0:t.getComputedStyle(n,null);return e?r&&r[e]:r}function va(n){if(!n)return document.documentElement;let r,t=null==n?void 0:n.offsetParent;for(;null===t&&n.nextElementSibling&&r!==n.nextElementSibling;)r=n.nextElementSibling,t=r.offsetParent;const i=t&&t.nodeName;return i&&"BODY"!==i&&"HTML"!==i?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===lc(t,"position")?va(t):t:r?r.ownerDocument.documentElement:document.documentElement}function d_(n){return null!==n.parentNode?d_(n.parentNode):n}function Sd(n,e){if(!(n&&n.nodeType&&e&&e.nodeType))return document.documentElement;const t=n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=t?n:e,i=t?e:n,u=document.createRange();u.setStart(r,0),u.setEnd(i,0);const c=u.commonAncestorContainer;if(n!==c&&e!==c||r.contains(i))return function xE(n){const{nodeName:e}=n;return"BODY"!==e&&("HTML"===e||va(n.firstElementChild)===n)}(c)?c:va(c);const p=d_(n);return p.host?Sd(p.host,e):Sd(n,d_(e).host)}function RE(n){if(!n||!n.parentElement)return document.documentElement;let e=n.parentElement;for(;(null==e?void 0:e.parentElement)&&"none"===lc(e,"transform");)e=e.parentElement;return e||document.documentElement}function h_(n,e){const t="x"===e?"Left":"Top",r="Left"===t?"Right":"Bottom";return parseFloat(n[`border${t}Width`])+parseFloat(n[`border${r}Width`])}function NE(n,e,t,r){return Math.max(e[`offset${n}`],e[`scroll${n}`],t[`client${n}`],t[`offset${n}`],t[`scroll${n}`],0)}function OE(n){const e=n.body,t=n.documentElement;return{height:NE("Height",e,t),width:NE("Width",e,t)}}function Za(n){return Object.assign(Object.assign({},n),{right:(n.left||0)+n.width,bottom:(n.top||0)+n.height})}function Tn(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function cc(n){const e=n.getBoundingClientRect();if(!(e&&Tn(e.top)&&Tn(e.left)&&Tn(e.bottom)&&Tn(e.right)))return e;const t={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===n.nodeName?OE(n.ownerDocument):void 0,i=(null==r?void 0:r.width)||n.clientWidth||Tn(e.right)&&Tn(t.left)&&e.right-t.left||0,u=(null==r?void 0:r.height)||n.clientHeight||Tn(e.bottom)&&Tn(t.top)&&e.bottom-t.top||0;let c=n.offsetWidth-i,p=n.offsetHeight-u;if(c||p){const y=lc(n);c-=h_(y,"x"),p-=h_(y,"y"),t.width-=c,t.height-=p}return Za(t)}function dc(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function qu(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:e,overflowX:t,overflowY:r}=lc(n);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(t))?n:qu(dc(n))}function f_(n,e,t=!1){var r,i,u,c,p,y;const b="HTML"===e.nodeName,A=cc(n),M=cc(e),B=(qu(n),lc(e)),G=parseFloat(B.borderTopWidth),ne=parseFloat(B.borderLeftWidth);t&&b&&(M.top=Math.max(null!==(r=M.top)&&void 0!==r?r:0,0),M.left=Math.max(null!==(i=M.left)&&void 0!==i?i:0,0));const be=Za({top:(null!==(u=A.top)&&void 0!==u?u:0)-(null!==(c=M.top)&&void 0!==c?c:0)-G,left:(null!==(p=A.left)&&void 0!==p?p:0)-(null!==(y=M.left)&&void 0!==y?y:0)-ne,width:A.width,height:A.height});if(be.marginTop=0,be.marginLeft=0,b){const Ze=parseFloat(B.marginTop),Le=parseFloat(B.marginLeft);Tn(be.top)&&(be.top-=G-Ze),Tn(be.bottom)&&(be.bottom-=G-Ze),Tn(be.left)&&(be.left-=ne-Le),Tn(be.right)&&(be.right-=ne-Le),be.marginTop=Ze,be.marginLeft=Le}return be}function p_(n,e="top"){const t="top"===e?"scrollTop":"scrollLeft",r=n.nodeName;if("BODY"===r||"HTML"===r){const i=n.ownerDocument.documentElement;return(n.ownerDocument.scrollingElement||i)[t]}return n[t]}function Tg(n){const e=n.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===lc(n,"position")||Tg(dc(n)))}function pf(n,e,t=0,r,i=!1){let u={top:0,left:0};const c=i?RE(n):Sd(n,e);if("viewport"===r)u=function kE(n,e=!1){const t=n.ownerDocument.documentElement,r=f_(n,t),i=Math.max(t.clientWidth,window.innerWidth||0),u=Math.max(t.clientHeight,window.innerHeight||0),c=e?0:p_(t),p=e?0:p_(t,"left");return Za({top:c-Number(null==r?void 0:r.top)+Number(null==r?void 0:r.marginTop),left:p-Number(null==r?void 0:r.left)+Number(null==r?void 0:r.marginLeft),width:i,height:u})}(c,i);else{let p;"scrollParent"===r?(p=qu(dc(e)),"BODY"===p.nodeName&&(p=n.ownerDocument.documentElement)):p="window"===r?n.ownerDocument.documentElement:r;const y=f_(p,c,i);if(y&&"HTML"===p.nodeName&&!Tg(c)){const{height:b,width:A}=OE(n.ownerDocument);Tn(u.top)&&Tn(y.top)&&Tn(y.marginTop)&&(u.top+=y.top-y.marginTop),Tn(u.top)&&(u.bottom=Number(b)+Number(y.top)),Tn(u.left)&&Tn(y.left)&&Tn(y.marginLeft)&&(u.left+=y.left-y.marginLeft),Tn(u.top)&&(u.right=Number(A)+Number(y.left))}else y&&(u=y)}return Tn(u.left)&&(u.left+=t),Tn(u.top)&&(u.top+=t),Tn(u.right)&&(u.right-=t),Tn(u.bottom)&&(u.bottom-=t),u}function PE({width:n,height:e}){return n*e}function gf(n,e,t,r,i=["top","bottom","right","left"],u="viewport",c=0){var p,y,b,A,M,F,B,G,ne,be,Ze,Le;if(-1===n.indexOf("auto"))return n;const Ke=pf(t,r,c,u),ze={top:{width:null!==(p=null==Ke?void 0:Ke.width)&&void 0!==p?p:0,height:(null!==(y=null==e?void 0:e.top)&&void 0!==y?y:0)-(null!==(b=null==Ke?void 0:Ke.top)&&void 0!==b?b:0)},right:{width:(null!==(A=null==Ke?void 0:Ke.right)&&void 0!==A?A:0)-(null!==(M=null==e?void 0:e.right)&&void 0!==M?M:0),height:null!==(F=null==Ke?void 0:Ke.height)&&void 0!==F?F:0},bottom:{width:null!==(B=null==Ke?void 0:Ke.width)&&void 0!==B?B:0,height:(null!==(G=null==Ke?void 0:Ke.bottom)&&void 0!==G?G:0)-(null!==(ne=null==e?void 0:e.bottom)&&void 0!==ne?ne:0)},left:{width:(null!==(be=e.left)&&void 0!==be?be:0)-(null!==(Ze=null==Ke?void 0:Ke.left)&&void 0!==Ze?Ze:0),height:null!==(Le=null==Ke?void 0:Ke.height)&&void 0!==Le?Le:0}},_t=Object.keys(ze).map(vn=>Object.assign(Object.assign({position:vn},ze[vn]),{area:PE(ze[vn])})).sort((vn,Zt)=>Zt.area-vn.area);let ct=_t.filter(({width:vn,height:Zt})=>vn>=t.clientWidth&&Zt>=t.clientHeight);ct=ct.filter(({position:vn})=>i.some(Zt=>Zt===vn));const Xt=ct.length>0?ct[0].position:_t[0].position,bn=n.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Hu().isBs5?uc[Xt]:Xt}`),Xt+(bn?`-${bn}`:"")}const mf=(n,e=0)=>n?parseFloat(n):e;function g_(n){const e=n.ownerDocument.defaultView,t=null==e?void 0:e.getComputedStyle(n),r=mf(null==t?void 0:t.marginTop)+mf(null==t?void 0:t.marginBottom),i=mf(null==t?void 0:t.marginLeft)+mf(null==t?void 0:t.marginRight);return{width:Number(n.offsetWidth)+i,height:Number(n.offsetHeight)+r}}function LE(n,e,t){return f_(e,t?RE(n):Sd(n,e),t)}function Sg(n,e,t){var r,i,u;const c=t.split(" ")[0],p=g_(n),y={width:p.width,height:p.height},b=-1!==["right","left"].indexOf(c),A=b?"top":"left",M=b?"left":"top",F=b?"height":"width",B=b?"width":"height";return y[A]=(null!==(r=e[A])&&void 0!==r?r:0)+e[F]/2-p[F]/2,y[M]=c===M?(null!==(i=e[M])&&void 0!==i?i:0)-p[B]:null!==(u=e[function FE(n){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,t=>e[t])}(M)])&&void 0!==u?u:0,y}function VE(n,e){var t;return!!(null===(t=n.modifiers[e])||void 0===t?void 0:t.enabled)}const FC={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function wi(n,e){return!!Hu().isBs5&&FC[e].includes(n)}function BC(n,e,t){!n||!e||Object.keys(e).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function Ad(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(e[r])&&(i="px"),t?t.setStyle(n,r,`${String(e[r])}${i}`):n.style[r]=String(e[r])+i})}function zM(n){var e,t,r,i,u,c;let p=n.offsets.target;const y=n.instance.target.querySelector(".arrow");if(!y)return n;const b=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),A=b?"height":"width",M=b?"Top":"Left",F=M.toLowerCase(),B=b?"left":"top",G=b?"bottom":"right",ne=g_(y)[A],be=n.placement.split(" ")[1];(null!==(e=n.offsets.host[G])&&void 0!==e?e:0)-ne<(null!==(t=p[F])&&void 0!==t?t:0)&&(p[F]-=(null!==(r=p[F])&&void 0!==r?r:0)-((null!==(i=n.offsets.host[G])&&void 0!==i?i:0)-ne)),Number(n.offsets.host[F])+Number(ne)>(null!==(u=p[G])&&void 0!==u?u:0)&&(p[F]+=Number(n.offsets.host[F])+Number(ne)-Number(p[G])),p=Za(p);const Ze=lc(n.instance.target),Le=parseFloat(Ze[`margin${M}`])||0,Ke=parseFloat(Ze[`border${M}Width`])||0;let ze;if(be){const ct=parseFloat(Ze.borderRadius)||0,Xt=Number(Le+Ke+ct);ze=F===be?Number(n.offsets.host[F])+Xt:Number(n.offsets.host[F])+Number(n.offsets.host[A]-Xt)}else ze=Number(n.offsets.host[F])+Number(n.offsets.host[A]/2-ne/2);let _t=ze-(null!==(c=p[F])&&void 0!==c?c:0)-Le-Ke;return _t=Math.max(Math.min(p[A]-(ne+5),_t),0),n.offsets.arrow={[F]:Math.round(_t),[B]:""},n.instance.arrow=y,n}function BE(n){if(n.offsets.target=Za(n.offsets.target),!VE(n.options,"flip"))return n.offsets.target=Object.assign(Object.assign({},n.offsets.target),Sg(n.instance.target,n.offsets.host,n.placement)),n;const e=pf(n.instance.target,n.instance.host,0,"viewport",!1);let t=n.placement.split(" ")[0],r=n.placement.split(" ")[1]||"";const p=gf("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),y=[t,p];return y.forEach((b,A)=>{var M,F,B,G,ne,be,Ze,Le,Ke,ze,_t,ct,Xt,bn,vn,Zt;if(t!==b||y.length===A+1)return;t=n.placement.split(" ")[0];const Dn="left"===t&&Math.floor(null!==(M=n.offsets.target.right)&&void 0!==M?M:0)>Math.floor(null!==(F=n.offsets.host.left)&&void 0!==F?F:0)||"right"===t&&Math.floor(null!==(B=n.offsets.target.left)&&void 0!==B?B:0)<Math.floor(null!==(G=n.offsets.host.right)&&void 0!==G?G:0)||"top"===t&&Math.floor(null!==(ne=n.offsets.target.bottom)&&void 0!==ne?ne:0)>Math.floor(null!==(be=n.offsets.host.top)&&void 0!==be?be:0)||"bottom"===t&&Math.floor(null!==(Ze=n.offsets.target.top)&&void 0!==Ze?Ze:0)<Math.floor(null!==(Le=n.offsets.host.bottom)&&void 0!==Le?Le:0),Rs=Math.floor(null!==(Ke=n.offsets.target.left)&&void 0!==Ke?Ke:0)<Math.floor(null!==(ze=e.left)&&void 0!==ze?ze:0),gl=Math.floor(null!==(_t=n.offsets.target.right)&&void 0!==_t?_t:0)>Math.floor(null!==(ct=e.right)&&void 0!==ct?ct:0),oE=Math.floor(null!==(Xt=n.offsets.target.top)&&void 0!==Xt?Xt:0)<Math.floor(null!==(bn=e.top)&&void 0!==bn?bn:0),aE=Math.floor(null!==(vn=n.offsets.target.bottom)&&void 0!==vn?vn:0)>Math.floor(null!==(Zt=e.bottom)&&void 0!==Zt?Zt:0),st="left"===t&&Rs||"right"===t&&gl||"top"===t&&oE||"bottom"===t&&aE,mt=-1!==["top","bottom"].indexOf(t),At=mt&&"left"===r&&Rs||mt&&"right"===r&&gl||!mt&&"left"===r&&oE||!mt&&"right"===r&&aE;(Dn||st||At)&&((Dn||st)&&(t=y[A+1]),At&&(r=function qM(n){return"right"===n?"left":"left"===n?"right":n}(r)),n.placement=t+(r?` ${r}`:""),n.offsets.target=Object.assign(Object.assign({},n.offsets.target),Sg(n.instance.target,n.offsets.host,n.placement)))}),n}function UC(n){var e;if(!VE(n.options,"preventOverflow"))return n;const t="transform",r=n.instance.target.style,{top:i,left:u,[t]:c}=r;r.top="",r.left="",r[t]="";const p=pf(n.instance.target,n.instance.host,0,(null===(e=n.options.modifiers.preventOverflow)||void 0===e?void 0:e.boundariesElement)||"scrollParent",!1);r.top=i,r.left=u,r[t]=c;const b={primary(A){var M,F,B,G;let ne=n.offsets.target[A];return(null!==(M=n.offsets.target[A])&&void 0!==M?M:0)<(null!==(F=p[A])&&void 0!==F?F:0)&&(ne=Math.max(null!==(B=n.offsets.target[A])&&void 0!==B?B:0,null!==(G=p[A])&&void 0!==G?G:0)),{[A]:ne}},secondary(A){var M,F,B,G;const ne="right"===A,be=ne?"left":"top";let Le=n.offsets.target[be];return(null!==(M=n.offsets.target[A])&&void 0!==M?M:0)>(null!==(F=p[A])&&void 0!==F?F:0)&&(Le=Math.min(null!==(B=n.offsets.target[be])&&void 0!==B?B:0,(null!==(G=p[A])&&void 0!==G?G:0)-n.offsets.target[ne?"width":"height"])),{[be]:Le}}};return["left","right","top","bottom"].forEach(A=>{const M=-1!==["left","top","start"].indexOf(A)?b.primary:b.secondary;n.offsets.target=Object.assign(Object.assign({},n.offsets.target),M(A))}),n}function m_(n){var e;const t=n.placement,r=t.split(" ")[0],i=t.split(" ")[1];if(i){const{host:u,target:c}=n.offsets,p=-1!==["bottom","top"].indexOf(r),y=p?"left":"top",b=p?"width":"height",A={start:{[y]:u[y]},end:{[y]:(null!==(e=u[y])&&void 0!==e?e:0)+u[b]-c[b]}};n.offsets.target=Object.assign(Object.assign({},c),{[y]:y===i?A.start[y]:A.end[y]})}return n}const jC=new class UE{position(e,t){return this.offset(e,t)}offset(e,t){return LE(t,e)}positionElements(e,t,r,i,u){const c=[BE,m_,UC,zM],y=function WM(n,e,t,r){if(!n||!e)return;const i=LE(n,e);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const u=!!t.match(/auto/g);let c=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const p=c.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return p&&(c=p[1]+(p[2]?` ${p[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(c)&&(c="auto"),c=gf(c,i,n,e,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:n,host:e,arrow:void 0},offsets:{target:Sg(n,i,c),host:i,arrow:void 0},positionFixed:!1,placement:c,placementAuto:u}}(t,e,ff[r],u);if(y)return c.reduce((b,A)=>A(b),y)}};function $C(n,e,t,r,i,u){const c=jC.positionElements(n,e,t,r,i);if(!c)return;const p=function PC(n){var e,t,r,i;return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(null!==(e=n.offsets.target.left)&&void 0!==e?e:0),top:Math.round(null!==(t=n.offsets.target.top)&&void 0!==t?t:0),bottom:Math.round(null!==(r=n.offsets.target.bottom)&&void 0!==r?r:0),right:Math.floor(null!==(i=n.offsets.target.right)&&void 0!==i?i:0)}}(c);BC(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${p.left}px, ${p.top}px, 0px)`},u),c.instance.arrow&&BC(c.instance.arrow,c.offsets.arrow,u),function VC(n,e){const t=n.instance.target;let r=t.className;const i=Hu().isBs5?uc[n.placement]:n.placement;n.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+function LC(n){return Hu().isBs5?wi(n,"end")?"ms-2":wi(n,"start")?"me-2":wi(n,"top")?"mb-2":wi(n,"bottom")?"mt-2":"":""}(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),e?e.setAttribute(t,"class",r):t.className=r}(c,u)}let Ag=(()=>{class n{constructor(t,r,i){this.update$$=new ar.x,this.positionElements=new Map,this.isDisabled=!1,Dr(i)&&t.runOutsideAngular(()=>{this.triggerEvent$=(0,SE.T)(l_(window,"scroll",{passive:!0}),l_(window,"resize",{passive:!0}),yt(0,AE),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(u=>{$C(yf(u.target),yf(u.element),u.attachment,u.appendToBody,this.options,r.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(yf(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(yf(t))}setOptions(t){this.options=t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.R0b),f.LFG(f.FYo),f.LFG(f.Lbi))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yf(n){return"string"==typeof n?document.querySelector(n):n instanceof f.SBq?n.nativeElement:null!=n?n:null}class Md{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}class HC{constructor(e,t,r,i,u,c,p,y){this._viewContainerRef=e,this._renderer=t,this._elementRef=r,this._injector=i,this._componentFactoryResolver=u,this._ngZone=c,this._applicationRef=p,this._posService=y,this.onBeforeShow=new f.vpe,this.onShown=new f.vpe,this.onBeforeHide=new f.vpe,this.onHidden=new f.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=f.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof f.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const r=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){var t,r,i,u,c,p;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const y=this._componentRef.location.nativeElement;return null===(t=y.parentNode)||void 0===t||t.removeChild(y),null===(i=null===(r=this._contentRef)||void 0===r?void 0:r.componentRef)||void 0===i||i.destroy(),this._viewContainerRef&&(null===(u=this._contentRef)||void 0===u?void 0:u.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(p=null===(c=this._contentRef)||void 0===c?void 0:c.viewRef)||void 0===p||p.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){var t;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||(null===(t=this._elementRef)||void 0===t?void 0:t.nativeElement);const r=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),i=this._listenOpts.show=c=>{e.show?e.show(c):this.show(c),c()};return this._renderer&&(this._unregisterListenersFn=function bE(n,e){const t=function t_(n,e=TC){const t=(n||"").trim();if(0===t.length)return[];const r=t.split(/\s+/).map(u=>u.split(":")).map(u=>{const c=e[u[0]]||u;return new IC(c[0],c[1])}),i=r.filter(u=>u.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(e.triggers),r=e.target;if(1===t.length&&t[0].isManual())return Function.prototype;const i=[],u=[],c=()=>{u.forEach(p=>i.push(p())),u.length=0};return t.forEach(p=>{const y=p.open===p.close,b=y?e.toggle:e.show;if(!y&&p.close&&e.hide){const A=n.listen(r,p.close,e.hide);u.push(()=>A)}b&&i.push(n.listen(r,p.open,()=>b(c)))}),()=>{i.forEach(p=>p())}}(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:r,toggle:c=>{this.isShown?r():i(c)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function CM(n,e){return e.outsideClick?n.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function DE(n,e){return e.outsideEsc?n.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var e;this._posService.position({element:null===(e=this._componentRef)||void 0===e?void 0:e.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,t,r){if(!e)return new Md([]);if(e instanceof f.Rgc){if(this._viewContainerRef){const c=this._viewContainerRef.createEmbeddedView(e,t);return c.markForCheck(),new Md([c.rootNodes],c)}const u=e.createEmbeddedView({});return this._applicationRef.attachView(u),new Md([u.rootNodes],u)}if("function"==typeof e){const u=this._componentFactoryResolver.resolveComponentFactory(e),c=f.zs3.create({providers:this._providers,parent:this._injector}),p=u.create(c);return Object.assign(p.instance,r),this._applicationRef.attachView(p.hostView),new Md([[p.location.nativeElement]],p.hostView,p)}const i=this._renderer?[this._renderer.createText(`${e}`)]:[];return new Md([i])}}let _f=(()=>{class n{constructor(t,r,i,u,c){this._componentFactoryResolver=t,this._ngZone=r,this._injector=i,this._posService=u,this._applicationRef=c}createLoader(t,r,i){return new HC(r,i,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f._Vd),f.LFG(f.R0b),f.LFG(f.zs3),f.LFG(Ag),f.LFG(f.z2F))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jE=function(n){return{dropdown:n}},$E=["*"],ko=[Td({height:0,overflow:"hidden"}),function wg(n,e=null){return{type:4,styles:e,timings:n}}("220ms cubic-bezier(0, 0, 0.2, 1)",Td({height:"*",overflow:"hidden"}))];let Ya=(()=>{class n{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new f.vpe,this.isDisabledChange=new f.vpe,this.toggleClick=new f.vpe,this.counts=0,this.dropdownMenu=new Promise(t=>{this.resolveDropdownMenu=t})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),qC=(()=>{class n{constructor(t,r,i,u,c){this._state=t,this.cd=r,this._renderer=i,this._element=u,this.isOpen=!1,this._factoryDropDownAnimation=c.build(ko),this._subscription=t.isOpenChange.subscribe(p=>{this.isOpen=p;const y=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),y&&!ma()&&(this._renderer.addClass(y,"show"),(y.classList.contains("dropdown-menu-right")||y.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(y,"left","auto"),this._renderer.setStyle(y,"right","0")),"up"===this.direction&&(this._renderer.setStyle(y,"top","auto"),this._renderer.setStyle(y,"transform","translateY(-101%)"))),y&&this._state.isAnimated&&this._factoryDropDownAnimation.create(y).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(t){return this._element.nativeElement.contains(t)}ngOnDestroy(){this._subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ya),f.Y36(f.sBO),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Id))},n.\u0275cmp=f.Xpm({type:n,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:$E,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(t,r){1&t&&(f.F$t(),f.TgZ(0,"div",0),f.Hsn(1),f.qZA()),2&t&&(f.ekj("dropup","up"===r.direction)("show",r.isOpen)("open",r.isOpen),f.Q6J("ngClass",f.VKq(7,jE,"down"===r.direction)))},directives:[Ls],encapsulation:2,changeDetection:0}),n})(),HE=(()=>{class n{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zC=(()=>{class n{constructor(t,r,i,u,c,p,y){this._elementRef=t,this._renderer=r,this._viewContainerRef=i,this._cis=u,this._state=c,this._config=p,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=y.build(ko),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:Ya,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(t){this._state.autoClose=t}get autoClose(){return this._state.autoClose}set isAnimated(t){this._state.isAnimated=t}get isAnimated(){return this._state.isAnimated}set insideClick(t){this._state.insideClick=t}get insideClick(){return this._state.insideClick}set isDisabled(t){this._isDisabled=t,this._state.isDisabledChange.emit(t),t&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(t){t?this.show():this.hide()}get isBs4(){return!ma()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(t=>this.toggle(t))),this._subscriptions.push(this._state.isDisabledChange.pipe(Qi(t=>t)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(t=>{this._dropdown.attachInline(t.viewContainer,t.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(t=>{const r=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=r?"up":"down";const i=this.placement||(r?"top start":"bottom start");this._dropdown.attach(qC).to(this.container).position({attachment:i}).show({content:t.templateRef,placement:i}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){!this.isOpen||(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(t){return this.isOpen||!t?this.hide():this.show()}_contains(t){return this._elementRef.nativeElement.contains(t.target)||this._dropdown.instance&&this._dropdown.instance._contains(t.target)}navigationClick(t){const r=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!r)return;const i=this._elementRef.nativeElement.ownerDocument.activeElement,u=r.querySelectorAll(".dropdown-item");switch(t.keyCode){case 38:this._state.counts>0&&u[--this._state.counts].focus();break;case 40:this._state.counts+1<u.length&&(i.classList!==u[this._state.counts].classList?u[this._state.counts].focus():u[++this._state.counts].focus())}t.preventDefault()}ngOnDestroy(){for(const t of this._subscriptions)t.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){ma()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const t=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",t?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",t?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.s_b),f.Y36(_f),f.Y36(Ya),f.Y36(HE),f.Y36(Id))},n.\u0275dir=f.lG2({type:n,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(t,r){1&t&&f.NdJ("keydown.arrowDown",function(u){return r.navigationClick(u)})("keydown.arrowUp",function(u){return r.navigationClick(u)}),2&t&&f.ekj("dropup",r.dropup)("open",r.isOpen)("show",r.isOpen&&r.isBs4)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[f._Bn([Ya])]}),n})(),GE=(()=>{class n{constructor(t,r,i){t.resolveDropdownMenu({templateRef:i,viewContainer:r})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ya),f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),n})(),WC=(()=>{class n{constructor(t,r,i,u,c){this._changeDetectorRef=t,this._dropdown=r,this._element=i,this._renderer=u,this._state=c,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(p=>{this.isOpen=p,p?(this._documentClickListener=this._renderer.listen("document","click",y=>{this._state.autoClose&&2!==y.button&&!this._element.nativeElement.contains(y.target)&&(!this._state.insideClick||!this._dropdown._contains(y))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(p=>this.isDisabled=p||void 0))}onClick(t){this._state.stopOnClickPropagation&&t.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const t of this._subscriptions)t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.sBO),f.Y36(zC),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(Ya))},n.\u0275dir=f.lG2({type:n,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(t,r){1&t&&f.NdJ("click",function(u){return r.onClick(u)}),2&t&&f.uIk("aria-haspopup",!0)("disabled",r.isDisabled)("aria-expanded",r.isOpen)},exportAs:["bs-dropdown-toggle"]}),n})(),KC=(()=>{class n{static forRoot(){return{ngModule:n,providers:[_f,Ag,Ya]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[gr]]}),n})();const qE=new f.OlP("GETS_ALL_TASK_DTO"),Mg=new f.OlP("REMOVES_TASK_DTO"),zE=new f.OlP("SETS_TASK_DTO");let xd,ZC=(()=>{class n{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==t);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(t),t._enable()}deregister(t){t._disable();const r=this._focusTrapStack,i=r.indexOf(t);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{xd="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){xd=!1}let xg=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Dr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xd)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.Lbi))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rg=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function WE(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function y_(n){try{return n.frameElement}catch(e){return null}}(function YE(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===E_(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),u=E_(t);return t.hasAttribute("contenteditable")?-1!==u:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function KE(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==u:"video"===i?-1!==u&&(null!==u||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function ZE(n){return!function QC(n){return function YM(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function YC(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function __(n){return function JC(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||v_(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(xg))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v_(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function E_(n){if(!v_(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function Ea(n){return null!=n&&"false"!=`${n}`}class Ng{constructor(e,t,r,i,u=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,u||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const t=this._getFirstTabbableElement(e);return null==t||t.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Co.q)(1)).subscribe(e)}}let XC=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new Ng(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Rg),f.LFG(f.R0b),f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eI=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=Ea(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=Ea(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const r=t.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(XC),f.Y36(re))},n.\u0275dir=f.lG2({type:n,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[f.TTD]}),n})(),tI=(()=>{class n{static forRoot(){return{ngModule:n,providers:[ZC,xg,Rg]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[gr]]}),n})();const w_=["*"];let b_=(()=>{class n{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Rd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Og={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},D_=new f.OlP("override-default-config");let I_=(()=>{class n{constructor(t,r,i){this._element=r,this._renderer=i,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,ma()?"in":"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){var r;this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(null===(r=this.bsModalService)||void 0===r||r.setDismissReason("backdrop-click"),this.hide())}onPopState(){var t;null===(t=this.bsModalService)||void 0===t||t.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){var r,i;!this.isShown||((27===t.keyCode||"Escape"===t.key)&&t.preventDefault(),this.config.keyboard&&this.level===(null===(r=this.bsModalService)||void 0===r?void 0:r.getModalsCount())&&(null===(i=this.bsModalService)||void 0===i||i.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding&&this.isShown){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,ma()?"in":"show"),setTimeout(()=>{var t,r;this.isShown=!1,document&&document.body&&1===(null===(t=this.bsModalService)||void 0===t?void 0:t.getModalsCount())&&(this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","")),null===(r=this.bsModalService)||void 0===r||r.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Rd),f.Y36(f.SBq),f.Y36(f.Qsj))},n.\u0275cmp=f.Xpm({type:n,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,r){1&t&&f.NdJ("mousedown",function(u){return r.onClickStarted(u)})("click",function(u){return r.onClickStop(u)})("popstate",function(){return r.onPopState()},!1,f.Jf7)("keydown.esc",function(u){return r.onEsc(u)},!1,f.Jf7),2&t&&f.uIk("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:w_,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(t,r){1&t&&(f.F$t(),f.TgZ(0,"div",0)(1,"div",1),f.Hsn(2),f.qZA()()),2&t&&f.Tol("modal-dialog"+(r.config.class?" "+r.config.class:""))},directives:[eI],encapsulation:2}),n})(),rI=(()=>{class n{constructor(t,r){this._isAnimated=!1,this._isShown=!1,this.element=t,this.renderer=r}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),ma()||(t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),class i_{static reflow(e){}static getStyles(e){let t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=Bn),t.getComputedStyle(e)}static stackOverflowConfig(){const e=function Oo(){const n=Hu(),e=Object.keys(n).find(t=>n[t]);return Eg[e]}();return{crossorigin:"bs3"!==e?"anonymous":void 0,integrity:"bs5"===e?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"bs4"===e?"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2":void 0,cdnLink:"bs5"===e?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"bs4"===e?"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css":"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"}}}.reflow(this.element.nativeElement)),this.isShown=!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.Qsj))},n.\u0275cmp=f.Xpm({type:n,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),JE=1,T_=(()=>{class n{constructor(t,r,i){this.clf=r,this.modalDefaultOption=i,this.onShow=new f.vpe,this.onShown=new f.vpe,this.onHide=new f.vpe,this.onHidden=new f.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=t.createRenderer(null,null),this.config=i?Object.assign({},Og,i):Og}show(t,r){this.modalsCount++,this._createLoaders();const i=(null==r?void 0:r.id)||JE++;return this.config=this.modalDefaultOption?Object.assign({},Og,this.modalDefaultOption,r):Object.assign({},Og,r),this.config.id=i,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(t)}hide(t){(1===this.modalsCount||null==t)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=!0===this.config.backdrop||"static"===this.config.backdrop,r=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&r&&(this._backdropLoader.attach(rI).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){var r;const i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const p of this.config.providers)i.provide(p);const u=new b_,c=i.provide({provide:Rd,useValue:this.config}).provide({provide:b_,useValue:u}).attach(I_).to("body");return u.hide=()=>{var p;return null===(p=c.instance)||void 0===p?void 0:p.hide()},u.setClass=p=>{c.instance&&(c.instance.config.class=p)},u.onHidden=new f.vpe,u.onHide=new f.vpe,this.copyEvent(i.onBeforeHide,u.onHide),this.copyEvent(i.onHidden,u.onHidden),c.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),c.instance&&(c.instance.level=this.getModalsCount(),u.content=i.getInnerComponent(),u.id=null===(r=c.instance.config)||void 0===r?void 0:r.id),u}_hideModal(t){if(null!=t){const r=this.loaders.findIndex(u=>{var c;return(null===(c=u.instance)||void 0===c?void 0:c.config.id)===t}),i=this.loaders[r];i&&i.hide(t)}else this.loaders.forEach(r=>{r.instance&&r.hide(r.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){!document||(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const r=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),r}_createLoaders(){const t=this.clf.createLoader();this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const r=this.loaders.findIndex(i=>{var u;return(null===(u=i.instance)||void 0===u?void 0:u.config.id)===t});r>=0&&(this.loaders.splice(r,1),this.loaders.forEach((i,u)=>{i.instance&&(i.instance.level=u+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,r){t.subscribe(i=>{r.emit(this.lastDismissReason||i)})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(_f),f.LFG(D_,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();tI.forRoot();let Nd=(()=>{class n{static forRoot(){return{ngModule:n,providers:[T_,_f,Ag]}}static forChild(){return{ngModule:n,providers:[T_,_f,Ag]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[tI]]}),n})();function sI(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div")(1,"input",9),f.NdJ("change",function(){f.CHM(t);const i=f.oxw().$implicit;return f.oxw(2).onTaskDoneChanged(i)}),f.qZA(),f.TgZ(2,"label",10),f._uU(3),f.qZA()()}if(2&n){const t=f.oxw().$implicit;f.xp6(3),f.Oqu(t.name)}}function oI(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div")(1,"input",11),f.NdJ("change",function(){f.CHM(t);const i=f.oxw().$implicit;return f.oxw(2).onTaskDoneChanged(i)}),f.qZA(),f.TgZ(2,"label"),f._uU(3),f.qZA()()}if(2&n){const t=f.oxw().$implicit;f.xp6(3),f.Oqu(t.name)}}function aI(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"ul",12)(1,"li",13)(2,"button",14),f.NdJ("click",function(){f.CHM(t),f.oxw();const i=f.MAs(8);return f.oxw(2).openModal(i)}),f._uU(3,"Delete task"),f.qZA()()()}}function uI(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",15)(1,"div"),f._uU(2,"DELETE TASK"),f.qZA(),f.TgZ(3,"button",16),f.NdJ("click",function(){f.CHM(t);const i=f.oxw(3);return null==i.modalRef?null:i.modalRef.hide()}),f.TgZ(4,"span",17),f._uU(5,"\xd7"),f.qZA()()(),f.TgZ(6,"div",18),f._uU(7," Are you sure you want to delete this task? "),f.qZA(),f.TgZ(8,"div",19)(9,"button",20),f.NdJ("click",function(){return f.CHM(t),f.oxw(3).decline()}),f._uU(10,"Cancel"),f.qZA(),f.TgZ(11,"button",21),f.NdJ("click",function(){f.CHM(t);const i=f.oxw().$implicit,u=f.oxw().ngIf,c=f.oxw();return c.onDeleteTaskClicked(i,u),c.confirm()}),f._uU(12,"Delete task"),f.qZA()()}}function Po(n,e){if(1&n&&(f.TgZ(0,"div",3),f.YNc(1,sI,4,1,"div",4),f.YNc(2,oI,4,1,"div",4),f.TgZ(3,"div",5)(4,"button",6),f._uU(5,"..."),f.qZA(),f.YNc(6,aI,4,0,"ul",7),f.qZA(),f.YNc(7,uI,13,0,"ng-template",null,8,f.W1O),f.qZA()),2&n){const t=e.$implicit;f.xp6(1),f.Q6J("ngIf",t.done),f.xp6(1),f.Q6J("ngIf",!t.done)}}function S_(n,e){if(1&n&&(f.TgZ(0,"div",1),f.YNc(1,Po,9,2,"div",2),f.qZA()),2&n){const t=e.ngIf;f.xp6(1),f.Q6J("ngForOf",t)}}let A_=(()=>{class n{constructor(t,r,i,u,c){this.modalService=t,this.router=r,this._getsAllTaskDto=i,this._removesTaskDto=u,this._setsTaskDto=c,this.tasksList$=this._getsAllTaskDto.getAll().pipe((0,Ot.U)(p=>p.sort((y,b)=>y.date-b.date).reverse()))}onDeleteTaskClicked(t,r){r.length>1?this._removesTaskDto.remove(""+t.id):(this._removesTaskDto.remove(""+t.id),this.router.navigate(["/"]))}onTaskDoneChanged(t){this._setsTaskDto.set(t.done?{id:t.id,name:t.name,done:!1}:{id:t.id,name:t.name,done:!0})}openModal(t){this.modalRef=this.modalService.show(t,{class:"modal-md"})}confirm(){var t;null===(t=this.modalRef)||void 0===t||t.hide()}decline(){var t;null===(t=this.modalRef)||void 0===t||t.hide()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(T_),f.Y36(ni),f.Y36(qE),f.Y36(Mg),f.Y36(zE))},n.\u0275cmp=f.Xpm({type:n,selectors:[["lib-tasks-list-view"]],features:[f._Bn([{provide:HE,useValue:{isAnimated:!0,autoClose:!0}}])],decls:2,vars:3,consts:[["class","py-5 border-bottom",4,"ngIf"],[1,"py-5","border-bottom"],["class","form-check d-flex justify-content-between align-items-center py-3 pe-5",4,"ngFor","ngForOf"],[1,"form-check","d-flex","justify-content-between","align-items-center","py-3","pe-5"],[4,"ngIf"],["dropdown","",1,"btn-group"],["id","button-animated","dropdownToggle","","type","button","aria-controls","dropdown-animated",1,"btn","bg-white","fw-bold"],["id","dropdown-animated","class","dropdown-menu dropdown-menu-right","role","menu","aria-labelledby","button-animated",4,"dropdownMenu"],["template",""],["type","checkbox","value","","checked","",1,"form-check-input","rounded-circle","border-dark","border-2","bg-success",3,"change"],[1,"text-decoration-line-through"],["type","checkbox","value","",1,"form-check-input","rounded-circle","border-dark","border-2","hover",3,"change"],["id","dropdown-animated","role","menu","aria-labelledby","button-animated",1,"dropdown-menu","dropdown-menu-right"],["role","menuitem"],["type","submit",1,"dropdown-item",3,"click"],[1,"d-flex","fw-bold","border-bottom","fs-4","justify-content-between","p-3","bg-light"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"p-3","fs-6","border-bottom","bg-light"],[1,"d-flex","py-3","justify-content-end","bg-light"],["type","button",1,"btn","btn-light","border-dark","me-3",3,"click"],["type","button",1,"btn","bg-delete","text-white","me-3",3,"click"]],template:function(t,r){1&t&&(f.YNc(0,S_,2,1,"div",0),f.ALo(1,"async")),2&t&&f.Q6J("ngIf",f.lcZ(1,1,r.tasksList$))},directives:[ci,or,zC,WC,GE],pipes:[ka],encapsulation:2,changeDetection:0}),n})(),XE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-my-list-page"]],decls:5,vars:0,consts:[["routerLink","/add-task","role","button",1,"btn","bg-special","text-white","mt-5"]],template:function(t,r){1&t&&(f._UZ(0,"lib-date")(1,"lib-tasks-list-view"),f.TgZ(2,"div")(3,"a",0),f._uU(4,"Add task"),f.qZA()())},directives:[hf,A_,ac],encapsulation:2,changeDetection:0}),n})(),wf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[gr]]}),n})(),M_=(()=>{class n{getAll(){return yt({currentDate:new Date})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),kg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[M_,{provide:EE,useExisting:M_}],imports:[[]]}),n})(),ew=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),hc=(()=>{class n extends ew{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const Fo=new f.OlP("NgValueAccessor"),cI={provide:Fo,useExisting:(0,f.Gpc)(()=>R_),multi:!0},ex=new f.OlP("CompositionEventMode");let R_=(()=>{class n extends ew{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dI(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(ex,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[f._Bn([cI]),f.qOj]}),n})();function wa(n){return null==n||0===n.length}function tw(n){return null!=n&&"number"==typeof n.length}const ri=new f.OlP("NgValidators"),Qa=new f.OlP("NgAsyncValidators"),tx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Lo{static min(e){return function hI(n){return e=>{if(wa(e.value)||wa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function fI(n){return e=>{if(wa(e.value)||wa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function N_(n){return wa(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function O_(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function k_(n){return wa(n.value)||tx.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function nw(n){return e=>wa(e.value)||!tw(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function pI(n){return e=>tw(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function P_(n){if(!n)return Od;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(wa(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return aw(e)}static composeAsync(e){return bf(e)}}function Od(n){return null}function rw(n){return null!=n}function Pg(n){const e=(0,f.QGY)(n)?(0,Fn.D)(n):n;return(0,f.CqO)(e),e}function iw(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function sw(n,e){return e.map(t=>t(n))}function ow(n){return n.map(e=>function gI(n){return!n.validate}(e)?e:t=>e.validate(t))}function aw(n){if(!n)return null;const e=n.filter(rw);return 0==e.length?null:function(t){return iw(sw(t,e))}}function F_(n){return null!=n?aw(ow(n)):null}function bf(n){if(!n)return null;const e=n.filter(rw);return 0==e.length?null:function(t){return function lI(...n){const e=(0,Ln.jO)(n),{args:t,keys:r}=Fi(n),i=new Fr.y(u=>{const{length:c}=t;if(!c)return void u.complete();const p=new Array(c);let y=c,b=c;for(let A=0;A<c;A++){let M=!1;(0,Do.Xf)(t[A]).subscribe((0,zn.x)(u,F=>{M||(M=!0,b--),p[A]=F},()=>y--,void 0,()=>{(!y||!M)&&(b||u.next(r?bo(r,p):p),u.complete())}))}});return e?i.pipe(Fl(e)):i}(sw(t,e).map(Pg)).pipe((0,Ot.U)(iw))}}function zu(n){return null!=n?bf(ow(n)):null}function uw(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function kd(n){return n._rawValidators}function lw(n){return n._rawAsyncValidators}function L_(n){return n?Array.isArray(n)?n:[n]:[]}function Pd(n,e){return Array.isArray(n)?n.includes(e):n===e}function Vo(n,e){const t=L_(e);return L_(n).forEach(i=>{Pd(t,i)||t.push(i)}),t}function Fd(n,e){return L_(e).filter(t=>!Pd(n,t))}class ii{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=F_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class is extends ii{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ur extends ii{get formDirective(){return null}get path(){return null}}class Ts{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let fc=(()=>{class n extends Ts{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(is,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[f.qOj]}),n})(),pc=(()=>{class n extends Ts{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ur,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[f.qOj]}),n})();function Tf(n,e){B_(n,e),e.valueAccessor.writeValue(n.value),function DI(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gw(n,e)})}(n,e),function CI(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function pw(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gw(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function bI(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Sf(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Mf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Af(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function B_(n,e){const t=kd(n);null!==e.validator?n.setValidators(uw(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=lw(n);null!==e.asyncValidator?n.setAsyncValidators(uw(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Af(e._rawValidators,i),Af(e._rawAsyncValidators,i)}function Mf(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=kd(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=lw(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Af(e._rawValidators,r),Af(e._rawAsyncValidators,r),t}function gw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ew(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const xf="VALID",Rf="INVALID",Bd="PENDING",Ud="DISABLED";function j_(n){return(Vg(n)?n.validators:n)||null}function $_(n){return Array.isArray(n)?F_(n):n||null}function H_(n,e){return(Vg(e)?e.asyncValidators:n)||null}function ww(n){return Array.isArray(n)?zu(n):n||null}function Vg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const bw=n=>n instanceof Iw,G_=n=>n instanceof jd;function Cw(n){return bw(n)?n.value:n.getRawValue()}function q_(n,e){const t=G_(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new f.vHH(1e3,"");if(!r[e])throw new f.vHH(1001,"")}function z_(n,e){G_(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new f.vHH(1002,"")})}class Nf{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=$_(this._rawValidators),this._composedAsyncValidatorFn=ww(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===xf}get invalid(){return this.status===Rf}get pending(){return this.status==Bd}get disabled(){return this.status===Ud}get enabled(){return this.status!==Ud}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=$_(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ww(e)}addValidators(e){this.setValidators(Vo(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Vo(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Fd(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Fd(e,this._rawAsyncValidators))}hasValidator(e){return Pd(this._rawValidators,e)}hasAsyncValidator(e){return Pd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Bd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ud,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xf,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xf||this.status===Bd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ud:xf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Bd,this._hasOwnPendingAsyncValidator=!0;const t=Pg(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Lg(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=G_(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof SI)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Ud:this.errors?Rf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bd)?Bd:this._anyControlsHaveStatus(Rf)?Rf:xf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Iw extends Nf{constructor(e=null,t,r){super(j_(t),H_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vg(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ew(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ew(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class jd extends Nf{constructor(e,t,r){super(j_(t),H_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){z_(this,e),Object.keys(e).forEach(r=>{q_(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Cw(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class SI extends Nf{constructor(e,t,r){super(j_(t),H_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){z_(this,e),e.forEach((r,i)=>{q_(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Cw(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let Y_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Gg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const Of=new f.OlP("NgModelWithFormControlWarning"),kw={provide:Ur,useExisting:(0,f.Gpc)(()=>kf)};let kf=(()=>{class n extends Ur{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Tf(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Sf(t.control||null,t,!1),Ew(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function vw(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Sf(r||null,t),bw(i)&&(Tf(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function II(n,e){B_(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function TI(n,e){return Mf(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){B_(this.form,this),this._oldForm&&Mf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(ri,10),f.Y36(Qa,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([kw]),f.qOj,f.TTD]}),n})();const Lw={provide:is,useExisting:(0,f.Gpc)(()=>zg)};let zg=(()=>{class n extends is{constructor(t,r,i,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Fg(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===R_?t=u:function nx(n){return Object.getPrototypeOf(n.constructor)===hc}(u)?r=u:i=u}),i||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function _w(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function If(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(f.Y36(Ur,13),f.Y36(ri,10),f.Y36(Qa,10),f.Y36(Fo,10),f.Y36(Of,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([Lw]),f.qOj,f.TTD]}),n})(),UI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Gg]]}),n})(),jI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Of,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[UI]}),n})(),tv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[gr,pa,jI]]}),n})();var $I=P(4986),$r=P(5813);function Qg(){return(0,Lr.e)((n,e)=>{let t,r=!1;n.subscribe((0,zn.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function HI(n,e){return n===e}var rt,oo=P(2011),nv=(P(4087),P(3942)),_e=P(5861),Qu=P(9681),Ff=P(4859),eu=P(1877),Ht=P(2090),Qw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Da={},Xg=Xg||{},Rt=Qw||self;function em(){}function rv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Lf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var iv="closure_uid_"+(1e9*Math.random()>>>0),zI=0;function WI(n,e,t){return n.call.apply(n.bind,arguments)}function KI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function si(n,e,t){return(si=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?WI:KI).apply(null,arguments)}function tm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function oi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,u){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[i].apply(r,c)}}function Ju(){this.s=this.s,this.o=this.o}var YI={};Ju.prototype.s=!1,Ju.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function qI(n){return Object.prototype.hasOwnProperty.call(n,iv)&&n[iv]||(n[iv]=++zI)}(this);delete YI[n]}},Ju.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Jw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Xw=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in i&&e.call(t,i[u],u,n)};function sv(n){return Array.prototype.concat.apply([],arguments)}function nm(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Vf(n){return/^[\s\xa0]*$/.test(n)}var Di,ov=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function bi(n,e){return-1!=n.indexOf(e)}function rm(n,e){return n<e?-1:n>e?1:0}e:{var av=Rt.navigator;if(av){var uv=av.userAgent;if(uv){Di=uv;break e}}Di=""}function im(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function lv(n){const e={};for(const t in n)e[t]=n[t];return e}var Xu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eb(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<Xu.length;u++)t=Xu[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function cv(n){return cv[" "](n),n}cv[" "]=em;var om,n,lx=bi(Di,"Opera"),el=bi(Di,"Trident")||bi(Di,"MSIE"),JI=bi(Di,"Edge"),sm=JI||el,dv=bi(Di,"Gecko")&&!(bi(Di.toLowerCase(),"webkit")&&!bi(Di,"Edge"))&&!(bi(Di,"Trident")||bi(Di,"MSIE"))&&!bi(Di,"Edge"),cx=bi(Di.toLowerCase(),"webkit")&&!bi(Di,"Edge");function bt(){var n=Rt.document;return n?n.documentMode:void 0}e:{var hv="",fv=(n=Di,dv?/rv:([^\);]+)(\)|;)/.exec(n):JI?/Edge\/([\d\.]+)/.exec(n):el?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):cx?/WebKit\/(\S+)/.exec(n):lx?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(fv&&(hv=fv?fv[1]:""),el){var Hd=bt();if(null!=Hd&&Hd>parseFloat(hv)){om=String(Hd);break e}}om=hv}var XI={};var dx=Rt.document&&el&&(bt()||parseInt(om,10))||void 0,tb=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",em,e),Rt.removeEventListener("test",em,e)}catch(t){}return n}();function Ci(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Bf(n,e){if(Ci.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(dv){e:{try{cv(e.nodeName);var i=!0;break e}catch(u){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:nb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Bf.Z.h.call(this)}}Ci.prototype.h=function(){this.defaultPrevented=!0},oi(Bf,Ci);var nb={2:"touch",3:"pen",4:"mouse"};Bf.prototype.h=function(){Bf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var qd="closure_listenable_"+(1e6*Math.random()|0),rb=0;function ib(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++rb,this.ca=this.fa=!1}function um(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function lm(n){this.src=n,this.g={},this.h=0}function pv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=Jw(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(um(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function mc(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return i}return-1}lm.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=mc(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new ib(e,this.src,u,!!r,i)).fa=t,n.push(e)),e};var gv="closure_lm_"+(1e6*Math.random()|0),mv={};function sb(n,e,t,r,i){if(r&&r.once)return yv(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)sb(n,e[u],t,r,i);return null}return t=bv(t),n&&n[qd]?n.N(e,t,Lf(r)?!!r.capture:!!r,i):Uf(n,e,t,!1,r,i)}function Uf(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=Lf(i)?!!i.capture:!!i,p=Ev(n);if(p||(n[gv]=p=new lm(n)),(t=p.add(e,t,r,c,u)).proxy)return t;if(r=function ob(){var e=jf;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)tb||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(zd(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function yv(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)yv(n,e[u],t,r,i);return null}return t=bv(t),n&&n[qd]?n.O(e,t,Lf(r)?!!r.capture:!!r,i):Uf(n,e,t,!0,r,i)}function _v(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)_v(n,e[u],t,r,i);else r=Lf(r)?!!r.capture:!!r,t=bv(t),n&&n[qd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=mc(u=n.g[e],t,r,i))&&(um(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Ev(n))&&(e=n.g[e.toString()],n=-1,e&&(n=mc(e,t,r,i)),(t=-1<n?e[n]:null)&&vv(t))}function vv(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[qd])pv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(zd(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ev(e))?(pv(t,n),0==t.h&&(t.src=null,e[gv]=null)):um(n)}}}function zd(n){return n in mv?mv[n]:mv[n]="on"+n}function jf(n,e){if(n.ca)n=!0;else{e=new Bf(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&vv(n),n=t.call(r,e)}return n}function Ev(n){return(n=n[gv])instanceof lm?n:null}var wv="__closure_events_fn_"+(1e9*Math.random()>>>0);function bv(n){return"function"==typeof n?n:(n[wv]||(n[wv]=function(e){return n.handleEvent(e)}),n[wv])}function Rr(){Ju.call(this),this.i=new lm(this),this.P=this,this.I=null}function Hr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ci(e,n);else if(e instanceof Ci)e.target=e.target||n;else{var i=e;eb(e=new Ci(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=$f(c,r,!0,e)&&i}if(i=$f(c=e.g=n,r,!0,e)&&i,i=$f(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=$f(c=e.g=t[u],r,!1,e)&&i}function $f(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.ca&&c.capture==t){var p=c.listener,y=c.ia||c.src;c.fa&&pv(n.i,c),i=!1!==p.call(y,r)&&i}}return i&&!r.defaultPrevented}oi(Rr,Ju),Rr.prototype[qd]=!0,Rr.prototype.removeEventListener=function(n,e,t,r){_v(this,n,e,t,r)},Rr.prototype.M=function(){if(Rr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)um(t[r]);delete n.g[e],n.h--}}this.I=null},Rr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Rr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Dv=Rt.JSON.stringify;function ab(){var n=hb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var cb,ub=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new hx,n=>n.reset());class hx{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function fx(n){Rt.setTimeout(()=>{throw n},0)}function lb(n,e){cb||function db(){var n=Rt.Promise.resolve(void 0);cb=function(){n.then(tT)}}(),Wd||(cb(),Wd=!0),hb.add(n,e)}var Wd=!1,hb=new class eT{constructor(){this.h=this.g=null}add(e,t){const r=ub.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function tT(){for(var n;n=ab();){try{n.h.call(n.g)}catch(t){fx(t)}var e=ub;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Wd=!1}function Hf(n,e){Rr.call(this),this.h=n||1,this.g=e||Rt,this.j=si(this.kb,this),this.l=Date.now()}function yc(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Cv(n,e,t){if("function"==typeof n)t&&(n=si(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=si(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rt.setTimeout(n,e||0)}function fb(n){n.g=Cv(()=>{n.g=null,n.i&&(n.i=!1,fb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}oi(Hf,Rr),(rt=Hf.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Hr(this,"tick"),this.da&&(yc(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){Hf.Z.M.call(this),yc(this),delete this.g};class nT extends Ju{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fb(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gf(n){Ju.call(this),this.h=n,this.g={}}oi(Gf,Ju);var pb=[];function Iv(n,e,t,r){Array.isArray(t)||(t&&(pb[0]=t.toString()),t=pb);for(var i=0;i<t.length;i++){var u=sb(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function gb(n){im(n.g,function(e,t){this.g.hasOwnProperty(t)&&vv(e)},n),n.g={}}function cm(){this.g=!0}function _c(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function mb(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return Dv(t)}catch(p){return e}}(n,t)+(r?" "+r:"")})}Gf.prototype.M=function(){Gf.Z.M.call(this),gb(this)},Gf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cm.prototype.Aa=function(){this.g=!1},cm.prototype.info=function(){};var vc={},Tv=null;function dm(){return Tv=Tv||new Rr}function hm(n){Ci.call(this,vc.Ma,n)}function qf(n){const e=dm();Hr(e,new hm(e,n))}function Sv(n,e){Ci.call(this,vc.STAT_EVENT,n),this.stat=e}function Ii(n){const e=dm();Hr(e,new Sv(e,n))}function yb(n,e){Ci.call(this,vc.Na,n),this.size=e}function zf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},e)}vc.Ma="serverreachability",oi(hm,Ci),vc.STAT_EVENT="statevent",oi(Sv,Ci),vc.Na="timingevent",oi(yb,Ci);var fm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},pm={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Av(){}function _b(){}Av.prototype.h=null;var Nv,Wf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function xv(){Ci.call(this,"d")}function Rv(){Ci.call(this,"c")}function gm(){}function Kf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Gf(this),this.P=Eb,this.W=new Hf(n=sm?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new vb}function vb(){this.i=null,this.g="",this.h=!1}oi(xv,Ci),oi(Rv,Ci),oi(gm,Av),gm.prototype.g=function(){return new XMLHttpRequest},gm.prototype.i=function(){return{}},Nv=new gm;var Eb=45e3,mm={},ym={};function Ov(n,e,t){n.K=1,n.v=Bv(tu(e)),n.s=t,n.U=!0,kv(n,null)}function kv(n,e){n.F=Date.now(),Ec(n),n.A=tu(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Ab(t.h,"t",r),n.C=0,t=n.l.H,n.h=new vb,n.g=fT(n.l,t?e:null,!n.s),0<n.O&&(n.L=new nT(si(n.Ia,n,n.g),n.O)),Iv(n.V,n.g,"readystatechange",n.gb),e=n.H?lv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),qf(1),function Kd(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",p=u.split("&"),y=0;y<p.length;y++){var b=p[y].split("=");if(1<b.length){var A=b[0];b=b[1];var M=A.split("_");c=2<=M.length&&"type"==M[1]?c+(A+"=")+b+"&":c+(A+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function wb(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function bb(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=sT(n,t),i==ym){4==e&&(n.o=4,Ii(14),r=!1),_c(n.j,n.m,null,"[Incomplete Response]");break}if(i==mm){n.o=4,Ii(15),_c(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}_c(n.j,n.m,i,null),Pv(n,i)}wb(n)&&i!=ym&&i!=mm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ii(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Xv(e),e.L=!0,Ii(11))):(_c(n.j,n.m,t,"[Invalid Chunked Response]"),bc(n),wc(n))}function sT(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ym:(t=Number(e.substring(t,r)),isNaN(t)?mm:(r+=1)+t>e.length?ym:(e=e.substr(r,t),n.C=r+t,e))}function Ec(n){n.Y=Date.now()+n.P,_m(n,n.P)}function _m(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=zf(si(n.eb,n),e)}function Zf(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function wc(n){0==n.l.G||n.I||e0(n.l,n)}function bc(n){Zf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,yc(n.W),gb(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Pv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||rl(t.i,n)))if(t.I=n.N,!n.J&&rl(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=zf(si(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;cp(t),Xd(t)}th(t),Ii(18)}if(1>=Hv(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else il(t,11)}else if((n.J||t.g==n)&&cp(t),!Vf(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const A=b[3];null!=A&&(t.ma=A,t.h.info("VER="+t.ma));const M=b[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const F=b[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const G=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var u=r.i;!u.g&&(bi(G,"spdy")||bi(G,"quic")||bi(G,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(xb(u,u.h),u.h=null))}if(r.D){const ne=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(r.sa=ne,Un(r.F,r.D,ne))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=Gb(r,r.H?r.la:null,r.W),c.J){Gv(r.i,c);var p=c,y=r.K;y&&p.setTimeout(y),p.B&&(Zf(p),Ec(p)),r.g=c}else lp(r);0<t.l.length&&eh(t)}else"stop"!=b[0]&&"close"!=b[0]||il(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?il(t,7):Qv(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}qf(4)}catch(b){}}function Lv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(rv(n)||"string"==typeof n)Xw(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(rv(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function Fv(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(rv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}}function Dc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Dc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Vv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];tl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)tl(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function tl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(rt=Kf.prototype).setTimeout=function(n){this.P=n},rt.gb=function(n){n=n.target;const e=this.L;e&&3==Ca(n)?e.l():this.Ia(n)},rt.Ia=function(n){try{if(n==this.g)e:{const A=Ca(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>A)&&(3!=A||sm||this.g&&(this.h.h||this.g.ga()||Zv(this.g)))){this.I||4!=A||7==e||qf(8==e||0>=M?3:2),Zf(this);var t=this.g.ba();this.N=t;t:if(wb(this)){var r=Zv(this.g);n="";var i=r.length,u=4==Ca(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){bc(this),wc(this);var c="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function rT(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.X,A,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vf(p)){var b=p;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Ii(12),bc(this),wc(this);break e}_c(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pv(this,t)}this.U?(bb(this,A,c),sm&&this.i&&3==A&&(Iv(this.V,this.W,"tick",this.fb),this.W.start())):(_c(this.j,this.m,c,null),Pv(this,c)),4==A&&bc(this),this.i&&!this.I&&(4==A?e0(this.l,this):(this.i=!1,Ec(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Ii(12)):(this.o=0,Ii(13)),bc(this),wc(this)}}}catch(A){}},rt.fb=function(){if(this.g){var n=Ca(this.g),e=this.g.ga();this.C<e.length&&(Zf(this),bb(this,n,e),this.i&&4!=n&&Ec(this))}},rt.cancel=function(){this.I=!0,bc(this)},rt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function iT(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(qf(3),Ii(17)),bc(this),this.o=2,wc(this)):_m(this,this.Y-n)},(rt=Dc.prototype).R=function(){Vv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},rt.T=function(){return Vv(this),this.g.concat()},rt.get=function(n,e){return tl(this.h,n)?this.h[n]:e},rt.set=function(n,e){tl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},rt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],u=this.get(i);n.call(e,u,i,this)}};var Db=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zd(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Zd){this.g=void 0!==e?e:n.g,Cc(this,n.j),this.s=n.s,vm(this,n.i),nu(this,n.m),this.l=n.l,e=n.h;var t=new Xf;t.i=e.i,e.g&&(t.g=new Dc(e.g),t.h=e.h),Yd(this,t),this.o=n.o}else n&&(t=String(n).match(Db))?(this.g=!!e,Cc(this,t[1]||"",!0),this.s=Yf(t[2]||""),vm(this,t[3]||"",!0),nu(this,t[4]),this.l=Yf(t[5]||"",!0),Yd(this,t[6]||"",!0),this.o=Yf(t[7]||"")):(this.g=!!e,this.h=new Xf(null,this.g))}function tu(n){return new Zd(n)}function Cc(n,e,t){n.j=t?Yf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function vm(n,e,t){n.i=t?Yf(e,!0):e}function nu(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Yd(n,e,t){e instanceof Xf?(n.h=e,function uT(n,e){e&&!n.j&&(ru(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&($v(this,r),Ab(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Qf(e,Em)),n.h=new Xf(e,n.g))}function Un(n,e,t){n.h.set(e,t)}function Bv(n){return Un(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Yf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Qf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,aT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function aT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Zd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Qf(e,Uv,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Qf(e,Uv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Qf(t,"/"==t.charAt(0)?jv:Tb,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Qf(t,Jf)),n.join("")};var Uv=/[#\/\?@]/g,Tb=/[#\?:]/g,jv=/[#\?]/g,Em=/[#\?@]/g,Jf=/#/g;function Xf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ru(n){n.g||(n.g=new Dc,n.h=0,n.i&&function Cb(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function $v(n,e){ru(n),e=nl(n,e),tl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,tl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Vv(n)))}function Sb(n,e){return ru(n),e=nl(n,e),tl(n.g.h,e)}function Ab(n,e,t){$v(n,e),0<t.length&&(n.i=null,n.g.set(nl(n,e),nm(t)),n.h+=t.length)}function nl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Mb(n){this.l=n||lT,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ea&&Rt.g.Ea()&&Rt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=Xf.prototype).add=function(n,e){ru(this),this.i=null,n=nl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rt.forEach=function(n,e){ru(this),this.g.forEach(function(t,r){Xw(t,function(i){n.call(e,i,r,this)},this)},this)},rt.T=function(){ru(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],u=0;u<i.length;u++)t.push(e[r]);return t},rt.R=function(n){ru(this);var e=[];if("string"==typeof n)Sb(this,n)&&(e=sv(e,this.g.get(nl(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=sv(e,n[t])}return e},rt.set=function(n,e){return ru(this),this.i=null,Sb(this,n=nl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var c=i;""!==r[u]&&(c+="="+encodeURIComponent(String(r[u]))),n.push(c)}}return this.i=n.join("&")};var lT=10;function Ic(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Hv(n){return n.h?1:n.g?n.g.size:0}function rl(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function xb(n,e){n.g?n.g.add(e):n.h=e}function Gv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Rb(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return nm(n.i)}function Nb(){}function Ob(){this.g=new Nb}function gx(n,e,t){const r=t||"";try{Lv(n,function(i,u){let c=i;Lf(i)&&(c=Dv(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Qd(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(u){}}function ep(n){this.l=n.$b||null,this.j=n.ib||!1}function tp(n,e){Rr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=qv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mb.prototype.cancel=function(){if(this.i=Rb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Nb.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},Nb.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},oi(ep,Av),ep.prototype.g=function(){return new tp(this.l,this.j)},ep.prototype.i=function(n){return function(){return n}}({}),oi(tp,Rr);var qv=0;function Pb(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function np(n){n.readyState=4,n.l=null,n.j=null,n.A=null,rp(n)}function rp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=tp.prototype).open=function(n,e){if(this.readyState!=qv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,rp(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,np(this)),this.readyState=qv},rt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,rp(this)),this.g&&(this.readyState=3,rp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Rt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pb(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?np(this):rp(this),3==this.readyState&&Pb(this)}},rt.Ua=function(n){this.g&&(this.response=this.responseText=n,np(this))},rt.Ta=function(n){this.g&&(this.response=n,np(this))},rt.ha=function(){this.g&&np(this)},rt.setRequestHeader=function(n,e){this.v.append(n,e)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(tp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var cT=Rt.JSON.parse;function _r(n){Rr.call(this),this.headers=new Dc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fb,this.K=this.L=!1}oi(_r,Rr);var Fb="",dT=/^https?$/i,ip=["POST","PUT"];function Vb(n){return"content-type"==n.toLowerCase()}function zv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Wv(n),sp(n)}function Wv(n){n.D||(n.D=!0,Hr(n,"complete"),Hr(n,"error"))}function Kv(n){if(n.h&&void 0!==Xg&&(!n.C[1]||4!=Ca(n)||2!=n.ba()))if(n.v&&4==Ca(n))Cv(n.Fa,0,n);else if(Hr(n,"readystatechange"),4==Ca(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(Db)[1]||null;if(!i&&Rt.self&&Rt.self.location){var u=Rt.self.location.protocol;i=u.substr(0,u.length-1)}r=!dT.test(i?i.toLowerCase():"")}t=r}if(t)Hr(n,"complete"),Hr(n,"success");else{n.m=6;try{var c=2<Ca(n)?n.g.statusText:""}catch(y){c=""}n.j=c+" ["+n.ba()+"]",Wv(n)}}finally{sp(n)}}}function sp(n,e){if(n.g){Bb(n);const t=n.g,r=n.C[0]?em:null;n.g=null,n.C=null,e||Hr(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function Bb(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function Ca(n){return n.g?n.g.readyState:0}function Zv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Fb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Yv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function hT(n){let e="";return im(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Un(n,e,t))}function op(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Jd(n){this.za=0,this.l=[],this.h=new cm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=op("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=op("baseRetryDelayMs",5e3,n),this.$a=op("retryDelaySeedMs",1e4,n),this.Ya=op("forwardChannelMaxRetries",2,n),this.ra=op("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Mb(n&&n.concurrentRequestLimit),this.Ca=new Ob,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Qv(n){if(jo(n),3==n.G){var e=n.V++,t=tu(n.F);Un(t,"SID",n.J),Un(t,"RID",e),Un(t,"TYPE","terminate"),up(n,t),(e=new Kf(n,n.h,e,void 0)).K=2,e.v=Bv(tu(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(t=Rt.navigator.sendBeacon(e.v.toString(),"")),!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=fT(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ec(e)}Hb(n)}function Xd(n){n.g&&(Xv(n),n.g.cancel(),n.g=null)}function jo(n){Xd(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),cp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function Jv(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&eh(n)}function eh(n){Ic(n.i)||n.m||(n.m=!0,lb(n.Ha,n),n.C=0)}function Ub(n,e){var t;t=e?e.m:n.V++;const r=tu(n.F);Un(r,"SID",n.J),Un(r,"RID",t),Un(r,"AID",n.U),up(n,r),n.o&&n.s&&Yv(r,n.o,n.s),t=new Kf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=jb(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),xb(n.i,t),Ov(t,r,e)}function up(n,e){n.j&&Lv({},function(t,r){Un(e,r,t)})}function jb(n,e,t){t=Math.min(n.l.length,t);var r=n.j?si(n.j.Oa,n.j,n):null;e:{var i=n.l;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let p=!0;for(let y=0;y<t;y++){let b=i[y].h;const A=i[y].g;if(b-=u,0>b)u=Math.max(0,i[y].h-100),p=!1;else try{gx(A,c,"req"+b+"_")}catch(M){r&&r(A)}}if(p){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function lp(n){n.g||n.u||(n.Y=1,lb(n.Ga,n),n.A=0)}function th(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=zf(si(n.Ga,n),wm(n,n.A)),n.A++,0))}function Xv(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function $b(n){n.g=new Kf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=tu(n.oa);Un(e,"RID","rpc"),Un(e,"SID",n.J),Un(e,"CI",n.N?"0":"1"),Un(e,"AID",n.U),up(n,e),Un(e,"TYPE","xmlhttp"),n.o&&n.s&&Yv(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Bv(tu(e)),t.s=null,t.U=!0,kv(t,n)}function cp(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function e0(n,e){var t=null;if(n.g==e){cp(n),Xv(n),n.g=null;var r=2}else{if(!rl(n.i,e))return;t=e.D,Gv(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Hr(r=dm(),new yb(r,t,e,i)),eh(n)}else lp(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function ap(n,e){return!(Hv(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=zf(si(n.Ha,n,e),wm(n,n.C)),n.C++,0)))}(n,e)||2==r&&th(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:il(n,5);break;case 4:il(n,10);break;case 3:il(n,6);break;default:il(n,2)}}function wm(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function il(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=si(n.jb,n);t||(t=new Zd("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||Cc(t,"https"),Bv(t)),function kb(n,e){const t=new cm;if(Rt.Image){const r=new Image;r.onload=tm(Qd,t,r,"TestLoadImage: loaded",!0,e),r.onerror=tm(Qd,t,r,"TestLoadImage: error",!1,e),r.onabort=tm(Qd,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=tm(Qd,t,r,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ii(2);n.G=0,n.j&&n.j.va(e),Hb(n),jo(n)}function Hb(n){n.G=0,n.I=-1,n.j&&((0!=Rb(n.i).length||0!=n.l.length)&&(n.i.i.length=0,nm(n.l),n.l.length=0),n.j.ua())}function Gb(n,e,t){let r=function Ib(n){return n instanceof Zd?tu(n):new Zd(n,void 0)}(t);if(""!=r.i)e&&vm(r,e+"."+r.i),nu(r,r.m);else{const i=Rt.location;r=function oT(n,e,t,r){var i=new Zd(null,void 0);return n&&Cc(i,n),e&&vm(i,e),t&&nu(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&im(n.aa,function(i,u){Un(r,u,i)}),t=n.sa,(e=n.D)&&t&&Un(r,e,t),Un(r,"VER",n.ma),up(n,r),r}function fT(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _r(t&&n.Ba&&!n.qa?new ep({ib:!0}):n.qa)).L=n.H,e}function bm(){}function nh(){if(el&&!(10<=Number(dx)))throw Error("Environmental error: no available transport.")}function ss(n,e){Rr.call(this),this.g=new Jd(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Vf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vf(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new rh(this)}function Dm(n){xv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Cm(){Rv.call(this),this.status=1}function rh(n){this.g=n}(rt=_r.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Nv.g(),this.C=function Mv(n){return n.h||(n.h=n.i())}(this.u?this.u:Nv),this.g.onreadystatechange=si(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void zv(this,u)}n=t||"";const i=new Dc(this.headers);r&&Lv(r,function(u,c){i.set(c,u)}),r=function QI(n){e:{var e=Vb;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Rt.FormData&&n instanceof Rt.FormData,!(0<=Jw(ip,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(u,c){this.g.setRequestHeader(c,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Bb(this),0<this.B&&((this.K=function Lb(n){return el&&function am(){return function $d(n){var e=XI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=ov(String(om)).split("."),t=ov("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",u=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=rm(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||rm(0==i[2].length,0==u[2].length)||rm(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=si(this.pa,this)):this.A=Cv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){zv(this,u)}},rt.pa=function(){void 0!==Xg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hr(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Hr(this,"complete"),Hr(this,"abort"),sp(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sp(this,!0)),_r.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?Kv(this):this.cb())},rt.cb=function(){Kv(this)},rt.ba=function(){try{return 2<Ca(this)?this.g.status:-1}catch(n){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},rt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),cT(e)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=Jd.prototype).ma=8,rt.G=1,rt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},rt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Kf(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=lv(u),eb(u,this.P)):u=this.P),null===this.o&&(i.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=jb(this,i,e),Un(t=tu(this.F),"RID",n),Un(t,"CVER",22),this.D&&Un(t,"X-HTTP-Session-Id",this.D),up(this,t),this.o&&u&&Yv(t,this.o,u),xb(this.i,i),this.Ra&&Un(t,"TYPE","init"),this.ja?(Un(t,"$req",e),Un(t,"SID","null"),i.$=!0,Ov(i,t,null)):Ov(i,t,e),this.G=2}}else 3==this.G&&(n?Ub(this,n):0==this.l.length||Ic(this.i)||Ub(this))},rt.Ga=function(){if(this.u=null,$b(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=zf(si(this.bb,this),n)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ii(10),Xd(this),$b(this))},rt.ab=function(){null!=this.v&&(this.v=null,Xd(this),th(this),Ii(19))},rt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ii(2)):(this.h.info("Failed to ping google.com"),Ii(1))},(rt=bm.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},nh.prototype.g=function(n,e){return new ss(n,e)},oi(ss,Rr),ss.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),lb(si(n.hb,n,e))),Ii(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Gb(n,null,n.W),eh(n)},ss.prototype.close=function(){Qv(this.g)},ss.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Jv(this.g,e)}else this.v?((e={}).__data__=Dv(n),Jv(this.g,e)):Jv(this.g,n)},ss.prototype.M=function(){this.g.j=null,delete this.j,Qv(this.g),delete this.g,ss.Z.M.call(this)},oi(Dm,xv),oi(Cm,Rv),oi(rh,bm),rh.prototype.xa=function(){Hr(this.g,"a")},rh.prototype.wa=function(n){Hr(this.g,new Dm(n))},rh.prototype.va=function(n){Hr(this.g,new Cm(n))},rh.prototype.ua=function(){Hr(this.g,"b")},nh.prototype.createWebChannel=nh.prototype.g,ss.prototype.send=ss.prototype.u,ss.prototype.open=ss.prototype.m,ss.prototype.close=ss.prototype.close,fm.NO_ERROR=0,fm.TIMEOUT=8,fm.HTTP_ERROR=6,pm.COMPLETE="complete",_b.EventType=Wf,Wf.OPEN="a",Wf.CLOSE="b",Wf.ERROR="c",Wf.MESSAGE="d",Rr.prototype.listen=Rr.prototype.N,_r.prototype.listenOnce=_r.prototype.O,_r.prototype.getLastError=_r.prototype.La,_r.prototype.getLastErrorCode=_r.prototype.Da,_r.prototype.getStatus=_r.prototype.ba,_r.prototype.getResponseJson=_r.prototype.Qa,_r.prototype.getResponseText=_r.prototype.ga,_r.prototype.send=_r.prototype.ea;var pT=Da.createWebChannelTransport=function(){return new nh},gT=Da.getStatEventTarget=function(){return dm()},t0=Da.ErrorCode=fm,qb=Da.EventType=pm,n0=Da.Event=vc,r0=Da.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},mT=Da.FetchXmlHttpFactory=ep,dp=Da.WebChannel=_b,zb=Da.XhrIo=_r;const Wb="@firebase/firestore";class Gr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gr.UNAUTHENTICATED=new Gr(null),Gr.GOOGLE_CREDENTIALS=new Gr("google-credentials-uid"),Gr.FIRST_PARTY=new Gr("first-party-uid"),Gr.MOCK_USER=new Gr("mock-user");let Tc="9.6.10";const sl=new eu.Yd("@firebase/firestore");function Im(){return sl.logLevel}function Me(n,...e){if(sl.logLevel<=eu.in.DEBUG){const t=e.map(s0);sl.debug(`Firestore (${Tc}): ${n}`,...t)}}function Nn(n,...e){if(sl.logLevel<=eu.in.ERROR){const t=e.map(s0);sl.error(`Firestore (${Tc}): ${n}`,...t)}}function hp(n,...e){if(sl.logLevel<=eu.in.WARN){const t=e.map(s0);sl.warn(`Firestore (${Tc}): ${n}`,...t)}}function s0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function it(n="Unexpected state"){const e=`FIRESTORE (${Tc}) INTERNAL ASSERTION FAILED: `+n;throw Nn(e),new Error(e)}function Ct(n,e){n||it()}function qe(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Ht.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Zb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gr.UNAUTHENTICATED))}shutdown(){}}class Yb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Qb{constructor(e){this.t=e,this.currentUser=Gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new qr,e.enqueueRetryable(()=>u(this.currentUser))};const p=()=>{const b=c;e.enqueueRetryable((0,_e.Z)(function*(){yield b.promise,yield u(r.currentUser)}))},y=b=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(b=>y(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?y(b):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new qr)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct("string"==typeof r.accessToken),new Zb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new Gr(e)}}class Tm{constructor(e,t,r){this.type="FirstParty",this.user=Gr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class a0{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Tm(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _T{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jb{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.p;return this.p=u.token,Me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?i(u):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.p=t.token,new _T(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class os{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Sm(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}os.A=-1;class u0{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Sm(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Wt(n,e){return n<e?-1:n>e?1:0}function ol(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Am(n){return n+"\0"}class vr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vr.fromMillis(Date.now())}static fromDate(e){return vr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new vr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new vr(0,0))}static max(){return new Tt(new vr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Xb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function al(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function l0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class fp{constructor(e,t,r){void 0===t?t=0:t>e.length&&it(),void 0===r?r=e.length-t:r>e.length-t&&it(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===fp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jt extends fp{construct(e,t,r){return new Jt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Jt(t)}static emptyPath(){return new Jt([])}}const eD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zr extends fp{construct(e,t,r){return new zr(e,t,r)}static isValidIdentifier(e){return eD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Ne(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Ne(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Ne(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(u(),i++)}if(u(),c)throw new Ne(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zr(t)}static emptyPath(){return new zr([])}}class ih{constructor(e){this.fields=e,e.sort(zr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Nr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new Nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const nD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function iu(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=nD.exec(n);if(Ct(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zn(n.seconds),nanos:Zn(n.nanos)}}function Zn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ul(n){return"string"==typeof n?Nr.fromBase64String(n):Nr.fromUint8Array(n)}function c0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function rD(n){const e=n.mapValue.fields.__previous_value__;return c0(e)?rD(e):e}function Mm(n){const e=iu(n.mapValue.fields.__local_write_time__.timestampValue);return new vr(e.seconds,e.nanos)}class iD{constructor(e,t,r,i,u,c,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.useFetchStreams=y}}class ll{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ll("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ll&&e.projectId===this.projectId&&e.database===this.database}}function sh(n){return null==n}function xm(n){return 0===n&&1/n==-1/0}function vT(n){return"number"==typeof n&&Number.isInteger(n)&&!xm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class He{constructor(e){this.path=e}static fromPath(e){return new He(Jt.fromString(e))}static fromName(e){return new He(Jt.fromString(e).popFirst(5))}static empty(){return new He(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Jt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Jt(e.slice()))}}const ET={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wT={nullValue:"NULL_VALUE"};function oh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?c0(n)?4:sD(n)?9:10:it()}function Ss(n,e){if(n===e)return!0;const t=oh(n);if(t!==oh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mm(n).isEqual(Mm(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=iu(r.timestampValue),c=iu(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ul(n.bytesValue).isEqual(ul(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Zn(r.geoPointValue.latitude)===Zn(i.geoPointValue.latitude)&&Zn(r.geoPointValue.longitude)===Zn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Zn(r.integerValue)===Zn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Zn(r.doubleValue),c=Zn(i.doubleValue);return u===c?xm(u)===xm(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return ol(n.arrayValue.values||[],e.arrayValue.values||[],Ss);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(Xb(u)!==Xb(c))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(void 0===c[p]||!Ss(u[p],c[p])))return!1;return!0}(n,e);default:return it()}var i}function Rm(n,e){return void 0!==(n.values||[]).find(t=>Ss(t,e))}function su(n,e){if(n===e)return 0;const t=oh(n),r=oh(e);if(t!==r)return Wt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=Zn(i.integerValue||i.doubleValue),p=Zn(u.integerValue||u.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return Nm(n.timestampValue,e.timestampValue);case 4:return Nm(Mm(n),Mm(e));case 5:return Wt(n.stringValue,e.stringValue);case 6:return function(i,u){const c=ul(i),p=ul(u);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),p=u.split("/");for(let y=0;y<c.length&&y<p.length;y++){const b=Wt(c[y],p[y]);if(0!==b)return b}return Wt(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=Wt(Zn(i.latitude),Zn(u.latitude));return 0!==c?c:Wt(Zn(i.longitude),Zn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],p=u.values||[];for(let y=0;y<c.length&&y<p.length;++y){const b=su(c[y],p[y]);if(b)return b}return Wt(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){const c=i.fields||{},p=Object.keys(c),y=u.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let A=0;A<p.length&&A<b.length;++A){const M=Wt(p[A],b[A]);if(0!==M)return M;const F=su(c[p[A]],y[b[A]]);if(0!==F)return F}return Wt(p.length,b.length)}(n.mapValue,e.mapValue);default:throw it()}}function Nm(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Wt(n,e);const t=iu(n),r=iu(e),i=Wt(t.seconds,r.seconds);return 0!==i?i:Wt(t.nanos,r.nanos)}function Sc(n){return Om(n)}function Om(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=iu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ul(n.bytesValue).toBase64():"referenceValue"in n?He.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=Om(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const p of i)c?c=!1:u+=",",u+=`${p}:${Om(r.fields[p])}`;return u+"}"}(n.mapValue):it();var e}function pp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gp(n){return!!n&&"integerValue"in n}function ah(n){return!!n&&"arrayValue"in n}function d0(n){return!!n&&"nullValue"in n}function h0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function f0(n){return!!n&&"mapValue"in n}function uh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return al(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function sD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function km(n,e){return void 0===n?e:void 0===e||su(n,e)>0?n:e}function oD(n,e){return void 0===n?e:void 0===e||su(n,e)<0?n:e}class qi{constructor(e){this.value=e}static empty(){return new qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!f0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uh(t)}setAll(e){let t=zr.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=uh(c):i.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());f0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ss(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];f0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){al(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new qi(uh(this.value))}}function bT(n){const e=[];return al(n.fields,(t,r)=>{const i=new zr([t]);if(f0(r)){const u=bT(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new ih(e)}class jn{constructor(e,t,r,i,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=c}static newInvalidDocument(e){return new jn(e,0,Tt.min(),Tt.min(),qi.empty(),0)}static newFoundDocument(e,t,r){return new jn(e,1,t,Tt.min(),r,0)}static newNoDocument(e,t){return new jn(e,2,t,Tt.min(),qi.empty(),0)}static newUnknownDocument(e,t){return new jn(e,3,t,Tt.min(),qi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function p0(n){return n.fields.find(e=>2===e.kind)}function lh(n){return n.fields.filter(e=>2!==e.kind)}Pm.UNKNOWN_ID=-1;class g0{constructor(e,t){this.fieldPath=e,this.kind=t}}class mp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new mp(0,Or.min())}}function Fm(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Tt.fromTimestamp(1e9===r?new vr(t+1,0):new vr(t,r));return new Or(i,He.empty(),e)}function DT(n){return new Or(n.readTime,n.key,-1)}class Or{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Or(Tt.min(),He.empty(),-1)}static max(){return new Or(Tt.max(),He.empty(),-1)}}function CT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=He.comparator(n.documentKey,e.documentKey),0!==t?t:Wt(n.largestBatchId,e.largestBatchId))}class m0{constructor(e,t=null,r=[],i=[],u=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=p,this.P=null}}function aD(n,e=null,t=[],r=[],i=null,u=null,c=null){return new m0(n,e,t,r,i,u,c)}function Ac(n){const e=qe(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Sc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Sc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Sc(r)).join(",")),e.P=t}return e.P}function ch(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!MT(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Ss(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lD(n.startAt,e.startAt)&&lD(n.endAt,e.endAt)}function yp(n){return He.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Lm(n,e){return n.filters.filter(t=>t instanceof Wr&&t.field.isEqual(e))}class Wr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new uD(e,t,r):"array-contains"===t?new $o(e,r):"in"===t?new ST(e,r):"not-in"===t?new yx(e,r):"array-contains-any"===t?new AT(e,r):new Wr(e,t,r)}static V(e,t,r){return"in"===t?new IT(e,r):new TT(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(su(t,this.value)):null!==t&&oh(this.value)===oh(t)&&this.v(su(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return it()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class uD extends Wr{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.v(t)}}class IT extends Wr{constructor(e,t){super(e,"in",t),this.keys=Vm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class TT extends Wr{constructor(e,t){super(e,"not-in",t),this.keys=Vm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vm(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class $o extends Wr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ah(t)&&Rm(t.arrayValue,this.value)}}class ST extends Wr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Rm(this.value.arrayValue,t)}}class yx extends Wr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Rm(this.value.arrayValue,t)}}class AT extends Wr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ah(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Rm(this.value.arrayValue,r))}}class ou{constructor(e,t){this.position=e,this.inclusive=t}}class dh{constructor(e,t="asc"){this.field=e,this.dir=t}}function MT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function _0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?He.comparator(He.fromName(c.referenceValue),t.key):su(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function lD(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ss(n.position[t],e.position[t]))return!1;return!0}class cl{constructor(e,t=null,r=[],i=[],u=null,c="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=y,this.D=null,this.C=null}}function v0(n,e,t,r,i,u,c,p){return new cl(n,e,t,r,i,u,c,p)}function Mc(n){return new cl(n)}function Bm(n){return!sh(n.limit)&&"F"===n.limitType}function Um(n){return!sh(n.limit)&&"L"===n.limitType}function jm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function _p(n){for(const e of n.filters)if(e.S())return e.field;return null}function vp(n){return null!==n.collectionGroup}function xc(n){const e=qe(n);if(null===e.D){e.D=[];const t=_p(e),r=jm(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new dh(t)),e.D.push(new dh(zr.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new dh(zr.keyField(),u))}}}return e.D}function ao(n){const e=qe(n);if(!e.C)if("F"===e.limitType)e.C=aD(e.path,e.collectionGroup,xc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of xc(e))t.push(new dh(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new ou(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new ou(e.startAt.position,!e.startAt.inclusive):null;e.C=aD(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function E0(n,e,t){return new cl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hh(n,e){return ch(ao(n),ao(e))&&n.limitType===e.limitType}function cD(n){return`${Ac(ao(n))}|lt:${n.limitType}`}function w0(n){return`Query(target=${function y0(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Sc(r.value)}`;var r}).join(", ")}]`),sh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Sc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Sc(t)).join(",")),`Target(${e})`}(ao(n))}; limitType=${n.limitType})`}function dD(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):He.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const p=_0(i,u,c);return i.inclusive?p<=0:p<0}(t.startAt,xc(t),r)||t.endAt&&!function(i,u,c){const p=_0(i,u,c);return i.inclusive?p>=0:p>0}(t.endAt,xc(t),r)));var t,r}function xT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function b0(n){return(e,t)=>{let r=!1;for(const i of xc(n)){const u=RT(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function RT(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(i,u,c){const p=u.data.field(i),y=c.data.field(i);return null!==p&&null!==y?su(p,y):it()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}function hD(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xm(e)?"-0":e}}function fD(n){return{integerValue:""+n}}function NT(n,e){return vT(e)?fD(e):hD(n,e)}class D0{constructor(){this._=void 0}}function _x(n,e,t){return n instanceof fh?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof Ia?pD(n,e):n instanceof Rc?C0(n,e):function(r,i){const u=OT(r,i),c=I0(u)+I0(r.k);return gp(u)&&gp(r.k)?fD(c):hD(r.M,c)}(n,e)}function vx(n,e,t){return n instanceof Ia?pD(n,e):n instanceof Rc?C0(n,e):t}function OT(n,e){return n instanceof uo?gp(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class fh extends D0{}class Ia extends D0{constructor(e){super(),this.elements=e}}function pD(n,e){const t=$m(e);for(const r of n.elements)t.some(i=>Ss(i,r))||t.push(r);return{arrayValue:{values:t}}}class Rc extends D0{constructor(e){super(),this.elements=e}}function C0(n,e){let t=$m(e);for(const r of n.elements)t=t.filter(i=>!Ss(i,r));return{arrayValue:{values:t}}}class uo extends D0{constructor(e,t){super(),this.M=e,this.k=t}}function I0(n){return Zn(n.integerValue||n.doubleValue)}function $m(n){return ah(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Nc{constructor(e,t){this.field=e,this.transform=t}}class T0{constructor(e,t){this.version=e,this.transformResults=t}}class tr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oc(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class S0{}function Ex(n,e,t){n instanceof Ep?function(r,i,u){const c=r.value.clone(),p=M0(r.fieldTransforms,i,u.transformResults);c.setAll(p),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof kc?function(r,i,u){if(!Oc(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=M0(r.fieldTransforms,i,u.transformResults),p=i.data;p.setAll(yD(r)),p.setAll(c),i.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function gD(n,e,t){var i;n instanceof Ep?function(r,i,u){if(!Oc(r.precondition,i))return;const c=r.value.clone(),p=x0(r.fieldTransforms,u,i);c.setAll(p),i.convertToFoundDocument(mD(i),c).setHasLocalMutations()}(n,e,t):n instanceof kc?function(r,i,u){if(!Oc(r.precondition,i))return;const c=x0(r.fieldTransforms,u,i),p=i.data;p.setAll(yD(r)),p.setAll(c),i.convertToFoundDocument(mD(i),p).setHasLocalMutations()}(n,e,t):Oc(n.precondition,i=e)&&i.convertToNoDocument(Tt.min())}function wx(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=OT(r.transform,i||null);null!=u&&(null==t&&(t=qi.empty()),t.set(r.field,u))}return t||null}function A0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ol(t,r,(i,u)=>function kT(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ia&&r instanceof Ia||t instanceof Rc&&r instanceof Rc?ol(t.elements,r.elements,Ss):t instanceof uo&&r instanceof uo?Ss(t.k,r.k):t instanceof fh&&r instanceof fh);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function mD(n){return n.isFoundDocument()?n.version:Tt.min()}class Ep extends S0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class kc extends S0{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}}function yD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function M0(n,e,t){const r=new Map;Ct(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,p=e.data.field(u.field);r.set(u.field,vx(c,p,t[i]))}return r}function x0(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,_x(u,c,e))}return r}class ph extends S0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class R0 extends S0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class PT{constructor(e){this.count=e}}var ur,Qt;function FT(n){switch(n){default:return it();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function N0(n){if(void 0===n)return Nn("GRPC error has no .code"),ce.UNKNOWN;switch(n){case ur.OK:return ce.OK;case ur.CANCELLED:return ce.CANCELLED;case ur.UNKNOWN:return ce.UNKNOWN;case ur.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case ur.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case ur.INTERNAL:return ce.INTERNAL;case ur.UNAVAILABLE:return ce.UNAVAILABLE;case ur.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case ur.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case ur.NOT_FOUND:return ce.NOT_FOUND;case ur.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case ur.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case ur.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case ur.ABORTED:return ce.ABORTED;case ur.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case ur.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case ur.DATA_LOSS:return ce.DATA_LOSS;default:return it()}}(Qt=ur||(ur={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";class Ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){al(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return l0(this.inner)}size(){return this.innerSize}}class lr{constructor(e,t){this.comparator=e,this.root=t||Ti.EMPTY}insert(e,t){return new lr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(e){return new lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hm(this.root,e,this.comparator,!0)}}class Hm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ti{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=null!=r?r:Ti.RED,this.left=null!=i?i:Ti.EMPTY,this.right=null!=u?u:Ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new Ti(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ti.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1,Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ti(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $n{constructor(e){this.comparator=e,this.data=new lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new LT(this.data.getIterator())}getIteratorFrom(e){return new LT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof $n)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $n(this.comparator);return t.data=e,t}}class LT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gh(n){return n.hasNext()?n.getNext():void 0}const VT=new lr(He.comparator);function Ho(){return VT}const bx=new lr(He.comparator);function _D(){return bx}function Gm(){return new Ta(n=>n.toString(),(n,e)=>n.isEqual(e))}const Dx=new lr(He.comparator),BT=new $n(He.comparator);function _n(...n){let e=BT;for(const t of n)e=e.add(t);return e}const Cx=new $n(Wt);function O0(){return Cx}class qm{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,s.createSynthesizedTargetChangeForCurrentChange(e,t)),new qm(Tt.min(),r,O0(),Ho(),_n())}}class s{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new s(Nr.EMPTY_BYTE_STRING,t,_n(),_n(),_n())}}class o{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class a{constructor(e,t){this.targetId=e,this.$=t}}class l{constructor(e,t,r=Nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class d{constructor(){this.B=0,this.L=w(),this.U=Nr.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=_n(),t=_n(),r=_n();return this.L.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:it()}}),new s(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=w()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class g{constructor(e){this.nt=e,this.st=new Map,this.it=Ho(),this.rt=v(),this.ot=new $n(Wt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:it()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const u=i.target;if(yp(u))if(0===r){const c=new He(u.path);this.ct(t,c,jn.newNoDocument(c,Tt.min()))}else Ct(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,c)=>{const p=this.wt(c);if(p){if(u.current&&yp(p.target)){const y=new He(p.target.path);null!==this.it.get(y)||this.It(c,y)||this.ct(c,y,jn.newNoDocument(y,e))}u.j&&(t.set(c,u.H()),u.J())}});let r=_n();this.rt.forEach((u,c)=>{let p=!0;c.forEachWhile(y=>{const b=this.wt(y);return!b||2===b.purpose||(p=!1,!1)}),p&&(r=r.add(u))}),this.it.forEach((u,c)=>c.setReadTime(e));const i=new qm(e,t,this.ot,this.it,r);return this.it=Ho(),this.rt=v(),this.ot=new $n(Wt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new d,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new $n(Wt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Me("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new d),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function v(){return new lr(He.comparator)}function w(){return new lr(He.comparator)}const D={asc:"ASCENDING",desc:"DESCENDING"},S={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class x{constructor(e,t){this.databaseId=e,this.N=t}}function k(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U(n,e){return n.N?e.toBase64():e.toUint8Array()}function Z(n,e){return k(n,e.toTimestamp())}function oe(n){return Ct(!!n),Tt.fromTimestamp(function(e){const t=iu(e);return new vr(t.seconds,t.nanos)}(n))}function Fe(n,e){return(t=n,new Jt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function je(n){const e=Jt.fromString(n);return Ct(Tx(e)),e}function Je(n,e){return Fe(n.databaseId,e.path)}function Ee(n,e){const t=je(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(as(t))}function ht(n,e){return Fe(n.databaseId,e)}function Kt(n){const e=je(n);return 4===e.length?Jt.emptyPath():as(e)}function nn(n){return new Jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function as(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function dl(n,e,t){return{name:Je(n,e),fields:t.value.mapValue.fields}}function zm(n,e,t){const r=Ee(n,e.name),i=oe(e.updateTime),u=new qi({mapValue:{fields:e.fields}}),c=jn.newFoundDocument(r,i,u);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Pc(n,e){let t;if(e instanceof Ep)t={update:dl(n,e.key,e.value)};else if(e instanceof ph)t={delete:Je(n,e.key)};else if(e instanceof kc)t={update:dl(n,e.key,e.data),updateMask:_k(e.fieldMask)};else{if(!(e instanceof R0))return it();t={verify:Je(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof fh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ia)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Rc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof uo)return{fieldPath:u.field.canonicalString(),increment:c.k};throw it()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Z(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:it()),t;var i}function wp(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?tr.updateTime(oe(i.updateTime)):void 0!==i.exists?tr.exists(i.exists):tr.none():tr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,c){let p=null;"setToServerValue"in c?(Ct("REQUEST_TIME"===c.setToServerValue),p=new fh):"appendMissingElements"in c?p=new Ia(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new Rc(c.removeAllFromArray.values||[]):"increment"in c?p=new uo(u,c.increment):it();const y=zr.fromServerFormat(c.fieldPath);return new Nc(y,p)}(n,i)):[];var i;if(e.update){const i=Ee(n,e.update.name),u=new qi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new ih((e.updateMask.fieldPaths||[]).map(b=>zr.fromServerFormat(b)));return new kc(i,u,c,t,r)}return new Ep(i,u,t,r)}if(e.delete){const i=Ee(n,e.delete);return new ph(i,t)}if(e.verify){const i=Ee(n,e.verify);return new R0(i,t)}return it()}function Wm(n,e){return{documents:[ht(n,e.path)]}}function Km(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=ht(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ht(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const b=y.map(A=>function(M){if("=="===M.op){if(h0(M.value))return{unaryFilter:{field:Ym(M.field),op:"IS_NAN"}};if(d0(M.value))return{unaryFilter:{field:Ym(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(h0(M.value))return{unaryFilter:{field:Ym(M.field),op:"IS_NOT_NAN"}};if(d0(M.value))return{unaryFilter:{field:Ym(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ym(M.field),op:gk(M.op),value:M.value}}}(A));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(y){if(0!==y.length)return y.map(b=>{return{field:Ym((A=b).field),direction:pk(A.dir)};var A})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=(b=e.limit,n.N||sh(b)?b:{value:b});var b,p,y;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function Zm(n){let e=Kt(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ct(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let u=[];t.where&&(u=Ix(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(A=>{return new dh(Qm((M=A).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let p=null;t.limit&&(p=function(A){let M;return M="object"==typeof A?A.value:A,sh(M)?null:M}(t.limit));let y=null;var A;t.startAt&&(y=new ou((A=t.startAt).values||[],!!A.before));let b=null;return t.endAt&&(b=function(A){return new ou(A.values||[],!A.before)}(t.endAt)),v0(e,i,c,u,p,"F",y,b)}function Ix(n){return n?void 0!==n.unaryFilter?[yk(n)]:void 0!==n.fieldFilter?[mk(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Ix(e)).reduce((e,t)=>e.concat(t)):it():[]}function pk(n){return D[n]}function gk(n){return S[n]}function Ym(n){return{fieldPath:n.canonicalString()}}function Qm(n){return zr.fromServerFormat(n.fieldPath)}function mk(n){return Wr.create(Qm(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(n.fieldFilter.op),n.fieldFilter.value)}function yk(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Qm(n.unaryFilter.field);return Wr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Qm(n.unaryFilter.field);return Wr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Qm(n.unaryFilter.field);return Wr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Qm(n.unaryFilter.field);return Wr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return it()}}function _k(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Tx(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Si(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Sx(e)),e=vk(n.get(t),e);return Sx(e)}function vk(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Sx(n){return n+"\x01\x01"}function au(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Jt.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const c=n.indexOf("\x01",u);switch((c<0||c>t)&&it(),n.charAt(c+1)){case"\x01":const p=n.substring(u,c);let y;0===i.length?y=p:(i+=p,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(u,c),i+="\0";break;case"\x11":i+=n.substring(u,c+1);break;default:it()}u=c+2}return new Jt(r)}const Ax=["userId","batchId"];function vD(n,e){return[n,Si(e)]}function Mx(n,e,t){return[n,Si(e),t]}const Ek={},wk=["prefixPath","collectionGroup","readTime","documentId"],bk=["prefixPath","collectionGroup","documentId"],Dk=["collectionGroup","readTime","prefixPath","documentId"],Ck=["canonicalId","targetId"],Ik=["targetId","path"],Tk=["path","targetId"],Sk=["collectionId","parent"],Ak=["indexId","uid"],Mk=["uid","sequenceNumber"],xk=["indexId","uid","arrayValue","directionalValue","documentKey"],Rk=["indexId","uid","documentKey"],Nk=["userId","collectionPath","documentId"],Ok=["userId","collectionPath","largestBatchId"],kk=["userId","collectionGroup","largestBatchId"],xx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Pk=[...xx,"documentOverlays"],Rx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fk=[...Rx,"indexConfiguration","indexState","indexEntries"],Nx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ox{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let i=0,u=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++u,c&&u===i&&t()},y=>r(y))}),c=!0,u===i&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(i=>i?ge.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}}class ED{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new qr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new L0(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=UT(r.target.error);this.At.reject(new L0(e,i))}}static open(e,t,r,i){try{return new ED(t,e.transaction(i,r))}catch(u){throw new L0(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Me("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Vk(t)}}class uu{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===uu.Vt((0,Ht.z$)())&&Nn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Me("SimpleDb","Removing database:",e),Dp(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Ht.hl)())return!1;if(uu.St())return!0;const e=(0,Ht.z$)(),t=uu.Vt(e),r=0<t&&t<10,i=uu.Dt(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,_e.Z)(function*(){return t.db||(Me("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=c=>{r(c.target.result)},u.onblocked=()=>{i(new L0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=c=>{const p=c.target.error;i("VersionError"===p.name?new Ne(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Ne(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new L0(e,p))},u.onupgradeneeded=c=>{Me("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.Pt.kt(c.target.result,u.transaction,c.oldVersion,t.version).next(()=>{Me("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,_e.Z)(function*(){const c="readonly"===t;let p=0;for(;;){++p;try{u.db=yield u.Nt(e);const y=ED.open(u.db,e,c?"readonly":"readwrite",r),b=i(y).next(A=>(y.bt(),A)).catch(A=>(y.abort(A),ge.reject(A))).toPromise();return b.catch(()=>{}),yield y.Rt,b}catch(y){const b="FirebaseError"!==y.name&&p<3;if(Me("SimpleDb","Transaction failed with error:",y.message,"Retrying:",b),u.close(),!b)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Lk{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Dp(this.Ft.delete())}}class L0 extends Ne{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function bp(n){return"IndexedDbTransactionError"===n.name}class Vk{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Me("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Me("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Dp(r)}add(e){return Me("SimpleDb","ADD",this.store.name,e,e),Dp(this.store.add(e))}get(e){return Dp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Me("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Me("SimpleDb","DELETE",this.store.name,e),Dp(this.store.delete(e))}count(){return Me("SimpleDb","COUNT",this.store.name),Dp(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.Gt(i,(c,p)=>{u.push(p)}).next(()=>u)}{const i=this.store.getAll(r.range);return new ge((u,c)=>{i.onerror=p=>{c(p.target.error)},i.onsuccess=p=>{u(p.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ge((i,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Qt(e,t){Me("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Gt(i,(u,c,p)=>p.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Gt(i,t)}zt(e){const t=this.cursor({});return new ge((r,i)=>{t.onerror=u=>{const c=UT(u.target.error);i(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():r()}):r()}})}Gt(e,t){const r=[];return new ge((i,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void i();const y=new Lk(p),b=t(p.primaryKey,p.value,y);if(b instanceof ge){const A=b.catch(M=>(y.done(),ge.reject(M)));r.push(A)}y.isDone?i():null===y.Lt?p.continue():p.continue(y.Lt)}}).next(()=>ge.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Dp(n){return new ge((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=UT(r.target.error);t(i)}})}let kx=!1;function UT(n){const e=uu.Vt((0,Ht.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kx||(kx=!0,setTimeout(()=>{throw r},0)),r}}return n}class Px extends Ox{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Ai(n,e){const t=qe(n);return uu.xt(t.Ht,e)}class jT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&Ex(u,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&gD(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&gD(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Tt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_n())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,(t,r)=>A0(t,r))&&ol(this.baseMutations,e.baseMutations,(t,r)=>A0(t,r))}}class $T{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ct(e.mutations.length===r.length);let i=Dx;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new $T(e,t,r,i)}}class HT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class mh{constructor(e,t,r,i,u=Tt.min(),c=Tt.min(),p=Nr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p}withSequenceNumber(e){return new mh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new mh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new mh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Fx{constructor(e){this.Jt=e}}function Lx(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:wD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Je(i=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:k(i,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Cp(e.version)};else{if(!e.isUnknownDocument())return it();r.unknownDocument={path:t.path.toArray(),version:Cp(e.version)}}var i,u;return r}function wD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Cp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ip(n){const e=new vr(n.seconds,n.nanoseconds);return Tt.fromTimestamp(e)}function Jm(n,e){const t=(e.baseMutations||[]).map(u=>wp(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const c=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(c.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>wp(n.Jt,u)),i=vr.fromMillis(e.localWriteTimeMs);return new jT(e.batchId,i,t,r)}function V0(n){const e=Ip(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ip(n.lastLimboFreeSnapshotVersion):Tt.min();let r;var i;return void 0!==n.query.documents?(Ct(1===(i=n.query).documents.length),r=ao(Mc(Kt(i.documents[0])))):r=ao(Zm(n.query)),new mh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Nr.fromBase64String(n.resumeToken))}function Vx(n,e){const t=Cp(e.snapshotVersion),r=Cp(e.lastLimboFreeSnapshotVersion);let i;i=yp(e.target)?Wm(n.Jt,e.target):Km(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ac(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function GT(n){const e=Zm({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?E0(e,e.limit,"L"):e}function qT(n,e){return new HT(e.largestBatchId,wp(n.Jt,e.overlayMutation))}function Bx(n,e){const t=e.path.lastSegment();return[n,Si(e.path.popLast()),t]}class Uk{getBundleMetadata(e,t){return Ux(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ip(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Ux(e).put({bundleId:(r=t).id,createTime:Cp(oe(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return jx(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:GT(i.bundledQuery),readTime:Ip(i.readTime)};var i})}saveNamedQuery(e,t){return jx(e).put({name:(r=t).name,readTime:Cp(oe(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Ux(n){return Ai(n,"bundles")}function jx(n){return Ai(n,"namedQueries")}class zT{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new zT(e,t.uid||"")}getOverlay(e,t){return B0(e).get(Bx(this.userId,t)).next(r=>r?qT(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((u,c)=>{const p=new HT(t,c);i.push(this.Xt(e,p))}),ge.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Si(c.getCollectionPath())));const u=[];return i.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(B0(e).Qt("collectionPathOverlayIndex",p))}),ge.waitFor(u)}getOverlaysForCollection(e,t,r){const i=Gm(),u=Si(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return B0(e).qt("collectionPathOverlayIndex",c).next(p=>{for(const y of p){const b=qT(this.M,y);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=Gm();let c;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return B0(e).Wt({index:"collectionGroupOverlayIndex",range:p},(y,b,A)=>{const M=qT(this.M,b);u.size()<i||M.largestBatchId===c?(u.set(M.getKey(),M),c=M.largestBatchId):A.done()}).next(()=>u)}Xt(e,t){return B0(e).put(function(r,i,u){const[c,p,y]=Bx(i,u.mutation.key);return{userId:i,collectionPath:p,documentId:y,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Pc(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function B0(n){return Ai(n,"documentOverlays")}class Xm{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Zn(e.integerValue));else if("doubleValue"in e){const r=Zn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),xm(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(ul(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?sD(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):it()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),He.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function jk(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function $x(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=jk(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Xm.fe=new Xm;class $k{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=$x(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=$x(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Hk{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class Gk{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class bD{constructor(){this.De=new $k,this.Ce=new Hk(this.De),this.xe=new Gk(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class yh{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new yh(this.indexId,this.documentKey,this.arrayValue,r)}}function Tp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Hx(n.arrayValue,e.arrayValue),0!==t?t:(t=Hx(n.directionalValue,e.directionalValue),0!==t?t:He.comparator(n.documentKey,e.documentKey)))}function Hx(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class qk{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=p0(e);if(void 0!==t&&!this.Be(t))return!1;const r=lh(e);let i=0,u=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const c=r[i];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[u++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(u>=this.Me.length||!this.Ue(this.Me[u++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class zk{constructor(){this.qe=new WT}addToCollectionParentIndex(e,t){return this.qe.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getFieldIndex(e,t){return ge.resolve(null)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class WT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new $n(Jt.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $n(Jt.comparator)).toArray()}}const DD=new Uint8Array(0);class Wk{constructor(e){this.user=e,this.Ge=new WT,this.Ke=new Ta(t=>Ac(t),(t,r)=>ch(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const u={collectionId:r,parent:Si(i)};return Gx(e).put(u)}return ge.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Am(t),""],!1,!0);return Gx(e).qt(i).next(u=>{for(const c of u){if(c.collectionId!==t)break;r.push(au(c.parent))}return r})}addFieldIndex(e,t){const r=CD(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var u;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=CD(e),i=ID(e),u=U0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=U0(e);let i=!0;const u=new Map;return ge.forEach(this.Qe(t),c=>this.getFieldIndex(e,c).next(p=>{i&&(i=!!p),u.set(c,p)})).next(()=>{if(i){let c=_n();return ge.forEach(u,(p,y)=>{var b;Me("IndexedDbIndexManager",`Using index ${b=p,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Le=>`${Le.fieldPath}:${Le.kind}`).join(",")}`} to execute ${Ac(t)}`);const A=function(Le,Ke){const ze=p0(Ke);if(void 0===ze)return null;for(const _t of Lm(Le,ze.fieldPath))switch(_t.op){case"array-contains-any":return _t.value.arrayValue.values||[];case"array-contains":return[_t.value]}return null}(y,p),M=function(Le,Ke){const ze=new Map;for(const _t of lh(Ke))for(const ct of Lm(Le,_t.fieldPath))switch(ct.op){case"==":case"in":ze.set(_t.fieldPath.canonicalString(),ct.value);break;case"not-in":case"!=":return ze.set(_t.fieldPath.canonicalString(),ct.value),Array.from(ze.values())}return null}(y,p),F=function(Le,Ke){const ze=[];let _t=!0;for(const Xt of lh(Ke)){let bn,vn=!0;for(const Zt of Lm(Le,Xt.fieldPath)){let Dn,Rs=!0;switch(Zt.op){case"<":case"<=":Dn="nullValue"in(ct=Zt.value)?wT:"booleanValue"in ct?{booleanValue:!1}:"integerValue"in ct||"doubleValue"in ct?{doubleValue:NaN}:"timestampValue"in ct?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in ct?{stringValue:""}:"bytesValue"in ct?{bytesValue:""}:"referenceValue"in ct?pp(ll.empty(),He.empty()):"geoPointValue"in ct?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in ct?{arrayValue:{}}:"mapValue"in ct?{mapValue:{}}:it();break;case"==":case"in":case">=":Dn=Zt.value;break;case">":Dn=Zt.value,Rs=!1;break;case"!=":case"not-in":Dn=wT}km(bn,Dn)===Dn&&(bn=Dn,vn=Rs)}if(null!==Le.startAt)for(let Zt=0;Zt<Le.orderBy.length;++Zt)if(Le.orderBy[Zt].field.isEqual(Xt.fieldPath)){const Dn=Le.startAt.position[Zt];km(bn,Dn)===Dn&&(bn=Dn,vn=Le.startAt.inclusive);break}if(void 0===bn)return null;ze.push(bn),_t&&(_t=vn)}var ct;return new ou(ze,_t)}(y,p),B=function(Le,Ke){const ze=[];let _t=!0;for(const Xt of lh(Ke)){let bn,vn=!0;for(const Zt of Lm(Le,Xt.fieldPath)){let Dn,Rs=!0;switch(Zt.op){case">=":case">":Dn="nullValue"in(ct=Zt.value)?{booleanValue:!1}:"booleanValue"in ct?{doubleValue:NaN}:"integerValue"in ct||"doubleValue"in ct?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in ct?{stringValue:""}:"stringValue"in ct?{bytesValue:""}:"bytesValue"in ct?pp(ll.empty(),He.empty()):"referenceValue"in ct?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in ct?{arrayValue:{}}:"arrayValue"in ct?{mapValue:{}}:"mapValue"in ct?ET:it(),Rs=!1;break;case"==":case"in":case"<=":Dn=Zt.value;break;case"<":Dn=Zt.value,Rs=!1;break;case"!=":case"not-in":Dn=ET}oD(bn,Dn)===Dn&&(bn=Dn,vn=Rs)}if(null!==Le.endAt)for(let Zt=0;Zt<Le.orderBy.length;++Zt)if(Le.orderBy[Zt].field.isEqual(Xt.fieldPath)){const Dn=Le.endAt.position[Zt];oD(bn,Dn)===Dn&&(bn=Dn,vn=Le.endAt.inclusive);break}if(void 0===bn)return null;ze.push(bn),_t&&(_t=vn)}var ct;return new ou(ze,_t)}(y,p),G=this.je(p,y,F),ne=this.je(p,y,B),be=this.We(p,y,M),Ze=this.ze(p.indexId,A,G,!!F&&F.inclusive,ne,!!B&&B.inclusive,be);return ge.forEach(Ze,Le=>r.Kt(Le,t.limit).next(Ke=>{Ke.forEach(ze=>{c=c.add(new He(au(ze.documentKey)))})}))}).next(()=>c)}return ge.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,i,u,c,p){const y=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=u?u.length:1),b=y/(null!=t?t.length:1),A=[];for(let M=0;M<y;++M){const F=t?this.He(t[M/b]):DD,B=r?this.Je(e,F,r[M%b],i):this.Ye(e),G=u?this.Xe(e,F,u[M%b],c):this.Ye(e+1);A.push(...this.createRange(B,G,p.map(ne=>this.Je(e,F,ne,!0))))}return A}Je(e,t,r,i){const u=new yh(e,He.empty(),t,r);return i?u:u.ke()}Xe(e,t,r,i){const u=new yh(e,He.empty(),t,r);return i?u.ke():u}Ye(e){return new yh(e,He.empty(),DD,DD)}getFieldIndex(e,t){const r=new qk(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{const c=u.filter(p=>r.$e(p));return c.sort((p,y)=>y.fields.length-p.fields.length),c.length>0?c[0]:null})}Ze(e,t){const r=new bD;for(const i of lh(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const c=r.Ne(i.kind);Xm.fe.Zt(u,c)}return r.Se()}He(e){const t=new bD;return Xm.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new bD);let u=0;for(const c of lh(e)){const p=r[u++];for(const y of i)if(this.tn(t,c.fieldPath)&&ah(p))i=this.en(i,c,p);else{const b=y.Ne(c.kind);Xm.fe.Zt(p,b)}}return this.nn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const i=[...e],u=[];for(const c of r.arrayValue.values||[])for(const p of i){const y=new bD;y.seed(p.Se()),Xm.fe.Zt(c,y.Ne(t.kind)),u.push(y)}return u}tn(e,t){return!!e.filters.find(r=>r instanceof Wr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=CD(e),i=ID(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const c=[];return ge.forEach(u,p=>i.get([p.indexId,this.uid]).next(y=>{c.push(function(b,A){const M=A?new mp(A.sequenceNumber,new Or(Ip(A.readTime),new He(au(A.documentKey)),A.largestBatchId)):mp.empty(),F=b.fields.map(([B,G])=>new g0(zr.fromServerFormat(B),G));return new Pm(b.indexId,b.collectionGroup,F,M)}(p,y))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:Wt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=CD(e),u=ID(e);return this.sn(e).next(c=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>ge.forEach(p,y=>{return u.put({indexId:y.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:Cp((F=r).readTime),documentKey:Si(F.documentKey.path),largestBatchId:F.largestBatchId});var F})))}updateIndexEntries(e,t){const r=new Map;return ge.forEach(t,(i,u)=>{const c=r.get(i.collectionGroup);return(c?ge.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),ge.forEach(p,y=>this.rn(e,i,y).next(b=>{const A=this.on(u,y);return b.isEqual(A)?ge.resolve():this.un(e,u,b,A)}))))})}an(e,t,r){return U0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:Si(t.key.path)})}cn(e,t,r){return U0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,Si(t.key.path)])}rn(e,t,r){const i=U0(e);let u=new $n(Tp);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,Si(t.path)])},(c,p)=>{u=u.add(new yh(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>u)}on(e,t){let r=new $n(Tp);const i=this.Ze(t,e);if(null==i)return r;const u=p0(t);if(null!=u){const c=e.data.field(u.fieldPath);if(ah(c))for(const p of c.arrayValue.values||[])r=r.add(new yh(t.indexId,e.key,this.He(p),i))}else r=r.add(new yh(t.indexId,e.key,DD,i));return r}un(e,t,r,i){Me("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(c,p,y,b,A){const M=c.getIterator(),F=p.getIterator();let B=gh(M),G=gh(F);for(;B||G;){let ne=!1,be=!1;if(B&&G){const Ze=y(B,G);Ze<0?be=!0:Ze>0&&(ne=!0)}else null!=B?be=!0:ne=!0;ne?(b(G),G=gh(F)):be?(A(B),B=gh(M)):(B=gh(M),G=gh(F))}}(r,i,Tp,c=>{u.push(this.an(e,t,c))},c=>{u.push(this.cn(e,t,c))}),ge.waitFor(u)}sn(e){let t=1;return ID(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,p)=>Tp(c,p)).filter((c,p,y)=>!p||0!==Tp(c,y[p-1]));const i=[];i.push(e);for(const c of r){const p=Tp(c,e),y=Tp(c,t);if(0===p)i[0]=e.ke();else if(p>0&&y<0)i.push(c),i.push(c.ke());else if(y>0)break}i.push(t);const u=[];for(let c=0;c<i.length;c+=2)u.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,""],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,""]));return u}}function Gx(n){return Ai(n,"collectionParents")}function U0(n){return Ai(n,"indexEntries")}function CD(n){return Ai(n,"indexConfiguration")}function ID(n){return Ai(n,"indexState")}const qx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class lo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new lo(e,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zx(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],c=IDBKeyRange.only(t.batchId);let p=0;const y=r.Wt({range:c},(A,M,F)=>(p++,F.delete()));u.push(y.next(()=>{Ct(1===p)}));const b=[];for(const A of t.mutations){const M=Mx(e,A.key.path,t.batchId);u.push(i.delete(M)),b.push(A.key)}return ge.waitFor(u).next(()=>b)}function TD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw it();e=n.noDocument}return JSON.stringify(e).length}lo.DEFAULT_COLLECTION_PERCENTILE=10,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lo.DEFAULT=new lo(41943040,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lo.DISABLED=new lo(-1,0,0);class KT{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.hn={}}static Yt(e,t,r,i){Ct(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new KT(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _h(e).Wt({index:"userMutationsIndex",range:r},(i,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=ey(e),c=_h(e);return c.add({}).next(p=>{Ct("number"==typeof p);const y=new jT(p,t,r,i),b=function(F,B,G){const ne=G.baseMutations.map(Ze=>Pc(F.Jt,Ze)),be=G.mutations.map(Ze=>Pc(F.Jt,Ze));return{userId:B,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:ne,mutations:be}}(this.M,this.userId,y),A=[];let M=new $n((F,B)=>Wt(F.canonicalString(),B.canonicalString()));for(const F of i){const B=Mx(this.userId,F.key.path,p);M=M.add(F.key.path.popLast()),A.push(c.put(b)),A.push(u.put(B,Ek))}return M.forEach(F=>{A.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.hn[p]=y.keys()}),ge.waitFor(A).next(()=>y)})}lookupMutationBatch(e,t){return _h(e).get(t).next(r=>r?(Ct(r.userId===this.userId),Jm(this.M,r)):null)}ln(e,t){return this.hn[t]?ge.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.hn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return _h(e).Wt({index:"userMutationsIndex",range:i},(c,p,y)=>{p.userId===this.userId&&(Ct(p.batchId>=r),u=Jm(this.M,p)),y.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return _h(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,u,c)=>{r=u.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _h(e).qt("userMutationsIndex",t).next(r=>r.map(i=>Jm(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=vD(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return ey(e).Wt({range:i},(c,p,y)=>{const[b,A,M]=c,F=au(A);if(b===this.userId&&t.path.isEqual(F))return _h(e).get(M).next(B=>{if(!B)throw it();Ct(B.userId===this.userId),u.push(Jm(this.M,B))});y.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $n(Wt);const i=[];return t.forEach(u=>{const c=vD(this.userId,u.path),p=IDBKeyRange.lowerBound(c),y=ey(e).Wt({range:p},(b,A,M)=>{const[F,B,G]=b,ne=au(B);F===this.userId&&u.path.isEqual(ne)?r=r.add(G):M.done()});i.push(y)}),ge.waitFor(i).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=vD(this.userId,r),c=IDBKeyRange.lowerBound(u);let p=new $n(Wt);return ey(e).Wt({range:c},(y,b,A)=>{const[M,F,B]=y,G=au(F);M===this.userId&&r.isPrefixOf(G)?G.length===i&&(p=p.add(B)):A.done()}).next(()=>this.fn(e,p))}fn(e,t){const r=[],i=[];return t.forEach(u=>{i.push(_h(e).get(u).next(c=>{if(null===c)throw it();Ct(c.userId===this.userId),r.push(Jm(this.M,c))}))}),ge.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return zx(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),ge.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ge.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return ey(e).Wt({range:r},(u,c,p)=>{if(u[0]===this.userId){const y=au(u[1]);i.push(y)}else p.done()}).next(()=>{Ct(0===i.length)})})}containsKey(e,t){return Wx(e,this.userId,t)}_n(e){return Kx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Wx(n,e,t){const r=vD(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return ey(n).Wt({range:u,jt:!0},(p,y,b)=>{const[A,M,F]=p;A===e&&M===i&&(c=!0),b.done()}).next(()=>c)}function _h(n){return Ai(n,"mutations")}function ey(n){return Ai(n,"documentMutations")}function Kx(n){return Ai(n,"mutationQueues")}class Sp{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Sp(0)}static gn(){return new Sp(-1)}}class Kk{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new Sp(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>Tt.fromTimestamp(new vr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.pn(e,i)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ty(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Ct(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return ty(e).Wt((c,p)=>{const y=V0(p);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,u.push(this.removeTargetData(e,y)))}).next(()=>ge.waitFor(u)).next(()=>i)}forEachTarget(e,t){return ty(e).Wt((r,i)=>{const u=V0(i);t(u)})}yn(e){return Zx(e).get("targetGlobalKey").next(t=>(Ct(null!==t),t))}pn(e,t){return Zx(e).put("targetGlobalKey",t)}In(e,t){return ty(e).put(Vx(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ac(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return ty(e).Wt({range:i,index:"queryTargetsIndex"},(c,p,y)=>{const b=V0(p);ch(t,b.target)&&(u=b,y.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=vh(e);return t.forEach(c=>{const p=Si(c.path);i.push(u.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,c))}),ge.waitFor(i)}removeMatchingKeys(e,t,r){const i=vh(e);return ge.forEach(t,u=>{const c=Si(u.path);return ge.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=vh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=vh(e);let u=_n();return i.Wt({range:r,jt:!0},(c,p,y)=>{const b=au(c[1]),A=new He(b);u=u.add(A)}).next(()=>u)}containsKey(e,t){const r=Si(t.path),i=IDBKeyRange.bound([r],[Am(r)],!1,!0);let u=0;return vh(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([c,p],y,b)=>{0!==c&&(u++,b.done())}).next(()=>u>0)}Et(e,t){return ty(e).get(t).next(r=>r?V0(r):null)}}function ty(n){return Ai(n,"targets")}function Zx(n){return Ai(n,"targetGlobal")}function vh(n){return Ai(n,"targetDocuments")}function Ap(n){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,_e.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==Nx)throw n;Me("LocalStore","Unexpectedly lost primary lease")}),ZT.apply(this,arguments)}function Yx([n,e],[t,r]){const i=Wt(n,t);return 0===i?Wt(e,r):i}class Zk{constructor(e){this.En=e,this.buffer=new $n(Yx),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Yx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Yk{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Me("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,_e.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){bp(i)?Me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ap(i)}yield t.vn(e)}))}}class Qk{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ge.resolve(os.A);const r=new Zk(t);return this.Sn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Sn.Cn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(qx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qx):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,i,u,c,p,y,b;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,c=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,p=Date.now(),this.removeTargets(e,r,t))).next(M=>(u=M,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(b=Date.now(),Im()<=eu.in.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-A}ms\n\tDetermined least recently used ${i} in `+(p-c)+`ms\n\tRemoved ${u} targets in `+(y-p)+`ms\n\tRemoved ${M} documents in `+(b-y)+`ms\nTotal Duration: ${b-A}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:M})))}}class Jk{constructor(e,t){this.db=e,this.garbageCollector=new Qk(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,i)=>t(i))}addReference(e,t,r){return SD(e,r)}removeReference(e,t,r){return SD(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return SD(e,t)}Mn(e,t){return function(r,i){let u=!1;return Kx(r).zt(c=>Wx(r,c,i).next(p=>(p&&(u=!0),ge.resolve(!p)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.kn(e,(c,p)=>{if(p<=t){const y=this.Mn(e,c).next(b=>{if(!b)return u++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Tt.min()),vh(e).delete([0,Si(c.path)])))});i.push(y)}}).next(()=>ge.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return SD(e,t)}kn(e,t){const r=vh(e);let i,u=os.A;return r.Wt({index:"documentTargetsIndex"},([c,p],{path:y,sequenceNumber:b})=>{0===c?(u!==os.A&&t(new He(au(i)),u),u=b,i=y):u=os.A}).next(()=>{u!==os.A&&t(new He(au(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function SD(n,e){return vh(n).put((r=n.currentSequenceNumber,{targetId:0,path:Si(e.path),sequenceNumber:r}));var r}class Qx{constructor(){this.changes=new Ta(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xk{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Mp(e).put(r)}removeEntry(e,t,r){return Mp(e).delete(function(i,u){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],wD(u),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=jn.newInvalidDocument(t);return Mp(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(j0(t))},(i,u)=>{r=this.Fn(t,u)}).next(()=>r)}$n(e,t){let r={size:0,document:jn.newInvalidDocument(t)};return Mp(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(j0(t))},(i,u)=>{r={document:this.Fn(t,u),size:TD(u)}}).next(()=>r)}getEntries(e,t){let r=Ho();return this.Bn(e,t,(i,u)=>{const c=this.Fn(i,u);r=r.insert(i,c)}).next(()=>r)}Ln(e,t){let r=Ho(),i=new lr(He.comparator);return this.Bn(e,t,(u,c)=>{const p=this.Fn(u,c);r=r.insert(u,p),i=i.insert(u,TD(c))}).next(()=>({documents:r,Un:i}))}Bn(e,t,r){if(t.isEmpty())return ge.resolve();let i=new $n(eR);t.forEach(y=>i=i.add(y));const u=IDBKeyRange.bound(j0(i.first()),j0(i.last())),c=i.getIterator();let p=c.getNext();return Mp(e).Wt({index:"documentKeyIndex",range:u},(y,b,A)=>{const M=He.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;p&&eR(p,M)<0;)r(p,null),p=c.getNext();p&&p.isEqual(M)&&(r(p,b),p=c.hasNext()?c.getNext():null),p?A.Ut(j0(p)):A.done()}).next(()=>{for(;p;)r(p,null),p=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),wD(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Mp(e).qt(IDBKeyRange.bound(i,u,!0)).next(c=>{let p=Ho();for(const y of c){const b=this.Fn(He.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);p=p.insert(b.key,b)}return p})}getAllFromCollectionGroup(e,t,r,i){let u=Ho();const c=Xx(t,r),p=Xx(t,Or.max());return Mp(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(y,b,A)=>{const M=this.Fn(He.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);u=u.insert(M.key,M),u.size===i&&A.done()}).next(()=>u)}newChangeBuffer(e){return new eP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Jx(e).get("remoteDocumentGlobalKey").next(t=>(Ct(!!t),t))}On(e,t){return Jx(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function Bk(n,e){let t;if(e.document)t=zm(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=He.fromSegments(e.noDocument.path),i=Ip(e.noDocument.readTime);t=jn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return it();{const r=He.fromSegments(e.unknownDocument.path),i=Ip(e.unknownDocument.version);t=jn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new vr(r[0],r[1]);return Tt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Tt.min()))return r}return jn.newInvalidDocument(e)}}class eP extends Qx{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new Ta(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new $n((u,c)=>Wt(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const p=this.Gn.get(u);if(t.push(this.qn.removeEntry(e,u,p.readTime)),c.isValidDocument()){const y=Lx(this.qn.M,c);i=i.add(u.path.popLast()),r+=TD(y)-p.size,t.push(this.qn.addEntry(e,u,y))}else if(r-=p.size,this.trackRemovals){const y=Lx(this.qn.M,c.convertToNoDocument(Tt.min()));t.push(this.qn.addEntry(e,u,y))}}),i.forEach(u=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.qn.updateMetadata(e,r)),ge.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:i})=>(i.forEach((u,c)=>{this.Gn.set(u,{size:c,readTime:r.get(u).readTime})}),r))}}function Jx(n){return Ai(n,"remoteDocumentGlobal")}function Mp(n){return Ai(n,"remoteDocumentsV14")}function j0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Xx(n,e){const t=e.documentKey.path.toArray();return[n,wD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function eR(n,e){const t=n.path.length-e.path.length;return 0!==t?t:He.comparator(n,e)}class tP{constructor(e){this.M=e}kt(e,t,r,i){const u=new ED("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ax,{unique:!0}),p.createObjectStore("documentMutations"),tR(e),function(p){p.createObjectStore("remoteDocuments")}(e));let c=ge.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),tR(e)),c=c.next(()=>function(p){const y=p.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",b)}(u))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(p,y){return y.store("mutations").qt().next(b=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ax,{unique:!0});const A=y.store("mutations"),M=b.map(F=>A.put(F));return ge.waitFor(M)})}(e,u))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Kn(u))),r<6&&i>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(u)))),r<7&&i>=7&&(c=c.next(()=>this.jn(u))),r<8&&i>=8&&(c=c.next(()=>this.Wn(e,u))),r<9&&i>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.zn(u))),r<11&&i>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:Nk});y.createIndex("collectionPathOverlayIndex",Ok,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",kk,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:wk});y.createIndex("documentKeyIndex",bk),y.createIndex("collectionGroupIndex",Dk)}(e)).next(()=>this.Hn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>{!function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:Ak}).createIndex("sequenceNumberIndex",Mk,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:xk}).createIndex("documentKeyIndex",Rk,{unique:!1})}(e)})),c}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=TD(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>ge.forEach(i,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",c).next(p=>ge.forEach(p,y=>{Ct(y.userId===u.userId);const b=Jm(this.M,y);return zx(e,u.userId,b).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Wt((c,p)=>{const y=new Jt(c),b=[0,Si(y)];u.push(t.get(b).next(A=>A?ge.resolve():t.put({targetId:0,path:Si(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ge.waitFor(u))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:Sk});const r=t.store("collectionParents"),i=new WT,u=c=>{if(i.add(c)){const p=c.lastSegment(),y=c.popLast();return r.put({collectionId:p,parent:Si(y)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,p)=>{const y=new Jt(c);return u(y.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,p,y],b)=>{const A=au(p);return u(A.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,i)=>{const u=V0(i),c=Vx(this.M,u);return t.put(c)})}Hn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((u,c)=>{const p=t.store("remoteDocumentsV14"),y=(b=c,b.document?new He(Jt.fromString(b.document.name).popFirst(5)):b.noDocument?He.fromSegments(b.noDocument.path):b.unknownDocument?He.fromSegments(b.unknownDocument.path):it()).path.toArray();var b;const A={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(p.put(A))}).next(()=>ge.waitFor(i))}}function tR(n){n.createObjectStore("targetDocuments",{keyPath:Ik}).createIndex("documentTargetsIndex",Tk,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ck,{unique:!0}),n.createObjectStore("targetGlobal")}const YT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class QT{constructor(e,t,r,i,u,c,p,y,b,A,M=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=u,this.window=c,this.document=p,this.Yn=b,this.Xn=A,this.Zn=M,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=F=>Promise.resolve(),!QT.vt())throw new Ne(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jk(this,i),this.cs=t+"main",this.M=new Fx(y),this.hs=new uu(this.cs,this.Zn,new tP(this.M)),this.ls=new Kk(this.referenceDelegate,this.M),this.fs=new Xk(this.M),this.ds=new Uk,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===A&&Nn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(ce.FAILED_PRECONDITION,YT);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new os(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,_e.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,_e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>AD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(bp(e))return Me("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return $0(e).get("owner").next(t=>ge.resolve(this.bs(t)))}Ps(e){return AD(e).delete(this.clientId)}Vs(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ai(r,"clientMetadata");return i.qt().next(u=>{const c=e.Ss(u,18e5),p=u.filter(y=>-1===c.indexOf(y));return ge.forEach(p,y=>i.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?ge.resolve(!0):$0(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Ne(ce.FAILED_PRECONDITION,YT);return!1}}return!(!this.networkEnabled||!this.inForeground)||AD(e).qt().next(r=>void 0===this.Ss(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Me("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Px(t,os.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>AD(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return KT.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new Wk(e)}getDocumentOverlayCache(e){return zT.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Me("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=14===(c=this.Zn)?Fk:13===c?Rx:12===c?Pk:11===c?xx:void it();var c;let p;return this.hs.runTransaction(e,i,u,y=>(p=new Px(y,this.ts?this.ts.next():os.A),"readwrite-primary"===t?this.Ts(p).next(b=>!!b||this.Es(p)).next(b=>{if(!b)throw Nn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Ne(ce.FAILED_PRECONDITION,Nx);return r(p)}).next(b=>this.Rs(p).next(()=>b)):this.Fs(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}Fs(e){return $0(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(ce.FAILED_PRECONDITION,YT)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $0(e).put("owner",t)}static vt(){return uu.vt()}As(e){const t=$0(e);return t.get("owner").next(r=>this.bs(r)?(Me("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ge.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(Nn(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,Ht.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Me("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Nn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){Nn("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $0(n){return Ai(n,"owner")}function AD(n){return Ai(n,"clientMetadata")}function JT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class nP{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(i=>{for(const u of r)u.applyToLocalView(i);return i})}Us(e,t){e.forEach((r,i)=>{for(const u of t)u.applyToLocalView(i)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return He.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Qs(e,t.path):vp(t)?this.js(e,t,r):this.Ws(e,t,r);var i}Qs(e,t){return this.Bs(e,new He(t)).next(r=>{let i=_D();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}js(e,t,r){const i=t.collectionGroup;let u=_D();return this.indexManager.getCollectionParents(e,i).next(c=>ge.forEach(c,p=>{const y=(b=t,A=p.child(i),new cl(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,A;return this.Ws(e,y,r).next(b=>{b.forEach((A,M)=>{u=u.insert(A,M)})})}).next(()=>u))}Ws(e,t,r){let i;return this.fs.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const c of u)for(const p of c.mutations){const y=p.key;let b=i.get(y);null==b&&(b=jn.newInvalidDocument(y),i=i.insert(y,b)),gD(p,b,c.localWriteTime),b.isFoundDocument()||(i=i.remove(y))}}).next(()=>(i.forEach((u,c)=>{dD(t,c)||(i=i.remove(u))}),i))}}class XT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=i}static Js(e,t){let r=_n(),i=_n();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new XT(e,t.fromCache,r,i)}}class nR{Ys(e){this.Xs=e}Ks(e,t,r,i){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(Tt.min())?this.Zs(e,t):this.Xs.qs(e,i).next(u=>{const c=this.ti(t,u);return(Bm(t)||Um(t))&&this.ei(t.limitType,c,i,r)?this.Zs(e,t):(Im()<=eu.in.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),w0(t)),this.Xs.Ks(e,t,Fm(r,-1)).next(p=>(c.forEach(y=>{p=p.insert(y.key,y)}),p)))});var u}ti(e,t){let r=new $n(b0(e));return t.forEach((i,u)=>{dD(e,u)&&(r=r.add(u))}),r}ei(e,t,r,i){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Zs(e,t){return Im()<=eu.in.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",w0(t)),this.Xs.Ks(e,t,Or.min())}}class rP{constructor(e,t,r,i){this.persistence=e,this.ni=t,this.M=i,this.si=new lr(Wt),this.ii=new Ta(u=>Ac(u),ch),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new nP(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function rR(n,e,t,r){return new rP(n,e,t,r)}function iR(n,e){return eS.apply(this,arguments)}function eS(){return eS=(0,_e.Z)(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.$s.getAllMutationBatches(r).next(u=>(i=u,t.ui(e),t.$s.getAllMutationBatches(r))).next(u=>{const c=[],p=[];let y=_n();for(const b of i){c.push(b.batchId);for(const A of b.mutations)y=y.add(A.key)}for(const b of u){p.push(b.batchId);for(const A of b.mutations)y=y.add(A.key)}return t.ai.qs(r,y).next(b=>({ci:b,removedBatchIds:c,addedBatchIds:p}))})})}),eS.apply(this,arguments)}function iP(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.oi.newChangeBuffer({trackRemovals:!0});return function(c,p,y,b){const A=y.batch,M=A.keys();let F=ge.resolve();return M.forEach(B=>{F=F.next(()=>b.getEntry(p,B)).next(G=>{const ne=y.docVersions.get(B);Ct(null!==ne),G.version.compareTo(ne)<0&&(A.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),b.addEntry(G)))})}),F.next(()=>c.$s.removeMutationBatch(p,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,i))})}function sR(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function sP(n,e){const t=qe(n),r=e.snapshotVersion;let i=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.oi.newChangeBuffer({trackRemovals:!0});i=t.si;const p=[];e.targetChanges.forEach((b,A)=>{const M=i.get(A);if(!M)return;p.push(t.ls.removeMatchingKeys(u,b.removedDocuments,A).next(()=>t.ls.addMatchingKeys(u,b.addedDocuments,A)));let F=M.withSequenceNumber(u.currentSequenceNumber);var B,G,ne;e.targetMismatches.has(A)?F=F.withResumeToken(Nr.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,r)),i=i.insert(A,F),G=F,ne=b,(0===(B=M).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0)&&p.push(t.ls.updateTargetData(u,F))});let y=Ho();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,b))}),p.push(oR(u,c,e.documentUpdates).next(b=>{y=b})),!r.isEqual(Tt.min())){const b=t.ls.getLastRemoteSnapshotVersion(u).next(A=>t.ls.setTargetsMetadata(u,u.currentSequenceNumber,r));p.push(b)}return ge.waitFor(p).next(()=>c.apply(u)).next(()=>t.ai.Gs(u,y)).next(()=>y)}).then(u=>(t.si=i,u))}function oR(n,e,t){let r=_n();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let u=Ho();return t.forEach((c,p)=>{const y=i.get(c);p.isNoDocument()&&p.version.isEqual(Tt.min())?(e.removeEntry(c,p.readTime),u=u.insert(c,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(c,p)):Me("LocalStore","Ignoring outdated watch update for ",c,". Current version:",y.version," Watch version:",p.version)}),u})}function oP(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function ny(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ls.getTargetData(r,e).next(u=>u?(i=u,ge.resolve(i)):t.ls.allocateTargetId(r).next(c=>(i=new mh(e,c,0,r.currentSequenceNumber),t.ls.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.si.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function ry(n,e,t){return tS.apply(this,arguments)}function tS(){return tS=(0,_e.Z)(function*(n,e,t){const r=qe(n),i=r.si.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!bp(c))throw c;Me("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.si=r.si.remove(e),r.ii.delete(i.target)}),tS.apply(this,arguments)}function MD(n,e,t){const r=qe(n);let i=Tt.min(),u=_n();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,y,b){const A=qe(p),M=A.ii.get(b);return void 0!==M?ge.resolve(A.si.get(M)):A.ls.getTargetData(y,b)}(r,c,ao(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(c,p.targetId).next(y=>{u=y})}).next(()=>r.ni.Ks(c,e,t?i:Tt.min(),t?u:_n())).next(p=>(lR(r,xT(e),p),{documents:p,hi:u})))}function aR(n,e){const t=qe(n),r=qe(t.ls),i=t.si.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(c=>c?c.target:null))}function uR(n,e){const t=qe(n),r=t.ri.get(e)||Tt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.oi.getAllFromCollectionGroup(i,e,Fm(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(lR(t,e,i),i))}function lR(n,e,t){let r=Tt.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.ri.set(e,r)}function nS(){return nS=(0,_e.Z)(function*(n,e,t,r){const i=qe(n);let u=_n(),c=Ho();for(const b of t){const A=e.li(b.metadata.name);b.document&&(u=u.add(A));const M=e.fi(b);M.setReadTime(e.di(b.metadata.readTime)),c=c.insert(A,M)}const p=i.oi.newChangeBuffer({trackRemovals:!0}),y=yield ny(i,(b=r,ao(Mc(Jt.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>oR(b,p,c).next(A=>(p.apply(b),A)).next(A=>i.ls.removeMatchingKeysForTargetId(b,y.targetId).next(()=>i.ls.addMatchingKeys(b,u,y.targetId)).next(()=>i.ai.Gs(b,A)).next(()=>A)))}),nS.apply(this,arguments)}function uP(n,e){return rS.apply(this,arguments)}function rS(){return rS=(0,_e.Z)(function*(n,e,t=_n()){const r=yield ny(n,ao(GT(e.bundledQuery))),i=qe(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const c=oe(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.ds.saveNamedQuery(u,e);const p=r.withResumeToken(Nr.EMPTY_BYTE_STRING,c);return i.si=i.si.insert(p.targetId,p),i.ls.updateTargetData(u,p).next(()=>i.ls.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.ls.addMatchingKeys(u,t,r.targetId)).next(()=>i.ds.saveNamedQuery(u,e))})}),rS.apply(this,arguments)}class lP{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return ge.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:oe(r.createTime)}),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:GT(r.bundledQuery),readTime:oe(r.readTime)}),ge.resolve();var r}}class cP{constructor(){this.overlays=new lr(He.comparator),this.mi=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.Xt(e,t,u)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.mi.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.mi.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const i=Gm(),u=t.length+1,c=new He(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const y=p.getNext().value,b=y.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&y.largestBatchId>r&&i.set(y.getKey(),y)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new lr((b,A)=>b-A);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let A=u.get(b.largestBatchId);null===A&&(A=Gm(),u=u.insert(b.largestBatchId,A)),A.set(b.getKey(),b)}}const p=Gm(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((b,A)=>p.set(b,A)),!(p.size()>=i)););return ge.resolve(p)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const c=this.mi.get(i.largestBatchId).delete(r.key);this.mi.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new HT(t,r));let u=this.mi.get(t);void 0===u&&(u=_n(),this.mi.set(t,u)),this.mi.set(t,u.add(r.key))}}class iS{constructor(){this.gi=new $n(Mi.yi),this.pi=new $n(Mi.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new Mi(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new Mi(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new He(new Jt([])),r=new Mi(t,e),i=new Mi(t,e+1),u=[];return this.pi.forEachInRange([r,i],c=>{this.Ei(c),u.push(c.key)}),u}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new He(new Jt([])),r=new Mi(t,e),i=new Mi(t,e+1);let u=_n();return this.pi.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new Mi(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Mi{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return He.comparator(e.key,t.key)||Wt(e.Vi,t.Vi)}static Ii(e,t){return Wt(e.Vi,t.Vi)||He.comparator(e.key,t.key)}}class dP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new $n(Mi.yi)}checkEmpty(e){return ge.resolve(0===this.$s.length)}addMutationBatch(e,t,r,i){const u=this.vi;this.vi++;const c=new jT(u,t,r,i);this.$s.push(c);for(const p of i)this.Si=this.Si.add(new Mi(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ge.resolve(c)}lookupMutationBatch(e,t){return ge.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ci(t+1),u=i<0?0:i;return ge.resolve(this.$s.length>u?this.$s[u]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return ge.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Mi(t,0),i=new Mi(t,Number.POSITIVE_INFINITY),u=[];return this.Si.forEachInRange([r,i],c=>{const p=this.Di(c.Vi);u.push(p)}),ge.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $n(Wt);return t.forEach(i=>{const u=new Mi(i,0),c=new Mi(i,Number.POSITIVE_INFINITY);this.Si.forEachInRange([u,c],p=>{r=r.add(p.Vi)})}),ge.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;He.isDocumentKey(u)||(u=u.child(""));const c=new Mi(new He(u),0);let p=new $n(Wt);return this.Si.forEachWhile(y=>{const b=y.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(p=p.add(y.Vi)),!0)},c),ge.resolve(this.xi(p))}xi(e){const t=[];return e.forEach(r=>{const i=this.Di(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ct(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return ge.forEach(t.mutations,i=>{const u=new Mi(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new Mi(t,0),i=this.Si.firstAfterOrEqual(r);return ge.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ge.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class hP{constructor(e){this.ki=e,this.docs=new lr(He.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(t))}getEntries(e,t){let r=Ho();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():jn.newInvalidDocument(i))}),ge.resolve(r)}getAllFromCollection(e,t,r){let i=Ho();const u=new He(t.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:p,value:{document:y}}=c.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||CT(DT(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return ge.resolve(i)}getAllFromCollectionGroup(e,t,r,i){it()}Mi(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fP(this)}getSize(e){return ge.resolve(this.size)}}class fP extends Qx{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.qn.addEntry(e,i)):this.qn.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class pP{constructor(e){this.persistence=e,this.Oi=new Ta(t=>Ac(t),ch),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new iS,this.targetCount=0,this.Bi=Sp.mn()}forEachTarget(e,t){return this.Oi.forEach((r,i)=>t(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),ge.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Sp(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.In(t),ge.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Oi.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Oi.delete(c),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),ge.waitFor(u).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),ge.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.$i.containsKey(t))}}class gP{constructor(e,t){this.Li={},this.overlays={},this.ts=new os(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new pP(this),this.indexManager=new zk,this.fs=new hP(r=>this.referenceDelegate.Ui(r)),this.M=new Fx(t),this.ds=new lP(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new dP(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Me("MemoryPersistence","Starting transaction:",e);const i=new mP(this.ts.next());return this.referenceDelegate.qi(),r(i).next(u=>this.referenceDelegate.Gi(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ki(e,t){return ge.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class mP extends Ox{constructor(e){super(),this.currentSequenceNumber=e}}class sS{constructor(e){this.persistence=e,this.Qi=new iS,this.ji=null}static Wi(e){return new sS(e)}get zi(){if(this.ji)return this.ji;throw it()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),ge.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(i=>this.zi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.zi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.zi,r=>{const i=He.fromPath(r);return this.Hi(e,i).next(u=>{u||t.removeEntry(i,Tt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return ge.or([()=>ge.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function cR(n,e){return`firestore_clients_${n}_${e}`}function dR(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function oS(n,e){return`firestore_targets_${n}_${e}`}class xD{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let u,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(u=new Ne(i.error.code,i.error.message))),c?new xD(e,t,i.state,u):(Nn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class H0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Ne(r.error.code,r.error.message))),u?new H0(e,r.state,i):(Nn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class RD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=O0();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=vT(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return i?new RD(e,u):(Nn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class aS{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new aS(t.clientId,t.onlineState):(Nn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class uS{constructor(){this.activeTargetIds=O0()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lS{constructor(e,t,r,i,u){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new lr(Wt),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.rr=cR(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new uS),this.ar=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.Os();for(const i of t){if(i===e.tr)continue;const u=e.getItem(cR(e.persistenceKey,i));if(u){const c=RD.Ji(i,u);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(oS(this.persistenceKey,e));if(r){const i=H0.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(oS(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Me("SharedClientState","READ",e,t),t}setItem(e,t){Me("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Me("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Me("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void Nn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const i=t.Vr(r.key,r.newValue);if(i)return t.vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(u){let c=os.A;if(null!=u)try{const p=JSON.parse(u);Ct("number"==typeof p),c=p}catch(p){Nn("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(r.newValue);i!==os.A&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Nr(u)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new xD(this.currentUser,e,t,r),u=dR(this.persistenceKey,this.currentUser,e);this.setItem(u,i.Yi())}pr(e){const t=dR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=oS(this.persistenceKey,e),u=new H0(e,t,r);this.setItem(i,u.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return RD.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),i=Number(r[1]);return xD.Ji(new Gr(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return H0.Ji(i,t)}wr(e){return aS.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Me("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),u=this.gr(r),c=[],p=[];return u.forEach(y=>{i.has(y)||c.push(y)}),i.forEach(y=>{u.has(y)||p.push(y)}),this.syncEngine.Or(c,p).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=O0();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class hR{constructor(){this.Fr=new uS,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new uS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yP{Br(e){}shutdown(){}}class fR{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _P={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vP{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class EP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,u){const c=this.oo(e,t);Me("RestConnection","Sending: ",c,r);const p={};return this.uo(p,i,u),this.ao(e,c,p,r).then(y=>(Me("RestConnection","Received: ",y),y),y=>{throw hp("RestConnection",`${e} failed with error: `,y,"url: ",c,"request:",r),y})}co(e,t,r,i,u){return this.ro(e,t,r,i,u)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Tc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}oo(e,t){return`${this.so}/v1/${t}:${_P[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,i){return new Promise((u,c)=>{const p=new zb;p.listenOnce(qb.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case t0.NO_ERROR:const b=p.getResponseJson();Me("Connection","XHR received:",JSON.stringify(b)),u(b);break;case t0.TIMEOUT:Me("Connection",'RPC "'+e+'" timed out'),c(new Ne(ce.DEADLINE_EXCEEDED,"Request time out"));break;case t0.HTTP_ERROR:const A=p.getStatus();if(Me("Connection",'RPC "'+e+'" failed with status:',A,"response text:",p.getResponseText()),A>0){const M=p.getResponseJson().error;if(M&&M.status&&M.message){const F=function(B){const G=B.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(G)>=0?G:ce.UNKNOWN}(M.status);c(new Ne(F,M.message))}else c(new Ne(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Ne(ce.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Me("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);p.send(t,"POST",y,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=pT(),c=gT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new mT({})),this.uo(p.initMessageHeaders,t,r),(0,Ht.uI)()||(0,Ht.b$)()||(0,Ht.d)()||(0,Ht.w1)()||(0,Ht.Mn)()||(0,Ht.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const y=i.join("");Me("Connection","Creating WebChannel: "+y,p);const b=u.createWebChannel(y,p);let A=!1,M=!1;const F=new vP({jr:G=>{M?Me("Connection","Not sending because WebChannel is closed:",G):(A||(Me("Connection","Opening WebChannel transport."),b.open(),A=!0),Me("Connection","WebChannel sending:",G),b.send(G))},Wr:()=>b.close()}),B=(G,ne,be)=>{G.listen(ne,Ze=>{try{be(Ze)}catch(Le){setTimeout(()=>{throw Le},0)}})};return B(b,dp.EventType.OPEN,()=>{M||Me("Connection","WebChannel transport opened.")}),B(b,dp.EventType.CLOSE,()=>{M||(M=!0,Me("Connection","WebChannel transport closed"),F.eo())}),B(b,dp.EventType.ERROR,G=>{M||(M=!0,hp("Connection","WebChannel transport errored:",G),F.eo(new Ne(ce.UNAVAILABLE,"The operation could not be completed")))}),B(b,dp.EventType.MESSAGE,G=>{var ne;if(!M){const be=G.data[0];Ct(!!be);const Ze=be,Le=Ze.error||(null===(ne=Ze[0])||void 0===ne?void 0:ne.error);if(Le){Me("Connection","WebChannel received error:",Le);const Ke=Le.status;let ze=function(ct){const Xt=ur[ct];if(void 0!==Xt)return N0(Xt)}(Ke),_t=Le.message;void 0===ze&&(ze=ce.INTERNAL,_t="Unknown error status: "+Ke+" with message "+Le.message),M=!0,F.eo(new Ne(ze,_t)),b.close()}else Me("Connection","WebChannel received:",be),F.no(be)}}),B(c,n0.STAT_EVENT,G=>{G.stat===r0.PROXY?Me("Connection","Detected buffering proxy"):G.stat===r0.NOPROXY&&Me("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.Zr()},0),F}}function pR(){return"undefined"!=typeof window?window:null}function ND(){return"undefined"!=typeof document?document:null}function G0(n){return new x(n,!0)}class cS{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=i,this._o=u,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class gR{constructor(e,t,r,i,u,c,p,y){this.Jn=e,this.Ao=r,this.Ro=i,this.bo=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new cS(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,_e.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,_e.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Nn(t.toString()),Nn("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Ne(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,_e.Z)(function*(){e.state=0,e.start()}))}qo(e){return Me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wP extends gR{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.M=u}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function P0(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:it(),i=e.targetChange.targetIds||[],u=function(y,b){return y.N?(Ct(void 0===b||"string"==typeof b),Nr.fromBase64String(b||"")):(Ct(void 0===b||b instanceof Uint8Array),Nr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(y){const b=void 0===y.code?ce.UNKNOWN:N0(y.code);return new Ne(b,y.message||"")}(c);t=new l(r,i,u,p||null)}else if("documentChange"in e){const r=e.documentChange,i=Ee(n,r.document.name),u=oe(r.document.updateTime),c=new qi({mapValue:{fields:r.document.fields}}),p=jn.newFoundDocument(i,u,c);t=new o(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=Ee(n,r.document),u=r.readTime?oe(r.readTime):Tt.min(),c=jn.newNoDocument(i,u);t=new o([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Ee(n,r.document);t=new o([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return it();{const r=e.filter,u=new PT(r.count||0);t=new a(r.targetId,u)}}var y;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Tt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?Tt.min():u.readTime?oe(u.readTime):Tt.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=nn(this.M),t.addTarget=function(i,u){let c;const p=u.target;return c=yp(p)?{documents:Wm(i,p)}:{query:Km(i,p)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=U(i,u.resumeToken):u.snapshotVersion.compareTo(Tt.min())>0&&(c.readTime=k(i,u.snapshotVersion.toTimestamp())),c}(this.M,e);const r=function fk(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return it()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=nn(this.M),t.removeTarget=e,this.Oo(t)}}class bP extends gR{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.M=u,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function F0(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(r,i){let u=oe(r.updateTime?r.updateTime:i);return u.isEqual(Tt.min())&&(u=oe(i)),new T0(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=oe(e.commitTime);return this.listener.Jo(r,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=nn(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Pc(this.M,r))};this.Oo(t)}}class DP extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.Zo=!1}tu(){if(this.Zo)throw new Ne(ce.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.bo.ro(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(ce.UNKNOWN,i.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.bo.co(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(ce.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class CP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Nn(t),this.su=!1):Me("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class IP{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=u,this.du.Br(p=>{r.enqueueAndForget((0,_e.Z)(function*(){var y;Eh(c)&&(Me("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,_e.Z)(function*(b){const A=qe(b);A.lu.add(4),yield iy(A),A._u.set("Unknown"),A.lu.delete(4),yield q0(A)}),function(b){return y.apply(this,arguments)})(c))}))}),this._u=new CP(r,i)}}function q0(n){return dS.apply(this,arguments)}function dS(){return dS=(0,_e.Z)(function*(n){if(Eh(n))for(const e of n.fu)yield e(!0)}),dS.apply(this,arguments)}function iy(n){return hS.apply(this,arguments)}function hS(){return hS=(0,_e.Z)(function*(n){for(const e of n.fu)yield e(!1)}),hS.apply(this,arguments)}function OD(n,e){const t=qe(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),gS(t)?pS(t):oy(t).Co()&&fS(t,e))}function z0(n,e){const t=qe(n),r=oy(t);t.hu.delete(e),r.Co()&&mR(t,e),0===t.hu.size&&(r.Co()?r.ko():Eh(t)&&t._u.set("Unknown"))}function fS(n,e){n.wu.Z(e.targetId),oy(n).Qo(e)}function mR(n,e){n.wu.Z(e),oy(n).jo(e)}function pS(n){n.wu=new g({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),oy(n).start(),n._u.iu()}function gS(n){return Eh(n)&&!oy(n).Do()&&n.hu.size>0}function Eh(n){return 0===qe(n).lu.size}function yR(n){n.wu=void 0}function TP(n){return mS.apply(this,arguments)}function mS(){return mS=(0,_e.Z)(function*(n){n.hu.forEach((e,t)=>{fS(n,e)})}),mS.apply(this,arguments)}function SP(n,e){return yS.apply(this,arguments)}function yS(){return yS=(0,_e.Z)(function*(n,e){yR(n),gS(n)?(n._u.uu(e),pS(n)):n._u.set("Unknown")}),yS.apply(this,arguments)}function AP(n,e,t){return _S.apply(this,arguments)}function _S(){return _S=(0,_e.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof l&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(i,u){const c=u.cause;for(const p of u.targetIds)i.hu.has(p)&&(yield i.remoteSyncer.rejectListen(p,c),i.hu.delete(p),i.wu.removeTarget(p))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield kD(n,r)}else if(e instanceof o?n.wu.ut(e):e instanceof a?n.wu._t(e):n.wu.ht(e),!t.isEqual(Tt.min()))try{const r=yield sR(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const c=i.wu.yt(u);return c.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=i.hu.get(y);b&&i.hu.set(y,b.withResumeToken(p.resumeToken,u))}}),c.targetMismatches.forEach(p=>{const y=i.hu.get(p);if(!y)return;i.hu.set(p,y.withResumeToken(Nr.EMPTY_BYTE_STRING,y.snapshotVersion)),mR(i,p);const b=new mh(y.target,p,1,y.sequenceNumber);fS(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Me("RemoteStore","Failed to raise snapshot:",r),yield kD(n,r)}var r}),_S.apply(this,arguments)}function kD(n,e,t){return vS.apply(this,arguments)}function vS(){return vS=(0,_e.Z)(function*(n,e,t){if(!bp(e))throw e;n.lu.add(1),yield iy(n),n._u.set("Offline"),t||(t=()=>sR(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Me("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield q0(n)}))}),vS.apply(this,arguments)}function _R(n,e){return e().catch(t=>kD(n,t,e))}function sy(n){return ES.apply(this,arguments)}function ES(){return ES=(0,_e.Z)(function*(n){const e=qe(n),t=wh(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;MP(e);)try{const i=yield oP(e.localStore,r);if(null===i){0===e.cu.length&&t.ko();break}r=i.batchId,xP(e,i)}catch(i){yield kD(e,i)}vR(e)&&ER(e)}),ES.apply(this,arguments)}function MP(n){return Eh(n)&&n.cu.length<10}function xP(n,e){n.cu.push(e);const t=wh(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function vR(n){return Eh(n)&&!wh(n).Do()&&n.cu.length>0}function ER(n){wh(n).start()}function RP(n){return wS.apply(this,arguments)}function wS(){return wS=(0,_e.Z)(function*(n){wh(n).Xo()}),wS.apply(this,arguments)}function NP(n){return bS.apply(this,arguments)}function bS(){return bS=(0,_e.Z)(function*(n){const e=wh(n);for(const t of n.cu)e.Ho(t.mutations)}),bS.apply(this,arguments)}function OP(n,e,t){return DS.apply(this,arguments)}function DS(){return DS=(0,_e.Z)(function*(n,e,t){const r=n.cu.shift(),i=$T.from(r,e,t);yield _R(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield sy(n)}),DS.apply(this,arguments)}function kP(n,e){return CS.apply(this,arguments)}function CS(){return CS=(0,_e.Z)(function*(n,e){var t;e&&wh(n).zo&&(yield(t=(0,_e.Z)(function*(r,i){if(FT(u=i.code)&&u!==ce.ABORTED){const c=r.cu.shift();wh(r).No(),yield _R(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield sy(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),vR(n)&&ER(n)}),CS.apply(this,arguments)}function wR(n,e){return IS.apply(this,arguments)}function IS(){return IS=(0,_e.Z)(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Me("RemoteStore","RemoteStore received new credentials");const r=Eh(t);t.lu.add(3),yield iy(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield q0(t)}),IS.apply(this,arguments)}function TS(n,e){return SS.apply(this,arguments)}function SS(){return SS=(0,_e.Z)(function*(n,e){const t=qe(n);e?(t.lu.delete(2),yield q0(t)):e||(t.lu.add(2),yield iy(t),t._u.set("Unknown"))}),SS.apply(this,arguments)}function oy(n){return n.mu||(n.mu=function(e,t,r){const i=qe(e);return i.tu(),new wP(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:TP.bind(null,n),Jr:SP.bind(null,n),Ko:AP.bind(null,n)}),n.fu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.mu.No(),gS(n)?pS(n):n._u.set("Unknown")):(yield n.mu.stop(),yR(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function wh(n){return n.gu||(n.gu=function(e,t,r){const i=qe(e);return i.tu(),new bP(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:RP.bind(null,n),Jr:kP.bind(null,n),Yo:NP.bind(null,n),Jo:OP.bind(null,n)}),n.fu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.gu.No(),yield sy(n)):(yield n.gu.stop(),n.cu.length>0&&(Me("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class AS{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,p=new AS(e,t,c,i,u);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ay(n,e){if(Nn("AsyncQueue",`${e}: ${n}`),bp(n))return new Ne(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class uy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=_D(),this.sortedSet=new lr(this.comparator)}static emptySet(e){return new uy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new uy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class bR{constructor(){this.yu=new lr(He.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):it():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class ly{constructor(e,t,r,i,u,c,p,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new ly(e,t,uy.emptySet(t),u,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class PP{constructor(){this.Iu=void 0,this.listeners=[]}}class FP{constructor(){this.queries=new Ta(e=>cD(e),hh),this.onlineState="Unknown",this.Tu=new Set}}function MS(n,e){return xS.apply(this,arguments)}function xS(){return xS=(0,_e.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new PP),i)try{u.Iu=yield t.onListen(r)}catch(c){const p=ay(c,`Initialization of query '${w0(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,u),u.listeners.push(e),e.Eu(t.onlineState),u.Iu&&e.Au(u.Iu)&&OS(t)}),xS.apply(this,arguments)}function RS(n,e){return NS.apply(this,arguments)}function NS(){return NS=(0,_e.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),NS.apply(this,arguments)}function LP(n,e){const t=qe(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.Au(i)&&(r=!0);c.Iu=i}}r&&OS(t)}function VP(n,e,t){const r=qe(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function OS(n){n.Tu.forEach(e=>{e.next()})}class kS{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ly(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=ly.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class BP{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class DR{constructor(e){this.M=e}li(e){return Ee(this.M,e)}fi(e){return e.metadata.exists?zm(this.M,e.document,!1):jn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return oe(e)}}class UP{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=CR(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Jt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new DR(this.M);for(const i of e)if(i.metadata.queries){const u=r.li(i.metadata.name);for(const c of i.metadata.queries){const p=(t.get(c)||_n()).add(u);t.set(c,p)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function aP(n,e,t,r){return nS.apply(this,arguments)}(e.localStore,new DR(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield uP(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function CR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class IR{constructor(e){this.key=e}}class TR{constructor(e){this.key=e}}class SR{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=_n(),this.mutatedKeys=_n(),this.Lu=b0(e),this.Uu=new uy(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new bR,i=t?t.Uu:this.Uu;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const y=Bm(this.query)&&i.size===this.query.limit?i.last():null,b=Um(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,M)=>{const F=i.get(A),B=dD(this.query,M)?M:null,G=!!F&&this.mutatedKeys.has(F.key),ne=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let be=!1;F&&B?F.data.isEqual(B.data)?G!==ne&&(r.track({type:3,doc:B}),be=!0):this.Qu(F,B)||(r.track({type:2,doc:B}),be=!0,(y&&this.Lu(B,y)>0||b&&this.Lu(B,b)<0)&&(p=!0)):!F&&B?(r.track({type:0,doc:B}),be=!0):F&&!B&&(r.track({type:1,doc:F}),be=!0,(y||b)&&(p=!0)),be&&(B?(c=c.add(B),u=ne?u.add(A):u.delete(A)):(c=c.delete(A),u=u.delete(A)))}),Bm(this.query)||Um(this.query))for(;c.size>this.query.limit;){const A=Bm(this.query)?c.last():c.first();c=c.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{Uu:c,Ku:r,ei:p,mutatedKeys:u}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const u=e.Ku.pu();u.sort((b,A)=>function(M,F){const B=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return B(M)-B(F)}(b.type,A.type)||this.Lu(b.doc,A.doc)),this.ju(r);const c=t?this.Wu():[],p=0===this.Bu.size&&this.current?1:0,y=p!==this.$u;return this.$u=p,0!==u.length||y?{snapshot:new ly(this.query,e.Uu,i,u,e.mutatedKeys,0===p,y,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new bR,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=_n(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new TR(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new IR(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=_n();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return ly.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class jP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class $P{constructor(e){this.key=e,this.Xu=!1}}class HP{constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Zu={},this.ta=new Ta(p=>cD(p),hh),this.ea=new Map,this.na=new Set,this.sa=new lr(He.comparator),this.ia=new Map,this.ra=new iS,this.oa={},this.ua=new Map,this.aa=Sp.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function GP(n,e){return PS.apply(this,arguments)}function PS(){return PS=(0,_e.Z)(function*(n,e){const t=iA(n);let r,i;const u=t.ta.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.Yu();else{const c=yield ny(t.localStore,ao(e));t.isPrimaryClient&&OD(t.remoteStore,c);const p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield FS(t,e,r,"current"===p)}return i}),PS.apply(this,arguments)}function FS(n,e,t,r){return LS.apply(this,arguments)}function LS(){return LS=(0,_e.Z)(function*(n,e,t,r){n.ha=(A,M,F)=>{return(B=(0,_e.Z)(function*(G,ne,be,Ze){let Le=ne.view.Gu(be);Le.ei&&(Le=yield MD(G.localStore,ne.query,!1).then(({documents:_t})=>ne.view.Gu(_t,Le)));const Ke=Ze&&Ze.targetChanges.get(ne.targetId),ze=ne.view.applyChanges(Le,G.isPrimaryClient,Ke);return WS(G,ne.targetId,ze.zu),ze.snapshot}),function(G,ne,be,Ze){return B.apply(this,arguments)})(n,A,M,F);var B};const i=yield MD(n.localStore,e,!0),u=new SR(e,i.hi),c=u.Gu(i.documents),p=s.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=u.applyChanges(c,n.isPrimaryClient,p);WS(n,t,y.zu);const b=new jP(e,t,u);return n.ta.set(e,b),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),y.snapshot}),LS.apply(this,arguments)}function qP(n,e){return VS.apply(this,arguments)}function VS(){return VS=(0,_e.Z)(function*(n,e){const t=qe(n),r=t.ta.get(e),i=t.ea.get(r.targetId);if(i.length>1)return t.ea.set(r.targetId,i.filter(u=>!hh(u,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ry(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),z0(t.remoteStore,r.targetId),cy(t,r.targetId)}).catch(Ap))):(cy(t,r.targetId),yield ry(t.localStore,r.targetId,!0))}),VS.apply(this,arguments)}function BS(){return BS=(0,_e.Z)(function*(n,e,t){const r=sA(n);try{const i=yield function(u,c){const p=qe(u),y=vr.now(),b=c.reduce((M,F)=>M.add(F.key),_n());let A;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>p.ai.qs(M,b).next(F=>{A=F;const B=[];for(const G of c){const ne=wx(G,A.get(G.key));null!=ne&&B.push(new kc(G.key,ne,bT(ne.value.mapValue),tr.exists(!0)))}return p.$s.addMutationBatch(M,y,B,c)})).then(M=>(M.applyToLocalDocumentSet(A),{batchId:M.batchId,changes:A}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,p){let y=u.oa[u.currentUser.toKey()];y||(y=new lr(Wt)),y=y.insert(c,p),u.oa[u.currentUser.toKey()]=y}(r,i.batchId,t),yield Fc(r,i.changes),yield sy(r.remoteStore)}catch(i){const u=ay(i,"Failed to persist write");t.reject(u)}}),BS.apply(this,arguments)}function AR(n,e){return US.apply(this,arguments)}function US(){return US=(0,_e.Z)(function*(n,e){const t=qe(n);try{const r=yield sP(t.localStore,e);e.targetChanges.forEach((i,u)=>{const c=t.ia.get(u);c&&(Ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Xu=!0:i.modifiedDocuments.size>0?Ct(c.Xu):i.removedDocuments.size>0&&(Ct(c.Xu),c.Xu=!1))}),yield Fc(t,r,e)}catch(r){yield Ap(r)}}),US.apply(this,arguments)}function MR(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ta.forEach((u,c)=>{const p=c.view.Eu(e);p.snapshot&&i.push(p.snapshot)}),function(u,c){const p=qe(u);p.onlineState=c;let y=!1;p.queries.forEach((b,A)=>{for(const M of A.listeners)M.Eu(c)&&(y=!0)}),y&&OS(p)}(r.eventManager,e),i.length&&r.Zu.Ko(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function WP(n,e,t){return jS.apply(this,arguments)}function jS(){return jS=(0,_e.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ia.get(e),u=i&&i.key;if(u){let c=new lr(He.comparator);c=c.insert(u,jn.newNoDocument(u,Tt.min()));const p=_n().add(u),y=new qm(Tt.min(),new Map,new $n(Wt),c,p);yield AR(r,y),r.sa=r.sa.remove(u),r.ia.delete(e),KS(r)}else yield ry(r.localStore,e,!1).then(()=>cy(r,e,t)).catch(Ap)}),jS.apply(this,arguments)}function KP(n,e){return $S.apply(this,arguments)}function $S(){return $S=(0,_e.Z)(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const i=yield iP(t.localStore,e);zS(t,r,null),qS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Fc(t,i)}catch(i){yield Ap(i)}}),$S.apply(this,arguments)}function ZP(n,e,t){return HS.apply(this,arguments)}function HS(){return HS=(0,_e.Z)(function*(n,e,t){const r=qe(n);try{const i=yield function(u,c){const p=qe(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return p.$s.lookupMutationBatch(y,c).next(A=>(Ct(null!==A),b=A.keys(),p.$s.removeMutationBatch(y,A))).next(()=>p.$s.performConsistencyCheck(y)).next(()=>p.ai.qs(y,b))})}(r.localStore,e);zS(r,e,t),qS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Fc(r,i)}catch(i){yield Ap(i)}}),HS.apply(this,arguments)}function GS(){return GS=(0,_e.Z)(function*(n,e){const t=qe(n);Eh(t.remoteStore)||Me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const c=qe(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.$s.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ua.get(r)||[];i.push(e),t.ua.set(r,i)}catch(r){const i=ay(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),GS.apply(this,arguments)}function qS(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function zS(n,e,t){const r=qe(n);let i=r.oa[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.oa[r.currentUser.toKey()]=i}}function cy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||xR(n,r)})}function xR(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(z0(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),KS(n))}function WS(n,e,t){for(const r of t)r instanceof IR?(n.ra.addReference(r.key,e),QP(n,r)):r instanceof TR?(Me("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||xR(n,r.key)):it()}function QP(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Me("SyncEngine","New document in limbo: "+t),n.na.add(r),KS(n))}function KS(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new He(Jt.fromString(e)),r=n.aa.next();n.ia.set(r,new $P(t)),n.sa=n.sa.insert(t,r),OD(n.remoteStore,new mh(ao(Mc(t.path)),r,2,os.A))}}function Fc(n,e,t){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,_e.Z)(function*(n,e,t){const r=qe(n),i=[],u=[],c=[];var p;r.ta.isEmpty()||(r.ta.forEach((p,y)=>{c.push(r.ha(y,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,b.fromCache?"not-current":"current"),i.push(b);const A=XT.Js(y.targetId,b);u.push(A)}}))}),yield Promise.all(c),r.Zu.Ko(i),yield(p=(0,_e.Z)(function*(y,b){const A=qe(y);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>ge.forEach(b,F=>ge.forEach(F.zs,B=>A.persistence.referenceDelegate.addReference(M,F.targetId,B)).next(()=>ge.forEach(F.Hs,B=>A.persistence.referenceDelegate.removeReference(M,F.targetId,B)))))}catch(M){if(!bp(M))throw M;Me("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const F=M.targetId;if(!M.fromCache){const B=A.si.get(F),ne=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);A.si=A.si.insert(F,ne)}}}),function(y,b){return p.apply(this,arguments)})(r.localStore,u))}),ZS.apply(this,arguments)}function JP(n,e){return YS.apply(this,arguments)}function YS(){return YS=(0,_e.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Me("SyncEngine","User change. New user:",e.toKey());const r=yield iR(t.localStore,e);t.currentUser=e,(i=t).ua.forEach(c=>{c.forEach(p=>{p.reject(new Ne(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Fc(t,r.ci)}var i}),YS.apply(this,arguments)}function XP(n,e){const t=qe(n),r=t.ia.get(e);if(r&&r.Xu)return _n().add(r.key);{let i=_n();const u=t.ea.get(e);if(!u)return i;for(const c of u){const p=t.ta.get(c);i=i.unionWith(p.view.qu)}return i}}function e1(n,e){return QS.apply(this,arguments)}function QS(){return QS=(0,_e.Z)(function*(n,e){const t=qe(n),r=yield MD(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&WS(t,e.targetId,i.zu),i}),QS.apply(this,arguments)}function t1(n,e){return JS.apply(this,arguments)}function JS(){return JS=(0,_e.Z)(function*(n,e){const t=qe(n);return uR(t.localStore,e).then(r=>Fc(t,r))}),JS.apply(this,arguments)}function n1(n,e,t,r){return XS.apply(this,arguments)}function XS(){return XS=(0,_e.Z)(function*(n,e,t,r){const i=qe(n),u=yield function(c,p){const y=qe(c),b=qe(y.$s);return y.persistence.runTransaction("Lookup mutation documents","readonly",A=>b.ln(A,p).next(M=>M?y.ai.qs(A,M):ge.resolve(null)))}(i.localStore,e);var p;null!==u?("pending"===t?yield sy(i.remoteStore):"acknowledged"===t||"rejected"===t?(zS(i,e,r||null),qS(i,e),p=e,qe(qe(i.localStore).$s).dn(p)):it(),yield Fc(i,u)):Me("SyncEngine","Cannot apply mutation batch with id: "+e)}),XS.apply(this,arguments)}function eA(){return eA=(0,_e.Z)(function*(n,e){const t=qe(n);if(iA(t),sA(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield RR(t,r.toArray());t.ca=!0,yield TS(t.remoteStore,!0);for(const u of i)OD(t.remoteStore,u)}else if(!1===e&&!1!==t.ca){const r=[];let i=Promise.resolve();t.ea.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(cy(t,c),ry(t.localStore,c,!0))),z0(t.remoteStore,c)}),yield i,yield RR(t,r),function(u){const c=qe(u);c.ia.forEach((p,y)=>{z0(c.remoteStore,y)}),c.ra.bi(),c.ia=new Map,c.sa=new lr(He.comparator)}(t),t.ca=!1,yield TS(t.remoteStore,!1)}}),eA.apply(this,arguments)}function RR(n,e,t){return tA.apply(this,arguments)}function tA(){return tA=(0,_e.Z)(function*(n,e,t){const r=qe(n),i=[],u=[];for(const c of e){let p;const y=r.ea.get(c);if(y&&0!==y.length){p=yield ny(r.localStore,ao(y[0]));for(const b of y){const A=r.ta.get(b),M=yield e1(r,A);M.snapshot&&u.push(M.snapshot)}}else{const b=yield aR(r.localStore,c);p=yield ny(r.localStore,b),yield FS(r,NR(b),c,!1)}i.push(p)}return r.Zu.Ko(u),i}),tA.apply(this,arguments)}function NR(n){return v0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function s1(n){const e=qe(n);return qe(qe(e.localStore).persistence).Os()}function o1(n,e,t,r){return nA.apply(this,arguments)}function nA(){return nA=(0,_e.Z)(function*(n,e,t,r){const i=qe(n);if(i.ca)return void Me("SyncEngine","Ignoring unexpected query state notification.");const u=i.ea.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=yield uR(i.localStore,xT(u[0])),p=qm.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Fc(i,c,p);break}case"rejected":yield ry(i.localStore,e,!0),cy(i,e,r);break;default:it()}}),nA.apply(this,arguments)}function a1(n,e,t){return rA.apply(this,arguments)}function rA(){return rA=(0,_e.Z)(function*(n,e,t){const r=iA(n);if(r.ca){for(const i of e){if(r.ea.has(i)){Me("SyncEngine","Adding an already active target "+i);continue}const u=yield aR(r.localStore,i),c=yield ny(r.localStore,u);yield FS(r,NR(u),c.targetId,!1),OD(r.remoteStore,c)}for(const i of t)r.ea.has(i)&&(yield ry(r.localStore,i,!1).then(()=>{z0(r.remoteStore,i),cy(r,i)}).catch(Ap))}}),rA.apply(this,arguments)}function iA(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WP.bind(null,e),e.Zu.Ko=LP.bind(null,e.eventManager),e.Zu.la=VP.bind(null,e.eventManager),e}function sA(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZP.bind(null,e),e}class OR{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.M=G0(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return rR(this.persistence,new nR,e.initialUser,this.M)}_a(e){return new gP(sS.Wi,this.M)}da(e){return new hR}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class kR extends OR{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield sA(r.ga.syncEngine),yield sy(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return rR(this.persistence,new nR,e.initialUser,this.M)}wa(e){return new Yk(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=JT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?lo.withCacheSize(this.cacheSizeBytes):lo.DEFAULT;return new QT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,pR(),ND(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new hR}}class l1 extends kR{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e);const i=r.ga.syncEngine;r.sharedClientState instanceof lS&&(r.sharedClientState.syncEngine={kr:n1.bind(null,i),Mr:o1.bind(null,i),Or:a1.bind(null,i),Os:s1.bind(null,i),Nr:t1.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var u=(0,_e.Z)(function*(c){yield function r1(n,e){return eA.apply(this,arguments)}(r.ga.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return u.apply(this,arguments)}}())})()}da(e){const t=pR();if(!lS.vt(t))throw new Ne(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=JT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class oA{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>MR(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=JP.bind(null,r.syncEngine),yield TS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new FP}createDatastore(e){const t=G0(e.databaseInfo.databaseId),r=new EP(e.databaseInfo);return new DP(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=p=>MR(this.syncEngine,p,0),c=fR.vt()?new fR:new yP,new IP(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,p,y,b){const A=new HP(r,i,u,c,p,y);return b&&(A.ca=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const r=qe(t);Me("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield iy(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function PR(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class PD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class c1{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new qr,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),i=Number(r);isNaN(i)&&e.Ra(`length string (${r}) is not valid number`);const u=yield e.ba(i);return new BP(JSON.parse(u),t.length+i)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,_e.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class d1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,_e.Z)(function*(u,c){const p=qe(u),y=nn(p.M)+"/documents",b={documents:c.map(B=>Je(p.M,B))},A=yield p.co("BatchGetDocuments",y,b),M=new Map;A.forEach(B=>{const G=function k0(n,e){return"found"in e?function(t,r){Ct(!!r.found);const i=Ee(t,r.found.name),u=oe(r.found.updateTime),c=new qi({mapValue:{fields:r.found.fields}});return jn.newFoundDocument(i,u,c)}(n,e):"missing"in e?function(t,r){Ct(!!r.missing),Ct(!!r.readTime);const i=Ee(t,r.missing),u=oe(r.readTime);return jn.newNoDocument(i,u)}(n,e):it()}(p.M,B);M.set(G.key.toString(),G)});const F=[];return c.forEach(B=>{const G=M.get(B.toString());Ct(!!G),F.push(G)}),F}),function(u,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ph(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=He.fromPath(i);e.mutations.push(new R0(u,e.precondition(u)))}),yield(r=(0,_e.Z)(function*(i,u){const c=qe(i),p=nn(c.M)+"/documents",y={writes:u.map(b=>Pc(c.M,b))};yield c.ro("Commit",p,y)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw it();t=Tt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?tr.updateTime(t):tr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Tt.min()))throw new Ne(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tr.updateTime(t)}return tr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class h1{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new cS(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,_e.Z)(function*(){const t=new d1(e.datastore),r=e.Da(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Ca(u)}))}).catch(i=>{e.Ca(i)})}))}Da(e){try{const t=this.updateFunction(e);return!sh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!FT(t)}return!1}}class f1{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Gr.UNAUTHENTICATED,this.clientId=u0.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,_e.Z)(function*(p){Me("FirestoreClient","Received user=",p.uid),yield u.authCredentialListener(p),u.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Me("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ay(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function FR(n,e){return aA.apply(this,arguments)}function aA(){return aA=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Me("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,_e.Z)(function*(u){r.isEqual(u)||(yield iR(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),aA.apply(this,arguments)}function LR(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield lA(n);Me("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>wR(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>wR(e.remoteStore,u)),n.onlineComponents=e}),uA.apply(this,arguments)}function lA(n){return cA.apply(this,arguments)}function cA(){return cA=(0,_e.Z)(function*(n){return n.offlineComponents||(Me("FirestoreClient","Using default OfflineComponentProvider"),yield FR(n,new OR)),n.offlineComponents}),cA.apply(this,arguments)}function FD(n){return dA.apply(this,arguments)}function dA(){return dA=(0,_e.Z)(function*(n){return n.onlineComponents||(Me("FirestoreClient","Using default OnlineComponentProvider"),yield LR(n,new oA)),n.onlineComponents}),dA.apply(this,arguments)}function VR(n){return lA(n).then(e=>e.persistence)}function hA(n){return lA(n).then(e=>e.localStore)}function BR(n){return FD(n).then(e=>e.remoteStore)}function fA(n){return FD(n).then(e=>e.syncEngine)}function dy(n){return pA.apply(this,arguments)}function pA(){return pA=(0,_e.Z)(function*(n){const e=yield FD(n),t=e.eventManager;return t.onListen=GP.bind(null,e.syncEngine),t.onUnlisten=qP.bind(null,e.syncEngine),t}),pA.apply(this,arguments)}function UR(n,e,t={}){const r=new qr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,u,c,p,y){const b=new PD({next:M=>{u.enqueueAndForget(()=>RS(i,A));const F=M.docs.has(c);!F&&M.fromCache?y.reject(new Ne(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&p&&"server"===p.source?y.reject(new Ne(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),A=new kS(Mc(c.path),b,{includeMetadataChanges:!0,Du:!0});return MS(i,A)}(yield dy(n),n.asyncQueue,e,t,r)})),r.promise}function jR(n,e,t={}){const r=new qr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,u,c,p,y){const b=new PD({next:M=>{u.enqueueAndForget(()=>RS(i,A)),M.fromCache&&"server"===p.source?y.reject(new Ne(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),A=new kS(c,b,{includeMetadataChanges:!0,Du:!0});return MS(i,A)}(yield dy(n),n.asyncQueue,e,t,r)})),r.promise}const $R=new Map;function gA(n,e,t){if(!t)throw new Ne(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HR(n,e,t,r){if(!0===e&&!0===r)throw new Ne(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function GR(n){if(!He.isDocumentKey(n))throw new Ne(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qR(n){if(He.isDocumentKey(n))throw new Ne(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function LD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":it()}function on(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=LD(n);throw new Ne(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function zR(n,e){if(e<=0)throw new Ne(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class WR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,HR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class W0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WR({}),this._settingsFrozen=!1,e instanceof ll?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ne(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ll(i.options.projectId)}(e))}get app(){if(!this._app)throw new Ne(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new o0;switch(t.type){case"gapi":const r=t.client;return Ct(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new a0(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ne(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$R.get(e);t&&(Me("ComponentProvider","Removing Datastore"),$R.delete(e),t.terminate())}(this),Promise.resolve()}}class Yn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class us{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new us(this.firestore,e,this._query)}}class hl extends us{constructor(e,t,r){super(e,t,Mc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new He(e))}withConverter(e){return new hl(this.firestore,e,this._path)}}function KR(n,e,...t){if(n=(0,Ht.m9)(n),gA("collection","path",e),n instanceof W0){const r=Jt.fromString(e,...t);return qR(r),new hl(n,null,r)}{if(!(n instanceof Yn||n instanceof hl))throw new Ne(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return qR(r),new hl(n.firestore,null,r)}}function VD(n,e,...t){if(n=(0,Ht.m9)(n),1===arguments.length&&(e=u0.R()),gA("doc","path",e),n instanceof W0){const r=Jt.fromString(e,...t);return GR(r),new Yn(n,null,new He(r))}{if(!(n instanceof Yn||n instanceof hl))throw new Ne(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return GR(r),new Yn(n.firestore,n instanceof hl?n.converter:null,new He(r))}}function ZR(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),(n instanceof Yn||n instanceof hl)&&(e instanceof Yn||e instanceof hl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function YR(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),n instanceof us&&e instanceof us&&n.firestore===e.firestore&&hh(n._query,e._query)&&n.converter===e.converter}class C1{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new cS(this,"async_queue_retry"),this.Ua=()=>{const t=ND();t&&Me("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=ND();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=ND();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new qr;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,_e.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!bp(t))throw t;Me("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,Nn("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const i=AS.createAndSchedule(this,e,t,r,u=>this.Qa(u));return this.Oa.push(i),i}qa(){this.Fa&&it()}verifyOperationInProgress(){}ja(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function mA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class I1{constructor(){this._progressObserver={},this._taskCompletionResolver=new qr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class nr extends W0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new C1,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||QR(this),this._firestoreClient.terminate()}}function Kr(n){return n._firestoreClient||QR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function QR(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new iD(n._databaseId,u,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var u,p;n._firestoreClient=new f1(n._authCredentials,n._appCheckCredentials,n._queue,r)}function JR(n,e,t){const r=new qr;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield FR(n,t),yield LR(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(u=i).name?u.code===ce.FAILED_PRECONDITION||u.code===ce.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var u})).then(()=>r.promise)}function XR(n){if(n._initialized||n._terminated)throw new Ne(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Lc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fl(Nr.fromBase64String(e))}catch(t){throw new Ne(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fl(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xp{constructor(e){this._methodName=e}}class BD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}}const P1=/^__.*__$/;class F1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new kc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ep(e,this.data,t,this.fieldTransforms)}}class eN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new kc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class UD{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===u&&this.Ja(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new UD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.ec(e),i}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.Ja(),i}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return HD(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(tN(this.Ya)&&P1.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class L1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||G0(e)}uc(e,t,r,i=!1){return new UD({Ya:e,methodName:t,oc:r,path:zr.emptyPath(),tc:!1,rc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Rp(n){const e=n._freezeSettings(),t=G0(n._databaseId);return new L1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function jD(n,e,t,r,i,u={}){const c=n.uc(u.merge||u.mergeFields?2:0,e,t,i);EA("Data must be an object, but it was:",c,r);const p=iN(r,c);let y,b;if(u.merge)y=new ih(c.fieldMask),b=c.fieldTransforms;else if(u.mergeFields){const A=[];for(const M of u.mergeFields){const F=wA(e,M,t);if(!c.contains(F))throw new Ne(ce.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);oN(A,F)||A.push(F)}y=new ih(A),b=c.fieldTransforms.filter(M=>y.covers(M.field))}else y=null,b=c.fieldTransforms;return new F1(new qi(p),y,b)}class K0 extends xp{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof K0}}function nN(n,e,t){return new UD({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class yA extends xp{_toFieldTransform(e){return new Nc(e.path,new fh)}isEqual(e){return e instanceof yA}}class V1 extends xp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=nN(this,e,!0),r=this.ac.map(u=>Np(u,t)),i=new Ia(r);return new Nc(e.path,i)}isEqual(e){return this===e}}class B1 extends xp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=nN(this,e,!0),r=this.ac.map(u=>Np(u,t)),i=new Rc(r);return new Nc(e.path,i)}isEqual(e){return this===e}}class U1 extends xp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new uo(e.M,NT(e.M,this.cc));return new Nc(e.path,t)}isEqual(e){return this===e}}function _A(n,e,t,r){const i=n.uc(1,e,t);EA("Data must be an object, but it was:",i,r);const u=[],c=qi.empty();al(r,(y,b)=>{const A=$D(e,y,t);b=(0,Ht.m9)(b);const M=i.nc(A);if(b instanceof K0)u.push(A);else{const F=Np(b,M);null!=F&&(u.push(A),c.set(A,F))}});const p=new ih(u);return new eN(c,p,i.fieldTransforms)}function vA(n,e,t,r,i,u){const c=n.uc(1,e,t),p=[wA(e,r,t)],y=[i];if(u.length%2!=0)throw new Ne(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<u.length;F+=2)p.push(wA(e,u[F])),y.push(u[F+1]);const b=[],A=qi.empty();for(let F=p.length-1;F>=0;--F)if(!oN(b,p[F])){const B=p[F];let G=y[F];G=(0,Ht.m9)(G);const ne=c.nc(B);if(G instanceof K0)b.push(B);else{const be=Np(G,ne);null!=be&&(b.push(B),A.set(B,be))}}const M=new ih(b);return new eN(A,M,c.fieldTransforms)}function rN(n,e,t,r=!1){return Np(t,n.uc(r?4:3,e))}function Np(n,e){if(sN(n=(0,Ht.m9)(n)))return EA("Unsupported field value:",e,n),iN(n,e);if(n instanceof xp)return function(t,r){if(!tN(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let p=Np(c,r.sc(u));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Ht.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return NT(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=vr.fromDate(t);return{timestampValue:k(r.M,i)}}if(t instanceof vr){const i=new vr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:k(r.M,i)}}if(t instanceof BD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fl)return{bytesValue:U(r.M,t._byteString)};if(t instanceof Yn){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.ic(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Fe(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${LD(t)}`)}(n,e)}function iN(n,e){const t={};return l0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):al(n,(r,i)=>{const u=Np(i,e.Za(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function sN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vr||n instanceof BD||n instanceof fl||n instanceof Yn||n instanceof xp)}function EA(n,e,t){if(!sN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=LD(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function wA(n,e,t){if((e=(0,Ht.m9)(e))instanceof Lc)return e._internalPath;if("string"==typeof e)return $D(n,e);throw HD("Field path arguments must be of type string or ",n,!1,void 0,t)}const j1=new RegExp("[~\\*/\\[\\]]");function $D(n,e,t){if(e.search(j1)>=0)throw HD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Lc(...e.split("."))._internalPath}catch(r){throw HD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function HD(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||c)&&(y+=" (found",u&&(y+=` in field ${r}`),c&&(y+=` in document ${i}`),y+=")"),new Ne(ce.INVALID_ARGUMENT,p+n+y)}function oN(n,e){return n.some(t=>t.isEqual(e))}class Z0{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(GD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $1 extends Z0{data(){return super.data()}}function GD(n,e){return"string"==typeof e?$D(n,e):e instanceof Lc?e._internalPath:e._delegate._internalPath}class Op{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vc extends Z0{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Y0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(GD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Y0 extends Vc{data(e={}){return super.data(e)}}class bh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Op(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Y0(this._firestore,this._userDataWriter,r.key,r,new Op(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Y0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Op(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const p=new Y0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Op(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,b=-1;return 0!==c.type&&(y=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),b=u.indexOf(c.doc.key)),{type:H1(c.type),doc:p,oldIndex:y,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function H1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function aN(n,e){return n instanceof Vc&&e instanceof Vc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof bh&&e instanceof bh&&n._firestore===e._firestore&&YR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function uN(n){if(Um(n)&&0===n.explicitOrderBy.length)throw new Ne(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q0{}function Dh(n,...e){for(const t of e)n=t._apply(n);return n}class G1 extends Q0{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=Rp(e.firestore),r=function(i,u,c,p,y,b,A){let M;if(y.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){pN(A,b);const B=[];for(const G of A)B.push(fN(p,i,G));M={arrayValue:{values:B}}}else M=fN(p,i,A)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||pN(A,b),M=rN(c,"where",A,"in"===b||"not-in"===b);const F=Wr.create(y,b,M);return function(B,G){if(G.S()){const be=_p(B);if(null!==be&&!be.isEqual(G.field))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${be.toString()}' and '${G.field.toString()}'`);const Ze=jm(B);null!==Ze&&gN(0,G.field,Ze)}const ne=function(be,Ze){for(const Le of be.filters)if(Ze.indexOf(Le.op)>=0)return Le.op;return null}(B,function(be){switch(be){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(G.op));if(null!==ne)throw new Ne(ce.INVALID_ARGUMENT,ne===G.op?`Invalid query. You cannot use more than one '${G.op.toString()}' filter.`:`Invalid query. You cannot use '${G.op.toString()}' filters with '${ne.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new us(e.firestore,e.converter,function(i,u){const c=i.filters.concat([u]);return new cl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class z1 extends Q0{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new dh(i,u);return function(p,y){if(null===jm(p)){const b=_p(p);null!==b&&gN(0,b,y.field)}}(r,c),c}(e._query,this.hc,this.dc);return new us(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new cl(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class lN extends Q0{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new us(e.firestore,e.converter,E0(e._query,this._c,this.wc))}}class cN extends Q0{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=hN(e,this.type,this.mc,this.gc);return new us(e.firestore,e.converter,(i=t,new cl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class dN extends Q0{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=hN(e,this.type,this.mc,this.gc);return new us(e.firestore,e.converter,(i=t,new cl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function hN(n,e,t,r){if(t[0]=(0,Ht.m9)(t[0]),t[0]instanceof Z0)return function(i,u,c,p,y){if(!p)throw new Ne(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const A of xc(i))if(A.field.isKeyField())b.push(pp(u,p.key));else{const M=p.data.field(A.field);if(c0(M))throw new Ne(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=A.field.canonicalString();throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}b.push(M)}return new ou(b,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Rp(n.firestore);return function(u,c,p,y,b,A){const M=u.explicitOrderBy;if(b.length>M.length)throw new Ne(ce.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<b.length;B++){const G=b[B];if(M[B].field.isKeyField()){if("string"!=typeof G)throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof G}`);if(!vp(u)&&-1!==G.indexOf("/"))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${G}' contains a slash.`);const ne=u.path.child(Jt.fromString(G));if(!He.isDocumentKey(ne))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const be=new He(ne);F.push(pp(c,be))}else{const ne=rN(p,y,G);F.push(ne)}}return new ou(F,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function fN(n,e,t){if("string"==typeof(t=(0,Ht.m9)(t))){if(""===t)throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vp(e)&&-1!==t.indexOf("/"))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Jt.fromString(t));if(!He.isDocumentKey(r))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pp(n,new He(r))}if(t instanceof Yn)return pp(n,t._key);throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${LD(t)}.`)}function pN(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function gN(n,e,t){if(!t.isEqual(e))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class bA{convertValue(e,t="none"){switch(oh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ul(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw it()}}convertObject(e,t){const r={};return al(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new BD(Zn(e.latitude),Zn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=rD(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Mm(e));default:return null}}convertTimestamp(e){const t=iu(e);return new vr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Jt.fromString(e);Ct(Tx(r));const i=new ll(r.get(1),r.get(3)),u=new He(r.popFirst(5));return i.isEqual(t)||Nn(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function qD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class eF extends bA{constructor(e){super(),this.firestore=e}convertBytes(e){return new fl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}class mN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rp(e)}set(e,t,r){this._verifyNotCommitted();const i=Ch(e,this._firestore),u=qD(i.converter,t,r),c=jD(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,tr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=Ch(e,this._firestore);let c;return c="string"==typeof(t=(0,Ht.m9)(t))||t instanceof Lc?vA(this._dataReader,"WriteBatch.update",u._key,t,r,i):_A(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,tr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ch(e,this._firestore);return this._mutations=this._mutations.concat(new ph(t._key,tr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ch(n,e){if((n=(0,Ht.m9)(n)).firestore!==e)throw new Ne(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class kp extends bA{constructor(e){super(),this.firestore=e}convertBytes(e){return new fl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}function yN(n,e,t){n=on(n,Yn);const r=on(n.firestore,nr),i=qD(n.converter,e,t);return hy(r,[jD(Rp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,tr.none())])}function _N(n,e,t,...r){n=on(n,Yn);const i=on(n.firestore,nr),u=Rp(i);let c;return c="string"==typeof(e=(0,Ht.m9)(e))||e instanceof Lc?vA(u,"updateDoc",n._key,e,t,r):_A(u,"updateDoc",n._key,e),hy(i,[c.toMutation(n._key,tr.exists(!0))])}function vN(n,...e){var t,r,i;n=(0,Ht.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||mA(e[c])||(u=e[c],c++);const p={includeMetadataChanges:u.includeMetadataChanges};if(mA(e[c])){const M=e[c];e[c]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[c+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[c+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let y,b,A;if(n instanceof Yn)b=on(n.firestore,nr),A=Mc(n._key.path),y={next:M=>{e[c]&&e[c](DA(b,n,M))},error:e[c+1],complete:e[c+2]};else{const M=on(n,us);b=on(M.firestore,nr),A=M._query;const F=new kp(b);y={next:B=>{e[c]&&e[c](new bh(b,F,M,B))},error:e[c+1],complete:e[c+2]},uN(n._query)}return function(M,F,B,G){const ne=new PD(G),be=new kS(F,ne,B);return M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return MS(yield dy(M),be)})),()=>{ne.pa(),M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return RS(yield dy(M),be)}))}}(Kr(b),A,p,y)}function hy(n,e){return function(t,r){const i=new qr;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function zP(n,e,t){return BS.apply(this,arguments)}(yield fA(t),r,i)})),i.promise}(Kr(n),e)}function DA(n,e,t){const r=t.docs.get(e._key),i=new kp(n);return new Vc(n,i,e._key,r,new Op(t.hasPendingWrites,t.fromCache),e.converter)}class cF extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Rp(e)}get(e){const t=Ch(e,this._firestore),r=new eF(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return it();const u=i[0];if(u.isFoundDocument())return new Z0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new Z0(this._firestore,r,t._key,null,t.converter);throw it()})}set(e,t,r){const i=Ch(e,this._firestore),u=qD(i.converter,t,r),c=jD(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const u=Ch(e,this._firestore);let c;return c="string"==typeof(t=(0,Ht.m9)(t))||t instanceof Lc?vA(this._dataReader,"Transaction.update",u._key,t,r,i):_A(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=Ch(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ch(e,this._firestore),r=new kp(this._firestore);return super.get(e).then(i=>new Vc(this._firestore,r,t._key,i._document,new Op(!1,!1),t.converter))}}function CA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function wN(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function bN(){if(!function tD(){return"undefined"!=typeof atob}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Tc=Qu.SDK_VERSION,(0,Qu._registerComponent)(new Ff.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),u=new nr(i,new Qb(t.getProvider("auth-internal")),new Jb(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Qu.registerVersion)(Wb,"3.4.7",n),(0,Qu.registerVersion)(Wb,"3.4.7","esm2017")}();class J0{constructor(e){this._delegate=e}static fromBase64String(e){return bN(),new J0(fl.fromBase64String(e))}static fromUint8Array(e){return wN(),new J0(fl.fromUint8Array(e))}toBase64(){return bN(),this._delegate.toBase64()}toUint8Array(){return wN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function IA(n){return function vF(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class EF{enableIndexedDbPersistence(e,t){return function S1(n,e){XR(n=on(n,nr));const t=Kr(n),r=n._freezeSettings(),i=new oA;return JR(t,i,new kR(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function A1(n){XR(n=on(n,nr));const e=Kr(n),t=n._freezeSettings(),r=new oA;return JR(e,r,new l1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function M1(n){if(n._initialized&&!n._terminated)throw new Ne(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new qr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(r){if(!uu.vt())return Promise.resolve();const i=r+"main";yield uu.delete(i)}),function(r){return t.apply(this,arguments)})(JT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class DN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ll||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&hp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function b1(n,e,t,r={}){var i;const u=(n=on(n,W0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&hp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,p;if("string"==typeof r.mockUserToken)c=r.mockUserToken,p=Gr.MOCK_USER;else{c=(0,Ht.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ne(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Gr(y)}n._authCredentials=new Yb(new Zb(c,p))}}(this._delegate,e,t,r)}enableNetwork(){return function R1(n){return function p1(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield VR(n),t=yield BR(n);return e.setNetworkEnabled(!0),function(r){const i=qe(r);return i.lu.delete(0),q0(i)}(t)}))}(Kr(n=on(n,nr)))}(this._delegate)}disableNetwork(){return function N1(n){return function g1(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield VR(n),t=yield BR(n);return e.setNetworkEnabled(!1),(r=(0,_e.Z)(function*(i){const u=qe(i);u.lu.add(0),yield iy(u),u._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Kr(n=on(n,nr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,HR("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function x1(n){return function(e){const t=new qr;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function YP(n,e){return GS.apply(this,arguments)}(yield fA(e),t)})),t.promise}(Kr(n=on(n,nr)))}(this._delegate)}onSnapshotsInSync(e){return function lF(n,e){return function _1(n,e){const t=new PD(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield dy(n),i=t,qe(r).Tu.add(i),void i.next();var r,i})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield dy(n),i=t,void qe(r).Tu.delete(i);var r,i}))}}(Kr(n=on(n,nr)),mA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new fy(this,KR(this._delegate,e))}catch(t){throw As(t,"collection()","Firestore.collection()")}}doc(e){try{return new Sa(this,VD(this._delegate,e))}catch(t){throw As(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ms(this,function D1(n,e){if(n=on(n,W0),gA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new us(n,null,(t=e,new cl(Jt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw As(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function dF(n,e){return function v1(n,e){const t=new qr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const r=yield(i=n,FD(i).then(u=>u.datastore));var i;new h1(n.asyncQueue,r,e,t).run()})),t.promise}(Kr(n=on(n,nr)),t=>e(new cF(n,t)))}(this._delegate,t=>e(new CN(this,t)))}batch(){return Kr(this._delegate),new IN(new mN(this._delegate,e=>hy(this._delegate,e)))}loadBundle(e){return function O1(n,e){const t=Kr(n=on(n,nr)),r=new I1;return function E1(n,e,t,r){const i=function(u,c){let p;return p="string"==typeof u?(new TextEncoder).encode(u):u,y=function(y,b){if(y instanceof Uint8Array)return PR(y,b);if(y instanceof ArrayBuffer)return PR(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new c1(y,c);var y}(t,G0(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function u1(n,e,t){const r=qe(n);var i;(i=(0,_e.Z)(function*(u,c,p){try{const y=yield c.getMetadata();if(yield function(F,B){const G=qe(F),ne=oe(B.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",be=>G.ds.getBundleMetadata(be,B.id)).then(be=>!!be&&be.createTime.compareTo(ne)>=0)}(u.localStore,y))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(F=y).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);p._updateProgress(CR(y));const b=new UP(y,u.localStore,c.M);let A=yield c.fa();for(;A;){const F=yield b.Nu(A);F&&p._updateProgress(F),A=yield c.fa()}const M=yield b.complete();return yield Fc(u,M.Ou,void 0),yield function(F,B){const G=qe(F);return G.persistence.runTransaction("Save bundle","readwrite",ne=>G.ds.saveBundleMetadata(ne,B))}(u.localStore,y),p._completeWith(M.progress),Promise.resolve(M.Mu)}catch(y){return hp("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var F}),function(u,c,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield fA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function k1(n,e){return function w1(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,r){const i=qe(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.ds.getNamedQuery(u,r))}(yield hA(n),e)}))}(Kr(n=on(n,nr)),e).then(t=>t?new us(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ms(this,t):null)}}class zD extends bA{constructor(e){super(),this.firestore=e}convertBytes(e){return new J0(new fl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Sa.forKey(t,this.firestore,null)}}class CN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new zD(e)}get(e){const t=Fp(e);return this._delegate.get(t).then(r=>new X0(this._firestore,new Vc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Fp(e);return r?(CA("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Fp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Fp(e);return this._delegate.delete(t),this}}class IN{constructor(e){this._delegate=e}set(e,t,r){const i=Fp(e);return r?(CA("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Fp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Fp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Pp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Y0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new eE(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Pp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new Pp(e,new zD(e),t),i.set(t,u)),u}}Pp.INSTANCES=new WeakMap;class Sa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Sa(t,new Yn(t._delegate,r,new He(e)))}static forKey(e,t,r){return new Sa(t,new Yn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new fy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new fy(this.firestore,KR(this._delegate,e))}catch(t){throw As(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ht.m9)(e))instanceof Yn&&ZR(this._delegate,e)}set(e,t){t=CA("DocumentReference.set",t);try{return t?yN(this._delegate,e,t):yN(this._delegate,e)}catch(r){throw As(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?_N(this._delegate,e):_N(this._delegate,e,t,...r)}catch(i){throw As(i,"updateDoc()","DocumentReference.update()")}}delete(){return function aF(n){return hy(on(n.firestore,nr),[new ph(n._key,tr.none())])}(this._delegate)}onSnapshot(...e){const t=TN(e),r=SN(e,i=>new X0(this.firestore,new Vc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return vN(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function nF(n){n=on(n,Yn);const e=on(n.firestore,nr),t=Kr(e),r=new kp(e);return function m1(n,e){const t=new qr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,u,c){try{const p=yield function(y,b){const A=qe(y);return A.persistence.runTransaction("read document","readonly",M=>A.ai.Bs(M,b))}(i,u);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Ne(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=ay(p,`Failed to get document '${u} from cache`);c.reject(y)}}),function(i,u,c){return r.apply(this,arguments)})(yield hA(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Vc(e,r,n._key,i,new Op(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function rF(n){n=on(n,Yn);const e=on(n.firestore,nr);return UR(Kr(e),n._key,{source:"server"}).then(t=>DA(e,n,t))}(this._delegate):function tF(n){n=on(n,Yn);const e=on(n.firestore,nr);return UR(Kr(e),n._key).then(t=>DA(e,n,t))}(this._delegate),t.then(r=>new X0(this.firestore,new Vc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Sa(this.firestore,this._delegate.withConverter(e?Pp.getInstance(this.firestore,e):null))}}function As(n,e,t){return n.message=n.message.replace(e,t),n}function TN(n){for(const e of n)if("object"==typeof e&&!IA(e))return e;return{}}function SN(n,e){var t,r;let i;return i=IA(n[0])?n[0]:IA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class X0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Sa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return aN(this._delegate,e._delegate)}}class eE extends X0{data(e){const t=this._delegate.data(e);return function yT(n,e){n||it()}(void 0!==t),t}}class Ms{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zD(e)}where(e,t,r){try{return new Ms(this.firestore,Dh(this._delegate,function q1(n,e,t){const r=e,i=GD("where",n);return new G1(i,r,t)}(e,t,r)))}catch(i){throw As(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ms(this.firestore,Dh(this._delegate,function W1(n,e="asc"){const t=e,r=GD("orderBy",n);return new z1(r,t)}(e,t)))}catch(r){throw As(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ms(this.firestore,Dh(this._delegate,function K1(n){return zR("limit",n),new lN("limit",n,"F")}(e)))}catch(t){throw As(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ms(this.firestore,Dh(this._delegate,function Z1(n){return zR("limitToLast",n),new lN("limitToLast",n,"L")}(e)))}catch(t){throw As(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ms(this.firestore,Dh(this._delegate,function Y1(...n){return new cN("startAt",n,!0)}(...e)))}catch(t){throw As(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ms(this.firestore,Dh(this._delegate,function Q1(...n){return new cN("startAfter",n,!1)}(...e)))}catch(t){throw As(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ms(this.firestore,Dh(this._delegate,function J1(...n){return new dN("endBefore",n,!1)}(...e)))}catch(t){throw As(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ms(this.firestore,Dh(this._delegate,function X1(...n){return new dN("endAt",n,!0)}(...e)))}catch(t){throw As(t,"endAt()","Query.endAt()")}}isEqual(e){return YR(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function sF(n){n=on(n,us);const e=on(n.firestore,nr),t=Kr(e),r=new kp(e);return function y1(n,e){const t=new qr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,u,c){try{const p=yield MD(i,u,!0),y=new SR(u,p.hi),b=y.Gu(p.documents),A=y.applyChanges(b,!1);c.resolve(A.snapshot)}catch(p){const y=ay(p,`Failed to execute query '${u} against cache`);c.reject(y)}}),function(i,u,c){return r.apply(this,arguments)})(yield hA(n),e,t);var r})),t.promise}(t,n._query).then(i=>new bh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function oF(n){n=on(n,us);const e=on(n.firestore,nr),t=Kr(e),r=new kp(e);return jR(t,n._query,{source:"server"}).then(i=>new bh(e,r,n,i))}(this._delegate):function iF(n){n=on(n,us);const e=on(n.firestore,nr),t=Kr(e),r=new kp(e);return uN(n._query),jR(t,n._query).then(i=>new bh(e,r,n,i))}(this._delegate),t.then(r=>new TA(this.firestore,new bh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=TN(e),r=SN(e,i=>new TA(this.firestore,new bh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return vN(this._delegate,t,r)}withConverter(e){return new Ms(this.firestore,this._delegate.withConverter(e?Pp.getInstance(this.firestore,e):null))}}class bF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new eE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class TA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ms(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new eE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new bF(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new eE(this._firestore,r))})}isEqual(e){return aN(this._delegate,e._delegate)}}class fy extends Ms{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Sa(this.firestore,e):null}doc(e){try{return new Sa(this.firestore,void 0===e?VD(this._delegate):VD(this._delegate,e))}catch(t){throw As(t,"doc()","CollectionReference.doc()")}}add(e){return function uF(n,e){const t=on(n.firestore,nr),r=VD(n),i=qD(n.converter,e);return hy(t,[jD(Rp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,tr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Sa(this.firestore,t))}isEqual(e){return ZR(this._delegate,e._delegate)}withConverter(e){return new fy(this.firestore,this._delegate.withConverter(e?Pp.getInstance(this.firestore,e):null))}}function Fp(n){return on(n,Yn)}class SA{constructor(...e){this._delegate=new Lc(...e)}static documentId(){return new SA(zr.keyField().canonicalString())}isEqual(e){return(e=(0,Ht.m9)(e))instanceof Lc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Lp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function fF(){return new yA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Lp(e)}static delete(){const e=function hF(){return new K0("deleteField")}();return e._methodName="FieldValue.delete",new Lp(e)}static arrayUnion(...e){const t=function pF(...n){return new V1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Lp(t)}static arrayRemove(...e){const t=function gF(...n){return new B1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Lp(t)}static increment(e){const t=function mF(n){return new U1("increment",n)}(e);return t._methodName="FieldValue.increment",new Lp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const DF={Firestore:DN,GeoPoint:BD,Timestamp:vr,Blob:J0,Transaction:CN,WriteBatch:IN,DocumentReference:Sa,DocumentSnapshot:X0,Query:Ms,QueryDocumentSnapshot:eE,QuerySnapshot:TA,CollectionReference:fy,FieldPath:SA,FieldValue:Lp,setLogLevel:function wF(n){!function Kb(n){sl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function IF(n){(function CF(n,e){n.INTERNAL.registerComponent(new Ff.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},DF)))})(n,(e,t)=>new DN(e,t,new EF)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(nv.Z);var WD=P(5363),TF=P(6063);class SF extends ar.x{constructor(e=1/0,t=1/0,r=TF.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let p=0;for(let y=1;y<r.length&&r[y]<=c;y+=2)p=y;p&&r.splice(0,p+1)}}}var AF=P(3099);function AN(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,AF.B)({connector:()=>new SF(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function MN(n,e){return(0,mi.m)(e)?Vn(()=>n,e):Vn(()=>n)}var AA=P(9468);P(5867);const RN=new Map,OF={activated:!1,tokenObservers:[]},kF={initialized:!1,enabled:!1};function xi(n){return RN.get(n)||OF}function lu(n,e){RN.set(n,e)}function ZD(){return kF}class BF{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new Ht.BH,yield function UF(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ht.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const xs=new Ht.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ON(n){if(!xi(n).activated)throw xs.create("use-before-activation",{appName:n.name})}function NA(n,e){return OA.apply(this,arguments)}function OA(){return OA=(0,_e.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const M=yield i.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const u={method:"POST",body:JSON.stringify(e),headers:r};let c,p;try{c=yield fetch(n,u)}catch(M){throw xs.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==c.status)throw xs.create("fetch-status-error",{httpStatus:c.status});try{p=yield c.json()}catch(M){throw xs.create("fetch-parse-error",{originalErrorMessage:M.message})}const y=p.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw xs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const b=1e3*Number(y[1]),A=Date.now();return{token:p.attestationToken,expireTimeMillis:A+b,issuedAtTimeMillis:A}}),OA.apply(this,arguments)}function qF(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const tE="firebase-app-check-store";let JD=null;function PN(){return JD||(JD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(xs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(tE,{keyPath:"compositeKey"})}}catch(t){e(xs.create("storage-open",{originalErrorMessage:t.message}))}}),JD)}function kA(){return kA=(0,_e.Z)(function*(n,e){const r=(yield PN()).transaction(tE,"readwrite"),u=r.objectStore(tE).put({compositeKey:n,value:e});return new Promise((c,p)=>{u.onsuccess=y=>{c()},r.onerror=y=>{var b;p(xs.create("storage-set",{originalErrorMessage:null===(b=y.target.error)||void 0===b?void 0:b.message}))}})}),kA.apply(this,arguments)}const nE=new eu.Yd("@firebase/app-check");function BN(n,e){return(0,Ht.hl)()?function ZF(n,e){return function FN(n,e){return kA.apply(this,arguments)}(function VN(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{nE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function UN(){return ZD().enabled}function jN(){return VA.apply(this,arguments)}function VA(){return VA=(0,_e.Z)(function*(){const n=ZD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),VA.apply(this,arguments)}const tL={error:"UNKNOWN_ERROR"};function nL(n){return Ht.US.encodeString(JSON.stringify(n),!1)}function XD(n){return BA.apply(this,arguments)}function BA(){return BA=(0,_e.Z)(function*(n,e=!1){const t=n.app;ON(t);const r=xi(t);let u,i=r.token;if(!i){const y=yield r.cachedTokenPromise;y&&eC(y)&&(i=y)}if(!e&&i&&eC(i))return{token:i.token};let p,c=!1;if(UN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=NA(qF(t,yield jN()),n.heartbeatServiceProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),c=!0);const y=yield r.exchangeTokenPromise;return yield BN(t,y),lu(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),c=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?nE.warn(y.message):nE.error(y),u=y}return i?(p={token:i.token},lu(t,Object.assign(Object.assign({},r),{token:i})),yield BN(t,i)):p=iL(u),c&&HN(t,p),p}),BA.apply(this,arguments)}function jA(n,e){const t=xi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),lu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function $N(n){const{app:e}=n,t=xi(e);let r=t.tokenRefresher;r||(r=function rL(n){const{app:e}=n;return new BF((0,_e.Z)(function*(){let r;if(r=xi(e).token?yield XD(n,!0):yield XD(n),r.error)throw r.error}),()=>!0,()=>{const t=xi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),lu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function HN(n,e){const t=xi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function eC(n){return n.expireTimeMillis-Date.now()>0}function iL(n){return{token:nL(tL),error:n}}class sL{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=xi(this.app);for(const t of e)jA(this.app,t.next);return Promise.resolve()}}const QN="app-check-internal";!function vL(){(0,Qu._registerComponent)(new Ff.wA("app-check",n=>function oL(n,e){return new sL(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(QN).initialize()})),(0,Qu._registerComponent)(new Ff.wA(QN,n=>function aL(n){return{getToken:e=>XD(n,e),addTokenListener:e=>function UA(n,e,t,r){const{app:i}=n,u=xi(i),c={next:t,error:r,type:e};if(lu(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,c]})),u.token&&eC(u.token)){const p=u.token;Promise.resolve().then(()=>{t({token:p.token}),$N(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>$N(n))}(n,"INTERNAL",e),removeTokenListener:e=>jA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Qu.registerVersion)("@firebase/app-check","0.5.5")}();class qA{constructor(){return(0,$r.vb)("app-check")}}"undefined"!=typeof window&&window;var CL=P(127);const XN=new f.OlP("angularfire2.auth.use-emulator"),eO=new f.OlP("angularfire2.auth.settings"),tO=new f.OlP("angularfire2.auth.tenant-id"),nO=new f.OlP("angularfire2.auth.langugage-code"),rO=new f.OlP("angularfire2.auth.use-device-language"),iO=new f.OlP("angularfire.auth.persistence"),sO=(n,e,t,r,i,u,c,p)=>(0,oo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,u&&y.useDeviceLanguage(),c)for(const[b,A]of Object.entries(c))y.settings[b]=A;return p&&y.setPersistence(p),y},[t,r,i,u,c,p]);let oO=(()=>{class n{constructor(t,r,i,u,c,p,y,b,A,M,F,B){const G=new ar.x,ne=yt(void 0).pipe((0,WD.Q)(c.outsideAngular),Vn(()=>u.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,4087)))),(0,Ot.U)(()=>(0,oo.on)(t,u,r)),(0,Ot.U)(be=>sO(be,u,p,b,A,M,y,F)),AN({bufferSize:1,refCount:!1}));if(mr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=yt(null);else{ne.pipe(eo()).subscribe();const Ze=ne.pipe(Vn(ze=>ze.getRedirectResult().then(_t=>_t,()=>null)),$r.iC,AN({bufferSize:1,refCount:!1})),Le=ne.pipe(Vn(ze=>new Fr.y(_t=>({unsubscribe:u.runOutsideAngular(()=>ze.onAuthStateChanged(ct=>_t.next(ct),ct=>_t.error(ct),()=>_t.complete()))})))),Ke=ne.pipe(Vn(ze=>new Fr.y(_t=>({unsubscribe:u.runOutsideAngular(()=>ze.onIdTokenChanged(ct=>_t.next(ct),ct=>_t.error(ct),()=>_t.complete()))}))));this.authState=Ze.pipe(MN(Le),(0,AA.R)(c.outsideAngular),(0,WD.Q)(c.insideAngular)),this.user=Ze.pipe(MN(Ke),(0,AA.R)(c.outsideAngular),(0,WD.Q)(c.insideAngular)),this.idToken=this.user.pipe(Vn(ze=>ze?(0,Fn.D)(ze.getIdToken()):yt(null))),this.idTokenResult=this.user.pipe(Vn(ze=>ze?(0,Fn.D)(ze.getIdTokenResult()):yt(null))),this.credential=(0,SE.T)(Ze,G,this.authState.pipe(Qi(ze=>!ze))).pipe((0,Ot.U)(ze=>(null==ze?void 0:ze.user)?ze:null),(0,AA.R)(c.outsideAngular),(0,WD.Q)(c.insideAngular))}return(0,oo.pX)(this,ne,u,{spy:{apply:(be,Ze,Le)=>{(be.startsWith("signIn")||be.startsWith("createUser"))&&Le.then(Ke=>G.next(Ke))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(oo.Dh),f.LFG(oo.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG($r.HU),f.LFG(XN,8),f.LFG(eO,8),f.LFG(tO,8),f.LFG(nO,8),f.LFG(rO,8),f.LFG(iO,8),f.LFG(qA,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function aO(n,e){return function TL(n,e=$I.z){return new Fr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function WA(n,e){return aO(n,e).pipe((0,Ot.U)(t=>({payload:t,type:"query"})))}function nC(n,e){return WA(n,e).pipe(Bi(void 0),Qg(),(0,Ot.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const y=i.find(A=>A.doc.ref.isEqual(c.ref)),b=null==t?void 0:t.payload.docs.find(A=>A.ref.isEqual(c.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(c.metadata)||!y&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),u}))}function uO(n,e,t){return nC(n,t).pipe(Sr((r,i)=>function AL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function ML(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return KA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return KA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return KA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function Jg(n,e=pi.y){return n=null!=n?n:HI,(0,Lr.e)((t,r)=>{let i,u=!0;t.subscribe((0,zn.x)(r,c=>{const p=e(c);(u||!n(i,p))&&(u=!1,i=p,r.next(c))}))})}(),(0,Ot.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function KA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function lO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class cO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=nC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ot.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Bi(void 0),Qg(),Qi(([r,i])=>i.length>0||!r),(0,Ot.U)(([r,i])=>i),$r.iC)}auditTrail(e){return this.stateChanges(e).pipe(Sr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=lO(e);return uO(this.query,t,this.afs.schedulers.outsideAngular).pipe($r.iC)}valueChanges(e={}){return WA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),$r.iC)}get(e){return(0,Fn.D)(this.query.get(e)).pipe($r.iC)}add(e){return this.ref.add(e)}doc(e){return new dO(this.ref.doc(e),this.afs)}}class dO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=pO(r,t);return new cO(i,u,this.afs)}snapshotChanges(){return function SL(n,e){return aO(n,e).pipe(Bi(void 0),Qg(),(0,Ot.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($r.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ot.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Fn.D)(this.ref.get(e)).pipe($r.iC)}}class xL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?nC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Qi(t=>t.length>0),$r.iC):nC(this.query,this.afs.schedulers.outsideAngular).pipe($r.iC)}auditTrail(e){return this.stateChanges(e).pipe(Sr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=lO(e);return uO(this.query,t,this.afs.schedulers.outsideAngular).pipe($r.iC)}valueChanges(e={}){return WA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),$r.iC)}get(e){return(0,Fn.D)(this.query.get(e)).pipe($r.iC)}}const hO=new f.OlP("angularfire2.enableFirestorePersistence"),fO=new f.OlP("angularfire2.firestore.persistenceSettings"),RL=new f.OlP("angularfire2.firestore.settings"),NL=new f.OlP("angularfire2.firestore.use-emulator");function pO(n,e=(t=>t)){return{query:e(n),ref:n}}let ZA=(()=>{class n{constructor(t,r,i,u,c,p,y,b,A,M,F,B,G,ne,be,Ze,Le){this.schedulers=y;const Ke=(0,oo.on)(t,p,r),ze=A;M&&sO(Ke,p,F,G,ne,be,B,Ze),[this.firestore,this.persistenceEnabled$]=(0,oo.cc)(`${Ke.name}.firestore`,"AngularFirestore",Ke.name,()=>{const _t=p.runOutsideAngular(()=>Ke.firestore());if(u&&_t.settings(u),ze&&_t.useEmulator(...ze),i&&!mr(c)){const ct=()=>{try{return(0,Fn.D)(_t.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Xt){return"undefined"!=typeof console&&console.warn(Xt),yt(!1)}};return[_t,p.runOutsideAngular(ct)]}return[_t,yt(!1)]},[u,ze,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=pO(i,r),p=this.schedulers.ngZone.run(()=>u);return new cO(p,c,this)}collectionGroup(t,r){const i=r||(c=>c),u=this.firestore.collectionGroup(t);return new xL(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new dO(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(oo.Dh),f.LFG(oo.xv,8),f.LFG(hO,8),f.LFG(RL,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG($r.HU),f.LFG(fO,8),f.LFG(NL,8),f.LFG(oO,8),f.LFG(XN,8),f.LFG(eO,8),f.LFG(tO,8),f.LFG(nO,8),f.LFG(rO,8),f.LFG(iO,8),f.LFG(qA,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),gO=(()=>{class n{constructor(){CL.Z.registerVersion("angularfire",$r.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:hO,useValue:!0},{provide:fO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[ZA]}),n})();const mO=(n,e)=>{if(void 0===e)return n;const t=Object.keys(e);return n.filter(i=>((i,u,c)=>void 0===i.find(p=>u[p]!==c[p]))(t,i,e))};let rE=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("tasks").add(t)}getAll(t){return this._client.collection("tasks").valueChanges({idField:"id"}).pipe((0,Ot.U)(r=>mO(r,t)))}remove(t){this._client.doc("tasks/"+t).delete()}set(t){this._client.doc("tasks/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ZA))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const yO=new f.OlP("ADDS_TASK_DTO");let YA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[rE,{provide:yO,useExisting:rE},{provide:qE,useExisting:rE},{provide:Mg,useExisting:rE},{provide:zE,useExisting:rE}],imports:[[gO]]}),n})(),_O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[gr,KC.forRoot(),Nd.forRoot()]]}),n})(),OL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[gr,pa.forChild([{path:"",component:XE}]),wf,YA,_O,kg]]}),n})();const vO=new f.OlP("GETS_ALL_IMAGE_DTO");function kL(n,e){if(1&n&&(f.TgZ(0,"div",2),f._UZ(1,"img",3),f.qZA()),2&n){const t=e.$implicit;f.xp6(1),f.Q6J("src",t.imageUrl,f.LSH)("alt",t.alt)}}let EO=(()=>{class n{constructor(t){this._getsAllImageDto=t,this.images$=this._getsAllImageDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(vO))},n.\u0275cmp=f.Xpm({type:n,selectors:[["lib-photos-list"]],decls:3,vars:3,consts:[[1,"d-flex","justify-content-between","align-items-center","pt-4"],["style","width: 24rem;",4,"ngFor","ngForOf"],[2,"width","24rem"],[1,"card-img-top","p-1",3,"src","alt"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0),f.YNc(1,kL,2,2,"div",1),f.ALo(2,"async"),f.qZA()),2&t&&(f.xp6(1),f.Q6J("ngForOf",f.lcZ(2,1,r.images$)))},directives:[or],pipes:[ka],encapsulation:2,changeDetection:0}),n})(),PL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-home-page"]],decls:9,vars:0,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","h-50"],[1,"text-center"],["routerLink","/first-task","role","button",1,"btn","bg-special","text-white"]],template:function(t,r){1&t&&(f._UZ(0,"lib-date"),f.TgZ(1,"div",0)(2,"h1",1),f._uU(3,"Get a clear view of the day ahead"),f.qZA(),f.TgZ(4,"p",1),f._uU(5,"All your tasks that are due today will show up here"),f.qZA(),f.TgZ(6,"a",2),f._uU(7,"Add task"),f.qZA()(),f._UZ(8,"lib-photos-list"))},directives:[hf,ac,EO],encapsulation:2,changeDetection:0}),n})(),QA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[gr]]}),n})(),wO=(()=>{class n{constructor(t){this._client=t}getAll(t){return this._client.collection("images").valueChanges({idField:"id"}).pipe((0,Ot.U)(r=>mO(r,t)))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ZA))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),JA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[wO,{provide:vO,useExisting:wO}],imports:[[gO]]}),n})(),FL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[gr,pa.forChild([{path:"",component:PL}]),wf,QA,JA,kg]]}),n})(),bO=(()=>{class n{constructor(t,r){this._addsTaskDto=t,this.router=r,this.createTask=new jd({task:new Iw("",[Lo.required])})}onCreateTaskSubmited(t){var r;t.invalid||(this._addsTaskDto.add({name:null===(r=null==t?void 0:t.get("task"))||void 0===r?void 0:r.value,date:(new Date).getTime()}),this.router.navigate(["/my-list"]))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(yO),f.Y36(ni))},n.\u0275cmp=f.Xpm({type:n,selectors:[["lib-add-task"]],decls:8,vars:2,consts:[[1,"pt-5"],[1,"form-floating",3,"formGroup","ngSubmit"],["type","text","formControlName","task","placeholder","Write your task here","id","floatingTextarea2",1,"form-control",2,"height","100px","max-width","350px"],["for","floatingTextarea2"],["type","submit","value","Add task",1,"btn","bg-special","text-white","mt-4","me-4",3,"disabled"],["routerLink","/my-list","role","button",1,"btn","text-dark","bg-white","border-dark","mt-4"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"form",1),f.NdJ("ngSubmit",function(){return r.onCreateTaskSubmited(r.createTask)}),f._UZ(2,"input",2),f.TgZ(3,"label",3),f._uU(4,"Write your task here"),f.qZA(),f._UZ(5,"input",4),f.TgZ(6,"a",5),f._uU(7,"Cancel"),f.qZA()()()),2&t&&(f.xp6(1),f.Q6J("formGroup",r.createTask),f.xp6(4),f.Q6J("disabled",r.createTask.invalid))},directives:[Y_,pc,kf,R_,fc,zg,ac],encapsulation:2,changeDetection:0}),n})(),LL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-add-task-page"]],decls:3,vars:0,template:function(t,r){1&t&&f._UZ(0,"lib-date")(1,"lib-tasks-list-view")(2,"lib-add-task")},directives:[hf,A_,bO],encapsulation:2,changeDetection:0}),n})(),VL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[gr,pa.forChild([{path:"",component:LL}]),wf,QA,_O,YA,tv,JA,kg]]}),n})(),BL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-first-task-page"]],decls:4,vars:0,consts:[[1,"h-50"]],template:function(t,r){1&t&&(f._UZ(0,"lib-date"),f.TgZ(1,"div",0),f._UZ(2,"lib-add-task"),f.qZA(),f._UZ(3,"lib-photos-list"))},directives:[hf,bO,EO],encapsulation:2,changeDetection:0}),n})(),UL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[gr,pa.forChild([{path:"",component:BL}]),wf,kg,tv,YA,QA,JA]]}),n})();const jL=[{path:"my-list",loadChildren:()=>OL},{path:"",loadChildren:()=>FL},{path:"add-task",loadChildren:()=>VL},{path:"first-task",loadChildren:()=>UL}];let $L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[pa.forRoot(jL)],pa]}),n})(),HL=(()=>{class n{constructor(){this.title="ToDoApp"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"d-flex","py-3","fs-5","justify-content-center","bg-special"],[1,"w-75"],["routerLink","/",1,"text-decoration-none","text-white"],[1,"d-flex","justify-content-center","vh-100"]],template:function(t,r){1&t&&(f.TgZ(0,"header",0)(1,"div",1)(2,"a",2),f._uU(3,"RAMOTKA's TO-DO APP"),f.qZA()()(),f.TgZ(4,"div",3)(5,"div",1),f._UZ(6,"router-outlet"),f.qZA()())},directives:[ac,ec],styles:[""]}),n})();const rn=!1;function DO(n){return new f.vHH(3e3,rn)}function DV(){return"undefined"!=typeof window&&void 0!==window.document}function XA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ih(n){switch(n.length){case 0:return new Dg;case 1:return n[0];default:return new a_(n)}}function CO(n,e,t,r,i={},u={}){const c=[],p=[];let y=-1,b=null;if(r.forEach(A=>{const M=A.offset,F=M==y,B=F&&b||{};Object.keys(A).forEach(G=>{let ne=G,be=A[G];if("offset"!==G)switch(ne=e.normalizePropertyName(ne,c),be){case"!":be=i[G];break;case _a:be=u[G];break;default:be=e.normalizeStyleValue(G,ne,be,c)}B[ne]=be}),F||p.push(B),b=B,y=M}),c.length)throw function hV(n){return new f.vHH(3502,rn)}();return p}function eM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&tM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&tM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&tM(t,"destroy",n)))}}function tM(n,e,t){const r=t.totalTime,u=nM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(u._data=c),u}function nM(n,e,t,r,i="",u=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!c}}function Go(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function IO(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let rM=(n,e)=>!1,TO=(n,e,t)=>[],SO=null;function iM(n){const e=n.parentNode||n.host;return e===SO?null:e}(XA()||"undefined"!=typeof Element)&&(DV()?(SO=(()=>document.documentElement)(),rM=(n,e)=>{for(;e;){if(e===n)return!0;e=iM(e)}return!1}):rM=(n,e)=>n.contains(e),TO=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Vp=null,AO=!1;function MO(n){Vp||(Vp=function IV(){return"undefined"!=typeof document?document.body:null}()||{},AO=!!Vp.style&&"WebkitAppearance"in Vp.style);let e=!0;return Vp.style&&!function CV(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Vp.style,!e&&AO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Vp.style)),e}const xO=rM,RO=TO;let NO=(()=>{class n{validateStyleProperty(t){return MO(t)}matchesElement(t,r){return!1}containsElement(t,r){return xO(t,r)}getParentElement(t){return iM(t)}query(t,r,i){return RO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,c,p=[],y){return new Dg(i,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),sM=(()=>{class n{}return n.NOOP=new NO,n})();const oM="ng-enter",iC="ng-leave",sC="ng-trigger",oC=".ng-trigger",kO="ng-animating",aM=".ng-animating";function Bp(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:uM(parseFloat(e[1]),e[2])}function uM(n,e){return"s"===e?1e3*n:n}function aC(n,e,t){return n.hasOwnProperty("duration")?n:function AV(n,e,t){let i,u=0,c="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(DO()),{duration:0,delay:0,easing:""};i=uM(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(u=uM(parseFloat(y),p[4]));const b=p[5];b&&(c=b)}else i=n;if(!t){let p=!1,y=e.length;i<0&&(e.push(function GL(){return new f.vHH(3100,rn)}()),p=!0),u<0&&(e.push(function qL(){return new f.vHH(3101,rn)}()),p=!0),p&&e.splice(y,0,DO())}return{duration:i,delay:u,easing:c}}(n,e,t)}function py(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Th(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else py(n,t);return t}function FO(n,e,t){return t?e+":"+t+";":""}function LO(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=FO(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=FO(0,RV(t),n.style[t]));n.setAttribute("style",e)}function pl(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=cM(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),XA()&&LO(n))}function Up(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=cM(t);n.style[r]=""}),XA()&&LO(n))}function iE(n){return Array.isArray(n)?1==n.length?n[0]:bg(n):n}const lM=new RegExp("{{\\s*(.+?)\\s*}}","g");function VO(n){let e=[];if("string"==typeof n){let t;for(;t=lM.exec(n);)e.push(t[1]);lM.lastIndex=0}return e}function uC(n,e,t){const r=n.toString(),i=r.replace(lM,(u,c)=>{let p=e[c];return e.hasOwnProperty(c)||(t.push(function WL(n){return new f.vHH(3003,rn)}()),p=""),p.toString()});return i==r?n:i}function lC(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const xV=/-+([a-z0-9])/g;function cM(n){return n.replace(xV,(...e)=>e[1].toUpperCase())}function RV(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function KL(n){return new f.vHH(3004,rn)}()}}function BO(n,e){return window.getComputedStyle(n)[e]}function LV(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function VV(n,e,t){if(":"==n[0]){const y=function BV(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function uV(n){return new f.vHH(3016,rn)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function aV(n){return new f.vHH(3015,rn)}()),e;const i=r[1],u=r[2],c=r[3];e.push(UO(i,c));"<"==u[0]&&!("*"==i&&"*"==c)&&e.push(UO(c,i))}(r,t,e)):t.push(n),t}const fC=new Set(["true","1"]),pC=new Set(["false","0"]);function UO(n,e){const t=fC.has(n)||pC.has(n),r=fC.has(e)||pC.has(e);return(i,u)=>{let c="*"==n||n==i,p="*"==e||e==u;return!c&&t&&"boolean"==typeof i&&(c=i?fC.has(n):pC.has(n)),!p&&r&&"boolean"==typeof u&&(p=u?fC.has(e):pC.has(e)),c&&p}}const UV=new RegExp("s*:selfs*,?","g");function dM(n,e,t,r){return new jV(n).build(e,t,r)}class jV{constructor(e){this._driver=e}build(e,t,r){const i=new GV(t);this._resetContextStyleTimingState(i);const u=qo(this,iE(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),u}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function YL(){return new f.vHH(3006,rn)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const y=p,b=y.name;b.toString().split(/\s*,\s*/).forEach(A=>{y.name=A,u.push(this.visitState(y,t))}),y.name=b}else if(1==p.type){const y=this.visitTransition(p,t);r+=y.queryCount,i+=y.depCount,c.push(y)}else t.errors.push(function QL(){return new f.vHH(3007,rn)}())}),{type:7,name:e.name,states:u,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,c=i||{};r.styles.forEach(p=>{if(gC(p)){const y=p;Object.keys(y).forEach(b=>{VO(y[b]).forEach(A=>{c.hasOwnProperty(A)||u.add(A)})})}}),u.size&&(lC(u.values()),t.errors.push(function JL(n,e){return new f.vHH(3008,rn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=qo(this,iE(e.animation),t);return{type:1,matchers:LV(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:jp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>qo(this,r,t)),options:jp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(c=>{t.currentTime=r;const p=qo(this,c,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:u,options:jp(e.options)}}visitAnimate(e,t){const r=function zV(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return hM(aC(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=hM(0,0,"");return u.dynamic=!0,u.strValue=r,u}return t=t||aC(r,e),hM(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:Td({});if(5==u.type)i=this.visitKeyframes(u,t);else{let c=e.styles,p=!1;if(!c){p=!0;const b={};r.easing&&(b.easing=r.easing),c=Td(b)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(c,t);y.isEmptyStep=p,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==_a?r.push(c):t.errors.push(function XL(n){return new f.vHH(3002,rn)}()):r.push(c)}):r.push(e.styles);let i=!1,u=null;return r.forEach(c=>{if(gC(c)){const p=c,y=p.easing;if(y&&(u=y,delete p.easing),!i)for(let b in p)if(p[b].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(p=>{if(!this._driver.validateStyleProperty(p))return delete c[p],void t.unsupportedCSSPropertiesFound.add(p);const y=t.collectedStyles[t.currentQuerySelector],b=y[p];let A=!0;b&&(u!=i&&u>=b.startTime&&i<=b.endTime&&(t.errors.push(function eV(n,e,t,r,i){return new f.vHH(3010,rn)}()),A=!1),u=b.startTime),A&&(y[p]={startTime:u,endTime:i}),t.options&&function MV(n,e,t){const r=e.params||{},i=VO(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function zL(n){return new f.vHH(3001,rn)}())})}(c[p],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function tV(){return new f.vHH(3011,rn)}()),r;let u=0;const c=[];let p=!1,y=!1,b=0;const A=e.steps.map(Ze=>{const Le=this._makeStyleAst(Ze,t);let Ke=null!=Le.offset?Le.offset:function qV(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(gC(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(gC(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Le.styles),ze=0;return null!=Ke&&(u++,ze=Le.offset=Ke),y=y||ze<0||ze>1,p=p||ze<b,b=ze,c.push(ze),Le});y&&t.errors.push(function nV(){return new f.vHH(3012,rn)}()),p&&t.errors.push(function rV(){return new f.vHH(3200,rn)}());const M=e.steps.length;let F=0;u>0&&u<M?t.errors.push(function iV(){return new f.vHH(3202,rn)}()):0==u&&(F=1/(M-1));const B=M-1,G=t.currentTime,ne=t.currentAnimateTimings,be=ne.duration;return A.forEach((Ze,Le)=>{const Ke=F>0?Le==B?1:F*Le:c[Le],ze=Ke*be;t.currentTime=G+ne.delay+ze,ne.duration=ze,this._validateStyleAst(Ze,t),Ze.offset=Ke,r.styles.push(Ze)}),r}visitReference(e,t){return{type:8,animation:qo(this,iE(e.animation),t),options:jp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:jp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:jp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,c]=function $V(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(UV,"")),n=n.replace(/@\*/g,oC).replace(/@\w+/g,t=>oC+"-"+t.substr(1)).replace(/:animating/g,aM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,Go(t.collectedStyles,t.currentQuerySelector,{});const p=qo(this,iE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:p,originalSelector:e.selector,options:jp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function sV(){return new f.vHH(3013,rn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:aC(e.timings,t.errors,!0);return{type:12,animation:qo(this,iE(e.animation),t),timings:r,options:null}}}class GV{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gC(n){return!Array.isArray(n)&&"object"==typeof n}function jp(n){return n?(n=py(n)).params&&(n.params=function HV(n){return n?py(n):null}(n.params)):n={},n}function hM(n,e,t){return{duration:n,delay:e,easing:t}}function fM(n,e,t,r,i,u,c=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:c,subTimeline:p}}class mC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const ZV=new RegExp(":enter","g"),QV=new RegExp(":leave","g");function pM(n,e,t,r,i,u={},c={},p,y,b=[]){return(new JV).buildKeyframes(n,e,t,r,i,u,c,p,y,b)}class JV{buildKeyframes(e,t,r,i,u,c,p,y,b,A=[]){b=b||new mC;const M=new gM(e,t,b,i,u,A,[]);M.options=y,M.currentTimeline.setStyles([c],null,M.errors,y),qo(this,r,M);const F=M.timelines.filter(B=>B.containsAnimation());if(Object.keys(p).length){let B;for(let G=F.length-1;G>=0;G--){const ne=F[G];if(ne.element===t){B=ne;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([p],null,M.errors,y)}return F.length?F.map(B=>B.buildKeyframes()):[fM(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);u!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const c=null!=r.duration?Bp(r.duration):null,p=null!=r.delay?Bp(r.delay):null;return 0!==c&&e.forEach(y=>{const b=t.appendInstructionToTimeline(y,c,p);u=Math.max(u,b.duration+b.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),qo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=yC);const c=Bp(u.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>qo(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Bp(e.options.delay):0;e.steps.forEach(c=>{const p=t.createSubContext(e.options);u&&p.delayNextStep(u),qo(this,c,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return aC(t.params?uC(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(y=>{p.forwardTime((y.offset||0)*u),p.setStyles(y.styles,y.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?Bp(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=yC);let c=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let y=null;p.forEach((b,A)=>{t.currentQueryIndex=A;const M=t.createSubContext(e.options,b);u&&M.delayNextStep(u),b===t.element&&(y=M.currentTimeline),qo(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,c=Math.abs(u.duration),p=c*(t.currentQueryTotal-1);let y=c*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":y=p-y;break;case"full":y=r.currentStaggerTime}const A=t.currentTimeline;y&&A.delayNextStep(y);const M=A.currentTime;qo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const yC={};class gM{constructor(e,t,r,i,u,c,p,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=c,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new _C(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Bp(r.duration)),null!=r.delay&&(i.delay=Bp(r.delay));const u=r.params;if(u){let c=i.params;c||(c=this.options.params={}),Object.keys(u).forEach(p=>{(!t||!c.hasOwnProperty(p))&&(c[p]=uC(u[p],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new gM(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=yC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},u=new XV(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,c){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(ZV,"."+this._enterClassName)).replace(QV,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),p.push(...b)}return!u&&0==p.length&&c.push(function oV(n){return new f.vHH(3014,rn)}()),p}}class _C{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new _C(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||_a,this._currentKeyframe[t]=_a}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const u=i&&i.params||{},c=function eB(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(u=>{t[u]=_a})):Th(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(p=>{const y=uC(c[p],u,r);this._pendingStyles[p]=y,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:_a),this._updateStyle(p,y)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,y)=>{const b=Th(p,!0);Object.keys(b).forEach(A=>{const M=b[A];"!"==M?e.add(A):M==_a&&t.add(A)}),r||(b.offset=y/this.duration),i.push(b)});const u=e.size?lC(e.values()):[],c=t.size?lC(t.values()):[];if(r){const p=i[0],y=py(p);p.offset=0,y.offset=1,i=[p,y]}return fM(this.element,i,u,c,this.duration,this.startTime,this.easing,!1)}}class XV extends _C{constructor(e,t,r,i,u,c,p=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=p,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],c=r+t,p=t/c,y=Th(e[0],!1);y.offset=0,u.push(y);const b=Th(e[0],!1);b.offset=HO(p),u.push(b);const A=e.length-1;for(let M=1;M<=A;M++){let F=Th(e[M],!1);F.offset=HO((t+F.offset*r)/c),u.push(F)}r=c,t=0,i="",e=u}return fM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function HO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class mM{}class tB extends mM{normalizePropertyName(e,t){return cM(e)}normalizeStyleValue(e,t,r,i){let u="";const c=r.toString().trim();if(nB[t]&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function ZL(n,e){return new f.vHH(3005,rn)}())}return c+u}}const nB=(()=>function rB(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function GO(n,e,t,r,i,u,c,p,y,b,A,M,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:c,timelines:p,queriedElements:y,preStyleProps:b,postStyleProps:A,totalTime:M,errors:F}}const yM={};class qO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function iB(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],u=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return u?u.buildStyles(t,r):c}build(e,t,r,i,u,c,p,y,b,A){const M=[],F=this.ast.options&&this.ast.options.params||yM,G=this.buildStyles(r,p&&p.params||yM,M),ne=y&&y.params||yM,be=this.buildStyles(i,ne,M),Ze=new Set,Le=new Map,Ke=new Map,ze="void"===i,_t={params:Object.assign(Object.assign({},F),ne)},ct=A?[]:pM(e,t,this.ast.animation,u,c,G,be,_t,b,M);let Xt=0;if(ct.forEach(vn=>{Xt=Math.max(vn.duration+vn.delay,Xt)}),M.length)return GO(t,this._triggerName,r,i,ze,G,be,[],[],Le,Ke,Xt,M);ct.forEach(vn=>{const Zt=vn.element,Dn=Go(Le,Zt,{});vn.preStyleProps.forEach(gl=>Dn[gl]=!0);const Rs=Go(Ke,Zt,{});vn.postStyleProps.forEach(gl=>Rs[gl]=!0),Zt!==t&&Ze.add(Zt)});const bn=lC(Ze.values());return GO(t,this._triggerName,r,i,ze,G,be,ct,bn,Le,Ke,Xt)}}class sB{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=py(this.defaultParams);return Object.keys(e).forEach(u=>{const c=e[u];null!=c&&(i[u]=c)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const c=u;Object.keys(c).forEach(p=>{let y=c[p];y.length>1&&(y=uC(y,i,t));const b=this.normalizer.normalizePropertyName(p,t);y=this.normalizer.normalizeStyleValue(p,b,y,t),r[b]=y})}}),r}}class aB{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new sB(i.style,i.options&&i.options.params||{},r)}),zO(this.states,"true","1"),zO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new qO(e,i,this.states))}),this.fallbackTransition=function uB(n,e,t){return new qO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function zO(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const lB=new mC;class cB{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],u=dM(this._driver,t,r,[]);if(r.length)throw function fV(n){return new f.vHH(3503,rn)}();this._animations[e]=u}_buildPlayer(e,t,r){const i=e.element,u=CO(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations[e];let c;const p=new Map;if(u?(c=pM(this._driver,t,u,oM,iC,{},{},r,lB,i),c.forEach(A=>{const M=Go(p,A.element,{});A.postStyleProps.forEach(F=>M[F]=null)})):(i.push(function pV(){return new f.vHH(3300,rn)}()),c=[]),i.length)throw function gV(n){return new f.vHH(3504,rn)}();p.forEach((A,M)=>{Object.keys(A).forEach(F=>{A[F]=this._driver.computeStyle(M,F,_a)})});const b=Ih(c.map(A=>{const M=p.get(A.element);return this._buildPlayer(A,{},M)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function mV(n){return new f.vHH(3301,rn)}();return t}listen(e,t,r,i){const u=nM(t,"","","");return eM(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const WO="ng-animate-queued",_M="ng-animate-disabled",gB=[],KO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},mB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Aa="__ng_removed";class vM{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function EB(n){return null!=n?n:null}(r?e.value:e),r){const u=py(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const sE="void",EM=new vM(sE);class yB{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ma(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function yV(n,e){return new f.vHH(3302,rn)}();if(null==r||0==r.length)throw function _V(n){return new f.vHH(3303,rn)}();if(!function wB(n){return"start"==n||"done"==n}(r))throw function vV(n,e){return new f.vHH(3400,rn)}();const u=Go(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};u.push(c);const p=Go(this._engine.statesByElement,e,{});return p.hasOwnProperty(t)||(Ma(e,sC),Ma(e,sC+"-"+t),p[t]=EM),()=>{this._engine.afterFlush(()=>{const y=u.indexOf(c);y>=0&&u.splice(y,1),this._triggers[t]||delete p[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function EV(n){return new f.vHH(3401,rn)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),c=new wM(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(Ma(e,sC),Ma(e,sC+"-"+t),this._engine.statesByElement.set(e,p={}));let y=p[t];const b=new vM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&b.absorbOptions(y.options),p[t]=b,y||(y=EM),b.value!==sE&&y.value===b.value){if(!function CB(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(y.params,b.params)){const ne=[],be=u.matchStyles(y.value,y.params,ne),Ze=u.matchStyles(b.value,b.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{Up(e,be),pl(e,Ze)})}return}const F=Go(this._engine.playersByElement,e,[]);F.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==t&&ne.queued&&ne.destroy()});let B=u.matchTransition(y.value,b.value,e,b.params),G=!1;if(!B){if(!i)return;B=u.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:y,toState:b,player:c,isFallbackTransition:G}),G||(Ma(e,WO),c.onStart(()=>{gy(e,WO)})),c.onDone(()=>{let ne=this.players.indexOf(c);ne>=0&&this.players.splice(ne,1);const be=this._engine.playersByElement.get(e);if(be){let Ze=be.indexOf(c);Ze>=0&&be.splice(Ze,1)}}),this.players.push(c),F.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,oC,!0);r.forEach(i=>{if(i[Aa])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),c=new Map;if(u){const p=[];if(Object.keys(u).forEach(y=>{if(c.set(y,u[y].value),this._triggers[y]){const b=this.trigger(e,y,sE,i);b&&p.push(b)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Ih(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const c=u.name;if(i.has(c))return;i.add(c);const y=this._triggers[c].fallbackTransition,b=r[c]||EM,A=new vM(sE),M=new wM(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:y,fromState:b,toState:A,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[Aa];(!u||u===KO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ma(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,c=this._elementListeners.get(u);c&&c.forEach(p=>{if(p.name==r.triggerName){const y=nM(u,r.triggerName,r.fromState.value,r.toState.value);y._data=e,eM(r.player,p.phase,y,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==u||0==c?u-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class _B{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new yB(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,u=r.length-1;if(u>=0){let c=!1;if(void 0!==this.driver.getParentElement){let p=this.driver.getParentElement(t);for(;p;){const y=i.get(p);if(y){const b=r.indexOf(y);r.splice(b+1,0,e),c=!0;break}p=this.driver.getParentElement(p)}}else for(let p=u;p>=0;p--)if(this.driver.containsElement(r[p].hostElement,t)){r.splice(p+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let u=0;u<i.length;u++){const c=r[i[u]].namespaceId;if(c){const p=this._fetchNamespace(c);p&&t.add(p)}}}return t}trigger(e,t,r,i){if(vC(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!vC(t))return;const u=t[Aa];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ma(e,_M)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),gy(e,_M))}removeNode(e,t,r,i){if(vC(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[Aa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return vC(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,oC,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,aM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ih(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Aa];if(r&&r.setForRemoval){if(e[Aa]=KO,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(_M))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ma(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ih(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function wV(n){return new f.vHH(3402,rn)}()}_flushAnimations(e,t){const r=new mC,i=[],u=new Map,c=[],p=new Map,y=new Map,b=new Map,A=new Set;this.disabledNodes.forEach(st=>{A.add(st);const mt=this.driver.query(st,".ng-animate-queued",!0);for(let At=0;At<mt.length;At++)A.add(mt[At])});const M=this.bodyNode,F=Array.from(this.statesByElement.keys()),B=QO(F,this.collectedEnterElements),G=new Map;let ne=0;B.forEach((st,mt)=>{const At=oM+ne++;G.set(mt,At),st.forEach(fn=>Ma(fn,At))});const be=[],Ze=new Set,Le=new Set;for(let st=0;st<this.collectedLeaveElements.length;st++){const mt=this.collectedLeaveElements[st],At=mt[Aa];At&&At.setForRemoval&&(be.push(mt),Ze.add(mt),At.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(fn=>Ze.add(fn)):Le.add(mt))}const Ke=new Map,ze=QO(F,Array.from(Ze));ze.forEach((st,mt)=>{const At=iC+ne++;Ke.set(mt,At),st.forEach(fn=>Ma(fn,At))}),e.push(()=>{B.forEach((st,mt)=>{const At=G.get(mt);st.forEach(fn=>gy(fn,At))}),ze.forEach((st,mt)=>{const At=Ke.get(mt);st.forEach(fn=>gy(fn,At))}),be.forEach(st=>{this.processLeaveNode(st)})});const _t=[],ct=[];for(let st=this._namespaceList.length-1;st>=0;st--)this._namespaceList[st].drainQueuedTransitions(t).forEach(At=>{const fn=At.player,Ri=At.element;if(_t.push(fn),this.collectedEnterElements.length){const Ns=Ri[Aa];if(Ns&&Ns.setForMove){if(Ns.previousTriggersValues&&Ns.previousTriggersValues.has(At.triggerName)){const $p=Ns.previousTriggersValues.get(At.triggerName),Ah=this.statesByElement.get(At.element);Ah&&Ah[At.triggerName]&&(Ah[At.triggerName].value=$p)}return void fn.destroy()}}const ml=!M||!this.driver.containsElement(M,Ri),zo=Ke.get(Ri),Sh=G.get(Ri),cr=this._buildInstruction(At,r,Sh,zo,ml);if(cr.errors&&cr.errors.length)return void ct.push(cr);if(ml)return fn.onStart(()=>Up(Ri,cr.fromStyles)),fn.onDestroy(()=>pl(Ri,cr.toStyles)),void i.push(fn);if(At.isFallbackTransition)return fn.onStart(()=>Up(Ri,cr.fromStyles)),fn.onDestroy(()=>pl(Ri,cr.toStyles)),void i.push(fn);const uk=[];cr.timelines.forEach(Ns=>{Ns.stretchStartingKeyframe=!0,this.disabledNodes.has(Ns.element)||uk.push(Ns)}),cr.timelines=uk,r.append(Ri,cr.timelines),c.push({instruction:cr,player:fn,element:Ri}),cr.queriedElements.forEach(Ns=>Go(p,Ns,[]).push(fn)),cr.preStyleProps.forEach((Ns,$p)=>{const Ah=Object.keys(Ns);if(Ah.length){let Hp=y.get($p);Hp||y.set($p,Hp=new Set),Ah.forEach(DM=>Hp.add(DM))}}),cr.postStyleProps.forEach((Ns,$p)=>{const Ah=Object.keys(Ns);let Hp=b.get($p);Hp||b.set($p,Hp=new Set),Ah.forEach(DM=>Hp.add(DM))})});if(ct.length){const st=[];ct.forEach(mt=>{st.push(function bV(n,e){return new f.vHH(3505,rn)}())}),_t.forEach(mt=>mt.destroy()),this.reportError(st)}const Xt=new Map,bn=new Map;c.forEach(st=>{const mt=st.element;r.has(mt)&&(bn.set(mt,mt),this._beforeAnimationBuild(st.player.namespaceId,st.instruction,Xt))}),i.forEach(st=>{const mt=st.element;this._getPreviousPlayers(mt,!1,st.namespaceId,st.triggerName,null).forEach(fn=>{Go(Xt,mt,[]).push(fn),fn.destroy()})});const vn=be.filter(st=>XO(st,y,b)),Zt=new Map;YO(Zt,this.driver,Le,b,_a).forEach(st=>{XO(st,y,b)&&vn.push(st)});const Rs=new Map;B.forEach((st,mt)=>{YO(Rs,this.driver,new Set(st),y,"!")}),vn.forEach(st=>{const mt=Zt.get(st),At=Rs.get(st);Zt.set(st,Object.assign(Object.assign({},mt),At))});const gl=[],oE=[],aE={};c.forEach(st=>{const{element:mt,player:At,instruction:fn}=st;if(r.has(mt)){if(A.has(mt))return At.onDestroy(()=>pl(mt,fn.toStyles)),At.disabled=!0,At.overrideTotalTime(fn.totalTime),void i.push(At);let Ri=aE;if(bn.size>1){let zo=mt;const Sh=[];for(;zo=zo.parentNode;){const cr=bn.get(zo);if(cr){Ri=cr;break}Sh.push(zo)}Sh.forEach(cr=>bn.set(cr,Ri))}const ml=this._buildAnimation(At.namespaceId,fn,Xt,u,Rs,Zt);if(At.setRealPlayer(ml),Ri===aE)gl.push(At);else{const zo=this.playersByElement.get(Ri);zo&&zo.length&&(At.parentPlayer=Ih(zo)),i.push(At)}}else Up(mt,fn.fromStyles),At.onDestroy(()=>pl(mt,fn.toStyles)),oE.push(At),A.has(mt)&&i.push(At)}),oE.forEach(st=>{const mt=u.get(st.element);if(mt&&mt.length){const At=Ih(mt);st.setRealPlayer(At)}}),i.forEach(st=>{st.parentPlayer?st.syncPlayerEvents(st.parentPlayer):st.destroy()});for(let st=0;st<be.length;st++){const mt=be[st],At=mt[Aa];if(gy(mt,iC),At&&At.hasAnimation)continue;let fn=[];if(p.size){let ml=p.get(mt);ml&&ml.length&&fn.push(...ml);let zo=this.driver.query(mt,aM,!0);for(let Sh=0;Sh<zo.length;Sh++){let cr=p.get(zo[Sh]);cr&&cr.length&&fn.push(...cr)}}const Ri=fn.filter(ml=>!ml.destroyed);Ri.length?bB(this,mt,Ri):this.processLeaveNode(mt)}return be.length=0,gl.forEach(st=>{this.players.push(st),st.onDone(()=>{st.destroy();const mt=this.players.indexOf(st);this.players.splice(mt,1)}),st.play()}),gl}elementContainsData(e,t){let r=!1;const i=t[Aa];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let c=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(c=p)}else{const p=this.playersByElement.get(e);if(p){const y=!u||u==sE;p.forEach(b=>{b.queued||!y&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),c}_beforeAnimationBuild(e,t,r){const u=t.element,c=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const b=y.element,A=b!==u,M=Go(r,b,[]);this._getPreviousPlayers(b,A,c,p,t.toState).forEach(B=>{const G=B.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),B.destroy(),M.push(B)})}Up(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,c){const p=t.triggerName,y=t.element,b=[],A=new Set,M=new Set,F=t.timelines.map(G=>{const ne=G.element;A.add(ne);const be=ne[Aa];if(be&&be.removedBeforeQueried)return new Dg(G.duration,G.delay);const Ze=ne!==y,Le=function DB(n){const e=[];return JO(n,e),e}((r.get(ne)||gB).map(Xt=>Xt.getRealPlayer())).filter(Xt=>!!Xt.element&&Xt.element===ne),Ke=u.get(ne),ze=c.get(ne),_t=CO(0,this._normalizer,0,G.keyframes,Ke,ze),ct=this._buildPlayer(G,_t,Le);if(G.subTimeline&&i&&M.add(ne),Ze){const Xt=new wM(e,p,ne);Xt.setRealPlayer(ct),b.push(Xt)}return ct});b.forEach(G=>{Go(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function vB(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,G.element,G))}),A.forEach(G=>Ma(G,kO));const B=Ih(F);return B.onDestroy(()=>{A.forEach(G=>gy(G,kO)),pl(y,t.toStyles)}),M.forEach(G=>{Go(i,G,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Dg(e.duration,e.delay)}}class wM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Dg,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>eM(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Go(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function vC(n){return n&&1===n.nodeType}function ZO(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function YO(n,e,t,r,i){const u=[];t.forEach(y=>u.push(ZO(y)));const c=[];r.forEach((y,b)=>{const A={};y.forEach(M=>{const F=A[M]=e.computeStyle(b,M,i);(!F||0==F.length)&&(b[Aa]=mB,c.push(b))}),n.set(b,A)});let p=0;return t.forEach(y=>ZO(y,u[p++])),c}function QO(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const i=new Set(e),u=new Map;function c(p){if(!p)return 1;let y=u.get(p);if(y)return y;const b=p.parentNode;return y=t.has(b)?b:i.has(b)?1:c(b),u.set(p,y),y}return e.forEach(p=>{const y=c(p);1!==y&&t.get(y).push(p)}),t}function Ma(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function gy(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function bB(n,e,t){Ih(t).onDone(()=>n.processLeaveNode(e))}function JO(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof a_?JO(r.players,e):e.push(r)}}function XO(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class EC{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new _B(e,t,r),this._timelineEngine=new cB(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const c=e+"-"+i;let p=this._triggerCache[c];if(!p){const y=[],A=dM(this._driver,u,y,[]);if(y.length)throw function dV(n,e){return new f.vHH(3404,rn)}();p=function oB(n,e,t){return new aB(n,e,t)}(i,A,this._normalizer),this._triggerCache[c]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,c]=IO(r);this._timelineEngine.command(u,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[c,p]=IO(r);return this._timelineEngine.listen(c,t,p,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let TB=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&pl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pl(this._element,this._initialStyles),this._endStyles&&(pl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Up(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Up(this._element,this._endStyles),this._endStyles=null),pl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function bM(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];SB(i)&&(e=e||{},e[i]=n[i])}return e}function SB(n){return"display"===n||"position"===n}class ek{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:BO(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class AB{validateStyleProperty(e){return MO(e)}matchesElement(e,t){return!1}containsElement(e,t){return xO(e,t)}getParentElement(e){return iM(e)}query(e,t,r){return RO(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,c=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(y.easing=u);const b={},A=c.filter(F=>F instanceof ek);(function NV(n,e){return 0===n||0===e})(r,i)&&A.forEach(F=>{let B=F.currentSnapshot;Object.keys(B).forEach(G=>b[G]=B[G])}),t=function OV(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let u=e[0],c=[];if(r.forEach(p=>{u.hasOwnProperty(p)||c.push(p),u[p]=t[p]}),c.length)for(var i=1;i<e.length;i++){let p=e[i];c.forEach(function(y){p[y]=BO(n,y)})}}return e}(e,t=t.map(F=>Th(F,!1)),b);const M=function IB(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=bM(e[0]),e.length>1&&(r=bM(e[e.length-1]))):e&&(t=bM(e)),t||r?new TB(n,t,r):null}(e,t);return new ek(e,t,y,M)}}let MB=(()=>{class n extends Id{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?bg(t):t;return tk(this._renderer,null,r,"register",[i]),new xB(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class xB extends class OM{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new RB(this._id,e,t||{},this._renderer)}}class RB{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return tk(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function tk(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const nk="@.disabled";let NB=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,c)=>{const p=null==c?void 0:c.parentNode(u);p&&c.removeChild(p,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let A=this._rendererCache.get(u);return A||(A=new rk("",u,this.engine),this._rendererCache.set(u,A)),A}const c=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const y=A=>{Array.isArray(A)?A.forEach(y):this.engine.registerTrigger(c,p,t,A.name,A)};return r.data.animation.forEach(y),new OB(this,p,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[c,p]=u;c(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(EC),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class rk{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==nk?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class OB extends rk{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==nk?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function kB(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),c="";return"@"!=u.charAt(0)&&([u,c]=function PB(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,c,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let FB=(()=>{class n extends EC{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re),f.LFG(sM),f.LFG(mM))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const ik=new f.OlP("AnimationModuleType"),sk=[{provide:Id,useClass:MB},{provide:mM,useFactory:function LB(){return new tB}},{provide:EC,useClass:FB},{provide:f.FYo,useFactory:function VB(n,e,t){return new NB(n,e,t)},deps:[wn,EC,f.R0b]}],ok=[{provide:sM,useFactory:()=>new AB},{provide:ik,useValue:"BrowserAnimations"},...sk],BB=[{provide:sM,useClass:NO},{provide:ik,useValue:"NoopAnimations"},...sk];let UB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?BB:ok}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:ok,imports:[Xo]}),n})();const ak_firebase={projectId:"to-do-app-ramotka",appId:"1:983135561958:web:67b183d6d2c0dc9c03b327",storageBucket:"to-do-app-ramotka.appspot.com",locationId:"europe-west",apiKey:"AIzaSyCXW3VNnmmF07iVa23HJnznHoasoF7KRCI",authDomain:"to-do-app-ramotka.firebaseapp.com",messagingSenderId:"983135561958"};let jB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[HL]}),n.\u0275inj=f.cJS({providers:[],imports:[[Xo,$L,UB,oo.hO.initializeApp(ak_firebase)]]}),n})();(0,f.G48)(),Sl().bootstrapModule(jB).catch(n=>console.error(n))},5867:(ut,Se,P)=>{P.d(Se,{Mq:()=>f.getApp,C6:()=>f.getApps});var f=P(9681);(0,f.registerVersion)("firebase","9.6.10","app")},127:(ut,Se,P)=>{P.d(Se,{Z:()=>f.Z});var f=P(3942);f.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(ut,Se,P)=>{P.r(Se);var f=P(5861),Y=P(3942),O=P(2090),le=P(9681),X=P(655),me=P(1877),re=P(4859);const ke=function We(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new me.Yd("@firebase/auth");function Ye(_,...h){nt.logLevel<=me.in.ERROR&&nt.error(`Auth (${le.SDK_VERSION}): ${_}`,...h)}function Ie(_,...h){throw $e(_,...h)}function ve(_,...h){return $e(_,...h)}function we(_,h,m){const E=Object.assign(Object.assign({},Ve()),{[h]:m});return new O.LL("auth","Firebase",E).create(h,{appName:_.name})}function Ge(_,h,m){if(!(h instanceof m))throw m.name!==h.constructor.name&&Ie(_,"argument-error"),we(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(_,...h){if("string"!=typeof _){const m=h[0],E=[...h.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(m,...E)}return pe.create(_,...h)}function te(_,h,...m){if(!_)throw $e(h,...m)}function W(_){const h="INTERNAL ASSERTION FAILED: "+_;throw Ye(h),new Error(h)}function ie(_,h){_||W(h)}const ye=new Map;function se(_){ie(_ instanceof Function,"Expected a class definition");let h=ye.get(_);return h?(ie(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,ye.set(_,h),h)}function St(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function en(){return"http:"===On()||"https:"===On()}function On(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class dn{constructor(h,m){this.shortDelay=h,this.longDelay=m,ie(m>h,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function lt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(en()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hn(_,h){ie(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return h?`${m}${h.startsWith("/")?h.slice(1):h}`:m}class Ni{static initialize(h,m,E){this.fetchImpl=h,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void W("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void W("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void W("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const an={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ls=new dn(3e4,6e4);function tn(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function Gt(_,h,m,E){return dr.apply(this,arguments)}function dr(){return(dr=(0,f.Z)(function*(_,h,m,E,T={}){return ai(_,T,(0,f.Z)(function*(){let N={},z={};E&&("GET"===h?z=E:N={body:JSON.stringify(E)});const ae=(0,O.xO)(Object.assign({key:_.config.apiKey},z)).slice(1),Ue=yield _._getAdditionalHeaders();return Ue["Content-Type"]="application/json",_.languageCode&&(Ue["X-Firebase-Locale"]=_.languageCode),Ni.fetch()(Pr(_,_.config.apiHost,m,ae),Object.assign({method:h,headers:Ue,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function ai(_,h,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,f.Z)(function*(_,h,m){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},an),h);try{const T=new cs(_),N=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const z=yield N.json();if("needConfirmation"in z)throw ds(_,"account-exists-with-different-credential",z);if(N.ok&&!("errorMessage"in z))return z;{const ae=N.ok?z.errorMessage:z.error.message,[Ue,tt]=ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw ds(_,"credential-already-in-use",z);if("EMAIL_EXISTS"===Ue)throw ds(_,"email-already-in-use",z);const wt=E[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(tt)throw we(_,wt,tt);Ie(_,wt)}}catch(T){if(T instanceof O.ZR)throw T;Ie(_,"network-request-failed")}})).apply(this,arguments)}function kr(_,h,m,E){return zi.apply(this,arguments)}function zi(){return(zi=(0,f.Z)(function*(_,h,m,E,T={}){const N=yield Gt(_,h,m,E,T);return"mfaPendingCredential"in N&&Ie(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Pr(_,h,m,E){const T=`${h}${m}?${E}`;return _.config.emulator?hn(_.config,T):`${_.config.apiScheme}://${T}`}class cs{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(ve(this.auth,"network-request-failed")),ls.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ds(_,h,m){const E={appName:_.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const T=ve(_,h,E);return T.customData._tokenResponse=m,T}function Zr(){return(Zr=(0,f.Z)(function*(_,h){return Gt(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function rr(_,h){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,f.Z)(function*(_,h){return Gt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ui(_,h){return co.apply(this,arguments)}function co(){return(co=(0,f.Z)(function*(_,h){return Gt(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function En(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function xa(){return(xa=(0,f.Z)(function*(_,h=!1){const m=(0,O.m9)(_),E=yield m.getIdToken(h),T=ot(E);te(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const N="object"==typeof T.firebase?T.firebase:void 0,z=null==N?void 0:N.sign_in_provider;return{claims:T,token:E,authTime:En(qt(T.auth_time)),issuedAtTime:En(qt(T.iat)),expirationTime:En(qt(T.exp)),signInProvider:z||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function qt(_){return 1e3*Number(_)}function ot(_){const[h,m,E]=_.split(".");if(void 0===h||void 0===m||void 0===E)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,O.tV)(m);return T?JSON.parse(T):(Ye("Failed to decode base64 JWT payload"),null)}catch(T){return Ye("Caught error parsing JWT payload as JSON",T),null}}function hr(_,h){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,f.Z)(function*(_,h,m=!1){if(m)return h;try{return yield h}catch(E){throw E instanceof O.ZR&&$t(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}function $t({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class ho{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var m;if(h){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(h);this.timerId=setTimeout((0,f.Z)(function*(){yield m.iteration()}),E)}iteration(){var h=this;return(0,f.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&h.schedule(!0))}h.schedule()})()}}class Er{constructor(h,m){this.createdAt=h,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=En(this.lastLoginAt),this.creationTime=En(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fr(_){return ft.apply(this,arguments)}function ft(){return(ft=(0,f.Z)(function*(_){var h;const m=_.auth,E=yield _.getIdToken(),T=yield hr(_,ui(m,{idToken:E}));te(null==T?void 0:T.users.length,m,"internal-error");const N=T.users[0];_._notifyReloadListener(N);const z=(null===(h=N.providerUserInfo)||void 0===h?void 0:h.length)?Te(N.providerUserInfo):[],ae=Qe(_.providerData,z),wt=!!_.isAnonymous&&!(_.email&&N.passwordHash||(null==ae?void 0:ae.length)),at={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:ae,metadata:new Er(N.createdAt,N.lastLoginAt),isAnonymous:wt};Object.assign(_,at)})).apply(this,arguments)}function Ut(){return(Ut=(0,f.Z)(function*(_){const h=(0,O.m9)(_);yield fr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Qe(_,h){return[..._.filter(E=>!h.some(T=>T.providerId===E.providerId)),...h]}function Te(_){return _.map(h=>{var{providerId:m}=h,E=(0,X._T)(h,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function pt(){return(pt=(0,f.Z)(function*(_,h){const m=yield ai(_,{},(0,f.Z)(function*(){const E=(0,O.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:N}=_.config,z=Pr(_,T,"/v1/token",`key=${N}`),ae=yield _._getAdditionalHeaders();return ae["Content-Type"]="application/x-www-form-urlencoded",Ni.fetch()(z,{method:"POST",headers:ae,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class jt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){te(h.idToken,"internal-error"),te(void 0!==h.idToken,"internal-error"),te(void 0!==h.refreshToken,"internal-error");const m="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function Dt(_){const h=ot(_);return te(h,"internal-error"),te(void 0!==h.exp,"internal-error"),te(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,m)}getToken(h,m=!1){var E=this;return(0,f.Z)(function*(){return te(!E.accessToken||E.refreshToken,h,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(h,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,m){var E=this;return(0,f.Z)(function*(){const{accessToken:T,refreshToken:N,expiresIn:z}=yield function et(_,h){return pt.apply(this,arguments)}(h,m);E.updateTokensAndExpiration(T,N,Number(z))})()}updateTokensAndExpiration(h,m,E){this.refreshToken=m||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(h,m){const{refreshToken:E,accessToken:T,expirationTime:N}=m,z=new jt;return E&&(te("string"==typeof E,"internal-error",{appName:h}),z.refreshToken=E),T&&(te("string"==typeof T,"internal-error",{appName:h}),z.accessToken=T),N&&(te("number"==typeof N,"internal-error",{appName:h}),z.expirationTime=N),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new jt,this.toJSON())}_performRefresh(){return W("not implemented")}}function Vt(_,h){te("string"==typeof _||void 0===_,"internal-error",{appName:h})}class j{constructor(h){var{uid:m,auth:E,stsTokenManager:T}=h,N=(0,X._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ho(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Er(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(h){var m=this;return(0,f.Z)(function*(){const E=yield hr(m,m.stsTokenManager.getToken(m.auth,h));return te(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(h){return function ks(_){return xa.apply(this,arguments)}(this,h)}reload(){return function wr(_){return Ut.apply(this,arguments)}(this)}_assign(h){this!==h&&(te(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(m=>Object.assign({},m)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new j(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,m=!1){var E=this;return(0,f.Z)(function*(){let T=!1;h.idToken&&h.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(h),T=!0),m&&(yield fr(E)),yield E.auth._persistUserIfCurrent(E),T&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var h=this;return(0,f.Z)(function*(){const m=yield h.getIdToken();return yield hr(h,function dt(_,h){return Zr.apply(this,arguments)}(h.auth,{idToken:m})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,m){var E,T,N,z,ae,Ue,tt,wt;const at=null!==(E=m.displayName)&&void 0!==E?E:void 0,Rn=null!==(T=m.email)&&void 0!==T?T:void 0,rs=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,oc=null!==(z=m.photoURL)&&void 0!==z?z:void 0,ju=null!==(ae=m.tenantId)&&void 0!==ae?ae:void 0,$u=null!==(Ue=m._redirectEventId)&&void 0!==Ue?Ue:void 0,lf=null!==(tt=m.createdAt)&&void 0!==tt?tt:void 0,Gy=null!==(wt=m.lastLoginAt)&&void 0!==wt?wt:void 0,{uid:fa,emailVerified:Ed,isAnonymous:wd,providerData:cf,stsTokenManager:bd}=m;te(fa&&bd,h,"internal-error");const ni=jt.fromJSON(this.name,bd);te("string"==typeof fa,h,"internal-error"),Vt(at,h.name),Vt(Rn,h.name),te("boolean"==typeof Ed,h,"internal-error"),te("boolean"==typeof wd,h,"internal-error"),Vt(rs,h.name),Vt(oc,h.name),Vt(ju,h.name),Vt($u,h.name),Vt(lf,h.name),Vt(Gy,h.name);const df=new j({uid:fa,auth:h,email:Rn,emailVerified:Ed,displayName:at,isAnonymous:wd,photoURL:oc,phoneNumber:rs,tenantId:ju,stsTokenManager:ni,createdAt:lf,lastLoginAt:Gy});return cf&&Array.isArray(cf)&&(df.providerData=cf.map(mg=>Object.assign({},mg))),$u&&(df._redirectEventId=$u),df}static _fromIdTokenResponse(h,m,E=!1){return(0,f.Z)(function*(){const T=new jt;T.updateFromServerResponse(m);const N=new j({uid:m.localId,auth:h,stsTokenManager:T,isAnonymous:E});return yield fr(N),N})()}}const q=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(m,E){var T=this;return(0,f.Z)(function*(){T.storage[m]=E})()}_get(m){var E=this;return(0,f.Z)(function*(){const T=E.storage[m];return void 0===T?null:T})()}_remove(m){var E=this;return(0,f.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return _.type="NONE",_})();function he(_,h,m){return`firebase:${_}:${h}:${m}`}class Q{constructor(h,m,E){this.persistence=h,this.auth=m,this.userKey=E;const{config:T,name:N}=this.auth;this.fullUserKey=he(this.userKey,T.apiKey,N),this.fullPersistenceKey=he("persistence",T.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,f.Z)(function*(){const m=yield h.persistence._get(h.fullUserKey);return m?j._fromJSON(h.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var m=this;return(0,f.Z)(function*(){if(m.persistence===h)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=h,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,m,E="authUser"){return(0,f.Z)(function*(){if(!m.length)return new Q(se(q),h,E);const T=(yield Promise.all(m.map(function(){var tt=(0,f.Z)(function*(wt){if(yield wt._isAvailable())return wt});return function(wt){return tt.apply(this,arguments)}}()))).filter(tt=>tt);let N=T[0]||se(q);const z=he(E,h.config.apiKey,h.name);let ae=null;for(const tt of m)try{const wt=yield tt._get(z);if(wt){const at=j._fromJSON(h,wt);tt!==N&&(ae=at),N=tt;break}}catch(wt){}const Ue=T.filter(tt=>tt._shouldAllowMigration);return N._shouldAllowMigration&&Ue.length?(N=Ue[0],ae&&(yield N._set(z,ae.toJSON())),yield Promise.all(m.map(function(){var tt=(0,f.Z)(function*(wt){if(wt!==N)try{yield wt._remove(z)}catch(at){}});return function(wt){return tt.apply(this,arguments)}}())),new Q(N,h,E)):new Q(N,h,E)})()}}function Be(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(zt(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Et(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Nt(h))return"Blackberry";if(pn(h))return"Webos";if(Yt(h))return"Safari";if((h.includes("chrome/")||br(h))&&!h.includes("edge/"))return"Chrome";if(Sn(h))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Et(_=(0,O.z$)()){return/firefox\//i.test(_)}function Yt(_=(0,O.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function br(_=(0,O.z$)()){return/crios\//i.test(_)}function zt(_=(0,O.z$)()){return/iemobile/i.test(_)}function Sn(_=(0,O.z$)()){return/android/i.test(_)}function Nt(_=(0,O.z$)()){return/blackberry/i.test(_)}function pn(_=(0,O.z$)()){return/webos/i.test(_)}function sr(_=(0,O.z$)()){return/iphone|ipad|ipod/i.test(_)}function hs(_=(0,O.z$)()){return sr(_)||Sn(_)||pn(_)||Nt(_)||/windows phone/i.test(_)||zt(_)}function Na(_,h=[]){let m;switch(_){case"Browser":m=Be((0,O.z$)());break;case"Worker":m=`${Be((0,O.z$)())}-${_}`;break;default:m=_}const E=h.length?h.join(","):"FirebaseCore-web";return`${m}/JsCore/${le.SDK_VERSION}/${E}`}class li{constructor(h,m,E){this.app=h,this.heartbeatServiceProvider=m,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pt(this),this.idTokenSubscription=new Pt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(h,m){var E=this;return m&&(this._popupRedirectResolver=se(m)),this._initializationPromise=this.queue((0,f.Z)(function*(){var T,N;if(!E._deleted&&(E.persistenceManager=yield Q.create(E,h),!E._deleted)){if(null===(T=E._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(z){}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(N=E.currentUser)||void 0===N?void 0:N.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,f.Z)(function*(){if(h._deleted)return;const m=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||m){if(h.currentUser&&m&&h.currentUser.uid===m.uid)return h._currentUser._assign(m),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(m)}})()}initializeCurrentUser(h){var m=this;return(0,f.Z)(function*(){var E;let T=yield m.assertedPersistence.getCurrentUser();if(h&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const N=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,z=null==T?void 0:T._redirectEventId,ae=yield m.tryRedirectSignIn(h);(!N||N===z)&&(null==ae?void 0:ae.user)&&(T=ae.user)}return T?T._redirectEventId?(te(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===T._redirectEventId?m.directlySetCurrentUser(T):m.reloadAndSetCurrentUserOrClear(T)):m.reloadAndSetCurrentUserOrClear(T):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var m=this;return(0,f.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,h,!0)}catch(T){yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(h){var m=this;return(0,f.Z)(function*(){try{yield fr(h)}catch(E){if("auth/network-request-failed"!==E.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function vt(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,f.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var m=this;return(0,f.Z)(function*(){const E=h?(0,O.m9)(h):null;return E&&te(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(h){var m=this;return(0,f.Z)(function*(){if(!m._deleted)return h&&te(m.tenantId===h.tenantId,m,"tenant-id-mismatch"),m.queue((0,f.Z)(function*(){yield m.directlySetCurrentUser(h),m.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,f.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var m=this;return this.queue((0,f.Z)(function*(){yield m.assertedPersistence.setPersistence(se(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new O.LL("auth","Firebase",h())}onAuthStateChanged(h,m,E){return this.registerStateListener(this.authStateSubscription,h,m,E)}onIdTokenChanged(h,m,E){return this.registerStateListener(this.idTokenSubscription,h,m,E)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,m){var E=this;return(0,f.Z)(function*(){const T=yield E.getOrInitRedirectPersistenceManager(m);return null===h?T.removeCurrentUser():T.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var m=this;return(0,f.Z)(function*(){if(!m.redirectPersistenceManager){const E=h&&se(h)||m._popupRedirectResolver;te(E,m,"argument-error"),m.redirectPersistenceManager=yield Q.create(m,[se(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(h){var m=this;return(0,f.Z)(function*(){var E,T;return m._isInitialized&&(yield m.queue((0,f.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===h?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===h?m.redirectUser:null})()}_persistUserIfCurrent(h){var m=this;return(0,f.Z)(function*(){if(h===m.currentUser)return m.queue((0,f.Z)(function*(){return m.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,m,E,T){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),z=this._isInitialized?Promise.resolve():this._initializationPromise;return te(z,this,"internal-error"),z.then(()=>N(this.currentUser)),"function"==typeof m?h.addObserver(m,E,T):h.addObserver(m)}directlySetCurrentUser(h){var m=this;return(0,f.Z)(function*(){m.currentUser&&m.currentUser!==h&&(m._currentUser._stopProactiveRefresh(),h&&m.isProactiveRefreshEnabled&&h._startProactiveRefresh()),m.currentUser=h,h?yield m.assertedPersistence.setCurrentUser(h):yield m.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Na(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,f.Z)(function*(){var m;const E={"X-Client-Version":h.clientVersion};h.app.options.appId&&(E["X-Firebase-gmpid"]=h.app.options.appId);const T=yield null===(m=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return T&&(E["X-Firebase-Client"]=T),E})()}}function Pe(_){return(0,O.m9)(_)}class Pt{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,O.ne)(m=>this.observer=m)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pr(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function Hn(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class un{constructor(h,m){this.providerId=h,this.signInMethod=m}toJSON(){return W("not implemented")}_getIdTokenResponse(h){return W("not implemented")}_linkToIdToken(h,m){return W("not implemented")}_getReauthenticationResolver(h){return W("not implemented")}}function kn(_,h){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,f.Z)(function*(_,h){return Gt(_,"POST","/v1/accounts:resetPassword",tn(_,h))})).apply(this,arguments)}function xt(_,h){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,f.Z)(function*(_,h){return Gt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ls(_,h){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,f.Z)(function*(_,h){return Gt(_,"POST","/v1/accounts:update",tn(_,h))})).apply(this,arguments)}function or(){return(or=(0,f.Z)(function*(_,h){return kr(_,"POST","/v1/accounts:signInWithPassword",tn(_,h))})).apply(this,arguments)}function fs(_,h){return ps.apply(this,arguments)}function ps(){return(ps=(0,f.Z)(function*(_,h){return Gt(_,"POST","/v1/accounts:sendOobCode",tn(_,h))})).apply(this,arguments)}function ci(_,h){return ln.apply(this,arguments)}function ln(){return(ln=(0,f.Z)(function*(_,h){return fs(_,h)})).apply(this,arguments)}function du(_,h){return hu.apply(this,arguments)}function hu(){return(hu=(0,f.Z)(function*(_,h){return fs(_,h)})).apply(this,arguments)}function Oi(_,h){return di.apply(this,arguments)}function di(){return(di=(0,f.Z)(function*(_,h){return fs(_,h)})).apply(this,arguments)}function Bc(_,h){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,f.Z)(function*(_,h){return fs(_,h)})).apply(this,arguments)}function Yr(){return(Yr=(0,f.Z)(function*(_,h){return kr(_,"POST","/v1/accounts:signInWithEmailLink",tn(_,h))})).apply(this,arguments)}function Uc(){return(Uc=(0,f.Z)(function*(_,h){return kr(_,"POST","/v1/accounts:signInWithEmailLink",tn(_,h))})).apply(this,arguments)}class pu extends un{constructor(h,m,E,T=null){super("password",E),this._email=h,this._password=m,this._tenantId=T}static _fromEmailAndPassword(h,m){return new pu(h,m,"password")}static _fromEmailAndCode(h,m,E=null){return new pu(h,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(h){var m=this;return(0,f.Z)(function*(){switch(m.signInMethod){case"password":return function Vs(_,h){return or.apply(this,arguments)}(h,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function fu(_,h){return Yr.apply(this,arguments)}(h,{email:m._email,oobCode:m._password});default:Ie(h,"internal-error")}})()}_linkToIdToken(h,m){var E=this;return(0,f.Z)(function*(){switch(E.signInMethod){case"password":return xt(h,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Mh(_,h){return Uc.apply(this,arguments)}(h,{idToken:m,email:E._email,oobCode:E._password});default:Ie(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Gn(_,h){return jc.apply(this,arguments)}function jc(){return(jc=(0,f.Z)(function*(_,h){return kr(_,"POST","/v1/accounts:signInWithIdp",tn(_,h))})).apply(this,arguments)}class gs extends un{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const m=new gs(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(m.idToken=h.idToken),h.accessToken&&(m.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(m.nonce=h.nonce),h.pendingToken&&(m.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(m.accessToken=h.oauthToken,m.secret=h.oauthTokenSecret):Ie("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:T}=m,N=(0,X._T)(m,["providerId","signInMethod"]);if(!E||!T)return null;const z=new gs(E,T);return z.idToken=N.idToken||void 0,z.accessToken=N.accessToken||void 0,z.secret=N.secret,z.nonce=N.nonce,z.pendingToken=N.pendingToken||null,z}_getIdTokenResponse(h){return Gn(h,this.buildRequest())}_linkToIdToken(h,m){const E=this.buildRequest();return E.idToken=m,Gn(h,E)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,Gn(h,m)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),h.postBody=(0,O.xO)(m)}return h}}function qp(_,h){return ka.apply(this,arguments)}function ka(){return(ka=(0,f.Z)(function*(_,h){return Gt(_,"POST","/v1/accounts:sendVerificationCode",tn(_,h))})).apply(this,arguments)}function Us(){return(Us=(0,f.Z)(function*(_,h){return kr(_,"POST","/v1/accounts:signInWithPhoneNumber",tn(_,h))})).apply(this,arguments)}function $c(){return($c=(0,f.Z)(function*(_,h){const m=yield kr(_,"POST","/v1/accounts:signInWithPhoneNumber",tn(_,h));if(m.temporaryProof)throw ds(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Wp={USER_NOT_FOUND:"user-not-found"};function Hc(){return(Hc=(0,f.Z)(function*(_,h){return kr(_,"POST","/v1/accounts:signInWithPhoneNumber",tn(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Wp)})).apply(this,arguments)}class Ko extends un{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,m){return new Ko({verificationId:h,verificationCode:m})}static _fromTokenResponse(h,m){return new Ko({phoneNumber:h,temporaryProof:m})}_getIdTokenResponse(h){return function yl(_,h){return Us.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,m){return function zp(_,h){return $c.apply(this,arguments)}(h,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function xh(_,h){return Hc.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:m,verificationId:E,verificationCode:T}=this.params;return h&&m?{temporaryProof:h,phoneNumber:m}:{sessionInfo:E,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:m,verificationCode:E,phoneNumber:T,temporaryProof:N}=h;return E||m||T||N?new Ko({verificationId:m,verificationCode:E,phoneNumber:T,temporaryProof:N}):null}}class po{constructor(h){var m,E,T,N,z,ae;const Ue=(0,O.zd)((0,O.pd)(h)),tt=null!==(m=Ue.apiKey)&&void 0!==m?m:null,wt=null!==(E=Ue.oobCode)&&void 0!==E?E:null,at=function my(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ue.mode)&&void 0!==T?T:null);te(tt&&wt&&at,"argument-error"),this.apiKey=tt,this.operation=at,this.code=wt,this.continueUrl=null!==(N=Ue.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(z=Ue.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(ae=Ue.tenantId)&&void 0!==ae?ae:null}static parseLink(h){const m=function gu(_){const h=(0,O.zd)((0,O.pd)(_)).link,m=h?(0,O.zd)((0,O.pd)(h)).deep_link_id:null,E=(0,O.zd)((0,O.pd)(_)).deep_link_id;return(E?(0,O.zd)((0,O.pd)(E)).link:null)||E||m||h||_}(h);try{return new po(m)}catch(E){return null}}}let _l=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,E){return pu._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const T=po.parseLink(E);return te(T,"argument-error"),pu._fromEmailAndCode(m,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class js{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Qr extends js{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Zo extends Qr{static credentialFromJSON(h){const m="string"==typeof h?JSON.parse(h):h;return te("providerId"in m&&"signInMethod"in m,"argument-error"),gs._fromParams(m)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return te(h.idToken||h.accessToken,"argument-error"),gs._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Zo.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Zo.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:T,pendingToken:N,nonce:z,providerId:ae}=h;if(!E&&!T&&!m&&!N||!ae)return null;try{return new Zo(ae)._credential({idToken:m,accessToken:E,nonce:z,pendingToken:N})}catch(Ue){return null}}}let go=(()=>{class _ extends Qr{constructor(){super("facebook.com")}static credential(m){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(E){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Pa=(()=>{class _ extends Qr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:T}=m;if(!E&&!T)return null;try{return _.credential(E,T)}catch(N){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Gc=(()=>{class _ extends Qr{constructor(){super("github.com")}static credential(m){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(E){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class gr extends un{constructor(h,m){super(h,h),this.pendingToken=m}_getIdTokenResponse(h){return Gn(h,this.buildRequest())}_linkToIdToken(h,m){const E=this.buildRequest();return E.idToken=m,Gn(h,E)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,Gn(h,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:T,pendingToken:N}=m;return E&&T&&N&&E===T?new gr(E,N):null}static _create(h,m){return new gr(h,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hi extends js{constructor(h){te(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return hi.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return hi.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const m=gr.fromJSON(h);return te(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:m,providerId:E}=h;if(!m||!E)return null;try{return gr._create(E,m)}catch(T){return null}}}let mu=(()=>{class _ extends Qr{constructor(){super("twitter.com")}static credential(m,E){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:T}=m;if(!E||!T)return null;try{return _.credential(E,T)}catch(N){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function yu(_,h){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,f.Z)(function*(_,h){return kr(_,"POST","/v1/accounts:signUp",tn(_,h))})).apply(this,arguments)}class mr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,m,E,T=!1){return(0,f.Z)(function*(){const N=yield j._fromIdTokenResponse(h,E,T),z=Nh(E);return new mr({user:N,providerId:z,_tokenResponse:E,operationType:m})})()}static _forOperation(h,m,E){return(0,f.Z)(function*(){yield h._updateTokensIfNecessary(E,!0);const T=Nh(E);return new mr({user:h,providerId:T,_tokenResponse:E,operationType:m})})()}}function Nh(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function qc(){return(qc=(0,f.Z)(function*(_){var h;const m=Pe(_);if(yield m._initializationPromise,null===(h=m.currentUser)||void 0===h?void 0:h.isAnonymous)return new mr({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield yu(m,{returnSecureToken:!0}),T=yield mr._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class vu extends O.ZR{constructor(h,m,E,T){var N;super(m.code,m.message),this.operationType=E,this.user=T,Object.setPrototypeOf(this,vu.prototype),this.customData={appName:h.name,tenantId:null!==(N=h.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(h,m,E,T){return new vu(h,m,E,T)}}function Eu(_,h,m,E){return("reauthenticate"===h?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?vu._fromErrorAndOperation(_,N,h,E):N})}function ms(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function vl(){return(vl=(0,f.Z)(function*(_,h){const m=(0,O.m9)(_);yield Hs(!0,m,h);const{providerUserInfo:E}=yield rr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[h]}),T=ms(E||[]);return m.providerData=m.providerData.filter(N=>T.has(N.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function yn(_,h){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,f.Z)(function*(_,h,m=!1){const E=yield hr(_,h._linkToIdToken(_.auth,yield _.getIdToken()),m);return mr._forOperation(_,"link",E)})).apply(this,arguments)}function Hs(_,h,m){return cn.apply(this,arguments)}function cn(){return(cn=(0,f.Z)(function*(_,h,m){yield fr(h);const T=!1===_?"provider-already-linked":"no-such-provider";te(ms(h.providerData).has(m)===_,h.auth,T)})).apply(this,arguments)}function zc(_,h){return mo.apply(this,arguments)}function mo(){return(mo=(0,f.Z)(function*(_,h,m=!1){const{auth:E}=_,T="reauthenticate";try{const N=yield hr(_,Eu(E,T,h,_),m);te(N.idToken,E,"internal-error");const z=ot(N.idToken);te(z,E,"internal-error");const{sub:ae}=z;return te(_.uid===ae,E,"user-mismatch"),mr._forOperation(_,T,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&Ie(E,"user-mismatch"),N}})).apply(this,arguments)}function yo(_,h){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,f.Z)(function*(_,h,m=!1){const E="signIn",T=yield Eu(_,E,h),N=yield mr._fromIdTokenResponse(_,E,T);return m||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Pn(_,h){return La.apply(this,arguments)}function La(){return(La=(0,f.Z)(function*(_,h){return yo(Pe(_),h)})).apply(this,arguments)}function ki(_,h){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,f.Z)(function*(_,h){const m=(0,O.m9)(_);return yield Hs(!1,m,h.providerId),yn(m,h)})).apply(this,arguments)}function Gs(_,h){return ys.apply(this,arguments)}function ys(){return(ys=(0,f.Z)(function*(_,h){return zc((0,O.m9)(_),h)})).apply(this,arguments)}function wu(_,h){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,f.Z)(function*(_,h){return kr(_,"POST","/v1/accounts:signInWithCustomToken",tn(_,h))})).apply(this,arguments)}function zs(){return(zs=(0,f.Z)(function*(_,h){const m=Pe(_),E=yield wu(m,{token:h,returnSecureToken:!0}),T=yield mr._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class gt{constructor(h,m){this.factorId=h,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(h,m){return"phoneInfo"in m?bu._fromServerResponse(h,m):Ie(h,"internal-error")}}class bu extends gt{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,m){return new bu(m)}}function Va(_,h,m){var E;te((null===(E=m.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),te(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=m.url,h.dynamicLinkDomain=m.dynamicLinkDomain,h.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(te(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=m.iOS.bundleId),m.android&&(te(m.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=m.android.installApp,h.androidMinimumVersionCode=m.android.minimumVersion,h.androidPackageName=m.android.packageName)}function Cu(){return(Cu=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_),T={requestType:"PASSWORD_RESET",email:h};m&&Va(E,T,m),yield du(E,T)})).apply(this,arguments)}function El(){return(El=(0,f.Z)(function*(_,h,m){yield kn((0,O.m9)(_),{oobCode:h,newPassword:m})})).apply(this,arguments)}function Ce(){return(Ce=(0,f.Z)(function*(_,h){yield Ls((0,O.m9)(_),{oobCode:h})})).apply(this,arguments)}function Bt(_,h){return bl.apply(this,arguments)}function bl(){return(bl=(0,f.Z)(function*(_,h){const m=(0,O.m9)(_),E=yield kn(m,{oobCode:h}),T=E.requestType;switch(te(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(E.mfaInfo,m,"internal-error");default:te(E.email,m,"internal-error")}let N=null;return E.mfaInfo&&(N=gt._fromServerResponse(Pe(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:T}})).apply(this,arguments)}function Qo(){return(Qo=(0,f.Z)(function*(_,h){const{data:m}=yield Bt((0,O.m9)(_),h);return m.email})).apply(this,arguments)}function Xr(){return(Xr=(0,f.Z)(function*(_,h,m){const E=Pe(_),T=yield yu(E,{returnSecureToken:!0,email:h,password:m}),N=yield mr._fromIdTokenResponse(E,"signIn",T);return yield E._updateCurrentUser(N.user),N})).apply(this,arguments)}function Wc(){return(Wc=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_),T={requestType:"EMAIL_SIGNIN",email:h};te(m.handleCodeInApp,E,"argument-error"),m&&Va(E,T,m),yield Oi(E,T)})).apply(this,arguments)}function Ws(){return(Ws=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_),T=_l.credentialWithLink(h,m||St());return te(T._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Pn(E,T)})).apply(this,arguments)}function yr(_,h){return fi.apply(this,arguments)}function fi(){return(fi=(0,f.Z)(function*(_,h){return Gt(_,"POST","/v1/accounts:createAuthUri",tn(_,h))})).apply(this,arguments)}function Ks(){return(Ks=(0,f.Z)(function*(_,h){const E={identifier:h,continueUri:en()?St():"http://localhost"},{signinMethods:T}=yield yr((0,O.m9)(_),E);return T||[]})).apply(this,arguments)}function Tl(){return(Tl=(0,f.Z)(function*(_,h){const m=(0,O.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&Va(m.auth,T,h);const{email:N}=yield ci(m.auth,T);N!==_.email&&(yield _.reload())})).apply(this,arguments)}function Mu(){return(Mu=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};m&&Va(E.auth,N,m);const{email:z}=yield Bc(E.auth,N);z!==_.email&&(yield _.reload())})).apply(this,arguments)}function Sl(_,h){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,f.Z)(function*(_,h){return Gt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Al(){return(Al=(0,f.Z)(function*(_,{displayName:h,photoURL:m}){if(void 0===h&&void 0===m)return;const E=(0,O.m9)(_),N={idToken:yield E.getIdToken(),displayName:h,photoUrl:m,returnSecureToken:!0},z=yield hr(E,Sl(E.auth,N));E.displayName=z.displayName||null,E.photoURL=z.photoUrl||null;const ae=E.providerData.find(({providerId:Ue})=>"password"===Ue);ae&&(ae.displayName=E.displayName,ae.photoURL=E.photoURL),yield E._updateTokensIfNecessary(z)})).apply(this,arguments)}function xl(_,h,m){return _o.apply(this,arguments)}function _o(){return(_o=(0,f.Z)(function*(_,h,m){const{auth:E}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(N.email=h),m&&(N.password=m);const z=yield hr(_,xt(E,N));yield _._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class vo{constructor(h,m,E={}){this.isNewUser=h,this.providerId=m,this.profile=E}}class Yc extends vo{constructor(h,m,E,T){super(h,m,E),this.username=T}}class Qc extends vo{constructor(h,m){super(h,"facebook.com",m)}}class Eo extends Yc{constructor(h,m){super(h,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Zs extends vo{constructor(h,m){super(h,"google.com",m)}}class Rl extends Yc{constructor(h,m,E){super(h,"twitter.com",m,E)}}function Tr(_){const{user:h,_tokenResponse:m}=_;return h.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Zc(_){var h,m;if(!_)return null;const{providerId:E}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&(null==_?void 0:_.idToken)){const z=null===(m=null===(h=ot(_.idToken))||void 0===h?void 0:h.firebase)||void 0===m?void 0:m.sign_in_provider;if(z)return new vo(N,"anonymous"!==z&&"custom"!==z?z:null)}if(!E)return null;switch(E){case"facebook.com":return new Qc(N,T);case"github.com":return new Eo(N,T);case"google.com":return new Zs(N,T);case"twitter.com":return new Rl(N,T,_.screenName||null);case"custom":case"anonymous":return new vo(N,null);default:return new vo(N,E,T)}}(m)}class _s{constructor(h,m){this.type=h,this.credential=m}static _fromIdtoken(h){return new _s("enroll",h)}static _fromMfaPendingCredential(h){return new _s("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var m,E;if(null==h?void 0:h.multiFactorSession){if(null===(m=h.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return _s._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(E=h.multiFactorSession)||void 0===E?void 0:E.idToken)return _s._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Ua{constructor(h,m,E){this.session=h,this.hints=m,this.signInResolver=E}static _fromError(h,m){const E=Pe(h),T=m.customData._serverResponse,N=(T.mfaInfo||[]).map(ae=>gt._fromServerResponse(E,ae));te(T.mfaPendingCredential,E,"internal-error");const z=_s._fromMfaPendingCredential(T.mfaPendingCredential);return new Ua(z,N,function(){var ae=(0,f.Z)(function*(Ue){const tt=yield Ue._process(E,z);delete T.mfaInfo,delete T.mfaPendingCredential;const wt=Object.assign(Object.assign({},T),{idToken:tt.idToken,refreshToken:tt.refreshToken});switch(m.operationType){case"signIn":const at=yield mr._fromIdTokenResponse(E,m.operationType,wt);return yield E._updateCurrentUser(at.user),at;case"reauthenticate":return te(m.user,E,"internal-error"),mr._forOperation(m.user,m.operationType,wt);default:Ie(E,"internal-error")}});return function(Ue){return ae.apply(this,arguments)}}())}resolveSignIn(h){var m=this;return(0,f.Z)(function*(){return m.signInResolver(h)})()}}function qn(_,h){return Gt(_,"POST","/v2/accounts/mfaEnrollment:start",tn(_,h))}class vs{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>gt._fromServerResponse(h.auth,E)))})}static _fromUser(h){return new vs(h)}getSession(){var h=this;return(0,f.Z)(function*(){return _s._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,m){var E=this;return(0,f.Z)(function*(){const T=h,N=yield E.getSession(),z=yield hr(E.user,T._process(E.user.auth,N,m));return yield E.user._updateTokensIfNecessary(z),E.user.reload()})()}unenroll(h){var m=this;return(0,f.Z)(function*(){const E="string"==typeof h?h:h.uid,T=yield m.user.getIdToken(),N=yield hr(m.user,function Zp(_,h){return Gt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",tn(_,h))}(m.user.auth,{idToken:T,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:z})=>z!==E),yield m.user._updateTokensIfNecessary(N);try{yield m.user.reload()}catch(z){if("auth/user-token-expired"!==z.code)throw z}})()}}const ea=new WeakMap,kl="__sak";class wo{constructor(h,m){this.storageRetriever=h,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(kl,"1"),this.storage.removeItem(kl),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,m){return this.storage.setItem(h,JSON.stringify(m)),Promise.resolve()}_get(h){const m=this.storage.getItem(h);return Promise.resolve(m?JSON.parse(m):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ln=(()=>{class _ extends wo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ed(){const _=(0,O.z$)();return Yt(_)||sr(_)}()&&function Jn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=hs(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const T=this.storage.getItem(E),N=this.localCache[E];T!==N&&m(E,N,T)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((ae,Ue,tt)=>{this.notifyListeners(ae,tt)});const T=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ae=this.storage.getItem(T);if(m.newValue!==ae)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!E)return}const N=()=>{const ae=this.storage.getItem(T);!E&&this.localCache[T]===ae||this.notifyListeners(T,ae)},z=this.storage.getItem(T);!function Ra(){return(0,O.w1)()&&10===document.documentMode}()||z===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,E){this.localCache[m]=E;const T=this.listeners[m];if(T)for(const N of Array.from(T))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var T=()=>super._set,N=this;return(0,f.Z)(function*(){yield T().call(N,m,E),N.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,T=this;return(0,f.Z)(function*(){const N=yield E().call(T,m);return T.localCache[m]=JSON.stringify(N),N})()}_remove(m){var E=()=>super._remove,T=this;return(0,f.Z)(function*(){yield E().call(T,m),delete T.localCache[m]})()}}return _.type="LOCAL",_})(),ar=(()=>{class _ extends wo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return _.type="SESSION",_})();let Fr=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(N=>N.isListeningto(m));if(E)return E;const T=new _(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,f.Z)(function*(){const T=m,{eventId:N,eventType:z,data:ae}=T.data,Ue=E.handlersMap[z];if(!(null==Ue?void 0:Ue.size))return;T.ports[0].postMessage({status:"ack",eventId:N,eventType:z});const tt=Array.from(Ue).map(function(){var at=(0,f.Z)(function*(Rn){return Rn(T.origin,ae)});return function(Rn){return at.apply(this,arguments)}}()),wt=yield function ei(_){return Promise.all(_.map(function(){var h=(0,f.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return h.apply(this,arguments)}}()))}(tt);T.ports[0].postMessage({status:"done",eventId:N,eventType:z,response:wt})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function ta(_="",h=10){let m="";for(let E=0;E<h;E++)m+=Math.floor(10*Math.random());return _+m}class td{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,m,E=50){var T=this;return(0,f.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let z,ae;return new Promise((Ue,tt)=>{const wt=ta("",20);N.port1.start();const at=setTimeout(()=>{tt(new Error("unsupported_event"))},E);ae={messageChannel:N,onMessage(Rn){const rs=Rn;if(rs.data.eventId===wt)switch(rs.data.status){case"ack":clearTimeout(at),z=setTimeout(()=>{tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Ue(rs.data.response);break;default:clearTimeout(at),clearTimeout(z),tt(new Error("invalid_response"))}}},T.handlers.add(ae),N.port1.addEventListener("message",ae.onMessage),T.target.postMessage({eventType:h,eventId:wt,data:m},[N.port2])}).finally(()=>{ae&&T.removeMessageHandler(ae)})})()}}function mn(){return window}function Fi(){return void 0!==mn().WorkerGlobalScope&&"function"==typeof mn().importScripts}function pi(){return(pi=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Pl="firebaseLocalStorageDb",bo="firebaseLocalStorage",zn="fbase_key";class Es{constructor(h){this.request=h}toPromise(){return new Promise((h,m)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function na(_,h){return _.transaction([bo],h?"readwrite":"readonly").objectStore(bo)}function Qs(){const _=indexedDB.open(Pl,1);return new Promise((h,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(bo,{keyPath:zn})}catch(T){m(T)}}),_.addEventListener("success",(0,f.Z)(function*(){const E=_.result;E.objectStoreNames.contains(bo)?h(E):(E.close(),yield function gi(){const _=indexedDB.deleteDatabase(Pl);return new Es(_).toPromise()}(),h(yield Qs()))}))})}function mi(_,h,m){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,f.Z)(function*(_,h,m){const E=na(_,!0).put({[zn]:h,value:m});return new Es(E).toPromise()})).apply(this,arguments)}function Js(){return(Js=(0,f.Z)(function*(_,h){const m=na(_,!1).get(h),E=yield new Es(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Yi(_,h){const m=na(_,!0).delete(h);return new Es(m).toPromise()}const Li=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,f.Z)(function*(){return m.db||(m.db=yield Qs()),m.db})()}_withRetries(m){var E=this;return(0,f.Z)(function*(){let T=0;for(;;)try{const N=yield E._openDb();return yield m(N)}catch(N){if(T++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,f.Z)(function*(){return Fi()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,f.Z)(function*(){m.receiver=Fr._getInstance(function nd(){return Fi()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,f.Z)(function*(T,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(T,N){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,f.Z)(function*(T,N){return["keyChanged"]});return function(T,N){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,f.Z)(function*(){var E,T;if(m.activeServiceWorker=yield function Ru(){return pi.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new td(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);!N||(null===(E=N[0])||void 0===E?void 0:E.fulfilled)&&(null===(T=N[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,f.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Ot(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Qs();return yield mi(m,kl,"1"),yield Yi(m,kl),!0}catch(m){}return!1})()}_withPendingWrite(m){var E=this;return(0,f.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var T=this;return(0,f.Z)(function*(){return T._withPendingWrite((0,f.Z)(function*(){return yield T._withRetries(N=>mi(N,m,E)),T.localCache[m]=E,T.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,f.Z)(function*(){const T=yield E._withRetries(N=>function Ll(_,h){return Js.apply(this,arguments)}(N,m));return E.localCache[m]=T,T})()}_remove(m){var E=this;return(0,f.Z)(function*(){return E._withPendingWrite((0,f.Z)(function*(){return yield E._withRetries(T=>Yi(T,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,f.Z)(function*(){const E=yield m._withRetries(z=>{const ae=na(z,!1).getAll();return new Es(ae).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const T=[],N=new Set;for(const{fbase_key:z,value:ae}of E)N.add(z),JSON.stringify(m.localCache[z])!==JSON.stringify(ae)&&(m.notifyListeners(z,ae),T.push(z));for(const z of Object.keys(m.localCache))m.localCache[z]&&!N.has(z)&&(m.notifyListeners(z,null),T.push(z));return T})()}notifyListeners(m,E){this.localCache[m]=E;const T=this.listeners[m];if(T)for(const N of Array.from(T))N(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function ra(_,h){return Gt(_,"POST","/v2/accounts/mfaSignIn:start",tn(_,h))}function Vi(){return(Vi=(0,f.Z)(function*(_){return(yield Gt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Vn(_){return new Promise((h,m)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=h,E.onerror=T=>{const N=ve("internal-error");N.customData=T,m(N)},E.type="text/javascript",E.charset="UTF-8",function id(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(E)})}function Co(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Sr=1e12;class Qi{constructor(h){this.auth=h,this.counter=Sr,this._widgets=new Map}render(h,m){const E=this.counter;return this._widgets.set(E,new Ji(h,this.auth.name,m||{})),this.counter++,E}reset(h){var m;const E=h||Sr;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(h){var m;return(null===(m=this._widgets.get(h||Sr))||void 0===m?void 0:m.getResponse())||""}execute(h){var m=this;return(0,f.Z)(function*(){var E;return null===(E=m._widgets.get(h||Sr))||void 0===E||E.execute(),""})()}}class Ji{constructor(h,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof h?document.getElementById(h):h;te(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Cn(_){const h=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<_;E++)h.push(m.charAt(Math.floor(Math.random()*m.length)));return h.join("")}(50);const{callback:h,"expired-callback":m}=this.params;if(h)try{h(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xs=Co("rcb"),sd=new dn(3e4,6e4);class Qp{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!mn().grecaptcha}load(h,m=""){return te(function Jp(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),h,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(mn().grecaptcha):new Promise((E,T)=>{const N=mn().setTimeout(()=>{T(ve(h,"network-request-failed"))},sd.get());mn()[Xs]=()=>{mn().clearTimeout(N),delete mn()[Xs];const ae=mn().grecaptcha;if(!ae)return void T(ve(h,"internal-error"));const Ue=ae.render;ae.render=(tt,wt)=>{const at=Ue(tt,wt);return this.counter++,at},this.hostLanguage=m,E(ae)},Vn(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Xs,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),T(ve(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!mn().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xp{load(h){return(0,f.Z)(function*(){return new Qi(h)})()}clearedOneInstance(){}}const eo="recaptcha",ti={theme:"light",type:"image"};class eg{constructor(h,m=Object.assign({},ti),E){this.parameters=m,this.type=eo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pe(E),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof h?document.getElementById(h):h;te(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xp:new Qp,this.validateStartingState()}verify(){var h=this;return(0,f.Z)(function*(){h.assertNotDestroyed();const m=yield h.render(),E=h.getAssertedRecaptcha();return E.getResponse(m)||new Promise(N=>{const z=ae=>{!ae||(h.tokenChangeListeners.delete(z),N(ae))};h.tokenChangeListeners.add(z),h.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof h)h(m);else if("string"==typeof h){const E=mn()[h];"function"==typeof E&&E(m)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,f.Z)(function*(){if(yield h.init(),!h.widgetId){let m=h.container;if(!h.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}h.widgetId=h.getAssertedRecaptcha().render(m,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,f.Z)(function*(){te(en()&&!Fi(),h.auth,"internal-error"),yield function to(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const m=yield function Lr(_){return Vi.apply(this,arguments)}(h.auth);te(m,h.auth,"internal-error"),h.parameters.sitekey=m})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ws{constructor(h,m){this.verificationId=h,this.onConfirmation=m}confirm(h){const m=Ko._fromVerification(this.verificationId,h);return this.onConfirmation(m)}}function In(){return(In=(0,f.Z)(function*(_,h,m){const E=Pe(_),T=yield Ar(E,h,(0,O.m9)(m));return new ws(T,N=>Pn(E,N))})).apply(this,arguments)}function oa(){return(oa=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_);yield Hs(!1,E,"phone");const T=yield Ar(E.auth,h,(0,O.m9)(m));return new ws(T,N=>ki(E,N))})).apply(this,arguments)}function Ul(){return(Ul=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_),T=yield Ar(E.auth,h,(0,O.m9)(m));return new ws(T,N=>Gs(E,N))})).apply(this,arguments)}function Ar(_,h,m){return yi.apply(this,arguments)}function yi(){return(yi=(0,f.Z)(function*(_,h,m){var E;const T=yield m.verify();try{let N;if(te("string"==typeof T,_,"argument-error"),te(m.type===eo,_,"argument-error"),N="string"==typeof h?{phoneNumber:h}:h,"session"in N){const z=N.session;if("phoneNumber"in N)return te("enroll"===z.type,_,"internal-error"),(yield qn(_,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{te("signin"===z.type,_,"internal-error");const ae=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return te(ae,_,"missing-multi-factor-info"),(yield ra(_,{mfaPendingCredential:z.credential,mfaEnrollmentId:ae,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield qp(_,{phoneNumber:N.phoneNumber,recaptchaToken:T});return z}}finally{m._reset()}})).apply(this,arguments)}function bs(){return(bs=(0,f.Z)(function*(_,h){yield yn((0,O.m9)(_),h)})).apply(this,arguments)}let Ui=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=Pe(m)}verifyPhoneNumber(m,E){return Ar(this.auth,m,(0,O.m9)(E))}static credential(m,E){return Ko._fromVerification(m,E)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:T}=m;return E&&T?Ko._fromTokenResponse(E,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Xi(_,h){return h?se(h):(te(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class ja extends un{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Gn(h,this._buildIdpRequest())}_linkToIdToken(h,m){return Gn(h,this._buildIdpRequest(m))}_getReauthenticationResolver(h){return Gn(h,this._buildIdpRequest())}_buildIdpRequest(h){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(m.idToken=h),m}}function $l(_){return yo(_.auth,new ja(_),_.bypassAuthState)}function Hl(_){const{auth:h,user:m}=_;return te(m,h,"internal-error"),zc(m,new ja(_),_.bypassAuthState)}function Ft(_){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,f.Z)(function*(_){const{auth:h,user:m}=_;return te(m,h,"internal-error"),yn(m,new ja(_),_.bypassAuthState)})).apply(this,arguments)}class Xn{constructor(h,m,E,T,N=!1){this.auth=h,this.resolver=E,this.user=T,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var h=this;return new Promise(function(){var m=(0,f.Z)(function*(E,T){h.pendingPromise={resolve:E,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(N){h.reject(N)}});return function(E,T){return m.apply(this,arguments)}}())}onAuthEvent(h){var m=this;return(0,f.Z)(function*(){const{urlResponse:E,sessionId:T,postBody:N,tenantId:z,error:ae,type:Ue}=h;if(ae)return void m.reject(ae);const tt={auth:m.auth,requestUri:E,sessionId:T,tenantId:z||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ue)(tt))}catch(wt){m.reject(wt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return $l;case"linkViaPopup":case"linkViaRedirect":return Ft;case"reauthViaPopup":case"reauthViaRedirect":return Hl;default:Ie(this.auth,"internal-error")}}resolve(h){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ql=new dn(2e3,1e4);function od(){return(od=(0,f.Z)(function*(_,h,m){const E=Pe(_);Ge(_,h,js);const T=Xi(E,m);return new ts(E,"signInViaPopup",h,T).executeNotNull()})).apply(this,arguments)}function Ou(){return(Ou=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_);Ge(E.auth,h,js);const T=Xi(E.auth,m);return new ts(E.auth,"reauthViaPopup",h,T,E).executeNotNull()})).apply(this,arguments)}function ku(){return(ku=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_);Ge(E.auth,h,js);const T=Xi(E.auth,m);return new ts(E.auth,"linkViaPopup",h,T,E).executeNotNull()})).apply(this,arguments)}let ts=(()=>{class _ extends Xn{constructor(m,E,T,N,z){super(m,E,N,z),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,f.Z)(function*(){const E=yield m.execute();return te(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,f.Z)(function*(){ie(1===m.filter.length,"Popup operations only handle one event");const E=ta();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(ve(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,T;this.pollId=(null===(T=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,ql.get())};m()}}return _.currentPopupAction=null,_})();const ns=new Map;class er extends Xn{constructor(h,m,E=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var h=()=>super.execute,m=this;return(0,f.Z)(function*(){let E=ns.get(m.auth._key());if(!E){try{const N=(yield function _i(_,h){return zl.apply(this,arguments)}(m.resolver,m.auth))?yield h().call(m):null;E=()=>Promise.resolve(N)}catch(T){E=()=>Promise.reject(T)}ns.set(m.auth._key(),E)}return m.bypassAuthState||ns.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(h){var m=()=>super.onAuthEvent,E=this;return(0,f.Z)(function*(){if("signInViaRedirect"===h.type)return m().call(E,h);if("unknown"!==h.type){if(h.eventId){const T=yield E.auth._redirectUserForId(h.eventId);if(T)return E.user=T,m().call(E,h);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function zl(){return(zl=(0,f.Z)(function*(_,h){const m=I(h),E=C(_);if(!(yield E._isAvailable()))return!1;const T="true"===(yield E._get(m));return yield E._remove(m),T})).apply(this,arguments)}function To(_,h){return aa.apply(this,arguments)}function aa(){return(aa=(0,f.Z)(function*(_,h){return C(_)._set(I(h),"true")})).apply(this,arguments)}function C(_){return se(_._redirectPersistence)}function I(_){return he("pendingRedirect",_.config.apiKey,_.name)}function K(){return(K=(0,f.Z)(function*(_,h,m){const E=Pe(_);Ge(_,h,js);const T=Xi(E,m);return yield To(T,E),T._openRedirect(E,h,"signInViaRedirect")})).apply(this,arguments)}function Re(){return(Re=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_);Ge(E.auth,h,js);const T=Xi(E.auth,m);yield To(T,E.auth);const N=yield So(E);return T._openRedirect(E.auth,h,"reauthViaRedirect",N)})).apply(this,arguments)}function kt(){return(kt=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_);Ge(E.auth,h,js);const T=Xi(E.auth,m);yield Hs(!1,E,h.providerId),yield To(T,E.auth);const N=yield So(E);return T._openRedirect(E.auth,h,"linkViaRedirect",N)})).apply(this,arguments)}function Wn(){return(Wn=(0,f.Z)(function*(_,h){return yield Pe(_)._initializationPromise,xn(_,h,!1)})).apply(this,arguments)}function xn(_,h){return ua.apply(this,arguments)}function ua(){return(ua=(0,f.Z)(function*(_,h,m=!1){const E=Pe(_),T=Xi(E,h),z=yield new er(E,T,m).execute();return z&&!m&&(delete z.user._redirectEventId,yield E._persistUserIfCurrent(z.user),yield E._setRedirectUser(null,h)),z})).apply(this,arguments)}function So(_){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,f.Z)(function*(_){const h=ta(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class ji{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(h,E)&&(m=!0,this.sendToConsumer(h,E),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Wl(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ud(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=h,m=!0)),m}sendToConsumer(h,m){var E;if(h.error&&!ud(h)){const T=(null===(E=h.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(ve(this.auth,T))}else m.onAuthEvent(h)}isEventForConsumer(h,m){const E=null===m.eventId||!!h.eventId&&h.eventId===m.eventId;return m.filter.includes(h.type)&&E}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ao(h))}saveEventToCache(h){this.cachedEventUids.add(Ao(h)),this.lastProcessedEventTime=Date.now()}}function Ao(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function ud({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Kl(_){return $a.apply(this,arguments)}function $a(){return($a=(0,f.Z)(function*(_,h={}){return Gt(_,"GET","/v1/projects",h)})).apply(this,arguments)}const ng=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_y=/^https?/;function Ds(){return(Ds=(0,f.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield Kl(_);for(const m of h)try{if(Zl(m))return}catch(E){}Ie(_,"unauthorized-domain")})).apply(this,arguments)}function Zl(_){const h=St(),{protocol:m,hostname:E}=new URL(h);if(_.startsWith("chrome-extension://")){const z=new URL(_);return""===z.hostname&&""===E?"chrome-extension:"===m&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===m&&z.hostname===E}if(!_y.test(m))return!1;if(ng.test(_))return E===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(E)}const Ey=new dn(3e4,6e4);function wy(){const _=mn().___jsl;if(null==_?void 0:_.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let ld=null;function by(_){return ld=ld||function rg(_){return new Promise((h,m)=>{var E,T,N;function z(){wy(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{wy(),m(ve(_,"network-request-failed"))},timeout:Ey.get()})}if(null===(T=null===(E=mn().gapi)||void 0===E?void 0:E.iframes)||void 0===T?void 0:T.Iframe)h(gapi.iframes.getContext());else{if(!(null===(N=mn().gapi)||void 0===N?void 0:N.load)){const ae=Co("iframefcb");return mn()[ae]=()=>{gapi.load?z():m(ve(_,"network-request-failed"))},Vn(`https://apis.google.com/js/api.js?onload=${ae}`).catch(Ue=>m(Ue))}z()}}).catch(h=>{throw ld=null,h})}(_),ld}const Fh=new dn(5e3,15e3),xo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ha(_){const h=_.config;te(h.authDomain,_,"auth-domain-config-required");const m=h.emulator?hn(h,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,E={apiKey:h.apiKey,appName:_.name,v:le.SDK_VERSION},T=cd.get(_.config.apiHost);T&&(E.eid=T);const N=_._getFrameworks();return N.length&&(E.fw=N.join(",")),`${m}?${(0,O.xO)(E).slice(1)}`}function la(){return la=(0,f.Z)(function*(_){const h=yield by(_),m=mn().gapi;return te(m,_,"internal-error"),h.open({where:document.body,url:Ha(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xo,dontclear:!0},E=>new Promise(function(){var T=(0,f.Z)(function*(N,z){yield E.restyle({setHideOnLeave:!1});const ae=ve(_,"network-request-failed"),Ue=mn().setTimeout(()=>{z(ae)},Fh.get());function tt(){mn().clearTimeout(Ue),N(E)}E.ping(tt).then(tt,()=>{z(ae)})});return function(N,z){return T.apply(this,arguments)}}()))}),la.apply(this,arguments)}const Cy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fd{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function Uh(_,h,m,E,T,N){te(_.config.authDomain,_,"auth-domain-config-required"),te(_.config.apiKey,_,"invalid-api-key");const z={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:E,v:le.SDK_VERSION,eventId:T};if(h instanceof js){h.setDefaultLanguage(_.languageCode),z.providerId=h.providerId||"",(0,O.xb)(h.getCustomParameters())||(z.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Ue,tt]of Object.entries(N||{}))z[Ue]=tt}if(h instanceof Qr){const Ue=h.getScopes().filter(tt=>""!==tt);Ue.length>0&&(z.scopes=Ue.join(","))}_.tenantId&&(z.tid=_.tenantId);const ae=z;for(const Ue of Object.keys(ae))void 0===ae[Ue]&&delete ae[Ue];return`${function Ty({config:_}){return _.emulator?hn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,O.xO)(ae).slice(1)}`}const ro="webStorageSupport";class jh extends class ig{constructor(h){this.factorId=h}_process(h,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(h,m.credential,E);case"signin":return this._finalizeSignIn(h,m.credential);default:return W("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new jh(h)}_finalizeEnroll(h,m,E){return function Jc(_,h){return Gt(_,"POST","/v2/accounts/mfaEnrollment:finalize",tn(_,h))}(h,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,m){return function ia(_,h){return Gt(_,"POST","/v2/accounts/mfaSignIn:finalize",tn(_,h))}(h,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sy=(()=>{class _{constructor(){}static assertion(m){return jh._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var Ay="@firebase/auth",$h="0.19.11";class sg{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var m=this;return(0,f.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const m=this.auth.onIdTokenChanged(E=>{var T;h((null===(T=E)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,m),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const m=this.internalListeners.get(h);!m||(this.internalListeners.delete(h),m(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function io(){return window}function Vu(){return(Vu=(0,f.Z)(function*(_,h,m){var E;const{BuildInfo:T}=io();ie(h.sessionId,"AuthEvent did not contain a session ID");const N=yield Ga(h.sessionId),z={};return sr()?z.ibi=T.packageName:Sn()?z.apn=T.packageName:Ie(_,"operation-not-supported-in-this-environment"),T.displayName&&(z.appDisplayName=T.displayName),z.sessionId=N,Uh(_,m,h.type,void 0,null!==(E=h.eventId)&&void 0!==E?E:void 0,z)})).apply(this,arguments)}function $i(){return($i=(0,f.Z)(function*(_){const{BuildInfo:h}=io(),m={};sr()?m.iosBundleId=h.packageName:Sn()?m.androidPackageName=h.packageName:Ie(_,"operation-not-supported-in-this-environment"),yield Kl(_,m)})).apply(this,arguments)}function gd(){return(gd=(0,f.Z)(function*(_,h,m){const{cordova:E}=io();let T=()=>{};try{yield new Promise((N,z)=>{let ae=null;function Ue(){var at;N();const Rn=null===(at=E.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof Rn&&Rn(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function tt(){ae||(ae=window.setTimeout(()=>{z(ve(_,"redirect-cancelled-by-user"))},2e3))}function wt(){"visible"===(null==document?void 0:document.visibilityState)&&tt()}h.addPassiveListener(Ue),document.addEventListener("resume",tt,!1),Sn()&&document.addEventListener("visibilitychange",wt,!1),T=()=>{h.removePassiveListener(Ue),document.removeEventListener("resume",tt,!1),document.removeEventListener("visibilitychange",wt,!1),ae&&window.clearTimeout(ae)}})}finally{T()}})).apply(this,arguments)}function Ga(_){return ag.apply(this,arguments)}function ag(){return(ag=(0,f.Z)(function*(_){const h=Bu(_),m=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(m)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Bu(_){if(ie(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const h=new ArrayBuffer(_.length),m=new Uint8Array(h);for(let E=0;E<_.length;E++)m[E]=_.charCodeAt(E);return m}!function xy(_){(0,le._registerComponent)(new re.wA("auth",(h,{options:m})=>{const E=h.getProvider("app").getImmediate(),T=h.getProvider("heartbeat"),{apiKey:N,authDomain:z}=E.options;return((ae,Ue)=>{te(N&&!N.includes(":"),"invalid-api-key",{appName:ae.name}),te(!(null==z?void 0:z.includes(":")),"argument-error",{appName:ae.name});const tt={apiKey:N,authDomain:z,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Na(_)},wt=new li(ae,Ue,tt);return function ue(_,h){const m=(null==h?void 0:h.persistence)||[],E=(Array.isArray(m)?m:[m]).map(se);(null==h?void 0:h.errorMap)&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(E,null==h?void 0:h.popupRedirectResolver)}(wt,m),wt})(E,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,m,E)=>{h.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new re.wA("auth-internal",h=>{const m=Pe(h.getProvider("auth").getImmediate());return new sg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Ay,$h,function My(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,le.registerVersion)(Ay,$h,"esm2017")}("Browser");class zh extends ji{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(h)),super.onEvent(h)}initialized(){var h=this;return(0,f.Z)(function*(){yield h.initPromise})()}}function Jl(_){return da.apply(this,arguments)}function da(){return(da=(0,f.Z)(function*(_){const h=yield ec()._get(Kh(_));return h&&(yield ec()._remove(Kh(_))),h})).apply(this,arguments)}function Xl(){const _=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const E=Math.floor(Math.random()*h.length);_.push(h.charAt(E))}return _.join("")}function ec(){return se(Ln)}function Kh(_){return he("authEvent",_.config.apiKey,_.name)}function yd(_){if(!(null==_?void 0:_.includes("?")))return{};const[h,...m]=_.split("?");return(0,O.zd)(m.join("?"))}function Jh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function _d(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function lg(_=(0,O.z$)()){return!("file:"!==_d()&&"ionic:"!==_d()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mr(){try{const _=self.localStorage,h=ta();if(_)return _.setItem(h,"1"),_.removeItem(h),!function ha(_=(0,O.z$)()){return function Py(){return(0,O.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Fy(_=(0,O.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,O.hl)()}catch(_){return Ro()&&(0,O.hl)()}return!1}function Ro(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function rc(){return(function ky(){return"http:"===_d()||"https:"===_d()}()||(0,O.ru)()||lg())&&!function vd(){return(0,O.b$)()||(0,O.UG)()}()&&Mr()&&!Ro()}function Xh(){return lg()&&"undefined"!=typeof document}function qa(){return(qa=(0,f.Z)(function*(){return!!Xh()&&new Promise(_=>{const h=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),_(!0)})})})).apply(this,arguments)}const Hi={LOCAL:"local",NONE:"none",SESSION:"session"},za=te,tf="persistence";function Wa(_){return nf.apply(this,arguments)}function nf(){return(nf=(0,f.Z)(function*(_){yield _._initializationPromise;const h=ic(),m=he(tf,_.config.apiKey,_.name);h&&h.setItem(m,_._getPersistence())})).apply(this,arguments)}function ic(){var _;try{return(null===(_=function ef(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(h){return null}}const Ly=te;class Ei{constructor(){this.browserResolver=se(class ca{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ar,this._completeRedirectFn=xn}_openPopup(h,m,E,T){var N=this;return(0,f.Z)(function*(){var z;ie(null===(z=N.eventManagers[h._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const ae=Uh(h,m,E,St(),T);return function pd(_,h,m,E=500,T=600){const N=Math.max((window.screen.availHeight-T)/2,0).toString(),z=Math.max((window.screen.availWidth-E)/2,0).toString();let ae="";const Ue=Object.assign(Object.assign({},Cy),{width:E.toString(),height:T.toString(),top:N,left:z}),tt=(0,O.z$)().toLowerCase();m&&(ae=br(tt)?"_blank":m),Et(tt)&&(h=h||"http://localhost",Ue.scrollbars="yes");const wt=Object.entries(Ue).reduce((Rn,[rs,oc])=>`${Rn}${rs}=${oc},`,"");if(function cu(_=(0,O.z$)()){var h;return sr(_)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(tt)&&"_self"!==ae)return function Bh(_,h){const m=document.createElement("a");m.href=_,m.target=h;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(h||"",ae),new fd(null);const at=window.open(h||"",ae,wt);te(at,_,"popup-blocked");try{at.focus()}catch(Rn){}return new fd(at)}(h,ae,ta())})()}_openRedirect(h,m,E,T){var N=this;return(0,f.Z)(function*(){return yield N._originValidation(h),function Ph(_){mn().location.href=_}(Uh(h,m,E,St(),T)),new Promise(()=>{})})()}_initialize(h){const m=h._key();if(this.eventManagers[m]){const{manager:T,promise:N}=this.eventManagers[m];return T?Promise.resolve(T):(ie(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(h);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(h){var m=this;return(0,f.Z)(function*(){const E=yield function Dy(_){return la.apply(this,arguments)}(h),T=new ji(h);return E.register("authEvent",N=>(te(null==N?void 0:N.authEvent,h,"invalid-auth-event"),{status:T.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[h._key()]={manager:T},m.iframes[h._key()]=E,T})()}_isIframeWebStorageSupported(h,m){this.iframes[h._key()].send(ro,{type:ro},T=>{var N;const z=null===(N=null==T?void 0:T[0])||void 0===N?void 0:N[ro];void 0!==z&&m(!!z),Ie(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function vy(_){return Ds.apply(this,arguments)}(h)),this.originValidationPromises[m]}get _shouldInitProactively(){return hs()||Yt()||sr()}}),this.cordovaResolver=se(class Qh{constructor(){this._redirectPersistence=ar,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xn}_initialize(h){var m=this;return(0,f.Z)(function*(){const E=h._key();let T=m.eventManagers.get(E);return T||(T=new zh(h),m.eventManagers.set(E,T),m.attachCallbackListeners(h,T)),T})()}_openPopup(h){Ie(h,"operation-not-supported-in-this-environment")}_openRedirect(h,m,E,T){var N=this;return(0,f.Z)(function*(){!function md(_){var h,m,E,T,N,z,ae,Ue,tt,wt;const at=io();te("function"==typeof(null===(h=null==at?void 0:at.universalLinks)||void 0===h?void 0:h.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(void 0!==(null===(m=null==at?void 0:at.BuildInfo)||void 0===m?void 0:m.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(N=null===(T=null===(E=null==at?void 0:at.cordova)||void 0===E?void 0:E.plugins)||void 0===T?void 0:T.browsertab)||void 0===N?void 0:N.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(Ue=null===(ae=null===(z=null==at?void 0:at.cordova)||void 0===z?void 0:z.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===Ue?void 0:Ue.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(wt=null===(tt=null==at?void 0:at.cordova)||void 0===tt?void 0:tt.InAppBrowser)||void 0===wt?void 0:wt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const z=yield N._initialize(h);yield z.initialized(),z.resetRedirect(),function Pu(){ns.clear()}(),yield N._originValidation(h);const ae=function Wh(_,h,m=null){return{type:h,eventId:m,urlResponse:null,sessionId:Xl(),postBody:null,tenantId:_.tenantId,error:ve(_,"no-auth-event")}}(h,E,T);yield function dE(_,h){return ec()._set(Kh(_),h)}(h,ae);const Ue=yield function Hh(_,h,m){return Vu.apply(this,arguments)}(h,ae,m),tt=yield function Ql(_){const{cordova:h}=io();return new Promise(m=>{h.plugins.browsertab.isAvailable(E=>{let T=null;E?h.plugins.browsertab.openUrl(_):T=h.InAppBrowser.open(_,function fo(_=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(T)})})}(Ue);return function og(_,h,m){return gd.apply(this,arguments)}(h,z,tt)})()}_isIframeWebStorageSupported(h,m){throw new Error("Method not implemented.")}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Gh(_){return $i.apply(this,arguments)}(h)),this.originValidationPromises[m]}attachCallbackListeners(h,m){const{universalLinks:E,handleOpenURL:T,BuildInfo:N}=io(),z=setTimeout((0,f.Z)(function*(){yield Jl(h),m.onEvent(Jh())}),500),ae=function(){var wt=(0,f.Z)(function*(at){clearTimeout(z);const Rn=yield Jl(h);let rs=null;Rn&&(null==at?void 0:at.url)&&(rs=function Ny(_,h){var m,E;const T=function tc(_){const h=yd(_),m=h.link?decodeURIComponent(h.link):void 0,E=yd(m).link,T=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return yd(T).link||T||E||m||_}(h);if(T.includes("/__/auth/callback")){const N=yd(T),z=N.firebaseError?function Zh(_){try{return JSON.parse(_)}catch(h){return null}}(decodeURIComponent(N.firebaseError)):null,ae=null===(E=null===(m=null==z?void 0:z.code)||void 0===m?void 0:m.split("auth/"))||void 0===E?void 0:E[1],Ue=ae?ve(ae):null;return Ue?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:T,postBody:null}}return null}(Rn,at.url)),m.onEvent(rs||Jh())});return function(Rn){return wt.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,ae);const Ue=T,tt=`${N.packageName.toLowerCase()}://`;io().handleOpenURL=function(){var wt=(0,f.Z)(function*(at){if(at.toLowerCase().startsWith(tt)&&ae({url:at}),"function"==typeof Ue)try{Ue(at)}catch(Rn){console.error(Rn)}});return function(at){return wt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ar,this._completeRedirectFn=xn}_initialize(h){var m=this;return(0,f.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,m,E,T){var N=this;return(0,f.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(h,m,E,T)})()}_openRedirect(h,m,E,T){var N=this;return(0,f.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(h,m,E,T)})()}_isIframeWebStorageSupported(h,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,m)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Xh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ly(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,f.Z)(function*(){if(h.underlyingResolver)return;const m=yield function Br(){return qa.apply(this,arguments)}();h.underlyingResolver=m?h.cordovaResolver:h.browserResolver})()}}function hg(_){return _.unwrap()}function Ka(_){return fg(_)}function fg(_){const{_tokenResponse:h}=_ instanceof O.ZR?_.customData:_;if(!h)return null;if(!(_ instanceof O.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return Ui.credentialFromResult(_);const m=h.providerId;if(!m||"password"===m)return null;let E;switch(m){case"google.com":E=Pa;break;case"facebook.com":E=go;break;case"github.com":E=Gc;break;case"twitter.com":E=mu;break;default:const{oauthIdToken:T,oauthAccessToken:N,oauthTokenSecret:z,pendingToken:ae,nonce:Ue}=h;return N||z||T||ae?ae?m.startsWith("saml.")?gr._create(m,ae):gs._fromParams({providerId:m,signInMethod:m,pendingToken:ae,idToken:T,accessToken:N}):new Zo(m).credential({idToken:T,accessToken:N,rawNonce:Ue}):null}return _ instanceof O.ZR?E.credentialFromError(_):E.credentialFromResult(_)}function xr(_,h){return h.catch(m=>{throw m instanceof O.ZR&&function By(_,h){var m;const E=null===(m=h.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new Uy(_,function xu(_,h){var m;const E=(0,O.m9)(_),T=h;return te(h.customData.operationType,E,"argument-error"),te(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),Ua._fromError(E,T)}(_,h));else if(E){const T=fg(h),N=h;T&&(N.credential=T,N.tenantId=E.tenantId||void 0,N.email=E.email||void 0,N.phoneNumber=E.phoneNumber||void 0)}}(_,m),m}).then(m=>{const T=m.user;return{operationType:m.operationType,credential:Ka(m),additionalUserInfo:Tr(m),user:No.getOrCreate(T)}})}function rf(_,h){return sf.apply(this,arguments)}function sf(){return(sf=(0,f.Z)(function*(_,h){const m=yield h;return{verificationId:m.verificationId,confirm:E=>xr(_,m.confirm(E))}})).apply(this,arguments)}class Uy{constructor(h,m){this.resolver=m,this.auth=function Vy(_){return _.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return xr(hg(this.auth),this.resolver.resolveSignIn(h))}}class No{constructor(h){this._delegate=h,this.multiFactor=function Xc(_){const h=(0,O.m9)(_);return ea.has(h)||ea.set(h,vs._fromUser(h)),ea.get(h)}(h)}static getOrCreate(h){return No.USER_MAP.has(h)||No.USER_MAP.set(h,new No(h)),No.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var m=this;return(0,f.Z)(function*(){return xr(m.auth,ki(m._delegate,h))})()}linkWithPhoneNumber(h,m){var E=this;return(0,f.Z)(function*(){return rf(E.auth,function Bl(_,h,m){return oa.apply(this,arguments)}(E._delegate,h,m))})()}linkWithPopup(h){var m=this;return(0,f.Z)(function*(){return xr(m.auth,function es(_,h,m){return ku.apply(this,arguments)}(m._delegate,h,Ei))})()}linkWithRedirect(h){var m=this;return(0,f.Z)(function*(){return yield Wa(Pe(m.auth)),function Xe(_,h,m){return function It(_,h,m){return kt.apply(this,arguments)}(_,h,m)}(m._delegate,h,Ei)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var m=this;return(0,f.Z)(function*(){return xr(m.auth,Gs(m._delegate,h))})()}reauthenticateWithPhoneNumber(h,m){return rf(this.auth,function tg(_,h,m){return Ul.apply(this,arguments)}(this._delegate,h,m))}reauthenticateWithPopup(h){return xr(this.auth,function Io(_,h,m){return Ou.apply(this,arguments)}(this._delegate,h,Ei))}reauthenticateWithRedirect(h){var m=this;return(0,f.Z)(function*(){return yield Wa(Pe(m.auth)),function ee(_,h,m){return function xe(_,h,m){return Re.apply(this,arguments)}(_,h,m)}(m._delegate,h,Ei)})()}sendEmailVerification(h){return function Pi(_,h){return Tl.apply(this,arguments)}(this._delegate,h)}unlink(h){var m=this;return(0,f.Z)(function*(){return yield function Fa(_,h){return vl.apply(this,arguments)}(m._delegate,h),m})()}updateEmail(h){return function Ml(_,h){return xl((0,O.m9)(_),h,null)}(this._delegate,h)}updatePassword(h){return function Kc(_,h){return xl((0,O.m9)(_),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function jl(_,h){return bs.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Xo(_,h){return Al.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,m){return function Au(_,h,m){return Mu.apply(this,arguments)}(this._delegate,h,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}No.USER_MAP=new WeakMap;const sc=te;let of=(()=>{class _{constructor(m,E){if(this.app=m,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=m.options;sc(T,"invalid-api-key",{appName:m.name}),sc(T,"invalid-api-key",{appName:m.name});const N="undefined"!=typeof window?Ei:void 0;this._delegate=E.initialize({options:{persistence:jy(T,m.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?No.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,E){!function gn(_,h,m){const E=Pe(_);te(E._canInitEmulator,E,"emulator-config-failed"),te(/^https?:\/\//.test(h),E,"invalid-emulator-scheme");const T=!!(null==m?void 0:m.disableWarnings),N=pr(h),{host:z,port:ae}=function Ps(_){const h=pr(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(E);if(T){const N=T[1];return{host:N,port:Hn(E.substr(N.length+1))}}{const[N,z]=E.split(":");return{host:N,port:Hn(z)}}}(h);E.config.emulator={url:`${N}//${z}${null===ae?"":`:${ae}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:z,port:ae,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Ki(){function _(){const h=document.createElement("p"),m=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,E)}applyActionCode(m){return function wl(_,h){return Ce.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Bt(this._delegate,m)}confirmPasswordReset(m,E){return function Iu(_,h,m){return El.apply(this,arguments)}(this._delegate,m,E)}createUserWithEmailAndPassword(m,E){var T=this;return(0,f.Z)(function*(){return xr(T._delegate,function Jo(_,h,m){return Xr.apply(this,arguments)}(T._delegate,m,E))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Su(_,h){return Ks.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Il(_,h){const m=po.parseLink(h);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,f.Z)(function*(){sc(rc(),m._delegate,"operation-not-supported-in-this-environment");const E=yield function Mt(_,h){return Wn.apply(this,arguments)}(m._delegate,Ei);return E?xr(m._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function ug(_,h){Pe(_)._logFramework(h)}(this._delegate,m)}onAuthStateChanged(m,E,T){const{next:N,error:z,complete:ae}=af(m,E,T);return this._delegate.onAuthStateChanged(N,z,ae)}onIdTokenChanged(m,E,T){const{next:N,error:z,complete:ae}=af(m,E,T);return this._delegate.onIdTokenChanged(N,z,ae)}sendSignInLinkToEmail(m,E){return function Cl(_,h,m){return Wc.apply(this,arguments)}(this._delegate,m,E)}sendPasswordResetEmail(m,E){return function Du(_,h,m){return Cu.apply(this,arguments)}(this._delegate,m,E||void 0)}setPersistence(m){var E=this;return(0,f.Z)(function*(){let T;switch(function cg(_,h){za(Object.values(Hi).includes(h),_,"invalid-persistence-type"),(0,O.b$)()?za(h!==Hi.SESSION,_,"unsupported-persistence-type"):(0,O.UG)()?za(h===Hi.NONE,_,"unsupported-persistence-type"):Ro()?za(h===Hi.NONE||h===Hi.LOCAL&&(0,O.hl)(),_,"unsupported-persistence-type"):za(h===Hi.NONE||Mr(),_,"unsupported-persistence-type")}(E._delegate,m),m){case Hi.SESSION:T=ar;break;case Hi.LOCAL:T=(yield se(Li)._isAvailable())?Li:Ln;break;case Hi.NONE:T=q;break;default:return Ie("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return xr(this._delegate,function _u(_){return qc.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return xr(this._delegate,Pn(this._delegate,m))}signInWithCustomToken(m){return xr(this._delegate,function qs(_,h){return zs.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,E){return xr(this._delegate,function Dl(_,h,m){return Pn((0,O.m9)(_),_l.credential(h,m))}(this._delegate,m,E))}signInWithEmailLink(m,E){return xr(this._delegate,function Tu(_,h,m){return Ws.apply(this,arguments)}(this._delegate,m,E))}signInWithPhoneNumber(m,E){return rf(this._delegate,function Nu(_,h,m){return In.apply(this,arguments)}(this._delegate,m,E))}signInWithPopup(m){var E=this;return(0,f.Z)(function*(){return sc(rc(),E._delegate,"operation-not-supported-in-this-environment"),xr(E._delegate,function no(_,h,m){return od.apply(this,arguments)}(E._delegate,m,Ei))})()}signInWithRedirect(m){var E=this;return(0,f.Z)(function*(){return sc(rc(),E._delegate,"operation-not-supported-in-this-environment"),yield Wa(E._delegate),function R(_,h,m){return function L(_,h,m){return K.apply(this,arguments)}(_,h,m)}(E._delegate,m,Ei)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function wn(_,h){return Qo.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Hi,_})();function af(_,h,m){let E=_;"function"!=typeof _&&({next:E,error:h,complete:m}=_);const T=E;return{next:z=>T(z&&No.getOrCreate(z)),error:h,complete:m}}function jy(_,h){const m=function dg(_,h){const m=ic();if(!m)return[];const E=he(tf,_,h);switch(m.getItem(E)){case Hi.NONE:return[q];case Hi.LOCAL:return[Li,ar];case Hi.SESSION:return[ar];default:return[]}}(_,h);if("undefined"!=typeof self&&!m.includes(Li)&&m.push(Li),"undefined"!=typeof window)for(const E of[Ln,ar])m.includes(E)||m.push(E);return m.includes(q)||m.push(q),m}class uf{constructor(){this.providerId="phone",this._delegate=new Ui(hg(Y.Z.auth()))}static credential(h,m){return Ui.credential(h,m)}verifyPhoneNumber(h,m){return this._delegate.verifyPhoneNumber(h,m)}unwrap(){return this._delegate}}uf.PHONE_SIGN_IN_METHOD=Ui.PHONE_SIGN_IN_METHOD,uf.PROVIDER_ID=Ui.PROVIDER_ID;const $y=te;class Hy{constructor(h,m,E=Y.Z.app()){var T;$y(null===(T=E.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new eg(h,m,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function gg(_){_.INTERNAL.registerComponent(new re.wA("auth-compat",h=>{const m=h.getProvider("app-compat").getImmediate(),E=h.getProvider("auth");return new of(m,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:_l,FacebookAuthProvider:go,GithubAuthProvider:Gc,GoogleAuthProvider:Pa,OAuthProvider:Zo,SAMLAuthProvider:hi,PhoneAuthProvider:uf,PhoneMultiFactorGenerator:Sy,RecaptchaVerifier:Hy,TwitterAuthProvider:mu,Auth:of,AuthCredential:un,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.11")}(Y.Z)},8306:(ut,Se,P)=>{P.d(Se,{y:()=>$});var f=P(2961),Y=P(727),O=P(8822),le=P(4671);var re=P(2416),fe=P(576),de=P(2806);let $=(()=>{class Ae{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const pe=new Ae;return pe.source=this,pe.operator=Ve,pe}subscribe(Ve,pe,De){const nt=function We(Ae){return Ae&&Ae instanceof f.Lv||function J(Ae){return Ae&&(0,fe.m)(Ae.next)&&(0,fe.m)(Ae.error)&&(0,fe.m)(Ae.complete)}(Ae)&&(0,Y.Nn)(Ae)}(Ve)?Ve:new f.Hp(Ve,pe,De);return(0,de.x)(()=>{const{operator:Ye,source:Ie}=this;nt.add(Ye?Ye.call(nt,Ie):Ie?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(pe){Ve.error(pe)}}forEach(Ve,pe){return new(pe=H(pe))((De,nt)=>{const Ye=new f.Hp({next:Ie=>{try{Ve(Ie)}catch(ve){nt(ve),Ye.unsubscribe()}},error:nt,complete:De});this.subscribe(Ye)})}_subscribe(Ve){var pe;return null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(Ve)}[O.L](){return this}pipe(...Ve){return function me(Ae){return 0===Ae.length?le.y:1===Ae.length?Ae[0]:function(Ve){return Ae.reduce((pe,De)=>De(pe),Ve)}}(Ve)(this)}toPromise(Ve){return new(Ve=H(Ve))((pe,De)=>{let nt;this.subscribe(Ye=>nt=Ye,Ye=>De(Ye),()=>pe(nt))})}}return Ae.create=ke=>new Ae(ke),Ae})();function H(Ae){var ke;return null!==(ke=null!=Ae?Ae:re.v.Promise)&&void 0!==ke?ke:Promise}},7579:(ut,Se,P)=>{P.d(Se,{x:()=>re});var f=P(8306),Y=P(727);const le=(0,P(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=P(8737),me=P(2806);let re=(()=>{class de extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const J=new fe(this,this);return J.operator=H,J}_throwIfClosed(){if(this.closed)throw new le}next(H){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(H)}})}error(H){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:J}=this;for(;J.length;)J.shift().error(H)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:J,isStopped:We,observers:Ae}=this;return J||We?Y.Lc:(this.currentObservers=null,Ae.push(H),new Y.w0(()=>{this.currentObservers=null,(0,X.P)(Ae,H)}))}_checkFinalizedStatuses(H){const{hasError:J,thrownError:We,isStopped:Ae}=this;J?H.error(We):Ae&&H.complete()}asObservable(){const H=new f.y;return H.source=this,H}}return de.create=($,H)=>new fe($,H),de})();class fe extends re{constructor($,H){super(),this.destination=$,this.source=H}next($){var H,J;null===(J=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===J||J.call(H,$)}error($){var H,J;null===(J=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===J||J.call(H,$)}complete(){var $,H;null===(H=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===H||H.call($)}_subscribe($){var H,J;return null!==(J=null===(H=this.source)||void 0===H?void 0:H.subscribe($))&&void 0!==J?J:Y.Lc}}},2961:(ut,Se,P)=>{P.d(Se,{Hp:()=>Ve,Lv:()=>J});var f=P(576),Y=P(727),O=P(2416),le=P(7849);function X(){}const me=de("C",void 0,void 0);function de(Ie,ve,we){return{kind:Ie,value:ve,error:we}}var $=P(3410),H=P(2806);class J extends Y.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,Y.Nn)(ve)&&ve.add(this)):this.destination=Ye}static create(ve,we,Ge){return new Ve(ve,we,Ge)}next(ve){this.isStopped?nt(function fe(Ie){return de("N",Ie,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?nt(function re(Ie){return de("E",void 0,Ie)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?nt(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const We=Function.prototype.bind;function Ae(Ie,ve){return We.call(Ie,ve)}class ke{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:we}=this;if(we.next)try{we.next(ve)}catch(Ge){pe(Ge)}}error(ve){const{partialObserver:we}=this;if(we.error)try{we.error(ve)}catch(Ge){pe(Ge)}else pe(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(we){pe(we)}}}class Ve extends J{constructor(ve,we,Ge){let $e;if(super(),(0,f.m)(ve)||!ve)$e={next:null!=ve?ve:void 0,error:null!=we?we:void 0,complete:null!=Ge?Ge:void 0};else{let te;this&&O.v.useDeprecatedNextContext?(te=Object.create(ve),te.unsubscribe=()=>this.unsubscribe(),$e={next:ve.next&&Ae(ve.next,te),error:ve.error&&Ae(ve.error,te),complete:ve.complete&&Ae(ve.complete,te)}):$e=ve}this.destination=new ke($e)}}function pe(Ie){O.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ie):(0,le.h)(Ie)}function nt(Ie,ve){const{onStoppedNotification:we}=O.v;we&&$.z.setTimeout(()=>we(Ie,ve))}const Ye={closed:!0,next:X,error:function De(Ie){throw Ie},complete:X}},727:(ut,Se,P)=>{P.d(Se,{Lc:()=>me,w0:()=>X,Nn:()=>re});var f=P(576);const O=(0,P(3888).d)(de=>function(H){de(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((J,We)=>`${We+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var le=P(8737);class X{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Ae of H)Ae.remove(this);else H.remove(this);const{initialTeardown:J}=this;if((0,f.m)(J))try{J()}catch(Ae){$=Ae instanceof O?Ae.errors:[Ae]}const{_finalizers:We}=this;if(We){this._finalizers=null;for(const Ae of We)try{fe(Ae)}catch(ke){$=null!=$?$:[],ke instanceof O?$=[...$,...ke.errors]:$.push(ke)}}if($)throw new O($)}}add($){var H;if($&&$!==this)if(this.closed)fe($);else{if($ instanceof X){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push($)}}_hasParent($){const{_parentage:H}=this;return H===$||Array.isArray(H)&&H.includes($)}_addParent($){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push($),H):H?[H,$]:$}_removeParent($){const{_parentage:H}=this;H===$?this._parentage=null:Array.isArray(H)&&(0,le.P)(H,$)}remove($){const{_finalizers:H}=this;H&&(0,le.P)(H,$),$ instanceof X&&$._removeParent(this)}}X.EMPTY=(()=>{const de=new X;return de.closed=!0,de})();const me=X.EMPTY;function re(de){return de instanceof X||de&&"closed"in de&&(0,f.m)(de.remove)&&(0,f.m)(de.add)&&(0,f.m)(de.unsubscribe)}function fe(de){(0,f.m)(de)?de():de.unsubscribe()}},2416:(ut,Se,P)=>{P.d(Se,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ut,Se,P)=>{P.d(Se,{E:()=>Y});const Y=new(P(8306).y)(X=>X.complete())},8996:(ut,Se,P)=>{P.d(Se,{D:()=>ve});var f=P(8421),Y=P(5363),O=P(9468),me=P(8306),fe=P(2202),de=P(576),$=P(9672);function J(we,Ge){if(!we)throw new Error("Iterable cannot be null");return new me.y($e=>{(0,$.f)($e,Ge,()=>{const te=we[Symbol.asyncIterator]();(0,$.f)($e,Ge,()=>{te.next().then(W=>{W.done?$e.complete():$e.next(W.value)})},0,!0)})})}var We=P(3670),Ae=P(8239),ke=P(1144),Ve=P(6495),pe=P(2206),De=P(4532),nt=P(3260);function ve(we,Ge){return Ge?function Ie(we,Ge){if(null!=we){if((0,We.c)(we))return function le(we,Ge){return(0,f.Xf)(we).pipe((0,O.R)(Ge),(0,Y.Q)(Ge))}(we,Ge);if((0,ke.z)(we))return function re(we,Ge){return new me.y($e=>{let te=0;return Ge.schedule(function(){te===we.length?$e.complete():($e.next(we[te++]),$e.closed||this.schedule())})})}(we,Ge);if((0,Ae.t)(we))return function X(we,Ge){return(0,f.Xf)(we).pipe((0,O.R)(Ge),(0,Y.Q)(Ge))}(we,Ge);if((0,pe.D)(we))return J(we,Ge);if((0,Ve.T)(we))return function H(we,Ge){return new me.y($e=>{let te;return(0,$.f)($e,Ge,()=>{te=we[fe.h](),(0,$.f)($e,Ge,()=>{let W,ie;try{({value:W,done:ie}=te.next())}catch(ye){return void $e.error(ye)}ie?$e.complete():$e.next(W)},0,!0)}),()=>(0,de.m)(null==te?void 0:te.return)&&te.return()})}(we,Ge);if((0,nt.L)(we))return function Ye(we,Ge){return J((0,nt.Q)(we),Ge)}(we,Ge)}throw(0,De.z)(we)}(we,Ge):(0,f.Xf)(we)}},8421:(ut,Se,P)=>{P.d(Se,{Xf:()=>We});var f=P(655),Y=P(1144),O=P(8239),le=P(8306),X=P(3670),me=P(2206),re=P(4532),fe=P(6495),de=P(3260),$=P(576),H=P(7849),J=P(8822);function We(Ie){if(Ie instanceof le.y)return Ie;if(null!=Ie){if((0,X.c)(Ie))return function Ae(Ie){return new le.y(ve=>{const we=Ie[J.L]();if((0,$.m)(we.subscribe))return we.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,Y.z)(Ie))return function ke(Ie){return new le.y(ve=>{for(let we=0;we<Ie.length&&!ve.closed;we++)ve.next(Ie[we]);ve.complete()})}(Ie);if((0,O.t)(Ie))return function Ve(Ie){return new le.y(ve=>{Ie.then(we=>{ve.closed||(ve.next(we),ve.complete())},we=>ve.error(we)).then(null,H.h)})}(Ie);if((0,me.D)(Ie))return De(Ie);if((0,fe.T)(Ie))return function pe(Ie){return new le.y(ve=>{for(const we of Ie)if(ve.next(we),ve.closed)return;ve.complete()})}(Ie);if((0,de.L)(Ie))return function nt(Ie){return De((0,de.Q)(Ie))}(Ie)}throw(0,re.z)(Ie)}function De(Ie){return new le.y(ve=>{(function Ye(Ie,ve){var we,Ge,$e,te;return(0,f.mG)(this,void 0,void 0,function*(){try{for(we=(0,f.KL)(Ie);!(Ge=yield we.next()).done;)if(ve.next(Ge.value),ve.closed)return}catch(W){$e={error:W}}finally{try{Ge&&!Ge.done&&(te=we.return)&&(yield te.call(we))}finally{if($e)throw $e.error}}ve.complete()})})(Ie,ve).catch(we=>ve.error(we))})}},6451:(ut,Se,P)=>{P.d(Se,{T:()=>me});var f=P(8189),Y=P(8421),O=P(515),le=P(7669),X=P(8996);function me(...re){const fe=(0,le.yG)(re),de=(0,le._6)(re,1/0),$=re;return $.length?1===$.length?(0,Y.Xf)($[0]):(0,f.J)(de)((0,X.D)($,fe)):O.E}},5403:(ut,Se,P)=>{P.d(Se,{x:()=>Y});var f=P(2961);function Y(le,X,me,re,fe){return new O(le,X,me,re,fe)}class O extends f.Lv{constructor(X,me,re,fe,de,$){super(X),this.onFinalize=de,this.shouldUnsubscribe=$,this._next=me?function(H){try{me(H)}catch(J){X.error(J)}}:super._next,this._error=fe?function(H){try{fe(H)}catch(J){X.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(H){X.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(ut,Se,P)=>{P.d(Se,{U:()=>O});var f=P(4482),Y=P(5403);function O(le,X){return(0,f.e)((me,re)=>{let fe=0;me.subscribe((0,Y.x)(re,de=>{re.next(le.call(X,de,fe++))}))})}},8189:(ut,Se,P)=>{P.d(Se,{J:()=>O});var f=P(5577),Y=P(4671);function O(le=1/0){return(0,f.z)(Y.y,le)}},5577:(ut,Se,P)=>{P.d(Se,{z:()=>fe});var f=P(4004),Y=P(8421),O=P(4482),le=P(9672),X=P(5403),re=P(576);function fe(de,$,H=1/0){return(0,re.m)($)?fe((J,We)=>(0,f.U)((Ae,ke)=>$(J,Ae,We,ke))((0,Y.Xf)(de(J,We))),H):("number"==typeof $&&(H=$),(0,O.e)((J,We)=>function me(de,$,H,J,We,Ae,ke,Ve){const pe=[];let De=0,nt=0,Ye=!1;const Ie=()=>{Ye&&!pe.length&&!De&&$.complete()},ve=Ge=>De<J?we(Ge):pe.push(Ge),we=Ge=>{Ae&&$.next(Ge),De++;let $e=!1;(0,Y.Xf)(H(Ge,nt++)).subscribe((0,X.x)($,te=>{null==We||We(te),Ae?ve(te):$.next(te)},()=>{$e=!0},void 0,()=>{if($e)try{for(De--;pe.length&&De<J;){const te=pe.shift();ke?(0,le.f)($,ke,()=>we(te)):we(te)}Ie()}catch(te){$.error(te)}}))};return de.subscribe((0,X.x)($,ve,()=>{Ye=!0,Ie()})),()=>{null==Ve||Ve()}}(J,We,de,H)))}},5363:(ut,Se,P)=>{P.d(Se,{Q:()=>le});var f=P(9672),Y=P(4482),O=P(5403);function le(X,me=0){return(0,Y.e)((re,fe)=>{re.subscribe((0,O.x)(fe,de=>(0,f.f)(fe,X,()=>fe.next(de),me),()=>(0,f.f)(fe,X,()=>fe.complete(),me),de=>(0,f.f)(fe,X,()=>fe.error(de),me)))})}},3099:(ut,Se,P)=>{P.d(Se,{B:()=>me});var f=P(8996),Y=P(5698),O=P(7579),le=P(2961),X=P(4482);function me(fe={}){const{connector:de=(()=>new O.x),resetOnError:$=!0,resetOnComplete:H=!0,resetOnRefCountZero:J=!0}=fe;return We=>{let Ae=null,ke=null,Ve=null,pe=0,De=!1,nt=!1;const Ye=()=>{null==ke||ke.unsubscribe(),ke=null},Ie=()=>{Ye(),Ae=Ve=null,De=nt=!1},ve=()=>{const we=Ae;Ie(),null==we||we.unsubscribe()};return(0,X.e)((we,Ge)=>{pe++,!nt&&!De&&Ye();const $e=Ve=null!=Ve?Ve:de();Ge.add(()=>{pe--,0===pe&&!nt&&!De&&(ke=re(ve,J))}),$e.subscribe(Ge),Ae||(Ae=new le.Hp({next:te=>$e.next(te),error:te=>{nt=!0,Ye(),ke=re(Ie,$,te),$e.error(te)},complete:()=>{De=!0,Ye(),ke=re(Ie,H),$e.complete()}}),(0,f.D)(we).subscribe(Ae))})(We)}}function re(fe,de,...$){return!0===de?(fe(),null):!1===de?null:de(...$).pipe((0,Y.q)(1)).subscribe(()=>fe())}},9468:(ut,Se,P)=>{P.d(Se,{R:()=>Y});var f=P(4482);function Y(O,le=0){return(0,f.e)((X,me)=>{me.add(O.schedule(()=>X.subscribe(me),le))})}},5698:(ut,Se,P)=>{P.d(Se,{q:()=>le});var f=P(515),Y=P(4482),O=P(5403);function le(X){return X<=0?()=>f.E:(0,Y.e)((me,re)=>{let fe=0;me.subscribe((0,O.x)(re,de=>{++fe<=X&&(re.next(de),X<=fe&&re.complete())}))})}},8505:(ut,Se,P)=>{P.d(Se,{b:()=>X});var f=P(576),Y=P(4482),O=P(5403),le=P(4671);function X(me,re,fe){const de=(0,f.m)(me)||re||fe?{next:me,error:re,complete:fe}:me;return de?(0,Y.e)(($,H)=>{var J;null===(J=de.subscribe)||void 0===J||J.call(de);let We=!0;$.subscribe((0,O.x)(H,Ae=>{var ke;null===(ke=de.next)||void 0===ke||ke.call(de,Ae),H.next(Ae)},()=>{var Ae;We=!1,null===(Ae=de.complete)||void 0===Ae||Ae.call(de),H.complete()},Ae=>{var ke;We=!1,null===(ke=de.error)||void 0===ke||ke.call(de,Ae),H.error(Ae)},()=>{var Ae,ke;We&&(null===(Ae=de.unsubscribe)||void 0===Ae||Ae.call(de)),null===(ke=de.finalize)||void 0===ke||ke.call(de)}))}):le.y}},4408:(ut,Se,P)=>{P.d(Se,{o:()=>X});var f=P(727);class Y extends f.w0{constructor(re,fe){super()}schedule(re,fe=0){return this}}const O={setInterval(me,re,...fe){const{delegate:de}=O;return(null==de?void 0:de.setInterval)?de.setInterval(me,re,...fe):setInterval(me,re,...fe)},clearInterval(me){const{delegate:re}=O;return((null==re?void 0:re.clearInterval)||clearInterval)(me)},delegate:void 0};var le=P(8737);class X extends Y{constructor(re,fe){super(re,fe),this.scheduler=re,this.work=fe,this.pending=!1}schedule(re,fe=0){if(this.closed)return this;this.state=re;const de=this.id,$=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId($,de,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId($,this.id,fe),this}requestAsyncId(re,fe,de=0){return O.setInterval(re.flush.bind(re,this),de)}recycleAsyncId(re,fe,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return fe;O.clearInterval(fe)}execute(re,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(re,fe);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,fe){let $,de=!1;try{this.work(re)}catch(H){de=!0,$=H||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:re,scheduler:fe}=this,{actions:de}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(de,this),null!=re&&(this.id=this.recycleAsyncId(fe,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(ut,Se,P)=>{P.d(Se,{v:()=>O});var f=P(6063);class Y{constructor(X,me=Y.now){this.schedulerActionCtor=X,this.now=me}schedule(X,me=0,re){return new this.schedulerActionCtor(this,X).schedule(re,me)}}Y.now=f.l.now;class O extends Y{constructor(X,me=Y.now){super(X,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(X){const{actions:me}=this;if(this._active)return void me.push(X);let re;this._active=!0;do{if(re=X.execute(X.state,X.delay))break}while(X=me.shift());if(this._active=!1,re){for(;X=me.shift();)X.unsubscribe();throw re}}}},4986:(ut,Se,P)=>{P.d(Se,{z:()=>O});var f=P(4408);const O=new(P(7565).v)(f.o)},6063:(ut,Se,P)=>{P.d(Se,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(ut,Se,P)=>{P.d(Se,{z:()=>f});const f={setTimeout(Y,O,...le){const{delegate:X}=f;return(null==X?void 0:X.setTimeout)?X.setTimeout(Y,O,...le):setTimeout(Y,O,...le)},clearTimeout(Y){const{delegate:O}=f;return((null==O?void 0:O.clearTimeout)||clearTimeout)(Y)},delegate:void 0}},2202:(ut,Se,P)=>{P.d(Se,{h:()=>Y});const Y=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ut,Se,P)=>{P.d(Se,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ut,Se,P)=>{P.d(Se,{_6:()=>me,jO:()=>le,yG:()=>X});var f=P(576);function O(re){return re[re.length-1]}function le(re){return(0,f.m)(O(re))?re.pop():void 0}function X(re){return function Y(re){return re&&(0,f.m)(re.schedule)}(O(re))?re.pop():void 0}function me(re,fe){return"number"==typeof O(re)?re.pop():fe}},8737:(ut,Se,P)=>{function f(Y,O){if(Y){const le=Y.indexOf(O);0<=le&&Y.splice(le,1)}}P.d(Se,{P:()=>f})},3888:(ut,Se,P)=>{function f(Y){const le=Y(X=>{Error.call(X),X.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}P.d(Se,{d:()=>f})},2806:(ut,Se,P)=>{P.d(Se,{x:()=>O,O:()=>le});var f=P(2416);let Y=null;function O(X){if(f.v.useDeprecatedSynchronousErrorHandling){const me=!Y;if(me&&(Y={errorThrown:!1,error:null}),X(),me){const{errorThrown:re,error:fe}=Y;if(Y=null,re)throw fe}}else X()}function le(X){f.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=X)}},9672:(ut,Se,P)=>{function f(Y,O,le,X=0,me=!1){const re=O.schedule(function(){le(),me?Y.add(this.schedule(null,X)):this.unsubscribe()},X);if(Y.add(re),!me)return re}P.d(Se,{f:()=>f})},4671:(ut,Se,P)=>{function f(Y){return Y}P.d(Se,{y:()=>f})},1144:(ut,Se,P)=>{P.d(Se,{z:()=>f});const f=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(ut,Se,P)=>{P.d(Se,{D:()=>Y});var f=P(576);function Y(O){return Symbol.asyncIterator&&(0,f.m)(null==O?void 0:O[Symbol.asyncIterator])}},576:(ut,Se,P)=>{function f(Y){return"function"==typeof Y}P.d(Se,{m:()=>f})},3670:(ut,Se,P)=>{P.d(Se,{c:()=>O});var f=P(8822),Y=P(576);function O(le){return(0,Y.m)(le[f.L])}},6495:(ut,Se,P)=>{P.d(Se,{T:()=>O});var f=P(2202),Y=P(576);function O(le){return(0,Y.m)(null==le?void 0:le[f.h])}},8239:(ut,Se,P)=>{P.d(Se,{t:()=>Y});var f=P(576);function Y(O){return(0,f.m)(null==O?void 0:O.then)}},3260:(ut,Se,P)=>{P.d(Se,{Q:()=>O,L:()=>le});var f=P(655),Y=P(576);function O(X){return(0,f.FC)(this,arguments,function*(){const re=X.getReader();try{for(;;){const{value:fe,done:de}=yield(0,f.qq)(re.read());if(de)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(fe)}}finally{re.releaseLock()}})}function le(X){return(0,Y.m)(null==X?void 0:X.getReader)}},4482:(ut,Se,P)=>{P.d(Se,{A:()=>Y,e:()=>O});var f=P(576);function Y(le){return(0,f.m)(null==le?void 0:le.lift)}function O(le){return X=>{if(Y(X))return X.lift(function(me){try{return le(me,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(ut,Se,P)=>{P.d(Se,{h:()=>O});var f=P(2416),Y=P(3410);function O(le){Y.z.setTimeout(()=>{const{onUnhandledError:X}=f.v;if(!X)throw le;X(le)})}},4532:(ut,Se,P)=>{function f(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Se,{z:()=>f})},655:(ut,Se,P)=>{function le(W,ie){var ye={};for(var se in W)Object.prototype.hasOwnProperty.call(W,se)&&ie.indexOf(se)<0&&(ye[se]=W[se]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(se=Object.getOwnPropertySymbols(W);Oe<se.length;Oe++)ie.indexOf(se[Oe])<0&&Object.prototype.propertyIsEnumerable.call(W,se[Oe])&&(ye[se[Oe]]=W[se[Oe]])}return ye}function fe(W,ie,ye,se){return new(ye||(ye=Promise))(function(ue,St){function en(vt){try{lt(se.next(vt))}catch(dn){St(dn)}}function On(vt){try{lt(se.throw(vt))}catch(dn){St(dn)}}function lt(vt){vt.done?ue(vt.value):function Oe(ue){return ue instanceof ye?ue:new ye(function(St){St(ue)})}(vt.value).then(en,On)}lt((se=se.apply(W,ie||[])).next())})}function pe(W){return this instanceof pe?(this.v=W,this):new pe(W)}function De(W,ie,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,se=ye.apply(W,ie||[]),ue=[];return Oe={},St("next"),St("throw"),St("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function St(hn){se[hn]&&(Oe[hn]=function(Ni){return new Promise(function(an,ls){ue.push([hn,Ni,an,ls])>1||en(hn,Ni)})})}function en(hn,Ni){try{!function On(hn){hn.value instanceof pe?Promise.resolve(hn.value.v).then(lt,vt):dn(ue[0][2],hn)}(se[hn](Ni))}catch(an){dn(ue[0][3],an)}}function lt(hn){en("next",hn)}function vt(hn){en("throw",hn)}function dn(hn,Ni){hn(Ni),ue.shift(),ue.length&&en(ue[0][0],ue[0][1])}}function Ye(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,ie=W[Symbol.asyncIterator];return ie?ie.call(W):(W=function J(W){var ie="function"==typeof Symbol&&Symbol.iterator,ye=ie&&W[ie],se=0;if(ye)return ye.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&se>=W.length&&(W=void 0),{value:W&&W[se++],done:!W}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),ye={},se("next"),se("throw"),se("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function se(ue){ye[ue]=W[ue]&&function(St){return new Promise(function(en,On){!function Oe(ue,St,en,On){Promise.resolve(On).then(function(lt){ue({value:lt,done:en})},St)}(en,On,(St=W[ue](St)).done,St.value)})}}}P.d(Se,{_T:()=>le,mG:()=>fe,qq:()=>pe,FC:()=>De,KL:()=>Ye})},5e3:(ut,Se,P)=>{P.d(Se,{deG:()=>Qp,tb:()=>h0,AFp:()=>Sc,ip1:()=>su,CZH:()=>Nm,hGG:()=>VT,z2F:()=>_p,sBO:()=>RT,Sil:()=>p0,_Vd:()=>Cc,EJc:()=>oD,SBq:()=>Yd,qLn:()=>xr,vpe:()=>jo,tBr:()=>Vr,XFs:()=>dt,OlP:()=>Mn,zs3:()=>Po,ZZ4:()=>Qt,aQg:()=>Ta,soG:()=>km,YKP:()=>Hv,h0i:()=>Ic,PXZ:()=>dh,R0b:()=>Or,FiY:()=>vi,Lbi:()=>d0,g9A:()=>ah,Qsj:()=>oT,FYo:()=>Ib,JOm:()=>ae,tp0:()=>Ao,Rgc:()=>ap,dDg:()=>Wr,q4F:()=>Tb,GfV:()=>Uv,s_b:()=>th,ifc:()=>qt,eFA:()=>_0,G48:()=>w0,Gpc:()=>H,X6Q:()=>cD,_c5:()=>gh,VLi:()=>TT,c2e:()=>uh,zSh:()=>QE,wAp:()=>bt,vHH:()=>ke,cg1:()=>el,kL8:()=>sm,dqk:()=>$t,sIi:()=>kd,CqO:()=>xI,QGY:()=>Hg,F4k:()=>Aw,RDi:()=>ms,AaK:()=>fe,qOj:()=>Od,TTD:()=>go,_Bn:()=>Dc,xp6:()=>ma,uIk:()=>cw,Tol:()=>Zw,ekj:()=>Zg,Suo:()=>dp,Xpm:()=>Vt,lG2:()=>Yt,Yz7:()=>an,cJS:()=>tn,oAB:()=>Q,Yjl:()=>br,Y36:()=>Xa,_UZ:()=>Z_,qZA:()=>K_,TgZ:()=>W_,EpF:()=>Sw,n5z:()=>id,LFG:()=>Xe,$8M:()=>Co,$Z:()=>Bg,NdJ:()=>Gg,CRH:()=>zb,oxw:()=>Nw,ALo:()=>sp,lcZ:()=>Ca,xi3:()=>Zv,Hsn:()=>kf,F$t:()=>kw,Q6J:()=>Ug,VKq:()=>tp,iGM:()=>r0,MAs:()=>Sf,Jf7:()=>pg,CHM:()=>bl,LSH:()=>Uu,YNc:()=>If,W1O:()=>Kb,_uU:()=>GI,Oqu:()=>nv});var f=P(7579),Y=P(727),O=P(8306),le=P(6451),X=P(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function re(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function de(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=me({__forward_ref__:me});function H(s){return s.__forward_ref__=H,s.toString=function(){return fe(this())},s}function J(s){return We(s)?s():s}function We(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===H}class ke extends Error{constructor(o,a){super(function Ve(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function pe(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():pe(s)}function ve(s,o){const a=o?` in ${o}`:"";throw new ke(-201,`No provider for ${De(s)} found${a}`)}function lt(s,o){null==s&&function vt(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function an(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function tn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Gt(s){return dr(s,zi)||dr(s,cs)}function dr(s,o){return s.hasOwnProperty(o)?s[o]:null}function kr(s){return s&&(s.hasOwnProperty(Pr)||s.hasOwnProperty(ds))?s[Pr]:null}const zi=me({\u0275prov:me}),Pr=me({\u0275inj:me}),cs=me({ngInjectableDef:me}),ds=me({ngInjectorDef:me});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let Zr;function Qn(s){const o=Zr;return Zr=s,o}function ui(s,o,a){const l=Gt(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&dt.Optional?null:void 0!==o?o:void ve(fe(s),"Injector")}function En(s){return{toString:s}.toString()}var ir=(()=>((ir=ir||{})[ir.OnPush=0]="OnPush",ir[ir.Default=1]="Default",ir))(),qt=(()=>{return(s=qt||(qt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",qt;var s})();const ot="undefined"!=typeof globalThis&&globalThis,Dt="undefined"!=typeof window&&window,hr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$t=ot||"undefined"!=typeof global&&global||Dt||hr,fr={},ft=[],wr=me({\u0275cmp:me}),Ut=me({\u0275dir:me}),Qe=me({\u0275pipe:me}),Te=me({\u0275mod:me}),et=me({\u0275fac:me}),pt=me({__NG_ELEMENT_ID__:me});let jt=0;function Vt(s){return En(()=>{const a={},l={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===ir.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ft,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||qt.Emulated,id:"c",styles:s.styles||ft,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,g=s.features,v=s.pipes;return l.id+=jt++,l.inputs=Et(s.inputs,a),l.outputs=Et(s.outputs),g&&g.forEach(w=>w(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(V):null,l.pipeDefs=v?()=>("function"==typeof v?v():v).map(q):null,l})}function V(s){return zt(s)||function Sn(s){return s[Ut]||null}(s)}function q(s){return function Nt(s){return s[Qe]||null}(s)}const he={};function Q(s){return En(()=>{const o={type:s.type,bootstrap:s.bootstrap||ft,declarations:s.declarations||ft,imports:s.imports||ft,exports:s.exports||ft,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(he[s.id]=s.type),o})}function Et(s,o){if(null==s)return fr;const a={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=l,o&&(o[d]=g)}return a}const Yt=Vt;function br(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function zt(s){return s[wr]||null}function pn(s,o){const a=s[Te]||null;if(!a&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return a}function Oi(s){return Array.isArray(s)&&"object"==typeof s[1]}function di(s){return Array.isArray(s)&&!0===s[1]}function Bc(s){return 0!=(8&s.flags)}function Bs(s){return 2==(2&s.flags)}function fu(s){return 1==(1&s.flags)}function Yr(s){return null!==s.template}function Mh(s){return 0!=(512&s[2])}function Qr(s,o){return s.hasOwnProperty(et)?s[et]:null}class Zo{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function go(){return Pa}function Pa(s){return s.type.prototype.ngOnChanges&&(s.setInput=Kp),Gc}function Gc(){const s=$s(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===fr)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Kp(s,o,a,l){const d=$s(s)||function hi(s,o){return s[gr]=o}(s,{previous:fr,current:null}),g=d.current||(d.current={}),v=d.previous,w=this.declaredInputs[a],D=v[w];g[w]=new Zo(D&&D.currentValue,o,v===fr),s[l]=o}go.ngInherit=!0;const gr="__ngSimpleChanges__";function $s(s){return s[gr]||null}let Eu;function ms(s){Eu=s}function yn(s){return!!s.listen}const Yo={createRenderer:(s,o)=>function Fa(){return void 0!==Eu?Eu:"undefined"!=typeof document?document:void 0}()};function cn(s){for(;Array.isArray(s);)s=s[0];return s}function yo(s,o){return cn(o[s])}function Cr(s,o){return cn(o[s.index])}function La(s,o){return s.data[o]}function ki(s,o){return s[o]}function Ir(s,o){const a=o[s];return Oi(a)?a:a[0]}function Gs(s){return 4==(4&s[2])}function ys(s){return 128==(128&s[2])}function Jr(s,o){return null==o?null:s[o]}function qs(s){s[18]=0}function zs(s,o){s[5]+=o;let a=s,l=s[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const gt={lFrame:vo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Iu(){return gt.bindingsEnabled}function Ce(){return gt.lFrame.lView}function Bt(){return gt.lFrame.tView}function bl(s){return gt.lFrame.contextLView=s,s[8]}function wn(){let s=Qo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Qo(){return gt.lFrame.currentTNode}function Xr(s,o){const a=gt.lFrame;a.currentTNode=s,a.isParent=o}function Dl(){return gt.lFrame.isParent}function Cl(){gt.lFrame.isParent=!1}function Tu(){return gt.isInCheckNoChangesMode}function Ws(s){gt.isInCheckNoChangesMode=s}function yr(){const s=gt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ks(){return gt.lFrame.bindingIndex++}function Pi(s){const o=gt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Mu(s,o){const a=gt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Ba(o)}function Ba(s){gt.lFrame.currentDirectiveIndex=s}function Al(){return gt.lFrame.currentQueryIndex}function Ml(s){gt.lFrame.currentQueryIndex=s}function Kc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function xl(s,o,a){if(a&dt.SkipSelf){let d=o,g=s;for(;!(d=d.parent,null!==d||a&dt.Host||(d=Kc(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,s=g}const l=gt.lFrame=Zc();return l.currentTNode=o,l.lView=s,!0}function _o(s){const o=Zc(),a=s[1];gt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Zc(){const s=gt.lFrame,o=null===s?null:s.child;return null===o?vo(s):o}function vo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Yc(){const s=gt.lFrame;return gt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Qc=Yc;function Eo(){const s=Yc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Tr(){return gt.lFrame.selectedIndex}function Ys(s){gt.lFrame.selectedIndex=s}function An(){const s=gt.lFrame;return La(s.tView,s.selectedIndex)}function _s(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const g=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:x}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),w&&((s.contentHooks||(s.contentHooks=[])).push(a,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,w)),D&&(s.viewHooks||(s.viewHooks=[])).push(-a,D),S&&((s.viewHooks||(s.viewHooks=[])).push(a,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,S)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(a,x)}}function Ua(s,o,a){Jc(s,o,3,a)}function xu(s,o,a,l){(3&s[2])===a&&Jc(s,o,a,l)}function qn(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Jc(s,o,a,l){const g=null!=l?l:-1,v=o.length-1;let w=0;for(let D=void 0!==l?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(w=o[D],null!=l&&w>=l)break}else o[D]<0&&(s[18]+=65536),(w<g||-1==g)&&(Zp(s,a,o,D),s[18]=(4294901760&s[18])+D+2),D++}function Zp(s,o,a,l){const d=a[l]<0,g=a[l+1],w=s[d?-a[l]:a[l]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class ea{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function yt(s,o,a){const l=yn(s);let d=0;for(;d<a.length;){const g=a[d];if("number"==typeof g){if(0!==g)break;d++;const v=a[d++],w=a[d++],D=a[d++];l?s.setAttribute(o,w,D,v):o.setAttributeNS(v,w,D)}else{const v=g,w=a[++d];ei(v)?l&&s.setProperty(o,v,w):l?s.setAttribute(o,v,w):o.setAttribute(v,w),d++}}return d}function ar(s){return 3===s||4===s||6===s}function ei(s){return 64===s.charCodeAt(0)}function Fr(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||ta(s,a,d,null,-1===a||2===a?o[++l]:null)}}return s}function ta(s,o,a,l,d){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const w=s[g++];if("number"==typeof w){if(w===o){v=-1;break}if(w>o){v=g-1;break}}}for(;g<s.length;){const w=s[g];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==d&&(s[g+1]=d));if(l===s[g+1])return void(s[g+2]=d)}g++,null!==l&&g++,null!==d&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,a),null!==l&&s.splice(g++,0,l),null!==d&&s.splice(g++,0,d)}function td(s){return-1!==s}function mn(s){return 32767&s}function Fi(s,o){let a=function Ph(s){return s>>16}(s),l=o;for(;a>0;)l=l[15],a--;return l}let Ru=!0;function pi(s){const o=Ru;return Ru=s,o}let Fl=0;function zn(s,o){const a=na(s,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,Es(l.data,s),Es(o,null),Es(l.blueprint,null));const d=gi(s,o),g=s.injectorIndex;if(td(d)){const v=mn(d),w=Fi(d,o),D=w[1].data;for(let S=0;S<8;S++)o[g+S]=w[v+S]|D[v+S]}return o[g+8]=d,g}function Es(s,o){s.push(0,0,0,0,0,0,0,0,o)}function na(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function gi(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){const g=d[1],v=g.type;if(l=2===v?g.declTNode:1===v?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Qs(s,o,a){!function bo(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(pt)&&(l=a[pt]),null==l&&(l=a[pt]=Fl++);const d=255&l;o.data[s+(d>>5)]|=1<<d}(s,o,a)}function Zi(s,o,a){if(a&dt.Optional)return s;ve(o,"NodeInjector")}function Ll(s,o,a,l){if(a&dt.Optional&&void 0===l&&(l=null),0==(a&(dt.Self|dt.Host))){const d=s[9],g=Qn(void 0);try{return d?d.get(o,l,a&dt.Optional):ui(o,l,a&dt.Optional)}finally{Qn(g)}}return Zi(l,o,a)}function Js(s,o,a,l=dt.Default,d){if(null!==s){const g=function ra(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(pt)?s[pt]:void 0;return"number"==typeof o?o>=0?255&o:Vl:o}(a);if("function"==typeof g){if(!xl(o,s,l))return l&dt.Host?Zi(d,a,l):Ll(o,a,l,d);try{const v=g(l);if(null!=v||l&dt.Optional)return v;ve(a)}finally{Qc()}}else if("number"==typeof g){let v=null,w=na(s,o),D=-1,S=l&dt.Host?o[16][6]:null;for((-1===w||l&dt.SkipSelf)&&(D=-1===w?gi(s,o):o[w+8],-1!==D&&Lr(l,!1)?(v=o[1],w=mn(D),o=Fi(D,o)):w=-1);-1!==w;){const x=o[1];if(ia(g,w,x.data)){const k=rd(w,o,a,v,l,S);if(k!==Yi)return k}D=o[w+8],-1!==D&&Lr(l,o[1].data[w+8]===S)&&ia(g,w,o)?(v=x,w=mn(D),o=Fi(D,o)):w=-1}}}return Ll(o,a,l,d)}const Yi={};function Vl(){return new Vi(wn(),Ce())}function rd(s,o,a,l,d,g){const v=o[1],w=v.data[s+8],x=Do(w,v,a,null==l?Bs(w)&&Ru:l!=v&&0!=(3&w.type),d&dt.Host&&g===w);return null!==x?Li(o,v,x,w):Yi}function Do(s,o,a,l,d){const g=s.providerIndexes,v=o.data,w=1048575&g,D=s.directiveStart,x=g>>20,U=d?w+x:s.directiveEnd;for(let Z=l?w:w+x;Z<U;Z++){const oe=v[Z];if(Z<D&&a===oe||Z>=D&&oe.type===a)return Z}if(d){const Z=v[D];if(Z&&Yr(Z)&&Z.type===a)return D}return null}function Li(s,o,a,l){let d=s[a];const g=o.data;if(function Xc(s){return s instanceof ea}(d)){const v=d;v.resolving&&function nt(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ke(-200,`Circular dependency in DI detected for ${s}${a}`)}(De(g[a]));const w=pi(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Qn(v.injectImpl):null;xl(s,l,dt.Default);try{d=s[a]=v.factory(void 0,g,s,l),o.firstCreatePass&&a>=l.directiveStart&&function Ol(s,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(l){const v=Pa(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,g))}(a,g[a],o)}finally{null!==D&&Qn(D),pi(w),v.resolving=!1,Qc()}}return d}function ia(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Lr(s,o){return!(s&dt.Self||s&dt.Host&&o)}class Vi{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Js(this._tNode,this._lView,o,l,a)}}function id(s){return En(()=>{const o=s.prototype.constructor,a=o[et]||Vn(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const g=d[et]||Vn(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Vn(s){return We(s)?()=>{const o=Vn(J(s));return o&&o()}:Qr(s)}function Co(s){return function mi(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const g=a[d];if(ar(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(g===o)return a[d+1];d+=2}}}return null}(wn(),s)}const sa="__parameters__";function Cn(s,o,a){return En(()=>{const l=function Ji(s){return function(...a){if(s){const l=s(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...g){if(this instanceof d)return l.apply(this,g),this;const v=new d(...g);return w.annotation=v,w;function w(D,S,x){const k=D.hasOwnProperty(sa)?D[sa]:Object.defineProperty(D,sa,{value:[]})[sa];for(;k.length<=x;)k.push(null);return(k[x]=k[x]||[]).push(v),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class Mn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=an({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Qp=new Mn("AnalyzeForEntryComponents");function Ar(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let l=s[a];Array.isArray(l)?(o===s&&(o=s.slice(0,a)),Ar(l,o)):o!==s&&o.push(l)}return o}function yi(s,o){s.forEach(a=>Array.isArray(a)?yi(a,o):o(a))}function jl(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function bs(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ui(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}function Xn(s,o,a){let l=no(s,o);return l>=0?s[1|l]=a:(l=~l,function $l(s,o,a,l){let d=s.length;if(d==o)s.push(a,l);else if(1===d)s.push(l,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function ql(s,o){const a=no(s,o);if(a>=0)return s[1|a]}function no(s,o){return function Io(s,o,a){let l=0,d=s.length>>a;for(;d!==l;){const g=l+(d-l>>1),v=s[g<<a];if(o===v)return g<<a;v>o?d=g:l=g+1}return~(d<<a)}(s,o,1)}const To={},aa="__NG_DI_FLAG__",Pu="ngTempTokenPath",I=/\n/gm,L="__source",K=me({provide:String,useValue:me});let ee;function xe(s){const o=ee;return ee=s,o}function Re(s,o=dt.Default){if(void 0===ee)throw new ke(203,"");return null===ee?ui(s,void 0,o):ee.get(s,o&dt.Optional?null:void 0,o)}function Xe(s,o=dt.Default){return(function rr(){return Zr}()||Re)(J(s),o)}const kt=Xe;function Mt(s){const o=[];for(let a=0;a<s.length;a++){const l=J(s[a]);if(Array.isArray(l)){if(0===l.length)throw new ke(900,"");let d,g=dt.Default;for(let v=0;v<l.length;v++){const w=l[v],D=xn(w);"number"==typeof D?-1===D?d=w.token:g|=D:d=w}o.push(Xe(d,g))}else o.push(Xe(l))}return o}function Wn(s,o){return s[aa]=o,s.prototype[aa]=o,s}function xn(s){return s[aa]}const Vr=Wn(Cn("Inject",s=>({token:s})),-1),vi=Wn(Cn("Optional"),8),Ao=Wn(Cn("SkipSelf"),4);class pd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ro(s){return s instanceof pd?s.changingThisBreaksApplicationSecurity:s}const io=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var sn=(()=>((sn=sn||{})[sn.NONE=0]="NONE",sn[sn.HTML=1]="HTML",sn[sn.STYLE=2]="STYLE",sn[sn.SCRIPT=3]="SCRIPT",sn[sn.URL=4]="URL",sn[sn.RESOURCE_URL=5]="RESOURCE_URL",sn))();function Uu(s){const o=function ha(){const s=Ce();return s&&s[12]}();return o?o.sanitize(sn.URL,s)||"":function ca(s,o){const a=function Lu(s){return s instanceof pd&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?ro(s):function Vu(s){return(s=String(s)).match(io)||s.match(Hh)?s:"unsafe:"+s}(pe(s))}const Xh="__ngContext__";function Br(s,o){s[Xh]=o}function ef(s){const o=function qa(s){return s[Xh]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Ka(s){return s.ngOriginalError}function fg(s,...o){s.error(...o)}class xr{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),l=function By(s){return s&&s.ngErrorLogger||fg}(o);l(this._console,"ERROR",o),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Ka(o);for(;a&&Ka(a);)a=Ka(a);return a||null}}const Hy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($t))();function pg(s){return s.ownerDocument.defaultView}function m(s){return s instanceof Function?s():s}var ae=(()=>((ae=ae||{})[ae.Important=1]="Important",ae[ae.DashCase=2]="DashCase",ae))();function tt(s,o){return undefined(s,o)}function Rn(s){const o=s[3];return di(o)?o[3]:o}function ju(s){return lf(s[13])}function $u(s){return lf(s[4])}function lf(s){for(;null!==s&&!di(s);)s=s[4];return s}function fa(s,o,a,l,d){if(null!=l){let g,v=!1;di(l)?g=l:Oi(l)&&(v=!0,l=l[0]);const w=cn(l);0===s&&null!==a?null==d?Zy(o,a,w):Cs(o,a,w,d||null,!0):1===s&&null!==a?Cs(o,a,w,d||null,!0):2===s?function Xy(s,o,a){const l=pa(s,o);l&&function DC(s,o,a,l){yn(s)?s.removeChild(o,a,l):o.removeChild(a)}(s,l,o,a)}(o,w,v):3===s&&o.destroyNode(w),null!=g&&function IC(s,o,a,l,d){const g=a[7];g!==cn(a)&&fa(o,s,l,g,d);for(let w=10;w<a.length;w++){const D=a[w];vg(D[1],D,s,o,l,g)}}(o,s,g,a,d)}}function bd(s,o,a){if(yn(s))return s.createElement(o,a);{const l=null!==a?function vu(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?s.createElement(o):s.createElementNS(l,o)}}function hE(s,o){const a=s[9],l=a.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,zs(d,-1)),a.splice(l,1)}function zy(s,o){if(s.length<=10)return;const a=10+o,l=s[a];if(l){const d=l[17];null!==d&&d!==s&&hE(d,l),o>0&&(s[a-1][4]=l[4]);const g=bs(s,10+o);!function ni(s,o){vg(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const v=g[19];null!==v&&v.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Wy(s,o){if(!(256&o[2])){const a=o[11];yn(a)&&a.destroyNode&&vg(s,o,a,3,null,null),function qy(s){let o=s[13];if(!o)return Ky(s[1],s);for(;o;){let a=null;if(Oi(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==s;)Oi(o)&&Ky(o[1],o),o=o[3];null===o&&(o=s),Oi(o)&&Ky(o[1],o),a=o&&o[4]}o=a}}(o)}}function Ky(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function pE(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof ea)){const g=a[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const w=d[g[v]],D=g[v+1];try{D.call(w)}finally{}}else try{g.call(d)}finally{}}}}(s,o),function fE(s,o){const a=s.cleanup,l=o[7];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],w="function"==typeof v?v(o):cn(o[v]),D=l[d=a[g+2]],S=a[g+3];"boolean"==typeof S?w.removeEventListener(a[g],D,S):S>=0?l[d=S]():l[d=-S].unsubscribe(),g+=2}else{const v=l[d=a[g+1]];a[g].call(v)}if(null!==l){for(let g=d+1;g<l.length;g++)l[g]();o[7]=null}}(s,o),1===o[1].type&&yn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&di(o[3])){a!==o[3]&&hE(a,o);const l=o[19];null!==l&&l.detachView(s)}}}function yg(s,o,a){return function bC(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const d=s.data[l.directiveStart].encapsulation;if(d===qt.None||d===qt.Emulated)return null}return Cr(l,a)}(s,o.parent,a)}function Cs(s,o,a,l,d){yn(s)?s.insertBefore(o,a,l,d):o.insertBefore(a,l,d)}function Zy(s,o,a){yn(s)?s.appendChild(o,a):o.appendChild(a)}function gE(s,o,a,l,d){null!==l?Cs(s,o,a,l,d):Zy(s,o,a)}function pa(s,o){return yn(s)?s.parentNode(o):o.parentNode}function mE(s,o,a){return Yy(s,o,a)}let Yy=function yE(s,o,a){return 40&s.type?Cr(s,a):null};function _g(s,o,a,l){const d=yg(s,l,o),g=o[11],w=mE(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)gE(g,d,a[D],w,!1);else gE(g,d,a,w,!1)}function Cd(s,o){if(null!==o){const a=o.type;if(3&a)return Cr(o,s);if(4&a)return Jy(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return Cd(s,l);{const d=s[o.index];return di(d)?Jy(-1,d):cn(d)}}if(32&a)return tt(o,s)()||cn(s[o.index]);{const l=vE(s,o);return null!==l?Array.isArray(l)?l[0]:Cd(Rn(s[16]),l):Cd(s,o.next)}}return null}function vE(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Jy(s,o){const a=10+s+1;if(a<o.length){const l=o[a],d=l[1].firstChild;if(null!==d)return Cd(l,d)}return o[7]}function e_(s,o,a,l,d,g,v){for(;null!=a;){const w=l[a.index],D=a.type;if(v&&0===o&&(w&&Br(cn(w),l),a.flags|=4),64!=(64&a.flags))if(8&D)e_(s,o,a.child,l,d,g,!1),fa(o,s,d,w,g);else if(32&D){const S=tt(a,l);let x;for(;x=S();)fa(o,s,d,x,g);fa(o,s,d,w,g)}else 16&D?hf(s,o,l,a,d,g):fa(o,s,d,w,g);a=v?a.projectionNext:a.next}}function vg(s,o,a,l,d,g){e_(a,l,s.firstChild,o,d,g,!1)}function hf(s,o,a,l,d,g){const v=a[16],D=v[6].projection[l.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)fa(o,s,d,D[S],g);else e_(s,o,D,v[3],d,g,!0)}function t_(s,o,a){yn(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function wE(s,o,a){yn(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function bE(s,o,a){let l=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const g=o.length;if(d+g===l||s.charCodeAt(d+g)<=32)return d}a=d+1}}const DE="ng-template";function Bn(s,o,a){let l=0;for(;l<s.length;){let d=s[l++];if(a&&"class"===d){if(d=s[l],-1!==bE(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<s.length&&"string"==typeof(d=s[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function SC(s){return 4===s.type&&s.value!==DE}function IM(s,o,a){return o===(4!==s.type||a?s.value:DE)}function TM(s,o,a){let l=4;const d=s.attrs||[],g=function MM(s){for(let o=0;o<s.length;o++)if(ar(s[o]))return o;return s.length}(d);let v=!1;for(let w=0;w<o.length;w++){const D=o[w];if("number"!=typeof D){if(!v)if(4&l){if(l=2|1&l,""!==D&&!IM(s,D,a)||""===D&&1===o.length){if(ga(l))return!1;v=!0}}else{const S=8&l?D:o[++w];if(8&l&&null!==s.attrs){if(!Bn(s.attrs,S,a)){if(ga(l))return!1;v=!0}continue}const k=SM(8&l?"class":D,d,SC(s),a);if(-1===k){if(ga(l))return!1;v=!0;continue}if(""!==S){let U;U=k>g?"":d[k+1].toLowerCase();const Z=8&l?U:null;if(Z&&-1!==bE(Z,S,0)||2&l&&S!==U){if(ga(l))return!1;v=!0}}}}else{if(!v&&!ga(l)&&!ga(D))return!1;if(v&&ga(D))continue;v=!1,l=D|1&l}}return ga(l)||v}function ga(s){return 0==(1&s)}function SM(s,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let g=!1;for(;d<o.length;){const v=o[d];if(v===s)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function xM(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function AC(s,o,a=!1){for(let l=0;l<o.length;l++)if(TM(s,o[l],a))return!0;return!1}function RM(s,o){e:for(let a=0;a<o.length;a++){const l=o[a];if(s.length===l.length){for(let d=0;d<s.length;d++)if(s[d]!==l[d])continue e;return!0}}return!1}function MC(s,o){return s?":not("+o.trim()+")":o}function Eg(s){let o=s[0],a=1,l=2,d="",g=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&l){const w=s[++a];d+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+v:4&l&&(d+=" "+v);else""!==d&&!ga(v)&&(o+=MC(g,d),d=""),l=v,g=g||!ga(l);a++}return""!==d&&(o+=MC(g,d)),o}const Lt={};function ma(s){r_(Bt(),Ce(),Tr()+s,Tu())}function r_(s,o,a,l){if(!l)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Ua(o,g,a)}else{const g=s.preOrderHooks;null!==g&&xu(o,g,0,a)}Ys(a)}function Hu(s,o){return s<<17|o<<2}function Oo(s){return s>>17&32767}function i_(s){return 2|s}function ya(s){return(131068&s)>>2}function s_(s,o){return-131069&s|o<<2}function Id(s){return 1|s}function h_(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],g=a[l+1];if(-1!==g){const v=s.data[g];Ml(d),v.contentQueries(2,o[g],g)}}}function Za(s,o,a,l,d,g,v,w,D,S){const x=o.blueprint.slice();return x[0]=d,x[2]=140|l,qs(x),x[3]=x[15]=s,x[8]=a,x[10]=v||s&&s[10],x[11]=w||s&&s[11],x[12]=D||s&&s[12]||null,x[9]=S||s&&s[9]||null,x[6]=g,x[16]=2==o.type?s[16]:x,x}function Ad(s,o,a,l,d){let g=s.data[o];if(null===g)g=function Tn(s,o,a,l,d){const g=Qo(),v=Dl(),D=s.data[o]=function LE(s,o,a,l,d,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,o,l,d);return null===s.firstChild&&(s.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(s,o,a,l,d),function Tl(){return gt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=d;const v=function Jo(){const s=gt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Xr(g,!0),g}function cc(s,o,a,l){if(0===a)return-1;const d=o.length;for(let g=0;g<a;g++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function dc(s,o,a){_o(o);try{const l=s.viewQuery;null!==l&&__(1,l,a);const d=s.template;null!==d&&p_(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&h_(s,o),s.staticViewQueries&&__(2,s.viewQuery,a);const g=s.components;null!==g&&function OE(s,o){for(let a=0;a<o.length;a++)zE(s,o[a])}(o,g)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,Eo()}}function qu(s,o,a,l){const d=o[2];if(256==(256&d))return;_o(o);const g=Tu();try{qs(o),function Su(s){return gt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&p_(s,o,a,2,l);const v=3==(3&d);if(!g)if(v){const S=s.preOrderCheckHooks;null!==S&&Ua(o,S,null)}else{const S=s.preOrderHooks;null!==S&&xu(o,S,0,null),qn(o,0)}if(function KC(s){for(let o=ju(s);null!==o;o=$u(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const d=a[l],g=d[3];0==(1024&d[2])&&zs(g,1),d[2]|=1024}}}(o),function WC(s){for(let o=ju(s);null!==o;o=$u(o))for(let a=10;a<o.length;a++){const l=o[a],d=l[1];ys(l)&&qu(d,l,d.template,l[8])}}(o),null!==s.contentQueries&&h_(s,o),!g)if(v){const S=s.contentCheckHooks;null!==S&&Ua(o,S)}else{const S=s.contentHooks;null!==S&&xu(o,S,1),qn(o,1)}!function RE(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)Ys(~d);else{const g=d,v=a[++l],w=a[++l];Mu(v,g),w(2,o[g])}}}finally{Ys(-1)}}(s,o);const w=s.components;null!==w&&function NE(s,o){for(let a=0;a<o.length;a++)qE(s,o[a])}(o,w);const D=s.viewQuery;if(null!==D&&__(2,D,l),!g)if(v){const S=s.viewCheckHooks;null!==S&&Ua(o,S)}else{const S=s.viewHooks;null!==S&&xu(o,S,2),qn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,zs(o[3],-1))}finally{Eo()}}function f_(s,o,a,l){const d=o[10],g=!Tu(),v=Gs(o);try{g&&!v&&d.begin&&d.begin(),v&&dc(s,o,l),qu(s,o,a,l)}finally{g&&!v&&d.end&&d.end()}}function p_(s,o,a,l,d){const g=Tr(),v=2&l;try{Ys(-1),v&&o.length>20&&r_(s,o,20,Tu()),a(l,d)}finally{Ys(g)}}function Tg(s,o,a){!Iu()||(function $C(s,o,a,l){const d=a.directiveStart,g=a.directiveEnd;s.firstCreatePass||zn(a,o),Br(l,o);const v=a.initialInputs;for(let w=d;w<g;w++){const D=s.data[w],S=Yr(D);S&&GC(o,a,D);const x=Li(o,s,w,a);Br(x,o),null!==v&&qC(0,w-d,x,D,0,v),S&&(Ir(a.index,o)[8]=x)}}(s,o,a,Cr(a,o)),128==(128&a.flags)&&function Ag(s,o,a){const l=a.directiveStart,d=a.directiveEnd,v=a.index,w=function Sl(){return gt.lFrame.currentDirectiveIndex}();try{Ys(v);for(let D=l;D<d;D++){const S=s.data[D],x=o[D];Ba(D),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&yf(S,x)}}finally{Ys(-1),Ba(w)}}(s,o,a))}function pf(s,o,a=Cr){const l=o.localNames;if(null!==l){let d=o.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],w=-1===v?a(o,s):s[v];s[d++]=w}}}function PE(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=gf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function gf(s,o,a,l,d,g,v,w,D,S){const x=20+l,k=x+d,U=function PC(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:Lt);return a}(x,k),Z="function"==typeof S?S():S;return U[1]={type:s,blueprint:U,template:a,queries:null,viewQuery:w,declTNode:o,data:U.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:Z,incompleteFirstPass:!1}}function g_(s,o,a,l){const d=v_(o);null===a?d.push(l):(d.push(a),s.firstCreatePass&&E_(s).push(l,d.length-1))}function Sg(s,o,a){for(let l in s)if(s.hasOwnProperty(l)){const d=s[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,d):a[l]=[o,d]}return a}function m_(s,o,a,l){let d=!1;if(Iu()){const g=function KM(s,o,a){const l=s.directiveRegistry;let d=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];AC(a,v.selectors,!1)&&(d||(d=[]),Qs(zn(a,o),s,v.type),Yr(v)?(Md(s,a),d.unshift(v)):d.push(v))}return d}(s,o,a),v=null===l?null:{"":-1};if(null!==g){d=!0,jE(a,s.data.length,g.length);for(let x=0;x<g.length;x++){const k=g[x];k.providersResolver&&k.providersResolver(k)}let w=!1,D=!1,S=cc(s,o,g.length,null);for(let x=0;x<g.length;x++){const k=g[x];a.mergedAttrs=Fr(a.mergedAttrs,k.hostAttrs),$E(s,a,o,S,k),_f(S,k,v),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const U=k.type.prototype;!w&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),w=!0),!D&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),D=!0),S++}!function VE(s,o){const l=o.directiveEnd,d=s.data,g=o.attrs,v=[];let w=null,D=null;for(let S=o.directiveStart;S<l;S++){const x=d[S],k=x.inputs,U=null===g||SC(o)?null:HE(k,g);v.push(U),w=Sg(k,S,w),D=Sg(x.outputs,S,D)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=w,o.outputs=D}(s,a)}v&&function HC(s,o,a){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const g=a[o[d+1]];if(null==g)throw new ke(-301,!1);l.push(o[d],g)}}}(a,l,v)}return a.mergedAttrs=Fr(a.mergedAttrs,a.attrs),d}function UE(s,o,a,l,d,g){const v=g.hostBindings;if(v){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const D=~o.index;(function jC(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(w)!=D&&w.push(D),w.push(l,d,v)}}function yf(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Md(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function _f(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;Yr(o)&&(a[""]=s)}}function jE(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function $E(s,o,a,l,d){s.data[l]=d;const g=d.factory||(d.factory=Qr(d.type)),v=new ea(g,Yr(d),null);s.blueprint[l]=v,a[l]=v,UE(s,o,0,l,cc(s,a,d.hostVars,Lt),d)}function GC(s,o,a){const l=Cr(o,s),d=PE(a),g=s[10],v=xd(s,Za(s,d,null,a.onPush?64:16,l,o,g,g.createRenderer(l,a),null,null));s[o.index]=v}function ko(s,o,a,l,d,g){const v=Cr(s,o);!function Ya(s,o,a,l,d,g,v){if(null==g)yn(s)?s.removeAttribute(o,d,a):o.removeAttribute(d);else{const w=null==v?pe(g):v(g,l||"",d);yn(s)?s.setAttribute(o,d,w,a):a?o.setAttributeNS(a,d,w):o.setAttribute(d,w)}}(o[11],v,g,s.value,a,l,d)}function qC(s,o,a,l,d,g){const v=g[o];if(null!==v){const w=l.setInput;for(let D=0;D<v.length;){const S=v[D++],x=v[D++],k=v[D++];null!==w?l.setInput(a,k,S,x):a[x]=k}}}function HE(s,o){let a=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,s[d],o[l+1])),l+=2}else l+=2;else l+=4}return a}function GE(s,o,a,l){return new Array(s,!0,!1,o,null,0,l,a,null,null)}function qE(s,o){const a=Ir(o,s);if(ys(a)){const l=a[1];80&a[2]?qu(l,a,l.template,a[8]):a[5]>0&&Mg(a)}}function Mg(s){for(let l=ju(s);null!==l;l=$u(l))for(let d=10;d<l.length;d++){const g=l[d];if(1024&g[2]){const v=g[1];qu(v,g,v.template,g[8])}else g[5]>0&&Mg(g)}const a=s[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=Ir(a[l],s);ys(d)&&d[5]>0&&Mg(d)}}function zE(s,o){const a=Ir(o,s),l=a[1];(function ZC(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),dc(l,a,a[8])}function xd(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function xg(s){for(;s;){s[2]|=64;const o=Rn(s);if(Mh(s)&&!o)return s;s=o}return null}function y_(s,o,a){const l=o[10];l.begin&&l.begin();try{qu(s,o,s.template,a)}catch(d){throw ZE(o,d),d}finally{l.end&&l.end()}}function WE(s){!function Rg(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],l=ef(a),d=l[1];f_(d,l,d.template,a)}}(s[8])}function __(s,o,a){Ml(0),o(s,a)}const JC=(()=>Promise.resolve(null))();function v_(s){return s[7]||(s[7]=[])}function E_(s){return s.cleanup||(s.cleanup=[])}function ZE(s,o){const a=s[9],l=a?a.get(xr,null):null;l&&l.handleError(o)}function YE(s,o,a,l,d){for(let g=0;g<a.length;){const v=a[g++],w=a[g++],D=o[v],S=s.data[v];null!==S.setInput?S.setInput(D,d,l,w):D[w]=d}}function Ea(s,o,a){const l=yo(o,s);!function wd(s,o,a){yn(s)?s.setValue(o,a):o.textContent=a}(s[11],l,a)}function Ng(s,o,a){let l=a?s.styles:null,d=a?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const w=o[v];"number"==typeof w?g=w:1==g?d=de(d,w):2==g&&(l=de(l,w+": "+o[++v]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=d:s.classesWithoutHost=d}const w_=new Mn("INJECTOR",-1);class b_{get(o,a=To){if(a===To){const l=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw l.name="NullInjectorError",l}return a}}const QE=new Mn("Set Injector scope."),Rd={},Og={};let D_;function Gi(){return void 0===D_&&(D_=new b_),D_}function nI(s,o=null,a=null,l){const d=vf(s,o,a,l);return d._resolveInjectorDefTypes(),d}function vf(s,o=null,a=null,l){return new C_(s,a,o||Gi(),l)}class C_{constructor(o,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&yi(a,w=>this.processProvider(w,o,a)),yi([o],w=>this.processInjectorType(w,[],g)),this.records.set(w_,Ef(void 0,this));const v=this.records.get(QE);this.scope=null!=v?v.value:null,this.source=d||("object"==typeof o?null:fe(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=To,l=dt.Default){this.assertNotDestroyed();const d=xe(this),g=Qn(void 0);try{if(!(l&dt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const D=function uI(s){return"function"==typeof s||"object"==typeof s&&s instanceof Mn}(o)&&Gt(o);w=D&&this.injectableDefInScope(D)?Ef(I_(o),Rd):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(l&dt.Self?Gi():this.parent).get(o,a=l&dt.Optional&&a===To?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Pu]=v[Pu]||[]).unshift(fe(o)),d)throw v;return function ua(s,o,a,l){const d=s[Pu];throw o[L]&&d.unshift(o[L]),s.message=function So(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=fe(o);if(Array.isArray(o))d=o.map(fe).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let w=o[v];g.push(v+":"+("string"==typeof w?JSON.stringify(w):fe(w)))}d=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${s.replace(I,"\n  ")}`}("\n"+s.message,d,a,l),s.ngTokenPath=d,s[Pu]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Qn(g),xe(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((l,d)=>o.push(fe(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,!1)}processInjectorType(o,a,l){if(!(o=J(o)))return!1;let d=kr(o);const g=null==d&&o.ngModule||void 0,v=void 0===g?o:g,w=-1!==l.indexOf(v);if(void 0!==g&&(d=kr(g)),null==d)return!1;if(null!=d.imports&&!w){let x;l.push(v);try{yi(d.imports,k=>{this.processInjectorType(k,a,l)&&(void 0===x&&(x=[]),x.push(k))})}finally{}if(void 0!==x)for(let k=0;k<x.length;k++){const{ngModule:U,providers:Z}=x[k];yi(Z,oe=>this.processProvider(oe,U,Z||ft))}}this.injectorDefTypes.add(v);const D=Qr(v)||(()=>new v);this.records.set(v,Ef(D,Rd));const S=d.providers;if(null!=S&&!w){const x=o;yi(S,k=>this.processProvider(k,x,S))}return void 0!==g&&void 0!==o.providers}processProvider(o,a,l){let d=Nd(o=J(o))?o:J(o&&o.provide);const g=function QM(s,o,a){return JE(s)?Ef(void 0,s.useValue):Ef(iI(s),Rd)}(o);if(Nd(o)||!0!==o.multi)this.records.get(d);else{let v=this.records.get(d);v||(v=Ef(void 0,Rd,!0),v.factory=()=>Mt(v.multi),this.records.set(d,v)),d=o,v.multi.push(o)}this.records.set(d,g)}hydrate(o,a){return a.value===Rd&&(a.value=Og,a.value=a.factory()),"object"==typeof a.value&&a.value&&function aI(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=J(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function I_(s){const o=Gt(s),a=null!==o?o.factory:Qr(s);if(null!==a)return a;if(s instanceof Mn)throw new ke(204,!1);if(s instanceof Function)return function rI(s){const o=s.length;if(o>0)throw Ui(o,"?"),new ke(204,!1);const a=function ai(s){const o=s&&(s[zi]||s[cs]);if(o){const a=function Os(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new ke(204,!1)}function iI(s,o,a){let l;if(Nd(s)){const d=J(s);return Qr(d)||I_(d)}if(JE(s))l=()=>J(s.useValue);else if(function JM(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...Mt(s.deps||[]));else if(function T_(s){return!(!s||!s.useExisting)}(s))l=()=>Xe(J(s.useExisting));else{const d=J(s&&(s.useClass||s.provide));if(!function oI(s){return!!s.deps}(s))return Qr(d)||I_(d);l=()=>new d(...Mt(s.deps))}return l}function Ef(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function JE(s){return null!==s&&"object"==typeof s&&K in s}function Nd(s){return"function"==typeof s}let Po=(()=>{class s{static create(a,l){var d;if(Array.isArray(a))return nI({name:""},l,a,"");{const g=null!==(d=a.name)&&void 0!==d?d:"";return nI({name:g},a.parent,a.providers,g)}}}return s.THROW_IF_NOT_FOUND=To,s.NULL=new b_,s.\u0275prov=an({token:s,providedIn:"any",factory:()=>Xe(w_)}),s.__NG_ELEMENT_ID__=-1,s})();function nw(s,o){_s(ef(s)[1],wn())}function Od(s){let o=function P_(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let d;if(Yr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ke(903,"");d=o.\u0275dir}if(d){if(a){l.push(d);const v=s;v.inputs=Pg(s.inputs),v.declaredInputs=Pg(s.declaredInputs),v.outputs=Pg(s.outputs);const w=d.hostBindings;w&&gI(s,w);const D=d.viewQuery,S=d.contentQueries;if(D&&iw(s,D),S&&sw(s,S),re(s.inputs,d.inputs),re(s.declaredInputs,d.declaredInputs),re(s.outputs,d.outputs),Yr(d)&&d.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const w=g[v];w&&w.ngInherit&&w(s),w===Od&&(a=!1)}}o=Object.getPrototypeOf(o)}!function rw(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Fr(d.hostAttrs,a=Fr(a,d.hostAttrs))}}(l)}function Pg(s){return s===fr?{}:s===ft?[]:s}function iw(s,o){const a=s.viewQuery;s.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function sw(s,o){const a=s.contentQueries;s.contentQueries=a?(l,d,g)=>{o(l,d,g),a(l,d,g)}:o}function gI(s,o){const a=s.hostBindings;s.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}let bf=null;function zu(){if(!bf){const s=$t.Symbol;if(s&&s.iterator)bf=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(bf=l)}}}return bf}function kd(s){return!!Pd(s)&&(Array.isArray(s)||!(s instanceof Map)&&zu()in s)}function Pd(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Vo(s,o,a){return s[o]=a}function ii(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function cw(s,o,a,l){const d=Ce();return ii(d,Ks(),o)&&(Bt(),ko(An(),d,s,o,a,l)),cw}function If(s,o,a,l,d,g,v,w){const D=Ce(),S=Bt(),x=s+20,k=S.firstCreatePass?function wI(s,o,a,l,d,g,v,w,D){const S=o.consts,x=Ad(o,s,4,v||null,Jr(S,w));m_(o,a,x,Jr(S,D)),_s(o,x);const k=x.tViews=gf(2,x,l,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,x),k.queries=o.queries.embeddedTView(x)),x}(x,S,D,o,a,l,d,g,v):S.data[x];Xr(k,!1);const U=D[11].createComment("");_g(S,D,U,k),Br(U,D),xd(D,D[x]=GE(U,D,U,k)),fu(k)&&Tg(S,D,k),null!=v&&pf(D,k,w)}function Sf(s){return ki(function Il(){return gt.lFrame.contextLView}(),20+s)}function Xa(s,o=dt.Default){const a=Ce();return null===a?Xe(s,o):Js(wn(),a,J(s),o)}function Bg(){throw new Error("invalid")}function Ug(s,o,a){const l=Ce();return ii(l,Ks(),o)&&function wi(s,o,a,l,d,g,v,w){const D=Cr(o,a);let x,S=o.inputs;!w&&null!=S&&(x=S[l])?(YE(s,a,x,l,d),Bs(o)&&function LC(s,o){const a=Ir(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(l=function FC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=v?v(d,o.value||"",l):d,yn(g)?g.setProperty(D,l,d):ei(l)||(D.setProperty?D.setProperty(l,d):D[l]=d))}(Bt(),An(),l,s,o,l[11],a,!1),Ug}function Tw(s,o,a,l,d){const v=d?"class":"style";YE(s,a,o.inputs[v],v,l)}function W_(s,o,a,l){const d=Ce(),g=Bt(),v=20+s,w=d[11],D=d[v]=bd(w,o,function yy(){return gt.lFrame.currentNamespace}()),S=g.firstCreatePass?function sx(s,o,a,l,d,g,v){const w=o.consts,S=Ad(o,s,2,d,Jr(w,g));return m_(o,a,S,Jr(w,v)),null!==S.attrs&&Ng(S,S.attrs,!1),null!==S.mergedAttrs&&Ng(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(v,g,d,0,o,a,l):g.data[v];Xr(S,!0);const x=S.mergedAttrs;null!==x&&yt(w,D,x);const k=S.classes;null!==k&&wE(w,D,k);const U=S.styles;return null!==U&&t_(w,D,U),64!=(64&S.flags)&&_g(g,d,D,S),0===function Va(){return gt.lFrame.elementDepthCount}()&&Br(D,d),function Du(){gt.lFrame.elementDepthCount++}(),fu(S)&&(Tg(g,d,S),function kE(s,o,a){if(Bc(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}(g,S,d)),null!==l&&pf(d,S),W_}function K_(){let s=wn();Dl()?Cl():(s=s.parent,Xr(s,!1));const o=s;!function Cu(){gt.lFrame.elementDepthCount--}();const a=Bt();return a.firstCreatePass&&(_s(a,s),Bc(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function kh(s){return 0!=(16&s.flags)}(o)&&Tw(a,o,Ce(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Yp(s){return 0!=(32&s.flags)}(o)&&Tw(a,o,Ce(),o.stylesWithoutHost,!1),K_}function Z_(s,o,a,l){return W_(s,o,a,l),K_(),Z_}function Sw(){return Ce()}function Hg(s){return!!s&&"function"==typeof s.then}function Aw(s){return!!s&&"function"==typeof s.subscribe}const xI=Aw;function Gg(s,o,a,l){const d=Ce(),g=Bt(),v=wn();return function Rw(s,o,a,l,d,g,v,w){const D=fu(l),x=s.firstCreatePass&&E_(s),k=o[8],U=v_(o);let Z=!0;if(3&l.type||w){const je=Cr(l,o),Je=w?w(je):je,Ee=U.length,ht=w?Kt=>w(cn(Kt[l.index])):l.index;if(yn(a)){let Kt=null;if(!w&&D&&(Kt=function xw(s,o,a,l){const d=s.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===a&&d[g+1]===l){const w=o[7],D=d[g+2];return w.length>D?w[D]:null}"string"==typeof v&&(g+=2)}return null}(s,o,d,l.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=g,Kt.__ngLastListenerFn__=g,Z=!1;else{g=Of(l,o,k,g,!1);const nn=a.listen(Je,d,g);U.push(g,nn),x&&x.push(d,ht,Ee,Ee+1)}}else g=Of(l,o,k,g,!0),Je.addEventListener(d,g,v),U.push(g),x&&x.push(d,ht,Ee,v)}else g=Of(l,o,k,g,!1);const oe=l.outputs;let Fe;if(Z&&null!==oe&&(Fe=oe[d])){const je=Fe.length;if(je)for(let Je=0;Je<je;Je+=2){const as=o[Fe[Je]][Fe[Je+1]].subscribe(g),dl=U.length;U.push(g,as),x&&x.push(d,l.index,dl,-(dl+1))}}}(g,d,d[11],v,s,o,!!a,l),Gg}function Q_(s,o,a,l){try{return!1!==a(l)}catch(d){return ZE(s,d),!1}}function Of(s,o,a,l,d){return function g(v){if(v===Function)return l;const w=2&s.flags?Ir(s.index,o):o;0==(32&o[2])&&xg(w);let D=Q_(o,0,l,v),S=g.__ngNextListenerFn__;for(;S;)D=Q_(o,0,S,v)&&D,S=S.__ngNextListenerFn__;return d&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function Nw(s=1){return function Zs(s){return(gt.lFrame.contextLView=function Rl(s,o){for(;s>0;)o=o[15],s--;return o}(s,gt.lFrame.contextLView))[8]}(s)}function Ow(s,o){let a=null;const l=function AM(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let d=0;d<o.length;d++){const g=o[d];if("*"!==g){if(null===l?AC(s,g,!0):RM(l,g))return d}else a=d}return a}function kw(s){const o=Ce()[16][6];if(!o.projection){const l=o.projection=Ui(s?s.length:1,null),d=l.slice();let g=o.child;for(;null!==g;){const v=s?Ow(g,s):0;null!==v&&(d[v]?d[v].projectionNext=g:l[v]=g,d[v]=g),g=g.next}}}function kf(s,o=0,a){const l=Ce(),d=Bt(),g=Ad(d,20+s,16,null,a||null);null===g.projection&&(g.projection=o),Cl(),64!=(64&g.flags)&&function EE(s,o,a){hf(o[11],0,o,a,yg(s,a,o),mE(a.parent||o[6],a,o))}(d,l,g)}function ev(s,o,a,l,d){const g=s[a+1],v=null===o;let w=l?Oo(g):ya(g),D=!1;for(;0!==w&&(!1===D||v);){const x=s[w+1];OI(s[w],o)&&(D=!0,s[w+1]=l?Id(x):i_(x)),w=l?Oo(x):ya(x)}D&&(s[a+1]=l?i_(g):Id(g))}function OI(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&no(s,o)>=0}const jr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Wg(s){return s.substring(jr.key,jr.keyEnd)}function $w(s,o){const a=jr.textEnd;return a===o?-1:(o=jr.keyEnd=function PI(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,jr.key=o,a),gc(s,o,a))}function gc(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Zg(s,o){return function Uo(s,o,a,l){const d=Ce(),g=Bt(),v=Pi(2);g.firstUpdatePass&&BI(g,s,v,l),o!==Lt&&ii(d,v,o)&&$r(g,g.data[Tr()],d,d[11],s,d[v+1]=function HI(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(ro(s)))),s}(o,a),l,v)}(s,o,null,!0),Zg}function Zw(s){!function so(s,o,a,l){const d=Bt(),g=Pi(2);d.firstUpdatePass&&BI(d,null,g,l);const v=Ce();if(a!==Lt&&ii(v,g,a)){const w=d.data[Tr()];if(oo(w,l)&&!VI(d,g)){let D=l?w.classesWithoutHost:w.stylesWithoutHost;null!==D&&(a=de(D,a||"")),Tw(d,w,v,a,l)}else!function $I(s,o,a,l,d,g,v,w){d===Lt&&(d=ft);let D=0,S=0,x=0<d.length?d[0]:null,k=0<g.length?g[0]:null;for(;null!==x||null!==k;){const U=D<d.length?d[D+1]:void 0,Z=S<g.length?g[S+1]:void 0;let Fe,oe=null;x===k?(D+=2,S+=2,U!==Z&&(oe=k,Fe=Z)):null===k||null!==x&&x<k?(D+=2,oe=x):(S+=2,oe=k,Fe=Z),null!==oe&&$r(s,o,a,l,oe,Fe,v,w),x=D<d.length?d[D]:null,k=S<g.length?g[S]:null}}(d,w,v,v[11],v[g+1],v[g+1]=function ux(s,o,a){if(null==a||""===a)return ft;const l=[],d=ro(a);if(Array.isArray(d))for(let g=0;g<d.length;g++)s(l,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&s(l,g,d[g]);else"string"==typeof d&&o(l,d);return l}(s,o,a),l,g)}}(Xn,Bo,s,!0)}function Bo(s,o){for(let a=function jw(s){return function Gw(s){jr.key=0,jr.keyEnd=0,jr.value=0,jr.valueEnd=0,jr.textEnd=s.length}(s),$w(s,gc(s,0,jr.textEnd))}(o);a>=0;a=$w(o,a))Xn(s,Wg(o),!0)}function VI(s,o){return o>=s.expandoStartIndex}function BI(s,o,a,l){const d=s.data;if(null===d[a+1]){const g=d[Tr()],v=VI(s,a);oo(g,l)&&null===o&&!v&&(o=!1),o=function ox(s,o,a,l){const d=function Xo(s){const o=gt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=Yg(a=Yw(null,s,o,a,l),o.attrs,l),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==d)if(a=Yw(d,s,o,a,l),null===g){let D=function UI(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==ya(l))return s[Oo(l)]}(s,o,l);void 0!==D&&Array.isArray(D)&&(D=Yw(null,s,o,D[1],l),D=Yg(D,o.attrs,l),function ax(s,o,a,l){s[Oo(a?o.classBindings:o.styleBindings)]=l}(s,o,l,D))}else g=function jI(s,o,a){let l;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)l=Yg(l,s[g].hostAttrs,a);return Yg(l,o.attrs,a)}(s,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),a}(d,g,o,l),function RI(s,o,a,l,d,g){let v=g?o.classBindings:o.styleBindings,w=Oo(v),D=ya(v);s[l]=a;let x,S=!1;if(Array.isArray(a)){const k=a;x=k[1],(null===x||no(k,x)>0)&&(S=!0)}else x=a;if(d)if(0!==D){const U=Oo(s[w+1]);s[l+1]=Hu(U,w),0!==U&&(s[U+1]=s_(s[U+1],l)),s[w+1]=function NM(s,o){return 131071&s|o<<17}(s[w+1],l)}else s[l+1]=Hu(w,0),0!==w&&(s[w+1]=s_(s[w+1],l)),w=l;else s[l+1]=Hu(D,0),0===w?w=l:s[D+1]=s_(s[D+1],l),D=l;S&&(s[l+1]=i_(s[l+1])),ev(s,x,l,!0),ev(s,x,l,!1),function NI(s,o,a,l,d){const g=d?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&no(g,o)>=0&&(a[l+1]=Id(a[l+1]))}(o,x,s,l,g),v=Hu(w,D),g?o.classBindings=v:o.styleBindings=v}(d,g,o,a,v,l)}}function Yw(s,o,a,l,d){let g=null;const v=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<v&&(g=o[w],l=Yg(l,g.hostAttrs,d),g!==s);)w++;return null!==s&&(a.directiveStylingLast=w),l}function Yg(s,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?d=v:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Xn(s,v,!!a||o[++g]))}return void 0===s?null:s}function $r(s,o,a,l,d,g,v,w){if(!(3&o.type))return;const D=s.data,S=D[w+1];Jg(function RC(s){return 1==(1&s)}(S)?Qg(D,o,a,d,ya(S),v):void 0)||(Jg(g)||function xC(s){return 2==(2&s)}(S)&&(g=Qg(D,null,a,d,w,v)),function TC(s,o,a,l,d){const g=yn(s);if(o)d?g?s.addClass(a,l):a.classList.add(l):g?s.removeClass(a,l):a.classList.remove(l);else{let v=-1===l.indexOf("-")?void 0:ae.DashCase;if(null==d)g?s.removeStyle(a,l,v):a.style.removeProperty(l);else{const w="string"==typeof d&&d.endsWith("!important");w&&(d=d.slice(0,-10),v|=ae.Important),g?s.setStyle(a,l,d,v):a.style.setProperty(l,d,w?"important":"")}}}(l,v,yo(Tr(),a),d,g))}function Qg(s,o,a,l,d,g){const v=null===o;let w;for(;d>0;){const D=s[d],S=Array.isArray(D),x=S?D[1]:D,k=null===x;let U=a[d+1];U===Lt&&(U=k?ft:void 0);let Z=k?ql(U,l):x===l?U:void 0;if(S&&!Jg(Z)&&(Z=ql(D,l)),Jg(Z)&&(w=Z,v))return w;const oe=s[d+1];d=v?Oo(oe):ya(oe)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(w=ql(D,l))}return w}function Jg(s){return void 0!==s}function oo(s,o){return 0!=(s.flags&(o?16:32))}function GI(s,o=""){const a=Ce(),l=Bt(),d=s+20,g=l.firstCreatePass?Ad(l,d,1,o,null):l.data[d],v=a[d]=function Ed(s,o){return yn(s)?s.createText(o):s.createTextNode(o)}(a[11],o);_g(l,a,v,g),Xr(g,!1)}function nv(s){return _e("",s,""),nv}function _e(s,o,a){const l=Ce(),d=function fc(s,o,a,l){return ii(s,Ks(),a)?o+pe(a)+l:Lt}(l,s,o,a);return d!==Lt&&Ea(l,Tr(),d),_e}const Xu=void 0;var cv=["en",[["a","p"],["AM","PM"],Xu],[["AM","PM"],Xu,Xu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xu,"{1} 'at' {0}",Xu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function eb(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let $d={};function el(s){const o=function om(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=dv(o);if(a)return a;const l=o.split("-")[0];if(a=dv(l),a)return a;if("en"===l)return cv;throw new Error(`Missing locale data for the locale "${s}".`)}function sm(s){return el(s)[bt.PluralCase]}function dv(s){return s in $d||($d[s]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[s]),$d[s]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const Hd="en-US";let tb=Hd;function Ec(s,o,a,l,d){if(s=J(s),Array.isArray(s))for(let g=0;g<s.length;g++)Ec(s[g],o,a,l,d);else{const g=Bt(),v=Ce();let w=Nd(s)?s:J(s.provide),D=iI(s);const S=wn(),x=1048575&S.providerIndexes,k=S.directiveStart,U=S.providerIndexes>>20;if(Nd(s)||!s.multi){const Z=new ea(D,d,Xa),oe=wc(w,o,d?x:x+U,k);-1===oe?(Qs(zn(S,v),g,w),_m(g,s,o.length),o.push(w),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(Z),v.push(Z)):(a[oe]=Z,v[oe]=Z)}else{const Z=wc(w,o,x+U,k),oe=wc(w,o,x,x+U),Fe=Z>=0&&a[Z],je=oe>=0&&a[oe];if(d&&!je||!d&&!Fe){Qs(zn(S,v),g,w);const Je=function Lv(s,o,a,l,d){const g=new ea(s,a,Xa);return g.multi=[],g.index=o,g.componentProviders=0,Zf(g,d,l&&!a),g}(d?Pv:bc,a.length,d,l,D);!d&&je&&(a[oe].providerFactory=Je),_m(g,s,o.length,0),o.push(w),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(Je),v.push(Je)}else _m(g,s,Z>-1?Z:oe,Zf(a[d?oe:Z],D,!d&&l));!d&&l&&je&&a[oe].componentProviders++}}}function _m(s,o,a,l){const d=Nd(o),g=function sI(s){return!!s.useClass}(o);if(d||g){const D=(g?J(o.useClass):o).prototype.ngOnDestroy;if(D){const S=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const x=S.indexOf(a);-1===x?S.push(a,[l,D]):S[x+1].push(l,D)}else S.push(a,D)}}}function Zf(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function wc(s,o,a,l){for(let d=a;d<l;d++)if(o[d]===s)return d;return-1}function bc(s,o,a,l){return Fv(this.multi,[])}function Pv(s,o,a,l){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=Li(a,a[1],this.providerFactory.index,l);g=w.slice(0,v),Fv(d,g);for(let D=v;D<w.length;D++)g.push(w[D])}else g=[],Fv(d,g);return g}function Fv(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Dc(s,o=[]){return a=>{a.providersResolver=(l,d)=>function sT(s,o,a){const l=Bt();if(l.firstCreatePass){const d=Yr(s);Ec(a,l.data,l.blueprint,d,!0),Ec(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class tl{}class tu{resolveComponentFactory(o){throw function Db(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Cc=(()=>{class s{}return s.NULL=new tu,s})();function vm(){return nu(wn(),Ce())}function nu(s,o){return new Yd(Cr(s,o))}let Yd=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=vm,s})();function Un(s){return s instanceof Yd?s.nativeElement:s}class Ib{}let oT=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Qf(){const s=Ce(),a=Ir(wn().index,s);return function Yf(s){return s[11]}(Oi(a)?a:s)}(),s})(),aT=(()=>{class s{}return s.\u0275prov=an({token:s,providedIn:"root",factory:()=>null}),s})();class Uv{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Tb=new Uv("13.2.7"),jv={};function Em(s,o,a,l,d=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&l.push(cn(g)),di(g))for(let w=10;w<g.length;w++){const D=g[w],S=D[1].firstChild;null!==S&&Em(D[1],D,S,l)}const v=a.type;if(8&v)Em(s,o,a.child,l);else if(32&v){const w=tt(a,o);let D;for(;D=w();)l.push(D)}else if(16&v){const w=vE(o,a);if(Array.isArray(w))l.push(...w);else{const D=Rn(o[16]);Em(D[1],D,w,l,!0)}}a=d?a.projectionNext:a.next}return l}class Jf{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Em(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(di(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(zy(o,l),bs(a,l))}this._attachedToViewContainer=!1}Wy(this._lView[1],this._lView)}onDestroy(o){g_(this._lView[1],this._lView,null,o)}markForCheck(){xg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){y_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function YC(s,o,a){Ws(!0);try{y_(s,o,a)}finally{Ws(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ke(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mg(s,o){vg(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ke(902,"");this._appRef=o}}class Xf extends Jf{constructor(o){super(o),this._view=o}detectChanges(){WE(this._view)}checkNoChanges(){!function QC(s){Ws(!0);try{WE(s)}finally{Ws(!1)}}(this._view)}get context(){return null}}class ru extends Cc{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=zt(o);return new nl(a,this.ngModule)}}function $v(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class nl extends tl{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Is(s){return s.map(Eg).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return $v(this.componentDef.inputs)}get outputs(){return $v(this.componentDef.outputs)}create(o,a,l,d){const g=(d=d||this.ngModule)?function Ab(s,o){return{get:(a,l,d)=>{const g=s.get(a,jv,d);return g!==jv||l===jv?g:o.get(a,l,d)}}}(o,d.injector):o,v=g.get(Ib,Yo),w=g.get(aT,null),D=v.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",x=l?function mf(s,o,a){if(yn(s))return s.selectRootElement(o,a===qt.ShadowDom);let l="string"==typeof o?s.querySelector(o):o;return l.textContent="",l}(D,l,this.componentDef.encapsulation):bd(v.createRenderer(null,this.componentDef),S,function Sb(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(S)),k=this.componentDef.onPush?576:528,U=function k_(s,o){return{components:[],scheduler:s||Hy,clean:JC,playerHandler:o||null,flags:0}}(),Z=gf(0,null,null,1,0,null,null,null,null,null),oe=Za(null,Z,U,k,null,null,v,D,w,g);let Fe,je;_o(oe);try{const Je=function N_(s,o,a,l,d,g){const v=a[1];a[20]=s;const D=Ad(v,20,2,"#host",null),S=D.mergedAttrs=o.hostAttrs;null!==S&&(Ng(D,S,!0),null!==s&&(yt(d,s,S),null!==D.classes&&wE(d,s,D.classes),null!==D.styles&&t_(d,s,D.styles)));const x=l.createRenderer(s,o),k=Za(a,PE(o),null,o.onPush?64:16,a[20],D,l,x,g||null,null);return v.firstCreatePass&&(Qs(zn(D,a),v,o.type),Md(v,D),jE(D,a.length,1)),xd(a,k),a[20]=k}(x,this.componentDef,oe,v,D);if(x)if(l)yt(D,x,["ng-version",Tb.full]);else{const{attrs:Ee,classes:ht}=function n_(s){const o=[],a=[];let l=1,d=2;for(;l<s.length;){let g=s[l];if("string"==typeof g)2===d?""!==g&&o.push(g,s[++l]):8===d&&a.push(g);else{if(!ga(d))break;d=g}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ee&&yt(D,x,Ee),ht&&ht.length>0&&wE(D,x,ht.join(" "))}if(je=La(Z,20),void 0!==a){const Ee=je.projection=[];for(let ht=0;ht<this.ngContentSelectors.length;ht++){const Kt=a[ht];Ee.push(null!=Kt?Array.from(Kt):null)}}Fe=function O_(s,o,a,l,d){const g=a[1],v=function UC(s,o,a){const l=wn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),$E(s,l,o,cc(s,o,1,null),a));const d=Li(o,s,l.directiveStart,l);Br(d,o);const g=Cr(l,o);return g&&Br(g,o),d}(g,a,o);if(l.components.push(v),s[8]=v,d&&d.forEach(D=>D(v,o)),o.contentQueries){const D=wn();o.contentQueries(1,v,D.directiveStart)}const w=wn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ys(w.index),UE(a[1],w,0,w.directiveStart,w.directiveEnd,o),yf(o,v)),v}(Je,this.componentDef,oe,U,[nw]),dc(Z,oe,null)}finally{Eo()}return new Mb(this.componentType,Fe,nu(je,oe),oe,je)}}class Mb extends class Vv{}{constructor(o,a,l,d,g){super(),this.location=l,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new Xf(d),this.componentType=o}get injector(){return new Vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Ic{}class Hv{}const rl=new Map;class kb extends Ic{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ru(this);const l=pn(o);this._bootstrapComponents=m(l.bootstrap),this._r3Injector=vf(o,a,[{provide:Ic,useValue:this},{provide:Cc,useValue:this.componentFactoryResolver}],fe(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=Po.THROW_IF_NOT_FOUND,l=dt.Default){return o===Po||o===Ic||o===w_?this:this._r3Injector.get(o,a,l)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Qd extends Hv{constructor(o){super(),this.moduleType=o,null!==pn(o)&&function Rb(s){const o=new Set;!function a(l){const d=pn(l,!0),g=d.id;null!==g&&(function Gv(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${fe(o)} vs ${fe(o.name)}`)}(g,rl.get(g),l),rl.set(g,l));const v=m(d.imports);for(const w of v)o.has(w)||(o.add(w),a(w))}(s)}(o)}create(o){return new kb(this.moduleType,o)}}function tp(s,o,a,l){return Lb(Ce(),yr(),s,o,a,l)}function ip(s,o){const a=s[o];return a===Lt?void 0:a}function Lb(s,o,a,l,d,g){const v=o+a;return ii(s,v,d)?Vo(s,v+1,g?l.call(g,d):l(d)):ip(s,v+1)}function Vb(s,o,a,l,d,g,v){const w=o+a;return function is(s,o,a,l){const d=ii(s,o,a);return ii(s,o+1,l)||d}(s,w,d,g)?Vo(s,w+2,v?l.call(v,d,g):l(d,g)):ip(s,w+2)}function sp(s,o){const a=Bt();let l;const d=s+20;a.firstCreatePass?(l=function Bb(s,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(s===l.name)return l}}(o,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const g=l.factory||(l.factory=Qr(l.type)),v=Qn(Xa);try{const w=pi(!1),D=g();return pi(w),function Tf(s,o,a,l){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=l}(a,Ce(),d,D),D}finally{Qn(v)}}function Ca(s,o,a){const l=s+20,d=Ce(),g=ki(d,l);return Jd(d,l)?Lb(d,yr(),o,g.transform,a,g):g.transform(a)}function Zv(s,o,a,l){const d=s+20,g=Ce(),v=ki(g,d);return Jd(g,d)?Vb(g,yr(),o,v.transform,a,l,v):v.transform(a,l)}function Jd(s,o){return s[1].data[o].pure}function Xd(s){return o=>{setTimeout(s,void 0,o)}}const jo=class Qv extends f.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){var d,g,v;let w=o,D=a||(()=>null),S=l;if(o&&"object"==typeof o){const k=o;w=null===(d=k.next)||void 0===d?void 0:d.bind(k),D=null===(g=k.error)||void 0===g?void 0:g.bind(k),S=null===(v=k.complete)||void 0===v?void 0:v.bind(k)}this.__isAsync&&(D=Xd(D),w&&(w=Xd(w)),S&&(S=Xd(S)));const x=super.subscribe({next:w,error:D,complete:S});return o instanceof Y.w0&&o.add(x),x}};function Jv(){return this._results[zu()]()}class eh{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=zu(),l=eh.prototype;l[a]||(l[a]=Jv)}get changes(){return this._changes||(this._changes=new jo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const d=Ar(o);(this._changesDetected=!function Ul(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],g=o[l];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ap=(()=>{class s{}return s.__NG_ELEMENT_ID__=jb,s})();const Ub=ap,up=class extends Ub{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o){const a=this._declarationTContainer.tViews,l=Za(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(a)),dc(a,l,o),new Jf(l)}};function jb(){return lp(wn(),Ce())}function lp(s,o){return 4&s.type?new up(o,s,nu(s,o)):null}let th=(()=>{class s{}return s.__NG_ELEMENT_ID__=Xv,s})();function Xv(){return il(wn(),Ce())}const $b=th,cp=class extends $b{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return nu(this._hostTNode,this._hostLView)}get injector(){return new Vi(this._hostTNode,this._hostLView)}get parentInjector(){const o=gi(this._hostTNode,this._hostLView);if(td(o)){const a=Fi(o,this._hostLView),l=mn(o);return new Vi(a[1].data[l+8],a)}return new Vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=e0(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){const d=o.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(o,a,l,d,g){const v=o&&!function oa(s){return"function"==typeof s}(o);let w;if(v)w=a;else{const k=a||{};w=k.index,l=k.injector,d=k.projectableNodes,g=k.ngModuleRef}const D=v?o:new nl(zt(o)),S=l||this.parentInjector;if(!g&&null==D.ngModule){const U=(v?S:this.parentInjector).get(Ic,null);U&&(g=U)}const x=D.create(S,d,void 0,g);return this.insert(x.hostView,w),x}insert(o,a){const l=o._lView,d=l[1];if(function wu(s){return di(s[3])}(l)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const k=l[3],U=new cp(k,k[6],k[3]);U.detach(U.indexOf(o))}}const g=this._adjustIndex(a),v=this._lContainer;!function ac(s,o,a,l){const d=10+l,g=a.length;l>0&&(a[d-1][4]=o),l<g-10?(o[4]=a[d],jl(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function Dd(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(d,l,v,g);const w=Jy(g,v),D=l[11],S=pa(D,v[7]);return null!==S&&function df(s,o,a,l,d,g){l[0]=d,l[6]=o,vg(s,l,a,1,d,g)}(d,v[6],D,l,S,w),o.attachToViewContainerRef(),jl(wm(v),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=e0(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=zy(this._lContainer,a);l&&(bs(wm(this._lContainer),a),Wy(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=zy(this._lContainer,a);return l&&null!=bs(wm(this._lContainer),a)?new Jf(l):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function e0(s){return s[8]}function wm(s){return s[8]||(s[8]=[])}function il(s,o){let a;const l=o[s.index];if(di(l))a=l;else{let d;if(8&s.type)d=cn(l);else{const g=o[11];d=g.createComment("");const v=Cr(s,o);Cs(g,pa(g,v),d,function CC(s,o){return yn(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=a=GE(l,o,d,s),xd(o,a)}return new cp(a,s,o)}class bm{constructor(o){this.queryList=o,this.matches=null}clone(){return new bm(this.queryList)}setDirty(){this.queryList.setDirty()}}class nh{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let g=0;g<l;g++){const v=a.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new nh(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Im(o,a).matches&&this.queries[a].setDirty()}}class ss{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class Dm{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(o,d);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new Dm(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Cm{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Cm(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(o,a,rh(a,g)),this.matchTNodeWithReadOption(o,a,Do(a,o,g,!1,!1))}else l===ap?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Do(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Yd||d===th||d===ap&&4&a.type)this.addMatch(a.index,-2);else{const g=Do(a,o,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function rh(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function gT(s,o,a,l){return-1===a?function pT(s,o){return 11&s.type?nu(s,o):4&s.type?lp(s,o):null}(o,s):-2===a?function t0(s,o,a){return a===Yd?nu(o,s):a===ap?lp(o,s):a===th?il(o,s):void 0}(s,o,l):Li(s,s[1],a,o)}function qb(s,o,a,l){const d=o[19].queries[l];if(null===d.matches){const g=s.data,v=a.matches,w=[];for(let D=0;D<v.length;D+=2){const S=v[D];w.push(S<0?null:gT(o,g[S],v[D+1],a.metadata.read))}d.matches=w}return d.matches}function n0(s,o,a,l){const d=s.queries.getByIndex(a),g=d.matches;if(null!==g){const v=qb(s,o,d,a);for(let w=0;w<g.length;w+=2){const D=g[w];if(D>0)l.push(v[w/2]);else{const S=g[w+1],x=o[-D];for(let k=10;k<x.length;k++){const U=x[k];U[17]===U[3]&&n0(U[1],U,S,l)}if(null!==x[9]){const k=x[9];for(let U=0;U<k.length;U++){const Z=k[U];n0(Z[1],Z,S,l)}}}}}return l}function r0(s){const o=Ce(),a=Bt(),l=Al();Ml(l+1);const d=Im(a,l);if(s.dirty&&Gs(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const g=d.crossesNgTemplate?n0(a,o,l,[]):qb(a,o,d,l);s.reset(g,Un),s.notifyOnChanges()}return!0}return!1}function dp(s,o,a,l){const d=Bt();if(d.firstCreatePass){const g=wn();(function Tc(s,o,a){null===s.queries&&(s.queries=new Dm),s.queries.track(new Cm(o,a))})(d,new ss(o,a,l),g.index),function sl(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}!function Gr(s,o,a){const l=new eh(4==(4&a));g_(s,o,l,l.destroy),null===o[19]&&(o[19]=new nh),o[19].queries.push(new bm(l))}(d,Ce(),a)}function zb(){return function Wb(s,o){return s[19].queries[o].queryList}(Ce(),Al())}function Im(s,o){return s.queries.getByIndex(o)}function Kb(s,o){return lp(s,o)}function Ss(...s){}const su=new Mn("Application Initializer");let Nm=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Ss,this.reject=Ss,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(Hg(g))a.push(g);else if(xI(g)){const v=new Promise((w,D)=>{g.subscribe({complete:w,error:D})});a.push(v)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Xe(su,8))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Sc=new Mn("AppId",{providedIn:"root",factory:function Om(){return`${gp()}${gp()}${gp()}`}});function gp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ah=new Mn("Platform Initializer"),d0=new Mn("Platform ID"),h0=new Mn("appBootstrapListener");let uh=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})();const km=new Mn("LocaleId",{providedIn:"root",factory:()=>kt(km,dt.Optional|dt.SkipSelf)||function sD(){return"undefined"!=typeof $localize&&$localize.locale||Hd}()}),oD=new Mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Pm{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let p0=(()=>{class s{compileModuleSync(a){return new Qd(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=m(pn(a).declarations).reduce((v,w)=>{const D=zt(w);return D&&v.push(new nl(D)),v},[]);return new Pm(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const mp=(()=>Promise.resolve(0))();function Fm(s){"undefined"==typeof Zone?mp.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Or{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jo(!1),this.onMicrotaskEmpty=new jo(!1),this.onStable=new jo(!1),this.onError=new jo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function DT(){let s=$t.requestAnimationFrame,o=$t.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Ac(s){const o=()=>{!function aD(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call($t,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,y0(s),s.isCheckStableRunning=!0,m0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),y0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,g,v,w)=>{try{return ch(s),a.invokeTask(d,g,v,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),yp(s)}},onInvoke:(a,l,d,g,v,w,D)=>{try{return ch(s),a.invoke(d,g,v,w,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),yp(s)}},onHasTask:(a,l,d,g)=>{a.hasTask(d,g),l===d&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,y0(s),m0(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,d,g)=>(a.handleError(d,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Or.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Or.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,o,CT,Ss,Ss);try{return g.runTask(v,a,l)}finally{g.cancelTask(v)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const CT={};function m0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function y0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function ch(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function yp(s){s._nesting--,m0(s)}class Lm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jo,this.onMicrotaskEmpty=new jo,this.onStable=new jo,this.onError=new jo}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}let Wr=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Or.assertNotInAngularZone(),Fm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Fm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(Xe(Or))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})(),uD=(()=>{class s{constructor(){this._applications=new Map,Vm.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Vm.findTestabilityInTree(this,a,l)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})();class IT{addToWindow(o){}findTestabilityInTree(o,a,l){return null}}function TT(s){Vm=s}let $o,Vm=new IT;const ou=new Mn("AllowMultipleToken");class dh{constructor(o,a){this.name=o,this.token=a}}function _0(s,o,a=[]){const l=`Platform: ${o}`,d=new Mn(l);return(g=[])=>{let v=v0();if(!v||v.injector.get(ou,!1))if(s)s(a.concat(g).concat({provide:d,useValue:!0}));else{const w=a.concat(g).concat({provide:d,useValue:!0},{provide:QE,useValue:"platform"});!function MT(s){if($o&&!$o.destroyed&&!$o.injector.get(ou,!1))throw new ke(400,"");$o=s.get(Mc);const o=s.get(ah,null);o&&o.forEach(a=>a())}(Po.create({providers:w,name:l}))}return function lD(s){const o=v0();if(!o)throw new ke(401,"");return o}()}}function v0(){return $o&&!$o.destroyed?$o:null}let Mc=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const w=function Bm(s,o){let a;return a="noop"===s?new Lm:("zone.js"===s?void 0:s)||new Or({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),D=[{provide:Or,useValue:w}];return w.run(()=>{const S=Po.create({providers:D,parent:this.injector,name:a.moduleType.name}),x=a.create(S),k=x.injector.get(xr,null);if(!k)throw new ke(402,"");return w.runOutsideAngular(()=>{const U=w.onError.subscribe({next:Z=>{k.handleError(Z)}});x.onDestroy(()=>{vp(this._modules,x),U.unsubscribe()})}),function Um(s,o,a){try{const l=a();return Hg(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(k,w,()=>{const U=x.injector.get(Nm);return U.runInitializers(),U.donePromise.then(()=>(function Ci(s){lt(s,"Expected localeId to be defined"),"string"==typeof s&&(tb=s.toLowerCase().replace(/_/g,"-"))}(x.injector.get(km,Hd)||Hd),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,l=[]){const d=jm({},l);return function ST(s,o,a){const l=new Qd(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const l=a.injector.get(_p);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new ke(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Xe(Po))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})();function jm(s,o){return Array.isArray(o)?o.reduce(jm,s):Object.assign(Object.assign({},s),o)}let _p=(()=>{class s{constructor(a,l,d,g,v){this._zone=a,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new O.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),D=new O.y(S=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Or.assertNotInAngularZone(),Fm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Or.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{x.unsubscribe(),k.unsubscribe()}});this.isStable=(0,le.T)(w,D.pipe((0,X.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new ke(405,"");let d;d=a instanceof tl?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const g=function AT(s){return s.isBoundToModule}(d)?void 0:this._injector.get(Ic),w=d.create(Po.NULL,[],l||d.selector,g),D=w.location.nativeElement,S=w.injector.get(Wr,null),x=S&&w.injector.get(uD);return S&&x&&x.registerApplication(D,S),w.onDestroy(()=>{this.detachView(w.hostView),vp(this.components,w),x&&x.unregisterApplication(D)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new ke(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;vp(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(h0,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(Xe(Or),Xe(Po),Xe(xr),Xe(Cc),Xe(Nm))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function vp(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let E0=!0,hh=!1;function cD(){return hh=!0,E0}function w0(){if(hh)throw new Error("Cannot enable prod mode after platform setup.");E0=!1}let RT=(()=>{class s{}return s.__NG_ELEMENT_ID__=hD,s})();function hD(s){return function fD(s,o,a){if(Bs(s)&&!a){const l=Ir(s.index,o);return new Jf(l,l)}return 47&s.type?new Jf(o[16],o):null}(wn(),Ce(),16==(16&s))}class A0{constructor(){}supports(o){return kd(o)}create(o){return new Ep(o)}}const mD=(s,o)=>o;class Ep{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||mD}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,g=null;for(;a||l;){const v=!l||a&&a.currentIndex<x0(l,d,g)?a:l,w=x0(v,d,g),D=v.currentIndex;if(v===l)d--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{g||(g=[]);const S=w-d,x=D-d;if(S!=x){for(let U=0;U<S;U++){const Z=U<g.length?g[U]:g[U]=0,oe=Z+U;x<=oe&&oe<S&&(g[U]=Z+1)}g[v.previousIndex]=x-S}}w!==D&&o(v,w,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!kd(o))throw new ke(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,v,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)g=o[w],v=this._trackByFn(w,g),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,g,v,w)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,w),l=!0),a=a._next}else d=0,function L_(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[zu()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,w=>{v=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,w,v,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,v,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,d)):o=this._addAfter(new kc(a,l),g,d),o}_verifyReinsertion(o,a,l,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new M0),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new M0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class kc{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yD{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class M0{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new yD,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function x0(s,o,a){const l=s.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class ph{constructor(){}supports(o){return o instanceof Map||Pd(o)}create(){return new R0}}class R0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Pd(o)))throw new ke(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const l=new PT(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class PT{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ur(){return new Qt([new A0])}let Qt=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||ur()),deps:[[s,new Ao,new vi]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new ke(901,"")}}return s.\u0275prov=an({token:s,providedIn:"root",factory:ur}),s})();function N0(){return new Ta([new ph])}let Ta=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||N0()),deps:[[s,new Ao,new vi]]}}find(a){const l=this.factories.find(g=>g.supports(a));if(l)return l;throw new ke(901,"")}}return s.\u0275prov=an({token:s,providedIn:"root",factory:N0}),s})();const gh=_0(null,"core",[{provide:d0,useValue:"unknown"},{provide:Mc,deps:[Po]},{provide:uD,deps:[]},{provide:uh,deps:[]}]);let VT=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Xe(_p))},s.\u0275mod=Q({type:s}),s.\u0275inj=tn({}),s})()},3942:(ut,Se,P)=>{P.d(Se,{Z:()=>ke});var f=P(2090),Y=P(4859),O=P(9681),le=P(1877);class X{constructor(pe,De){this._delegate=pe,this.firebase=De,(0,O._addComponent)(pe,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(pe,De=O._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(pe);return!Ye.isInitialized()&&"EXPLICIT"===(null===(nt=Ye.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:De})}_removeServiceInstance(pe,De=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(De)}_addComponent(pe){(0,O._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,O._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function de(){const Ve=function fe(Ve){const pe={},De={__esModule:!0,initializeApp:function Ie($e,te={}){const W=O.initializeApp($e,te);if((0,f.r3)(pe,W.name))return pe[W.name];const ie=new Ve(W,De);return pe[W.name]=ie,ie},app:Ye,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function we($e){const te=$e.name,W=te.replace("-compat","");if(O._registerComponent($e)&&"PUBLIC"===$e.type){const ie=(ye=Ye())=>{if("function"!=typeof ye[W])throw re.create("invalid-app-argument",{appName:te});return ye[W]()};void 0!==$e.serviceProps&&(0,f.ZB)(ie,$e.serviceProps),De[W]=ie,Ve.prototype[W]=function(...ye){return this._getService.bind(this,te).apply(this,$e.multipleInstances?ye:[])}}return"PUBLIC"===$e.type?De[W]:null},removeApp:function nt($e){delete pe[$e]},useAsService:function Ge($e,te){return"serverAuth"===te?null:te},modularAPIs:O}};function Ye($e){if(!(0,f.r3)(pe,$e=$e||O._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:$e});return pe[$e]}return De.default=De,Object.defineProperty(De,"apps",{get:function ve(){return Object.keys(pe).map($e=>pe[$e])}}),Ye.App=Ve,De}(X);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function pe(De){(0,f.ZB)(Ve,De)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Ve}(),H=new le.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ke=$;!function Ae(Ve){(0,O.registerVersion)("@firebase/app-compat","0.1.21",Ve)}()},9681:(ut,Se,P)=>{P.r(Se),P.d(Se,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>kr,_DEFAULT_ENTRY_NAME:()=>On,_addComponent:()=>hn,_addOrOverwriteComponent:()=>Ni,_apps:()=>vt,_clearComponents:()=>Gt,_components:()=>dn,_getProvider:()=>ls,_registerComponent:()=>an,_removeServiceInstance:()=>tn,deleteApp:()=>ds,getApp:()=>Pr,getApps:()=>cs,initializeApp:()=>zi,onLog:()=>rr,registerVersion:()=>Zr,setLogLevel:()=>Qn});var f=P(5861),Y=P(4859),O=P(1877),le=P(2090);class X{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function me(Qe){const Te=Qe.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(et)){const pt=et.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(et=>et).join(" ")}}const re="@firebase/app",de=new O.Yd("@firebase/app"),On="[DEFAULT]",lt={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vt=new Map,dn=new Map;function hn(Qe,Te){try{Qe.container.addComponent(Te)}catch(et){de.debug(`Component ${Te.name} failed to register with FirebaseApp ${Qe.name}`,et)}}function Ni(Qe,Te){Qe.container.addOrOverwriteComponent(Te)}function an(Qe){const Te=Qe.name;if(dn.has(Te))return de.debug(`There were multiple attempts to register component ${Te}.`),!1;dn.set(Te,Qe);for(const et of vt.values())hn(et,Qe);return!0}function ls(Qe,Te){const et=Qe.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),Qe.container.getProvider(Te)}function tn(Qe,Te,et=On){ls(Qe,Te).clearInstance(et)}function Gt(){dn.clear()}const ai=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Os{constructor(Te,et,pt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}const kr="9.6.10";function zi(Qe,Te={}){"object"!=typeof Te&&(Te={name:Te});const et=Object.assign({name:On,automaticDataCollectionEnabled:!1},Te),pt=et.name;if("string"!=typeof pt||!pt)throw ai.create("bad-app-name",{appName:String(pt)});const jt=vt.get(pt);if(jt){if((0,le.vZ)(Qe,jt.options)&&(0,le.vZ)(et,jt.config))return jt;throw ai.create("duplicate-app",{appName:pt})}const Vt=new Y.H0(pt);for(const V of dn.values())Vt.addComponent(V);const j=new Os(Qe,et,Vt);return vt.set(pt,j),j}function Pr(Qe=On){const Te=vt.get(Qe);if(!Te)throw ai.create("no-app",{appName:Qe});return Te}function cs(){return Array.from(vt.values())}function ds(Qe){return dt.apply(this,arguments)}function dt(){return(dt=(0,f.Z)(function*(Qe){const Te=Qe.name;vt.has(Te)&&(vt.delete(Te),yield Promise.all(Qe.container.getProviders().map(et=>et.delete())),Qe.isDeleted=!0)})).apply(this,arguments)}function Zr(Qe,Te,et){var pt;let jt=null!==(pt=lt[Qe])&&void 0!==pt?pt:Qe;et&&(jt+=`-${et}`);const Vt=jt.match(/\s|\//),j=Te.match(/\s|\//);if(Vt||j){const V=[`Unable to register library "${jt}" with version "${Te}":`];return Vt&&V.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),Vt&&j&&V.push("and"),j&&V.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void de.warn(V.join(" "))}an(new Y.wA(`${jt}-version`,()=>({library:jt,version:Te}),"VERSION"))}function rr(Qe,Te){if(null!==Qe&&"function"!=typeof Qe)throw ai.create("invalid-log-argument");(0,O.Am)(Qe,Te)}function Qn(Qe){(0,O.Ub)(Qe)}const En="firebase-heartbeat-store";let ir=null;function ks(){return ir||(ir=(0,le.X3)("firebase-heartbeat-database",1,(Qe,Te)=>{0===Te&&Qe.createObjectStore(En)}).catch(Qe=>{throw ai.create("storage-open",{originalErrorMessage:Qe.message})})),ir}function qt(){return(qt=(0,f.Z)(function*(Qe){try{return(yield ks()).transaction(En).objectStore(En).get(hr(Qe))}catch(Te){throw ai.create("storage-get",{originalErrorMessage:Te.message})}})).apply(this,arguments)}function ot(Qe,Te){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,f.Z)(function*(Qe,Te){try{const pt=(yield ks()).transaction(En,"readwrite");return yield pt.objectStore(En).put(Te,hr(Qe)),pt.complete}catch(et){throw ai.create("storage-set",{originalErrorMessage:et.message})}})).apply(this,arguments)}function hr(Qe){return`${Qe.name}!${Qe.options.appId}`}class ho{constructor(Te){this.container=Te,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new ft(et),this._heartbeatsCachePromise=this._storage.read().then(pt=>(this._heartbeatsCache=pt,pt))}triggerHeartbeat(){var Te=this;return(0,f.Z)(function*(){const pt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jt=Er();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==jt&&!Te._heartbeatsCache.heartbeats.some(Vt=>Vt.date===jt))return Te._heartbeatsCache.heartbeats.push({date:jt,agent:pt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Vt=>{const j=new Date(Vt.date).valueOf();return Date.now()-j<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,f.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const et=Er(),{heartbeatsToSend:pt,unsentEntries:jt}=function fr(Qe,Te=1024){const et=[];let pt=Qe.slice();for(const jt of Qe){const Vt=et.find(j=>j.agent===jt.agent);if(Vt){if(Vt.dates.push(jt.date),wr(et)>Te){Vt.dates.pop();break}}else if(et.push({agent:jt.agent,dates:[jt.date]}),wr(et)>Te){et.pop();break}pt=pt.slice(1)}return{heartbeatsToSend:et,unsentEntries:pt}}(Te._heartbeatsCache.heartbeats),Vt=(0,le.L)(JSON.stringify({version:2,heartbeats:pt}));return Te._heartbeatsCache.lastSentHeartbeatDate=et,jt.length>0?(Te._heartbeatsCache.heartbeats=jt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Vt})()}}function Er(){return(new Date).toISOString().substring(0,10)}class ft{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,f.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function xa(Qe){return qt.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var et=this;return(0,f.Z)(function*(){var pt;if(yield et._canUseIndexedDBPromise){const Vt=yield et.read();return ot(et.app,{lastSentHeartbeatDate:null!==(pt=Te.lastSentHeartbeatDate)&&void 0!==pt?pt:Vt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var et=this;return(0,f.Z)(function*(){var pt;if(yield et._canUseIndexedDBPromise){const Vt=yield et.read();return ot(et.app,{lastSentHeartbeatDate:null!==(pt=Te.lastSentHeartbeatDate)&&void 0!==pt?pt:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...Te.heartbeats]})}})()}}function wr(Qe){return(0,le.L)(JSON.stringify({version:2,heartbeats:Qe})).length}!function Ut(Qe){an(new Y.wA("platform-logger",Te=>new X(Te),"PRIVATE")),an(new Y.wA("heartbeat",Te=>new ho(Te),"PRIVATE")),Zr(re,"0.7.20",Qe),Zr(re,"0.7.20","esm2017"),Zr("fire-js","")}("")},4859:(ut,Se,P)=>{P.d(Se,{wA:()=>O,H0:()=>fe});var f=P(5861),Y=P(2090);class O{constructor($,H,J){this.name=$,this.instanceFactory=H,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const le="[DEFAULT]";class X{constructor($,H){this.name=$,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const H=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(H)){const J=new Y.BH;if(this.instancesDeferred.set(H,J),this.isInitialized(H)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:H});We&&J.resolve(We)}catch(We){}}return this.instancesDeferred.get(H).promise}getImmediate($){var H;const J=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),We=null!==(H=null==$?void 0:$.optional)&&void 0!==H&&H;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ae){if(We)return null;throw Ae}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function re(de){return"EAGER"===de.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:le})}catch(H){}for(const[H,J]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(H);try{const Ae=this.getOrInitializeService({instanceIdentifier:We});J.resolve(Ae)}catch(Ae){}}}}clearInstance($=le){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,f.Z)(function*(){const H=Array.from($.instances.values());yield Promise.all([...H.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...H.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=le){return this.instances.has($)}getOptions($=le){return this.instancesOptions.get($)||{}}initialize($={}){const{options:H={}}=$,J=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:J,options:H});for(const[Ae,ke]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ae)&&ke.resolve(We);return We}onInit($,H){var J;const We=this.normalizeInstanceIdentifier(H),Ae=null!==(J=this.onInitCallbacks.get(We))&&void 0!==J?J:new Set;Ae.add($),this.onInitCallbacks.set(We,Ae);const ke=this.instances.get(We);return ke&&$(ke,We),()=>{Ae.delete($)}}invokeOnInitCallbacks($,H){const J=this.onInitCallbacks.get(H);if(J)for(const We of J)try{We($,H)}catch(Ae){}}getOrInitializeService({instanceIdentifier:$,options:H={}}){let J=this.instances.get($);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(de=$,de===le?void 0:de),options:H}),this.instances.set($,J),this.instancesOptions.set($,H),this.invokeOnInitCallbacks(J,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,J)}catch(We){}var de;return J||null}normalizeInstanceIdentifier($=le){return this.component?this.component.multipleInstances?$:le:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor($){this.name=$,this.providers=new Map}addComponent($){const H=this.getProvider($.name);if(H.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);H.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const H=new X($,this);return this.providers.set($,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(ut,Se,P)=>{P.d(Se,{in:()=>Y,Yd:()=>re,Ub:()=>fe,Am:()=>de});const f=[];var Y=(()=>{return($=Y||(Y={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",Y;var $})();const O={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},le=Y.INFO,X={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},me=($,H,...J)=>{if(H<$.logLevel)return;const We=(new Date).toISOString(),Ae=X[H];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Ae](`[${We}]  ${$.name}:`,...J)};class re{constructor(H){this.name=H,this._logLevel=le,this._logHandler=me,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in Y))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?O[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...H),this._logHandler(this,Y.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...H),this._logHandler(this,Y.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...H),this._logHandler(this,Y.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...H),this._logHandler(this,Y.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...H),this._logHandler(this,Y.ERROR,...H)}}function fe($){f.forEach(H=>{H.setLogLevel($)})}function de($,H){for(const J of f){let We=null;H&&H.level&&(We=O[H.level]),J.userLogHandler=null===$?null:(Ae,ke,...Ve)=>{const pe=Ve.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(nt){return null}}).filter(De=>De).join(" ");ke>=(null!=We?We:Ae.logLevel)&&$({level:Y[ke].toLowerCase(),message:pe,args:Ve,type:Ae.name})}}}},5861:(ut,Se,P)=>{function f(O,le,X,me,re,fe,de){try{var $=O[fe](de),H=$.value}catch(J){return void X(J)}$.done?le(H):Promise.resolve(H).then(me,re)}function Y(O){return function(){var le=this,X=arguments;return new Promise(function(me,re){var fe=O.apply(le,X);function de(H){f(fe,me,re,de,$,"next",H)}function $(H){f(fe,me,re,de,$,"throw",H)}de(void 0)})}}P.d(Se,{Z:()=>Y})}},ut=>{ut(ut.s=9957)}]);